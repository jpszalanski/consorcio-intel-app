var EH=Object.defineProperty;var TH=(t,e,n)=>e in t?EH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nb=(t,e,n)=>TH(t,typeof e!="symbol"?e+"":e,n);function AH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ri(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YL={exports:{}},Ay={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SH=Symbol.for("react.transitional.element"),xH=Symbol.for("react.fragment");function QL(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:SH,type:t,key:r,ref:e!==void 0?e:null,props:n}}Ay.Fragment=xH;Ay.jsx=QL;Ay.jsxs=QL;YL.exports=Ay;var x=YL.exports,JL={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS=Symbol.for("react.transitional.element"),wH=Symbol.for("react.portal"),IH=Symbol.for("react.fragment"),CH=Symbol.for("react.strict_mode"),PH=Symbol.for("react.profiler"),RH=Symbol.for("react.consumer"),NH=Symbol.for("react.context"),OH=Symbol.for("react.forward_ref"),MH=Symbol.for("react.suspense"),DH=Symbol.for("react.memo"),XL=Symbol.for("react.lazy"),kH=Symbol.for("react.activity"),KP=Symbol.iterator;function LH(t){return t===null||typeof t!="object"?null:(t=KP&&t[KP]||t["@@iterator"],typeof t=="function"?t:null)}var ZL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eV=Object.assign,tV={};function Pc(t,e,n){this.props=t,this.context=e,this.refs=tV,this.updater=n||ZL}Pc.prototype.isReactComponent={};Pc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nV(){}nV.prototype=Pc.prototype;function IS(t,e,n){this.props=t,this.context=e,this.refs=tV,this.updater=n||ZL}var CS=IS.prototype=new nV;CS.constructor=IS;eV(CS,Pc.prototype);CS.isPureReactComponent=!0;var WP=Array.isArray;function kE(){}var _t={H:null,A:null,T:null,S:null},rV=Object.prototype.hasOwnProperty;function PS(t,e,n){var r=n.ref;return{$$typeof:wS,type:t,key:e,ref:r!==void 0?r:null,props:n}}function VH(t,e){return PS(t.type,e,t.props)}function RS(t){return typeof t=="object"&&t!==null&&t.$$typeof===wS}function UH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var YP=/\/+/g;function rb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UH(""+t.key):e.toString(36)}function BH(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(kE,kE):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function su(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wS:case wH:o=!0;break;case XL:return o=t._init,su(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+rb(t,0):r,WP(i)?(n="",o!=null&&(n=o.replace(YP,"$&/")+"/"),su(i,e,n,"",function(u){return u})):i!=null&&(RS(i)&&(i=VH(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(YP,"$&/")+"/")+o)),e.push(i)),1;o=0;var s=r===""?".":r+":";if(WP(t))for(var l=0;l<t.length;l++)r=t[l],a=s+rb(r,l),o+=su(r,e,n,a,i);else if(l=LH(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=s+rb(r,l++),o+=su(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return su(BH(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function Gp(t,e,n){if(t==null)return t;var r=[],i=0;return su(t,r,"","",function(a){return e.call(n,a,i++)}),r}function zH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var QP=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},FH={map:Gp,forEach:function(t,e,n){Gp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gp(t,function(){e++}),e},toArray:function(t){return Gp(t,function(e){return e})||[]},only:function(t){if(!RS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Activity=kH;ye.Children=FH;ye.Component=Pc;ye.Fragment=IH;ye.Profiler=PH;ye.PureComponent=IS;ye.StrictMode=CH;ye.Suspense=MH;ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t;ye.__COMPILER_RUNTIME={__proto__:null,c:function(t){return _t.H.useMemoCache(t)}};ye.cache=function(t){return function(){return t.apply(null,arguments)}};ye.cacheSignal=function(){return null};ye.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=eV({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!rV.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return PS(t.type,i,r)};ye.createContext=function(t){return t={$$typeof:NH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:RH,_context:t},t};ye.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)rV.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return PS(t,a,i)};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:OH,render:t}};ye.isValidElement=RS;ye.lazy=function(t){return{$$typeof:XL,_payload:{_status:-1,_result:t},_init:zH}};ye.memo=function(t,e){return{$$typeof:DH,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=_t.T,n={};_t.T=n;try{var r=t(),i=_t.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(kE,QP)}catch(a){QP(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),_t.T=e}};ye.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()};ye.use=function(t){return _t.H.use(t)};ye.useActionState=function(t,e,n){return _t.H.useActionState(t,e,n)};ye.useCallback=function(t,e){return _t.H.useCallback(t,e)};ye.useContext=function(t){return _t.H.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t,e){return _t.H.useDeferredValue(t,e)};ye.useEffect=function(t,e){return _t.H.useEffect(t,e)};ye.useEffectEvent=function(t){return _t.H.useEffectEvent(t)};ye.useId=function(){return _t.H.useId()};ye.useImperativeHandle=function(t,e,n){return _t.H.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return _t.H.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return _t.H.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return _t.H.useMemo(t,e)};ye.useOptimistic=function(t,e){return _t.H.useOptimistic(t,e)};ye.useReducer=function(t,e,n){return _t.H.useReducer(t,e,n)};ye.useRef=function(t){return _t.H.useRef(t)};ye.useState=function(t){return _t.H.useState(t)};ye.useSyncExternalStore=function(t,e,n){return _t.H.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return _t.H.useTransition()};ye.version="19.2.4";JL.exports=ye;var b=JL.exports;const iV=ri(b),jH=AH({__proto__:null,default:iV},[b]);var aV={exports:{}},Sy={},oV={exports:{}},sV={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,W){var J=H.length;H.push(W);e:for(;0<J;){var te=J-1>>>1,ce=H[te];if(0<i(ce,W))H[te]=W,H[J]=ce,J=te;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],J=H.pop();if(J!==W){H[0]=J;e:for(var te=0,ce=H.length,Ge=ce>>>1;te<Ge;){var ke=2*(te+1)-1,Le=H[ke],ct=ke+1,$t=H[ct];if(0>i(Le,J))ct<ce&&0>i($t,Le)?(H[te]=$t,H[ct]=J,te=ct):(H[te]=Le,H[ke]=J,te=ke);else if(ct<ce&&0>i($t,J))H[te]=$t,H[ct]=J,te=ct;else break e}}return W}function i(H,W){var J=H.sortIndex-W.sortIndex;return J!==0?J:H.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,f=3,p=!1,v=!1,E=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function w(H){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=H)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function N(H){if(E=!1,w(H),!v)if(n(l)!==null)v=!0,O||(O=!0,D());else{var W=n(u);W!==null&&ae(N,W.startTime-H)}}var O=!1,I=-1,P=5,R=-1;function M(){return y?!0:!(t.unstable_now()-R<P)}function V(){if(y=!1,O){var H=t.unstable_now();R=H;var W=!0;try{e:{v=!1,E&&(E=!1,T(I),I=-1),p=!0;var J=f;try{t:{for(w(H),d=n(l);d!==null&&!(d.expirationTime>H&&M());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var ce=te(d.expirationTime<=H);if(H=t.unstable_now(),typeof ce=="function"){d.callback=ce,w(H),W=!0;break t}d===n(l)&&r(l),w(H)}else r(l);d=n(l)}if(d!==null)W=!0;else{var Ge=n(u);Ge!==null&&ae(N,Ge.startTime-H),W=!1}}break e}finally{d=null,f=J,p=!1}W=void 0}}finally{W?D():O=!1}}}var D;if(typeof S=="function")D=function(){S(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Q=k.port2;k.port1.onmessage=V,D=function(){Q.postMessage(null)}}else D=function(){_(V,0)};function ae(H,W){I=_(function(){H(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(H){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var J=f;f=W;try{return H()}finally{f=J}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=f;f=H;try{return W()}finally{f=J}},t.unstable_scheduleCallback=function(H,W,J){var te=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?te+J:te):J=te,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=J+ce,H={id:c++,callback:W,priorityLevel:H,startTime:J,expirationTime:ce,sortIndex:-1},J>te?(H.sortIndex=J,e(u,H),n(l)===null&&H===n(u)&&(E?(T(I),I=-1):E=!0,ae(N,J-te))):(H.sortIndex=ce,e(l,H),v||p||(v=!0,O||(O=!0,D()))),H},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(H){var W=f;return function(){var J=f;f=W;try{return H.apply(this,arguments)}finally{f=J}}}})(sV);oV.exports=sV;var $H=oV.exports,lV={exports:{}},Jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qH=b;function uV(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function co(){}var qn={d:{f:co,r:function(){throw Error(uV(522))},D:co,C:co,L:co,m:co,X:co,S:co,M:co},p:0,findDOMNode:null},GH=Symbol.for("react.portal");function HH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:GH,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var uf=qH.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function xy(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qn;Jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(uV(299));return HH(t,e,null,n)};Jn.flushSync=function(t){var e=uf.T,n=qn.p;try{if(uf.T=null,qn.p=2,t)return t()}finally{uf.T=e,qn.p=n,qn.d.f()}};Jn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qn.d.C(t,e))};Jn.prefetchDNS=function(t){typeof t=="string"&&qn.d.D(t)};Jn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=xy(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?qn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&qn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Jn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=xy(e.as,e.crossOrigin);qn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qn.d.M(t)};Jn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=xy(n,e.crossOrigin);qn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Jn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=xy(e.as,e.crossOrigin);qn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qn.d.m(t)};Jn.requestFormReset=function(t){qn.d.r(t)};Jn.unstable_batchedUpdates=function(t,e){return t(e)};Jn.useFormState=function(t,e,n){return uf.H.useFormState(t,e,n)};Jn.useFormStatus=function(){return uf.H.useHostTransitionStatus()};Jn.version="19.2.4";function cV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cV)}catch(t){console.error(t)}}cV(),lV.exports=Jn;var wy=lV.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zt=$H,dV=b,KH=wy;function G(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function fV(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pV(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function JP(t){if(Nh(t)!==t)throw Error(G(188))}function WH(t){var e=t.alternate;if(!e){if(e=Nh(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return JP(i),t;if(a===r)return JP(i),e;a=a.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function mV(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=mV(t),e!==null)return e;t=t.sibling}return null}var Et=Object.assign,YH=Symbol.for("react.element"),Hp=Symbol.for("react.transitional.element"),Yd=Symbol.for("react.portal"),vu=Symbol.for("react.fragment"),gV=Symbol.for("react.strict_mode"),LE=Symbol.for("react.profiler"),vV=Symbol.for("react.consumer"),pa=Symbol.for("react.context"),NS=Symbol.for("react.forward_ref"),VE=Symbol.for("react.suspense"),UE=Symbol.for("react.suspense_list"),OS=Symbol.for("react.memo"),vo=Symbol.for("react.lazy"),BE=Symbol.for("react.activity"),QH=Symbol.for("react.memo_cache_sentinel"),XP=Symbol.iterator;function wd(t){return t===null||typeof t!="object"?null:(t=XP&&t[XP]||t["@@iterator"],typeof t=="function"?t:null)}var JH=Symbol.for("react.client.reference");function zE(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===JH?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vu:return"Fragment";case LE:return"Profiler";case gV:return"StrictMode";case VE:return"Suspense";case UE:return"SuspenseList";case BE:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Yd:return"Portal";case pa:return t.displayName||"Context";case vV:return(t._context.displayName||"Context")+".Consumer";case NS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case OS:return e=t.displayName||null,e!==null?e:zE(t.type)||"Memo";case vo:e=t._payload,t=t._init;try{return zE(t(e))}catch{}}return null}var Qd=Array.isArray,he=dV.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qe=KH.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zs={pending:!1,data:null,method:null,action:null},FE=[],yu=-1;function Yi(t){return{current:t}}function hn(t){0>yu||(t.current=FE[yu],FE[yu]=null,yu--)}function ft(t,e){yu++,FE[yu]=t.current,t.current=e}var Bi=Yi(null),Mf=Yi(null),Bo=Yi(null),Eg=Yi(null);function Tg(t,e){switch(ft(Bo,e),ft(Mf,t),ft(Bi,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?iR(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=iR(e),t=VB(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}hn(Bi),ft(Bi,t)}function Ju(){hn(Bi),hn(Mf),hn(Bo)}function jE(t){t.memoizedState!==null&&ft(Eg,t);var e=Bi.current,n=VB(e,t.type);e!==n&&(ft(Mf,t),ft(Bi,n))}function Ag(t){Mf.current===t&&(hn(Bi),hn(Mf)),Eg.current===t&&(hn(Eg),qf._currentValue=Zs)}var ib,ZP;function ks(t){if(ib===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ib=e&&e[1]||"",ZP=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ib+t+ZP}var ab=!1;function ob(t,e){if(!t||ab)return"";ab=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var f=p}Reflect.construct(t,[],d)}else{try{d.call()}catch(p){f=p}t.call(d.prototype)}}else{try{throw Error()}catch(p){f=p}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&f&&typeof p.stack=="string")return[p.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{ab=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ks(n):""}function XH(t,e){switch(t.tag){case 26:case 27:case 5:return ks(t.type);case 16:return ks("Lazy");case 13:return t.child!==e&&e!==null?ks("Suspense Fallback"):ks("Suspense");case 19:return ks("SuspenseList");case 0:case 15:return ob(t.type,!1);case 11:return ob(t.type.render,!1);case 1:return ob(t.type,!0);case 31:return ks("Activity");default:return""}}function e1(t){try{var e="",n=null;do e+=XH(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var $E=Object.prototype.hasOwnProperty,MS=Zt.unstable_scheduleCallback,sb=Zt.unstable_cancelCallback,ZH=Zt.unstable_shouldYield,e9=Zt.unstable_requestPaint,Tr=Zt.unstable_now,t9=Zt.unstable_getCurrentPriorityLevel,yV=Zt.unstable_ImmediatePriority,_V=Zt.unstable_UserBlockingPriority,Sg=Zt.unstable_NormalPriority,n9=Zt.unstable_LowPriority,bV=Zt.unstable_IdlePriority,r9=Zt.log,i9=Zt.unstable_setDisableYieldValue,Oh=null,Ar=null;function No(t){if(typeof r9=="function"&&i9(t),Ar&&typeof Ar.setStrictMode=="function")try{Ar.setStrictMode(Oh,t)}catch{}}var Sr=Math.clz32?Math.clz32:s9,a9=Math.log,o9=Math.LN2;function s9(t){return t>>>=0,t===0?32:31-(a9(t)/o9|0)|0}var Kp=256,Wp=262144,Yp=4194304;function Ls(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Iy(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~a,r!==0?i=Ls(r):(o&=s,o!==0?i=Ls(o):n||(n=s&~t,n!==0&&(i=Ls(n))))):(s=r&~a,s!==0?i=Ls(s):o!==0?i=Ls(o):n||(n=r&~t,n!==0&&(i=Ls(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Mh(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function l9(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EV(){var t=Yp;return Yp<<=1,!(Yp&62914560)&&(Yp=4194304),t}function lb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dh(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function u9(t,e,n,r,i,a){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var c=31-Sr(n),d=1<<c;s[c]=0,l[c]=-1;var f=u[c];if(f!==null)for(u[c]=null,c=0;c<f.length;c++){var p=f[c];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&TV(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function TV(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Sr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function AV(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function SV(t,e){var n=e&-e;return n=n&42?1:DS(n),n&(t.suspendedLanes|e)?0:n}function DS(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function kS(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function xV(){var t=qe.p;return t!==0?t:(t=window.event,t===void 0?32:WB(t.type))}function t1(t,e){var n=qe.p;try{return qe.p=t,e()}finally{qe.p=n}}var ms=Math.random().toString(36).slice(2),An="__reactFiber$"+ms,cr="__reactProps$"+ms,Rc="__reactContainer$"+ms,qE="__reactEvents$"+ms,c9="__reactListeners$"+ms,d9="__reactHandles$"+ms,n1="__reactResources$"+ms,kh="__reactMarker$"+ms;function LS(t){delete t[An],delete t[cr],delete t[qE],delete t[c9],delete t[d9]}function _u(t){var e=t[An];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rc]||n[An]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uR(t);t!==null;){if(n=t[An])return n;t=uR(t)}return e}t=n,n=t.parentNode}return null}function Nc(t){if(t=t[An]||t[Rc]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Jd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(G(33))}function Lu(t){var e=t[n1];return e||(e=t[n1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function dn(t){t[kh]=!0}var wV=new Set,IV={};function kl(t,e){Xu(t,e),Xu(t+"Capture",e)}function Xu(t,e){for(IV[t]=e,t=0;t<e.length;t++)wV.add(e[t])}var f9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),r1={},i1={};function h9(t){return $E.call(i1,t)?!0:$E.call(r1,t)?!1:f9.test(t)?i1[t]=!0:(r1[t]=!0,!1)}function Bm(t,e,n){if(h9(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Qp(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ia(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Vr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p9(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function GE(t){if(!t._valueTracker){var e=CV(t)?"checked":"value";t._valueTracker=p9(t,e,""+t[e])}}function PV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CV(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var m9=/[\n"\\]/g;function zr(t){return t.replace(m9,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function HE(t,e,n,r,i,a,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Vr(e)):t.value!==""+Vr(e)&&(t.value=""+Vr(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?KE(t,o,Vr(e)):n!=null?KE(t,o,Vr(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+Vr(s):t.removeAttribute("name")}function RV(t,e,n,r,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){GE(t);return}n=n!=null?""+Vr(n):"",e=e!=null?""+Vr(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),GE(t)}function KE(t,e,n){e==="number"&&xg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Vu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function NV(t,e,n){if(e!=null&&(e=""+Vr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Vr(n):""}function OV(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(G(92));if(Qd(r)){if(1<r.length)throw Error(G(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Vr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),GE(t)}function Zu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var g9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function a1(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||g9.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function MV(t,e,n){if(e!=null&&typeof e!="object")throw Error(G(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&a1(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&a1(t,a,e[a])}function VS(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),y9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zm(t){return y9.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ma(){}var WE=null;function US(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bu=null,Uu=null;function o1(t){var e=Nc(t);if(e&&(t=e.stateNode)){var n=t[cr]||null;e:switch(t=e.stateNode,e.type){case"input":if(HE(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+zr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[cr]||null;if(!i)throw Error(G(90));HE(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&PV(r)}break e;case"textarea":NV(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Vu(t,!!n.multiple,e,!1)}}}var ub=!1;function DV(t,e,n){if(ub)return t(e,n);ub=!0;try{var r=t(e);return r}finally{if(ub=!1,(bu!==null||Uu!==null)&&(By(),bu&&(e=bu,t=Uu,Uu=bu=null,o1(e),t)))for(e=0;e<t.length;e++)o1(t[e])}}function Df(t,e){var n=t.stateNode;if(n===null)return null;var r=n[cr]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),YE=!1;if(Na)try{var Id={};Object.defineProperty(Id,"passive",{get:function(){YE=!0}}),window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{YE=!1}var Oo=null,BS=null,Fm=null;function kV(){if(Fm)return Fm;var t,e=BS,n=e.length,r,i="value"in Oo?Oo.value:Oo.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Fm=i.slice(t,1<r?1-r:void 0)}function jm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jp(){return!0}function s1(){return!1}function dr(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Jp:s1,this.isPropagationStopped=s1,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jp)},persist:function(){},isPersistent:Jp}),e}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cy=dr(Ll),Lh=Et({},Ll,{view:0,detail:0}),_9=dr(Lh),cb,db,Cd,Py=Et({},Lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cd&&(Cd&&t.type==="mousemove"?(cb=t.screenX-Cd.screenX,db=t.screenY-Cd.screenY):db=cb=0,Cd=t),cb)},movementY:function(t){return"movementY"in t?t.movementY:db}}),l1=dr(Py),b9=Et({},Py,{dataTransfer:0}),E9=dr(b9),T9=Et({},Lh,{relatedTarget:0}),fb=dr(T9),A9=Et({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),S9=dr(A9),x9=Et({},Ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w9=dr(x9),I9=Et({},Ll,{data:0}),u1=dr(I9),C9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R9[t])?!!e[t]:!1}function zS(){return N9}var O9=Et({},Lh,{key:function(t){if(t.key){var e=C9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?P9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zS,charCode:function(t){return t.type==="keypress"?jm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),M9=dr(O9),D9=Et({},Py,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c1=dr(D9),k9=Et({},Lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zS}),L9=dr(k9),V9=Et({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),U9=dr(V9),B9=Et({},Py,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z9=dr(B9),F9=Et({},Ll,{newState:0,oldState:0}),j9=dr(F9),$9=[9,13,27,32],FS=Na&&"CompositionEvent"in window,cf=null;Na&&"documentMode"in document&&(cf=document.documentMode);var q9=Na&&"TextEvent"in window&&!cf,LV=Na&&(!FS||cf&&8<cf&&11>=cf),d1=" ",f1=!1;function VV(t,e){switch(t){case"keyup":return $9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eu=!1;function G9(t,e){switch(t){case"compositionend":return UV(e);case"keypress":return e.which!==32?null:(f1=!0,d1);case"textInput":return t=e.data,t===d1&&f1?null:t;default:return null}}function H9(t,e){if(Eu)return t==="compositionend"||!FS&&VV(t,e)?(t=kV(),Fm=BS=Oo=null,Eu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LV&&e.locale!=="ko"?null:e.data;default:return null}}var K9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!K9[t.type]:e==="textarea"}function BV(t,e,n,r){bu?Uu?Uu.push(r):Uu=[r]:bu=r,e=$g(e,"onChange"),0<e.length&&(n=new Cy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var df=null,kf=null;function W9(t){DB(t,0)}function Ry(t){var e=Jd(t);if(PV(e))return t}function p1(t,e){if(t==="change")return e}var zV=!1;if(Na){var hb;if(Na){var pb="oninput"in document;if(!pb){var m1=document.createElement("div");m1.setAttribute("oninput","return;"),pb=typeof m1.oninput=="function"}hb=pb}else hb=!1;zV=hb&&(!document.documentMode||9<document.documentMode)}function g1(){df&&(df.detachEvent("onpropertychange",FV),kf=df=null)}function FV(t){if(t.propertyName==="value"&&Ry(kf)){var e=[];BV(e,kf,t,US(t)),DV(W9,e)}}function Y9(t,e,n){t==="focusin"?(g1(),df=e,kf=n,df.attachEvent("onpropertychange",FV)):t==="focusout"&&g1()}function Q9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ry(kf)}function J9(t,e){if(t==="click")return Ry(e)}function X9(t,e){if(t==="input"||t==="change")return Ry(e)}function Z9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:Z9;function Lf(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$E.call(e,i)||!Cr(t[i],e[i]))return!1}return!0}function v1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function y1(t,e){var n=v1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v1(n)}}function jV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $V(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=xg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xg(t.document)}return e}function jS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var e8=Na&&"documentMode"in document&&11>=document.documentMode,Tu=null,QE=null,ff=null,JE=!1;function _1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;JE||Tu==null||Tu!==xg(r)||(r=Tu,"selectionStart"in r&&jS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ff&&Lf(ff,r)||(ff=r,r=$g(QE,"onSelect"),0<r.length&&(e=new Cy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tu)))}function Ms(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Au={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},mb={},qV={};Na&&(qV=document.createElement("div").style,"AnimationEvent"in window||(delete Au.animationend.animation,delete Au.animationiteration.animation,delete Au.animationstart.animation),"TransitionEvent"in window||delete Au.transitionend.transition);function Vl(t){if(mb[t])return mb[t];if(!Au[t])return t;var e=Au[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qV)return mb[t]=e[n];return t}var GV=Vl("animationend"),HV=Vl("animationiteration"),KV=Vl("animationstart"),t8=Vl("transitionrun"),n8=Vl("transitionstart"),r8=Vl("transitioncancel"),WV=Vl("transitionend"),YV=new Map,XE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");XE.push("scrollEnd");function Si(t,e){YV.set(t,e),kl(e,[t])}var wg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Lr=[],Su=0,$S=0;function Ny(){for(var t=Su,e=$S=Su=0;e<t;){var n=Lr[e];Lr[e++]=null;var r=Lr[e];Lr[e++]=null;var i=Lr[e];Lr[e++]=null;var a=Lr[e];if(Lr[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&QV(n,i,a)}}function Oy(t,e,n,r){Lr[Su++]=t,Lr[Su++]=e,Lr[Su++]=n,Lr[Su++]=r,$S|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function qS(t,e,n,r){return Oy(t,e,n,r),Ig(t)}function Ul(t,e){return Oy(t,null,null,e),Ig(t)}function QV(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Sr(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Ig(t){if(50<Ef)throw Ef=0,_T=null,Error(G(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var xu={};function i8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(t,e,n,r){return new i8(t,e,n,r)}function GS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xa(t,e){var n=t.alternate;return n===null?(n=vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function JV(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function $m(t,e,n,r,i,a){var o=0;if(r=t,typeof t=="function")GS(t)&&(o=1);else if(typeof t=="string")o=uK(t,n,Bi.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case BE:return t=vr(31,n,e,i),t.elementType=BE,t.lanes=a,t;case vu:return el(n.children,i,a,e);case gV:o=8,i|=24;break;case LE:return t=vr(12,n,e,i|2),t.elementType=LE,t.lanes=a,t;case VE:return t=vr(13,n,e,i),t.elementType=VE,t.lanes=a,t;case UE:return t=vr(19,n,e,i),t.elementType=UE,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pa:o=10;break e;case vV:o=9;break e;case NS:o=11;break e;case OS:o=14;break e;case vo:o=16,r=null;break e}o=29,n=Error(G(130,t===null?"null":typeof t,"")),r=null}return e=vr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function el(t,e,n,r){return t=vr(7,t,r,e),t.lanes=n,t}function gb(t,e,n){return t=vr(6,t,null,e),t.lanes=n,t}function XV(t){var e=vr(18,null,null,0);return e.stateNode=t,e}function vb(t,e,n){return e=vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var b1=new WeakMap;function Fr(t,e){if(typeof t=="object"&&t!==null){var n=b1.get(t);return n!==void 0?n:(e={value:t,source:e,stack:e1(e)},b1.set(t,e),e)}return{value:t,source:e,stack:e1(e)}}var wu=[],Iu=0,Cg=null,Vf=0,Ur=[],Br=0,ns=null,Oi=1,Mi="";function ca(t,e){wu[Iu++]=Vf,wu[Iu++]=Cg,Cg=t,Vf=e}function ZV(t,e,n){Ur[Br++]=Oi,Ur[Br++]=Mi,Ur[Br++]=ns,ns=t;var r=Oi;t=Mi;var i=32-Sr(r)-1;r&=~(1<<i),n+=1;var a=32-Sr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Oi=1<<32-Sr(e)+i|n<<i|r,Mi=a+t}else Oi=1<<a|n<<i|r,Mi=t}function HS(t){t.return!==null&&(ca(t,1),ZV(t,1,0))}function KS(t){for(;t===Cg;)Cg=wu[--Iu],wu[Iu]=null,Vf=wu[--Iu],wu[Iu]=null;for(;t===ns;)ns=Ur[--Br],Ur[Br]=null,Mi=Ur[--Br],Ur[Br]=null,Oi=Ur[--Br],Ur[Br]=null}function eU(t,e){Ur[Br++]=Oi,Ur[Br++]=Mi,Ur[Br++]=ns,Oi=e.id,Mi=e.overflow,ns=t}var Sn=null,yt=null,Me=!1,zo=null,jr=!1,ZE=Error(G(519));function rs(t){var e=Error(G(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uf(Fr(e,t)),ZE}function E1(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[An]=t,e[cr]=r,n){case"dialog":Ie("cancel",e),Ie("close",e);break;case"iframe":case"object":case"embed":Ie("load",e);break;case"video":case"audio":for(n=0;n<jf.length;n++)Ie(jf[n],e);break;case"source":Ie("error",e);break;case"img":case"image":case"link":Ie("error",e),Ie("load",e);break;case"details":Ie("toggle",e);break;case"input":Ie("invalid",e),RV(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ie("invalid",e);break;case"textarea":Ie("invalid",e),OV(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||LB(e.textContent,n)?(r.popover!=null&&(Ie("beforetoggle",e),Ie("toggle",e)),r.onScroll!=null&&Ie("scroll",e),r.onScrollEnd!=null&&Ie("scrollend",e),r.onClick!=null&&(e.onclick=ma),e=!0):e=!1,e||rs(t,!0)}function T1(t){for(Sn=t.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:jr=!1;return;case 27:case 3:jr=!0;return;default:Sn=Sn.return}}function Ql(t){if(t!==Sn)return!1;if(!Me)return T1(t),Me=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||ST(t.type,t.memoizedProps)),n=!n),n&&yt&&rs(t),T1(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));yt=lR(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));yt=lR(t)}else e===27?(e=yt,gs(t.type)?(t=CT,CT=null,yt=t):yt=e):yt=Sn?Hr(t.stateNode.nextSibling):null;return!0}function dl(){yt=Sn=null,Me=!1}function yb(){var t=zo;return t!==null&&(tr===null?tr=t:tr.push.apply(tr,t),zo=null),t}function Uf(t){zo===null?zo=[t]:zo.push(t)}var eT=Yi(null),Bl=null,ga=null;function Eo(t,e,n){ft(eT,e._currentValue),e._currentValue=n}function wa(t){t._currentValue=eT.current,hn(eT)}function tT(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nT(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),tT(a.return,n,t),r||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),tT(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function Oc(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(G(387));if(o=o.memoizedProps,o!==null){var s=i.type;Cr(i.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(i===Eg.current){if(o=i.alternate,o===null)throw Error(G(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(qf):t=[qf])}i=i.return}t!==null&&nT(e,t,n,r),e.flags|=262144}function Pg(t){for(t=t.firstContext;t!==null;){if(!Cr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fl(t){Bl=t,ga=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function xn(t){return tU(Bl,t)}function Xp(t,e){return Bl===null&&fl(t),tU(t,e)}function tU(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ga===null){if(t===null)throw Error(G(308));ga=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ga=ga.next=e;return n}var a8=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},o8=Zt.unstable_scheduleCallback,s8=Zt.unstable_NormalPriority,Kt={$$typeof:pa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function WS(){return{controller:new a8,data:new Map,refCount:0}}function Vh(t){t.refCount--,t.refCount===0&&o8(s8,function(){t.controller.abort()})}var hf=null,rT=0,ec=0,Bu=null;function l8(t,e){if(hf===null){var n=hf=[];rT=0,ec=_x(),Bu={status:"pending",value:void 0,then:function(r){n.push(r)}}}return rT++,e.then(A1,A1),e}function A1(){if(--rT===0&&hf!==null){Bu!==null&&(Bu.status="fulfilled");var t=hf;hf=null,ec=0,Bu=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function u8(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var S1=he.S;he.S=function(t,e){mB=Tr(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&l8(t,e),S1!==null&&S1(t,e)};var tl=Yi(null);function YS(){var t=tl.current;return t!==null?t:lt.pooledCache}function qm(t,e){e===null?ft(tl,tl.current):ft(tl,e.pool)}function nU(){var t=YS();return t===null?null:{parent:Kt._currentValue,pool:t}}var Mc=Error(G(460)),QS=Error(G(474)),My=Error(G(542)),Rg={then:function(){}};function x1(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rU(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ma,ma),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,I1(t),t;default:if(typeof e.status=="string")e.then(ma,ma);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(G(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,I1(t),t}throw nl=e,Mc}}function Vs(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(nl=n,Mc):n}}var nl=null;function w1(){if(nl===null)throw Error(G(459));var t=nl;return nl=null,t}function I1(t){if(t===Mc||t===My)throw Error(G(483))}var zu=null,Bf=0;function Zp(t){var e=Bf;return Bf+=1,zu===null&&(zu=[]),rU(zu,t,e)}function Pd(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function em(t,e){throw e.$$typeof===YH?Error(G(525)):(t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function iU(t){function e(_,T){if(t){var S=_.deletions;S===null?(_.deletions=[T],_.flags|=16):S.push(T)}}function n(_,T){if(!t)return null;for(;T!==null;)e(_,T),T=T.sibling;return null}function r(_){for(var T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function i(_,T){return _=xa(_,T),_.index=0,_.sibling=null,_}function a(_,T,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<T?(_.flags|=67108866,T):S):(_.flags|=67108866,T)):(_.flags|=1048576,T)}function o(_){return t&&_.alternate===null&&(_.flags|=67108866),_}function s(_,T,S,w){return T===null||T.tag!==6?(T=gb(S,_.mode,w),T.return=_,T):(T=i(T,S),T.return=_,T)}function l(_,T,S,w){var N=S.type;return N===vu?c(_,T,S.props.children,w,S.key):T!==null&&(T.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vo&&Vs(N)===T.type)?(T=i(T,S.props),Pd(T,S),T.return=_,T):(T=$m(S.type,S.key,S.props,null,_.mode,w),Pd(T,S),T.return=_,T)}function u(_,T,S,w){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=vb(S,_.mode,w),T.return=_,T):(T=i(T,S.children||[]),T.return=_,T)}function c(_,T,S,w,N){return T===null||T.tag!==7?(T=el(S,_.mode,w,N),T.return=_,T):(T=i(T,S),T.return=_,T)}function d(_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=gb(""+T,_.mode,S),T.return=_,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Hp:return S=$m(T.type,T.key,T.props,null,_.mode,S),Pd(S,T),S.return=_,S;case Yd:return T=vb(T,_.mode,S),T.return=_,T;case vo:return T=Vs(T),d(_,T,S)}if(Qd(T)||wd(T))return T=el(T,_.mode,S,null),T.return=_,T;if(typeof T.then=="function")return d(_,Zp(T),S);if(T.$$typeof===pa)return d(_,Xp(_,T),S);em(_,T)}return null}function f(_,T,S,w){var N=T!==null?T.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return N!==null?null:s(_,T,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hp:return S.key===N?l(_,T,S,w):null;case Yd:return S.key===N?u(_,T,S,w):null;case vo:return S=Vs(S),f(_,T,S,w)}if(Qd(S)||wd(S))return N!==null?null:c(_,T,S,w,null);if(typeof S.then=="function")return f(_,T,Zp(S),w);if(S.$$typeof===pa)return f(_,T,Xp(_,S),w);em(_,S)}return null}function p(_,T,S,w,N){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return _=_.get(S)||null,s(T,_,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hp:return _=_.get(w.key===null?S:w.key)||null,l(T,_,w,N);case Yd:return _=_.get(w.key===null?S:w.key)||null,u(T,_,w,N);case vo:return w=Vs(w),p(_,T,S,w,N)}if(Qd(w)||wd(w))return _=_.get(S)||null,c(T,_,w,N,null);if(typeof w.then=="function")return p(_,T,S,Zp(w),N);if(w.$$typeof===pa)return p(_,T,S,Xp(T,w),N);em(T,w)}return null}function v(_,T,S,w){for(var N=null,O=null,I=T,P=T=0,R=null;I!==null&&P<S.length;P++){I.index>P?(R=I,I=null):R=I.sibling;var M=f(_,I,S[P],w);if(M===null){I===null&&(I=R);break}t&&I&&M.alternate===null&&e(_,I),T=a(M,T,P),O===null?N=M:O.sibling=M,O=M,I=R}if(P===S.length)return n(_,I),Me&&ca(_,P),N;if(I===null){for(;P<S.length;P++)I=d(_,S[P],w),I!==null&&(T=a(I,T,P),O===null?N=I:O.sibling=I,O=I);return Me&&ca(_,P),N}for(I=r(I);P<S.length;P++)R=p(I,_,P,S[P],w),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?P:R.key),T=a(R,T,P),O===null?N=R:O.sibling=R,O=R);return t&&I.forEach(function(V){return e(_,V)}),Me&&ca(_,P),N}function E(_,T,S,w){if(S==null)throw Error(G(151));for(var N=null,O=null,I=T,P=T=0,R=null,M=S.next();I!==null&&!M.done;P++,M=S.next()){I.index>P?(R=I,I=null):R=I.sibling;var V=f(_,I,M.value,w);if(V===null){I===null&&(I=R);break}t&&I&&V.alternate===null&&e(_,I),T=a(V,T,P),O===null?N=V:O.sibling=V,O=V,I=R}if(M.done)return n(_,I),Me&&ca(_,P),N;if(I===null){for(;!M.done;P++,M=S.next())M=d(_,M.value,w),M!==null&&(T=a(M,T,P),O===null?N=M:O.sibling=M,O=M);return Me&&ca(_,P),N}for(I=r(I);!M.done;P++,M=S.next())M=p(I,_,P,M.value,w),M!==null&&(t&&M.alternate!==null&&I.delete(M.key===null?P:M.key),T=a(M,T,P),O===null?N=M:O.sibling=M,O=M);return t&&I.forEach(function(D){return e(_,D)}),Me&&ca(_,P),N}function y(_,T,S,w){if(typeof S=="object"&&S!==null&&S.type===vu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Hp:e:{for(var N=S.key;T!==null;){if(T.key===N){if(N=S.type,N===vu){if(T.tag===7){n(_,T.sibling),w=i(T,S.props.children),w.return=_,_=w;break e}}else if(T.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vo&&Vs(N)===T.type){n(_,T.sibling),w=i(T,S.props),Pd(w,S),w.return=_,_=w;break e}n(_,T);break}else e(_,T);T=T.sibling}S.type===vu?(w=el(S.props.children,_.mode,w,S.key),w.return=_,_=w):(w=$m(S.type,S.key,S.props,null,_.mode,w),Pd(w,S),w.return=_,_=w)}return o(_);case Yd:e:{for(N=S.key;T!==null;){if(T.key===N)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){n(_,T.sibling),w=i(T,S.children||[]),w.return=_,_=w;break e}else{n(_,T);break}else e(_,T);T=T.sibling}w=vb(S,_.mode,w),w.return=_,_=w}return o(_);case vo:return S=Vs(S),y(_,T,S,w)}if(Qd(S))return v(_,T,S,w);if(wd(S)){if(N=wd(S),typeof N!="function")throw Error(G(150));return S=N.call(S),E(_,T,S,w)}if(typeof S.then=="function")return y(_,T,Zp(S),w);if(S.$$typeof===pa)return y(_,T,Xp(_,S),w);em(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,T!==null&&T.tag===6?(n(_,T.sibling),w=i(T,S),w.return=_,_=w):(n(_,T),w=gb(S,_.mode,w),w.return=_,_=w),o(_)):n(_,T)}return function(_,T,S,w){try{Bf=0;var N=y(_,T,S,w);return zu=null,N}catch(I){if(I===Mc||I===My)throw I;var O=vr(29,I,null,_.mode);return O.lanes=w,O.return=_,O}finally{}}}var hl=iU(!0),aU=iU(!1),yo=!1;function JS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fo(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Ig(t),QV(t,null,n),e}return Oy(t,r,e,n),Ig(t)}function pf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AV(t,n)}}function _b(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var aT=!1;function mf(){if(aT){var t=Bu;if(t!==null)throw t}}function gf(t,e,n,r){aT=!1;var i=t.updateQueue;yo=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(Re&f)===f:(r&f)===f){f!==0&&f===ec&&(aT=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=t,E=s;f=e;var y=n;switch(E.tag){case 1:if(v=E.payload,typeof v=="function"){d=v.call(y,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,f=typeof v=="function"?v.call(y,d,f):v,f==null)break e;d=Et({},d,f);break e;case 2:yo=!0}}f=s.callback,f!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),as|=o,t.lanes=o,t.memoizedState=d}}function oU(t,e){if(typeof t!="function")throw Error(G(191,t));t.call(e)}function sU(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)oU(n[t],e)}var tc=Yi(null),Ng=Yi(0);function C1(t,e){t=ka,ft(Ng,t),ft(tc,e),ka=t|e.baseLanes}function oT(){ft(Ng,ka),ft(tc,tc.current)}function XS(){ka=Ng.current,hn(tc),hn(Ng)}var Pr=Yi(null),Gr=null;function To(t){var e=t.alternate;ft(Vt,Vt.current&1),ft(Pr,t),Gr===null&&(e===null||tc.current!==null||e.memoizedState!==null)&&(Gr=t)}function sT(t){ft(Vt,Vt.current),ft(Pr,t),Gr===null&&(Gr=t)}function lU(t){t.tag===22?(ft(Vt,Vt.current),ft(Pr,t),Gr===null&&(Gr=t)):Ao()}function Ao(){ft(Vt,Vt.current),ft(Pr,Pr.current)}function gr(t){hn(Pr),Gr===t&&(Gr=null),hn(Vt)}var Vt=Yi(0);function Og(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||wT(n)||IT(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oa=0,_e=null,nt=null,Gt=null,Mg=!1,Fu=!1,pl=!1,Dg=0,zf=0,ju=null,c8=0;function Pt(){throw Error(G(321))}function ZS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cr(t[n],e[n]))return!1;return!0}function ex(t,e,n,r,i,a){return Oa=a,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,he.H=t===null||t.memoizedState===null?BU:dx,pl=!1,a=n(r,i),pl=!1,Fu&&(a=cU(e,n,r,i)),uU(t),a}function uU(t){he.H=Ff;var e=nt!==null&&nt.next!==null;if(Oa=0,Gt=nt=_e=null,Mg=!1,zf=0,ju=null,e)throw Error(G(300));t===null||Wt||(t=t.dependencies,t!==null&&Pg(t)&&(Wt=!0))}function cU(t,e,n,r){_e=t;var i=0;do{if(Fu&&(ju=null),zf=0,Fu=!1,25<=i)throw Error(G(301));if(i+=1,Gt=nt=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}he.H=zU,a=e(n,r)}while(Fu);return a}function d8(){var t=he.H,e=t.useState()[0];return e=typeof e.then=="function"?Uh(e):e,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(_e.flags|=1024),e}function tx(){var t=Dg!==0;return Dg=0,t}function nx(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function rx(t){if(Mg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Mg=!1}Oa=0,Gt=nt=_e=null,Fu=!1,zf=Dg=0,ju=null}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?_e.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function zt(){if(nt===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=Gt===null?_e.memoizedState:Gt.next;if(e!==null)Gt=e,nt=t;else{if(t===null)throw _e.alternate===null?Error(G(467)):Error(G(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Gt===null?_e.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Dy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uh(t){var e=zf;return zf+=1,ju===null&&(ju=[]),t=rU(ju,t,e),e=_e,(Gt===null?e.memoizedState:Gt.next)===null&&(e=e.alternate,he.H=e===null||e.memoizedState===null?BU:dx),t}function ky(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Uh(t);if(t.$$typeof===pa)return xn(t)}throw Error(G(438,String(t)))}function ix(t){var e=null,n=_e.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=_e.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Dy(),_e.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=QH;return e.index++,n}function Ma(t,e){return typeof e=="function"?e(t):e}function Gm(t){var e=zt();return ax(e,nt,t)}function ax(t,e,n){var r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var s=o=null,l=null,u=e,c=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Re&d)===d:(Oa&d)===d){var f=u.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===ec&&(c=!0);else if((Oa&f)===f){u=u.next,f===ec&&(c=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=d,o=a):l=l.next=d,_e.lanes|=f,as|=f;d=u.action,pl&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,o=a):l=l.next=f,_e.lanes|=d,as|=d;u=u.next}while(u!==null&&u!==e);if(l===null?o=a:l.next=s,!Cr(a,t.memoizedState)&&(Wt=!0,c&&(n=Bu,n!==null)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function bb(t){var e=zt(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Cr(a,e.memoizedState)||(Wt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function dU(t,e,n){var r=_e,i=zt(),a=Me;if(a){if(n===void 0)throw Error(G(407));n=n()}else n=e();var o=!Cr((nt||i).memoizedState,n);if(o&&(i.memoizedState=n,Wt=!0),i=i.queue,ox(pU.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||Gt!==null&&Gt.memoizedState.tag&1){if(r.flags|=2048,nc(9,{destroy:void 0},hU.bind(null,r,i,n,e),null),lt===null)throw Error(G(349));a||Oa&127||fU(r,e,n)}return n}function fU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e=Dy(),_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hU(t,e,n,r){e.value=n,e.getSnapshot=r,mU(e)&&gU(t)}function pU(t,e,n){return n(function(){mU(e)&&gU(t)})}function mU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cr(t,n)}catch{return!0}}function gU(t){var e=Ul(t,2);e!==null&&ur(e,t,2)}function lT(t){var e=Fn();if(typeof t=="function"){var n=t;if(t=n(),pl){No(!0);try{n()}finally{No(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},e}function vU(t,e,n,r){return t.baseState=n,ax(t,nt,typeof r=="function"?r:Ma)}function f8(t,e,n,r,i){if(Vy(t))throw Error(G(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};he.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,yU(e,a)):(a.next=n.next,e.pending=n.next=a)}}function yU(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=he.T,o={};he.T=o;try{var s=n(i,r),l=he.S;l!==null&&l(o,s),P1(t,e,s)}catch(u){uT(t,e,u)}finally{a!==null&&o.types!==null&&(a.types=o.types),he.T=a}}else try{a=n(i,r),P1(t,e,a)}catch(u){uT(t,e,u)}}function P1(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){R1(t,e,r)},function(r){return uT(t,e,r)}):R1(t,e,n)}function R1(t,e,n){e.status="fulfilled",e.value=n,_U(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,yU(t,n)))}function uT(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,_U(e),e=e.next;while(e!==r)}t.action=null}function _U(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function bU(t,e){return e}function N1(t,e){if(Me){var n=lt.formState;if(n!==null){e:{var r=_e;if(Me){if(yt){t:{for(var i=yt,a=jr;i.nodeType!==8;){if(!a){i=null;break t}if(i=Hr(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){yt=Hr(i.nextSibling),r=i.data==="F!";break e}}rs(r)}r=!1}r&&(e=n[0])}}return n=Fn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bU,lastRenderedState:e},n.queue=r,n=LU.bind(null,_e,r),r.dispatch=n,r=lT(!1),a=cx.bind(null,_e,!1,r.queue),r=Fn(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=f8.bind(null,_e,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function O1(t){var e=zt();return EU(e,nt,t)}function EU(t,e,n){if(e=ax(t,e,bU)[0],t=Gm(Ma)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Uh(e)}catch(o){throw o===Mc?My:o}else r=e;e=zt();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(_e.flags|=2048,nc(9,{destroy:void 0},h8.bind(null,i,n),null)),[r,a,t]}function h8(t,e){t.action=e}function M1(t){var e=zt(),n=nt;if(n!==null)return EU(e,n,t);zt(),e=e.memoizedState,n=zt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function nc(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=_e.updateQueue,e===null&&(e=Dy(),_e.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function TU(){return zt().memoizedState}function Hm(t,e,n,r){var i=Fn();_e.flags|=t,i.memoizedState=nc(1|e,{destroy:void 0},n,r===void 0?null:r)}function Ly(t,e,n,r){var i=zt();r=r===void 0?null:r;var a=i.memoizedState.inst;nt!==null&&r!==null&&ZS(r,nt.memoizedState.deps)?i.memoizedState=nc(e,a,n,r):(_e.flags|=t,i.memoizedState=nc(1|e,a,n,r))}function D1(t,e){Hm(8390656,8,t,e)}function ox(t,e){Ly(2048,8,t,e)}function p8(t){_e.flags|=4;var e=_e.updateQueue;if(e===null)e=Dy(),_e.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function AU(t){var e=zt().memoizedState;return p8({ref:e,nextImpl:t}),function(){if(je&2)throw Error(G(440));return e.impl.apply(void 0,arguments)}}function SU(t,e){return Ly(4,2,t,e)}function xU(t,e){return Ly(4,4,t,e)}function wU(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IU(t,e,n){n=n!=null?n.concat([t]):null,Ly(4,4,wU.bind(null,e,t),n)}function sx(){}function CU(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&ZS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PU(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&ZS(e,r[1]))return r[0];if(r=t(),pl){No(!0);try{t()}finally{No(!1)}}return n.memoizedState=[r,e],r}function lx(t,e,n){return n===void 0||Oa&1073741824&&!(Re&261930)?t.memoizedState=e:(t.memoizedState=n,t=vB(),_e.lanes|=t,as|=t,n)}function RU(t,e,n,r){return Cr(n,e)?n:tc.current!==null?(t=lx(t,n,r),Cr(t,e)||(Wt=!0),t):!(Oa&42)||Oa&1073741824&&!(Re&261930)?(Wt=!0,t.memoizedState=n):(t=vB(),_e.lanes|=t,as|=t,e)}function NU(t,e,n,r,i){var a=qe.p;qe.p=a!==0&&8>a?a:8;var o=he.T,s={};he.T=s,cx(t,!1,e,n);try{var l=i(),u=he.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=u8(l,r);vf(t,e,c,xr(t))}else vf(t,e,r,xr(t))}catch(d){vf(t,e,{then:function(){},status:"rejected",reason:d},xr())}finally{qe.p=a,o!==null&&s.types!==null&&(o.types=s.types),he.T=o}}function m8(){}function cT(t,e,n,r){if(t.tag!==5)throw Error(G(476));var i=OU(t).queue;NU(t,i,e,Zs,n===null?m8:function(){return MU(t),n(r)})}function OU(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Zs,baseState:Zs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:Zs},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function MU(t){var e=OU(t);e.next===null&&(e=t.alternate.memoizedState),vf(t,e.next.queue,{},xr())}function ux(){return xn(qf)}function DU(){return zt().memoizedState}function kU(){return zt().memoizedState}function g8(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=xr();t=Fo(n);var r=jo(e,t,n);r!==null&&(ur(r,e,n),pf(r,e,n)),e={cache:WS()},t.payload=e;return}e=e.return}}function v8(t,e,n){var r=xr();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vy(t)?VU(e,n):(n=qS(t,e,n,r),n!==null&&(ur(n,t,r),UU(n,e,r)))}function LU(t,e,n){var r=xr();vf(t,e,n,r)}function vf(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vy(t))VU(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Cr(s,o))return Oy(t,e,i,0),lt===null&&Ny(),!1}catch{}finally{}if(n=qS(t,e,i,r),n!==null)return ur(n,t,r),UU(n,e,r),!0}return!1}function cx(t,e,n,r){if(r={lane:2,revertLane:_x(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Vy(t)){if(e)throw Error(G(479))}else e=qS(t,n,r,2),e!==null&&ur(e,t,2)}function Vy(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function VU(t,e){Fu=Mg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UU(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AV(t,n)}}var Ff={readContext:xn,use:ky,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};Ff.useEffectEvent=Pt;var BU={readContext:xn,use:ky,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:D1,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Hm(4194308,4,wU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hm(4194308,4,t,e)},useInsertionEffect:function(t,e){Hm(4,2,t,e)},useMemo:function(t,e){var n=Fn();e=e===void 0?null:e;var r=t();if(pl){No(!0);try{t()}finally{No(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Fn();if(n!==void 0){var i=n(e);if(pl){No(!0);try{n(e)}finally{No(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=v8.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:function(t){t=lT(t);var e=t.queue,n=LU.bind(null,_e,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:sx,useDeferredValue:function(t,e){var n=Fn();return lx(n,t,e)},useTransition:function(){var t=lT(!1);return t=NU.bind(null,_e,t.queue,!0,!1),Fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=_e,i=Fn();if(Me){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),lt===null)throw Error(G(349));Re&127||fU(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,D1(pU.bind(null,r,a,t),[t]),r.flags|=2048,nc(9,{destroy:void 0},hU.bind(null,r,a,n,e),null),n},useId:function(){var t=Fn(),e=lt.identifierPrefix;if(Me){var n=Mi,r=Oi;n=(r&~(1<<32-Sr(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Dg++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=c8++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:ux,useFormState:N1,useActionState:N1,useOptimistic:function(t){var e=Fn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=cx.bind(null,_e,!0,n),n.dispatch=e,[t,e]},useMemoCache:ix,useCacheRefresh:function(){return Fn().memoizedState=g8.bind(null,_e)},useEffectEvent:function(t){var e=Fn(),n={impl:t};return e.memoizedState=n,function(){if(je&2)throw Error(G(440));return n.impl.apply(void 0,arguments)}}},dx={readContext:xn,use:ky,useCallback:CU,useContext:xn,useEffect:ox,useImperativeHandle:IU,useInsertionEffect:SU,useLayoutEffect:xU,useMemo:PU,useReducer:Gm,useRef:TU,useState:function(){return Gm(Ma)},useDebugValue:sx,useDeferredValue:function(t,e){var n=zt();return RU(n,nt.memoizedState,t,e)},useTransition:function(){var t=Gm(Ma)[0],e=zt().memoizedState;return[typeof t=="boolean"?t:Uh(t),e]},useSyncExternalStore:dU,useId:DU,useHostTransitionStatus:ux,useFormState:O1,useActionState:O1,useOptimistic:function(t,e){var n=zt();return vU(n,nt,t,e)},useMemoCache:ix,useCacheRefresh:kU};dx.useEffectEvent=AU;var zU={readContext:xn,use:ky,useCallback:CU,useContext:xn,useEffect:ox,useImperativeHandle:IU,useInsertionEffect:SU,useLayoutEffect:xU,useMemo:PU,useReducer:bb,useRef:TU,useState:function(){return bb(Ma)},useDebugValue:sx,useDeferredValue:function(t,e){var n=zt();return nt===null?lx(n,t,e):RU(n,nt.memoizedState,t,e)},useTransition:function(){var t=bb(Ma)[0],e=zt().memoizedState;return[typeof t=="boolean"?t:Uh(t),e]},useSyncExternalStore:dU,useId:DU,useHostTransitionStatus:ux,useFormState:M1,useActionState:M1,useOptimistic:function(t,e){var n=zt();return nt!==null?vU(n,nt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ix,useCacheRefresh:kU};zU.useEffectEvent=AU;function Eb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dT={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xr(),i=Fo(r);i.payload=e,n!=null&&(i.callback=n),e=jo(t,i,r),e!==null&&(ur(e,t,r),pf(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xr(),i=Fo(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=jo(t,i,r),e!==null&&(ur(e,t,r),pf(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xr(),r=Fo(n);r.tag=2,e!=null&&(r.callback=e),e=jo(t,r,n),e!==null&&(ur(e,t,n),pf(e,t,n))}};function k1(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Lf(n,r)||!Lf(i,a):!0}function L1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dT.enqueueReplaceState(e,e.state,null)}function ml(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Et({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function FU(t){wg(t)}function jU(t){console.error(t)}function $U(t){wg(t)}function kg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function V1(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function fT(t,e,n){return n=Fo(n),n.tag=3,n.payload={element:null},n.callback=function(){kg(t,e)},n}function qU(t){return t=Fo(t),t.tag=3,t}function GU(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){V1(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){V1(e,n,r),typeof i!="function"&&($o===null?$o=new Set([this]):$o.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function y8(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Oc(e,n,i,!0),n=Pr.current,n!==null){switch(n.tag){case 31:case 13:return Gr===null?zg():n.alternate===null&&Ot===0&&(Ot=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Rg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Ob(t,r,i)),!1;case 22:return n.flags|=65536,r===Rg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Ob(t,r,i)),!1}throw Error(G(435,n.tag))}return Ob(t,r,i),zg(),!1}if(Me)return e=Pr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==ZE&&(t=Error(G(422),{cause:r}),Uf(Fr(t,n)))):(r!==ZE&&(e=Error(G(423),{cause:r}),Uf(Fr(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Fr(r,n),i=fT(t.stateNode,r,i),_b(t,i),Ot!==4&&(Ot=2)),!1;var a=Error(G(520),{cause:r});if(a=Fr(a,n),bf===null?bf=[a]:bf.push(a),Ot!==4&&(Ot=2),e===null)return!0;r=Fr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=fT(n.stateNode,r,t),_b(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&($o===null||!$o.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=qU(i),GU(i,t,n,r),_b(n,i),!1}n=n.return}while(n!==null);return!1}var fx=Error(G(461)),Wt=!1;function bn(t,e,n,r){e.child=t===null?aU(e,null,n,r):hl(e,t.child,n,r)}function U1(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return fl(e),r=ex(t,e,n,o,a,i),s=tx(),t!==null&&!Wt?(nx(t,e,i),Da(t,e,i)):(Me&&s&&HS(e),e.flags|=1,bn(t,e,r,i),e.child)}function B1(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!GS(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,HU(t,e,a,r,i)):(t=$m(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!hx(t,i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Lf,n(o,r)&&t.ref===e.ref)return Da(t,e,i)}return e.flags|=1,t=xa(a,r),t.ref=e.ref,t.return=e,e.child=t}function HU(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Lf(a,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=a,hx(t,i))t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,Da(t,e,i)}return hT(t,e,n,r,i)}function KU(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return z1(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&qm(e,a!==null?a.cachePool:null),a!==null?C1(e,a):oT(),lU(e);else return r=e.lanes=536870912,z1(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(qm(e,a.cachePool),C1(e,a),Ao(),e.memoizedState=null):(t!==null&&qm(e,null),oT(),Ao());return bn(t,e,i,n),e.child}function Xd(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function z1(t,e,n,r,i){var a=YS();return a=a===null?null:{parent:Kt._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&qm(e,null),oT(),lU(e),t!==null&&Oc(t,e,r,!0),e.childLanes=i,null}function Km(t,e){return e=Lg({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function F1(t,e,n){return hl(e,t.child,null,n),t=Km(e,e.pendingProps),t.flags|=2,gr(e),e.memoizedState=null,t}function _8(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Me){if(r.mode==="hidden")return t=Km(e,r),e.lanes=536870912,Xd(null,t);if(sT(e),(t=yt)?(t=BB(t,jr),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ns!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},n=XV(t),n.return=e,e.child=n,Sn=e,yt=null)):t=null,t===null)throw rs(e);return e.lanes=536870912,null}return Km(e,r)}var a=t.memoizedState;if(a!==null){var o=a.dehydrated;if(sT(e),i)if(e.flags&256)e.flags&=-257,e=F1(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(G(558));else if(Wt||Oc(t,e,n,!1),i=(n&t.childLanes)!==0,Wt||i){if(r=lt,r!==null&&(o=SV(r,n),o!==0&&o!==a.retryLane))throw a.retryLane=o,Ul(t,o),ur(r,t,o),fx;zg(),e=F1(t,e,n)}else t=a.treeContext,yt=Hr(o.nextSibling),Sn=e,Me=!0,zo=null,jr=!1,t!==null&&eU(e,t),e=Km(e,r),e.flags|=4096;return e}return t=xa(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Wm(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(G(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function hT(t,e,n,r,i){return fl(e),n=ex(t,e,n,r,void 0,i),r=tx(),t!==null&&!Wt?(nx(t,e,i),Da(t,e,i)):(Me&&r&&HS(e),e.flags|=1,bn(t,e,n,i),e.child)}function j1(t,e,n,r,i,a){return fl(e),e.updateQueue=null,n=cU(e,r,n,i),uU(t),r=tx(),t!==null&&!Wt?(nx(t,e,a),Da(t,e,a)):(Me&&r&&HS(e),e.flags|=1,bn(t,e,n,a),e.child)}function $1(t,e,n,r,i){if(fl(e),e.stateNode===null){var a=xu,o=n.contextType;typeof o=="object"&&o!==null&&(a=xn(o)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=dT,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},JS(e),o=n.contextType,a.context=typeof o=="object"&&o!==null?xn(o):xu,a.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Eb(e,n,o,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&dT.enqueueReplaceState(a,a.state,null),gf(e,r,a,i),mf(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var s=e.memoizedProps,l=ml(n,s);a.props=l;var u=a.context,c=n.contextType;o=xu,typeof c=="object"&&c!==null&&(o=xn(c));var d=n.getDerivedStateFromProps;c=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||u!==o)&&L1(e,a,r,o),yo=!1;var f=e.memoizedState;a.state=f,gf(e,r,a,i),mf(),u=e.memoizedState,s||f!==u||yo?(typeof d=="function"&&(Eb(e,n,d,r),u=e.memoizedState),(l=yo||k1(e,n,l,r,f,u,o))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=o,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,iT(t,e),o=e.memoizedProps,c=ml(n,o),a.props=c,d=e.pendingProps,f=a.context,u=n.contextType,l=xu,typeof u=="object"&&u!==null&&(l=xn(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&L1(e,a,r,l),yo=!1,f=e.memoizedState,a.state=f,gf(e,r,a,i),mf();var p=e.memoizedState;o!==d||f!==p||yo||t!==null&&t.dependencies!==null&&Pg(t.dependencies)?(typeof s=="function"&&(Eb(e,n,s,r),p=e.memoizedState),(c=yo||k1(e,n,c,r,f,p,l)||t!==null&&t.dependencies!==null&&Pg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Wm(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=hl(e,t.child,null,i),e.child=hl(e,null,n,i)):bn(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Da(t,e,i),t}function q1(t,e,n,r){return dl(),e.flags|=256,bn(t,e,n,r),e.child}var Tb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ab(t){return{baseLanes:t,cachePool:nU()}}function Sb(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=_r),t}function WU(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(Me){if(i?To(e):Ao(),(t=yt)?(t=BB(t,jr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ns!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},n=XV(t),n.return=e,e.child=n,Sn=e,yt=null)):t=null,t===null)throw rs(e);return IT(t)?e.lanes=32:e.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(Ao(),i=e.mode,s=Lg({mode:"hidden",children:s},i),r=el(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,r=e.child,r.memoizedState=Ab(n),r.childLanes=Sb(t,o,n),e.memoizedState=Tb,Xd(null,r)):(To(e),pT(e,s))}var l=t.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(a)e.flags&256?(To(e),e.flags&=-257,e=xb(t,e,n)):e.memoizedState!==null?(Ao(),e.child=t.child,e.flags|=128,e=null):(Ao(),s=r.fallback,i=e.mode,r=Lg({mode:"visible",children:r.children},i),s=el(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,hl(e,t.child,null,n),r=e.child,r.memoizedState=Ab(n),r.childLanes=Sb(t,o,n),e.memoizedState=Tb,e=Xd(null,r));else if(To(e),IT(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(G(419)),r.stack="",r.digest=o,Uf({value:r,source:null,stack:null}),e=xb(t,e,n)}else if(Wt||Oc(t,e,n,!1),o=(n&t.childLanes)!==0,Wt||o){if(o=lt,o!==null&&(r=SV(o,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Ul(t,r),ur(o,t,r),fx;wT(s)||zg(),e=xb(t,e,n)}else wT(s)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,yt=Hr(s.nextSibling),Sn=e,Me=!0,zo=null,jr=!1,t!==null&&eU(e,t),e=pT(e,r.children),e.flags|=4096);return e}return i?(Ao(),s=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=xa(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=xa(u,s):(s=el(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,Xd(null,r),r=e.child,s=t.child.memoizedState,s===null?s=Ab(n):(i=s.cachePool,i!==null?(l=Kt._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=nU(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=Sb(t,o,n),e.memoizedState=Tb,Xd(t.child,r)):(To(e),n=t.child,t=n.sibling,n=xa(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function pT(t,e){return e=Lg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Lg(t,e){return t=vr(22,t,null,e),t.lanes=0,t}function xb(t,e,n){return hl(e,t.child,null,n),t=pT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tT(t.return,e,n)}function wb(t,e,n,r,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function YU(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Vt.current,s=(o&2)!==0;if(s?(o=o&1|2,e.flags|=128):o&=1,ft(Vt,o),bn(t,e,r,n),r=Me?Vf:0,!s&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G1(t,n,e);else if(t.tag===19)G1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Og(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wb(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Og(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wb(e,!0,n,null,a,r);break;case"together":wb(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Da(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),as|=e.lanes,!(n&e.childLanes))if(t!==null){if(Oc(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=xa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hx(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Pg(t)))}function b8(t,e,n){switch(e.tag){case 3:Tg(e,e.stateNode.containerInfo),Eo(e,Kt,t.memoizedState.cache),dl();break;case 27:case 5:jE(e);break;case 4:Tg(e,e.stateNode.containerInfo);break;case 10:Eo(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,sT(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(To(e),e.flags|=128,null):n&e.child.childLanes?WU(t,e,n):(To(e),t=Da(t,e,n),t!==null?t.sibling:null);To(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Oc(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return YU(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ft(Vt,Vt.current),r)break;return null;case 22:return e.lanes=0,KU(t,e,n,e.pendingProps);case 24:Eo(e,Kt,t.memoizedState.cache)}return Da(t,e,n)}function QU(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Wt=!0;else{if(!hx(t,n)&&!(e.flags&128))return Wt=!1,b8(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,Me&&e.flags&1048576&&ZV(e,Vf,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Vs(e.elementType),e.type=t,typeof t=="function")GS(t)?(r=ml(t,r),e.tag=1,e=$1(null,e,t,r,n)):(e.tag=0,e=hT(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===NS){e.tag=11,e=U1(null,e,t,r,n);break e}else if(i===OS){e.tag=14,e=B1(null,e,t,r,n);break e}}throw e=zE(t)||t,Error(G(306,e,""))}}return e;case 0:return hT(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=ml(r,e.pendingProps),$1(t,e,r,i,n);case 3:e:{if(Tg(e,e.stateNode.containerInfo),t===null)throw Error(G(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,iT(t,e),gf(e,r,null,n);var o=e.memoizedState;if(r=o.cache,Eo(e,Kt,r),r!==a.cache&&nT(e,[Kt],n,!0),mf(),r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=q1(t,e,r,n);break e}else if(r!==i){i=Fr(Error(G(424)),e),Uf(i),e=q1(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(yt=Hr(t.firstChild),Sn=e,Me=!0,zo=null,jr=!0,n=aU(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(dl(),r===i){e=Da(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 26:return Wm(t,e),t===null?(n=dR(e.type,null,e.pendingProps,null))?e.memoizedState=n:Me||(n=e.type,t=e.pendingProps,r=qg(Bo.current).createElement(n),r[An]=e,r[cr]=t,wn(r,n,t),dn(r),e.stateNode=r):e.memoizedState=dR(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return jE(e),t===null&&Me&&(r=e.stateNode=zB(e.type,e.pendingProps,Bo.current),Sn=e,jr=!0,i=yt,gs(e.type)?(CT=i,yt=Hr(r.firstChild)):yt=i),bn(t,e,e.pendingProps.children,n),Wm(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Me&&((i=r=yt)&&(r=Q8(r,e.type,e.pendingProps,jr),r!==null?(e.stateNode=r,Sn=e,yt=Hr(r.firstChild),jr=!1,i=!0):i=!1),i||rs(e)),jE(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,r=a.children,ST(i,a)?r=null:o!==null&&ST(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=ex(t,e,d8,null,null,n),qf._currentValue=i),Wm(t,e),bn(t,e,r,n),e.child;case 6:return t===null&&Me&&((t=n=yt)&&(n=J8(n,e.pendingProps,jr),n!==null?(e.stateNode=n,Sn=e,yt=null,t=!0):t=!1),t||rs(e)),null;case 13:return WU(t,e,n);case 4:return Tg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hl(e,null,r,n):bn(t,e,r,n),e.child;case 11:return U1(t,e,e.type,e.pendingProps,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Eo(e,e.type,r.value),bn(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,fl(e),i=xn(i),r=r(i),e.flags|=1,bn(t,e,r,n),e.child;case 14:return B1(t,e,e.type,e.pendingProps,n);case 15:return HU(t,e,e.type,e.pendingProps,n);case 19:return YU(t,e,n);case 31:return _8(t,e,n);case 22:return KU(t,e,n,e.pendingProps);case 24:return fl(e),r=xn(Kt),t===null?(i=YS(),i===null&&(i=lt,a=WS(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},JS(e),Eo(e,Kt,i)):(t.lanes&n&&(iT(t,e),gf(e,null,null,n),mf()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Eo(e,Kt,r)):(r=a.cache,Eo(e,Kt,r),r!==i.cache&&nT(e,[Kt],n,!0))),bn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(G(156,e.tag))}function aa(t){t.flags|=4}function Ib(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(bB())t.flags|=8192;else throw nl=Rg,QS}else t.flags&=-16777217}function H1(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!$B(e))if(bB())t.flags|=8192;else throw nl=Rg,QS}function tm(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?EV():536870912,t.lanes|=e,rc|=e)}function Rd(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function E8(t,e,n){var r=e.pendingProps;switch(KS(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return gt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),wa(Kt),Ju(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ql(e)?aa(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yb())),gt(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(aa(e),a!==null?(gt(e),H1(e,a)):(gt(e),Ib(e,i,null,r,n))):a?a!==t.memoizedState?(aa(e),gt(e),H1(e,a)):(gt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&aa(e),gt(e),Ib(e,i,t,r,n)),null;case 27:if(Ag(e),n=Bo.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&aa(e);else{if(!r){if(e.stateNode===null)throw Error(G(166));return gt(e),null}t=Bi.current,Ql(e)?E1(e):(t=zB(i,r,n),e.stateNode=t,aa(e))}return gt(e),null;case 5:if(Ag(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&aa(e);else{if(!r){if(e.stateNode===null)throw Error(G(166));return gt(e),null}if(a=Bi.current,Ql(e))E1(e);else{var o=qg(Bo.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}a[An]=e,a[cr]=r;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=a;e:switch(wn(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&aa(e)}}return gt(e),Ib(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&aa(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(t=Bo.current,Ql(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Sn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[An]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||LB(t.nodeValue,n)),t||rs(e,!0)}else t=qg(t).createTextNode(r),t[An]=e,e.stateNode=t}return gt(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Ql(e),n!==null){if(t===null){if(!r)throw Error(G(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(557));t[An]=e}else dl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),t=!1}else n=yb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(gr(e),e):(gr(e),null);if(e.flags&128)throw Error(G(558))}return gt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Ql(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[An]=e}else dl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),i=!1}else i=yb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(gr(e),e):(gr(e),null)}return gr(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),tm(e,e.updateQueue),gt(e),null);case 4:return Ju(),t===null&&bx(e.stateNode.containerInfo),gt(e),null;case 10:return wa(e.type),gt(e),null;case 19:if(hn(Vt),r=e.memoizedState,r===null)return gt(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)Rd(r,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Og(t),a!==null){for(e.flags|=128,Rd(r,!1),t=a.updateQueue,e.updateQueue=t,tm(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)JV(n,t),n=n.sibling;return ft(Vt,Vt.current&1|2),Me&&ca(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Tr()>Ug&&(e.flags|=128,i=!0,Rd(r,!1),e.lanes=4194304)}else{if(!i)if(t=Og(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,tm(e,t),Rd(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Me)return gt(e),null}else 2*Tr()-r.renderingStartTime>Ug&&n!==536870912&&(e.flags|=128,i=!0,Rd(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Tr(),t.sibling=null,n=Vt.current,ft(Vt,i?n&1|2:n&1),Me&&ca(e,r.treeForkCount),t):(gt(e),null);case 22:case 23:return gr(e),XS(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),n=e.updateQueue,n!==null&&tm(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&hn(tl),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),wa(Kt),gt(e),null;case 25:return null;case 30:return null}throw Error(G(156,e.tag))}function T8(t,e){switch(KS(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wa(Kt),Ju(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ag(e),null;case 31:if(e.memoizedState!==null){if(gr(e),e.alternate===null)throw Error(G(340));dl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(gr(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));dl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return hn(Vt),null;case 4:return Ju(),null;case 10:return wa(e.type),null;case 22:case 23:return gr(e),XS(),t!==null&&hn(tl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return wa(Kt),null;case 25:return null;default:return null}}function JU(t,e){switch(KS(e),e.tag){case 3:wa(Kt),Ju();break;case 26:case 27:case 5:Ag(e);break;case 4:Ju();break;case 31:e.memoizedState!==null&&gr(e);break;case 13:gr(e);break;case 19:hn(Vt);break;case 10:wa(e.type);break;case 22:case 23:gr(e),XS(),t!==null&&hn(tl);break;case 24:wa(Kt)}}function Bh(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){Je(e,e.return,s)}}function is(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=e;var l=n,u=s;try{u()}catch(c){Je(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){Je(e,e.return,c)}}function XU(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{sU(e,n)}catch(r){Je(t,t.return,r)}}}function ZU(t,e,n){n.props=ml(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Je(t,e,r)}}function yf(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Je(t,e,i)}}function Di(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Je(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Je(t,e,i)}else n.current=null}function eB(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Je(t,t.return,i)}}function Cb(t,e,n){try{var r=t.stateNode;q8(r,t.type,n,e),r[cr]=e}catch(i){Je(t,t.return,i)}}function tB(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gs(t.type)||t.tag===4}function Pb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ma));else if(r!==4&&(r===27&&gs(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(mT(t,e,n),t=t.sibling;t!==null;)mT(t,e,n),t=t.sibling}function Vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&gs(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Vg(t,e,n),t=t.sibling;t!==null;)Vg(t,e,n),t=t.sibling}function nB(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);wn(e,r,n),e[An]=t,e[cr]=n}catch(a){Je(t,t.return,a)}}var fa=!1,Ht=!1,Rb=!1,K1=typeof WeakSet=="function"?WeakSet:Set,cn=null;function A8(t,e){if(t=t.containerInfo,TT=Wg,t=$V(t),jS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(s=o),f===a&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(AT={focusedElem:t,selectionRange:n},Wg=!1,cn=e;cn!==null;)if(e=cn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,cn=t;else for(;cn!==null;){switch(e=cn,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var v=ml(n.type,i);t=r.getSnapshotBeforeUpdate(v,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(E){Je(n,n.return,E)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)xT(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xT(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(G(163))}if(t=e.sibling,t!==null){t.return=e.return,cn=t;break}cn=e.return}}function rB(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:sa(t,n),r&4&&Bh(5,n);break;case 1:if(sa(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){Je(n,n.return,o)}else{var i=ml(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){Je(n,n.return,o)}}r&64&&XU(n),r&512&&yf(n,n.return);break;case 3:if(sa(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{sU(t,e)}catch(o){Je(n,n.return,o)}}break;case 27:e===null&&r&4&&nB(n);case 26:case 5:sa(t,n),e===null&&r&4&&eB(n),r&512&&yf(n,n.return);break;case 12:sa(t,n);break;case 31:sa(t,n),r&4&&oB(t,n);break;case 13:sa(t,n),r&4&&sB(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=O8.bind(null,n),X8(t,n))));break;case 22:if(r=n.memoizedState!==null||fa,!r){e=e!==null&&e.memoizedState!==null||Ht,i=fa;var a=Ht;fa=r,(Ht=e)&&!a?ua(t,n,(n.subtreeFlags&8772)!==0):sa(t,n),fa=i,Ht=a}break;case 30:break;default:sa(t,n)}}function iB(t){var e=t.alternate;e!==null&&(t.alternate=null,iB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&LS(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,er=!1;function oa(t,e,n){for(n=n.child;n!==null;)aB(t,e,n),n=n.sibling}function aB(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Oh,n)}catch{}switch(n.tag){case 26:Ht||Di(n,e),oa(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ht||Di(n,e);var r=Tt,i=er;gs(n.type)&&(Tt=n.stateNode,er=!1),oa(t,e,n),Tf(n.stateNode),Tt=r,er=i;break;case 5:Ht||Di(n,e);case 6:if(r=Tt,i=er,Tt=null,oa(t,e,n),Tt=r,er=i,Tt!==null)if(er)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(n.stateNode)}catch(a){Je(n,e,a)}else try{Tt.removeChild(n.stateNode)}catch(a){Je(n,e,a)}break;case 18:Tt!==null&&(er?(t=Tt,oR(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),sc(t)):oR(Tt,n.stateNode));break;case 4:r=Tt,i=er,Tt=n.stateNode.containerInfo,er=!0,oa(t,e,n),Tt=r,er=i;break;case 0:case 11:case 14:case 15:is(2,n,e),Ht||is(4,n,e),oa(t,e,n);break;case 1:Ht||(Di(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&ZU(n,e,r)),oa(t,e,n);break;case 21:oa(t,e,n);break;case 22:Ht=(r=Ht)||n.memoizedState!==null,oa(t,e,n),Ht=r;break;default:oa(t,e,n)}}function oB(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sc(t)}catch(n){Je(e,e.return,n)}}}function sB(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sc(t)}catch(n){Je(e,e.return,n)}}function S8(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new K1),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new K1),e;default:throw Error(G(435,t.tag))}}function nm(t,e){var n=S8(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=M8.bind(null,t,r);r.then(i,i)}})}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(gs(s.type)){Tt=s.stateNode,er=!1;break e}break;case 5:Tt=s.stateNode,er=!1;break e;case 3:case 4:Tt=s.stateNode.containerInfo,er=!0;break e}s=s.return}if(Tt===null)throw Error(G(160));aB(a,o,i),Tt=null,er=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)lB(e,t),e=e.sibling}var di=null;function lB(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xn(e,t),Zn(t),r&4&&(is(3,t,t.return),Bh(3,t),is(5,t,t.return));break;case 1:Xn(e,t),Zn(t),r&512&&(Ht||n===null||Di(n,n.return)),r&64&&fa&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=di;if(Xn(e,t),Zn(t),r&512&&(Ht||n===null||Di(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[kh]||a[An]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),wn(a,r,n),a[An]=t,dn(a),r=a;break e;case"link":var o=hR("link","href",i).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(r),wn(a,r,n),i.head.appendChild(a);break;case"meta":if(o=hR("meta","content",i).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}a=i.createElement(r),wn(a,r,n),i.head.appendChild(a);break;default:throw Error(G(468,r))}a[An]=t,dn(a),r=a}t.stateNode=r}else pR(i,t.type,t.stateNode);else t.stateNode=fR(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?pR(i,t.type,t.stateNode):fR(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Cb(t,t.memoizedProps,n.memoizedProps)}break;case 27:Xn(e,t),Zn(t),r&512&&(Ht||n===null||Di(n,n.return)),n!==null&&r&4&&Cb(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Xn(e,t),Zn(t),r&512&&(Ht||n===null||Di(n,n.return)),t.flags&32){i=t.stateNode;try{Zu(i,"")}catch(v){Je(t,t.return,v)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Cb(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Rb=!0);break;case 6:if(Xn(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(G(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(v){Je(t,t.return,v)}}break;case 3:if(Jm=null,i=di,di=Gg(e.containerInfo),Xn(e,t),di=i,Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sc(e.containerInfo)}catch(v){Je(t,t.return,v)}Rb&&(Rb=!1,uB(t));break;case 4:r=di,di=Gg(t.stateNode.containerInfo),Xn(e,t),Zn(t),di=r;break;case 12:Xn(e,t),Zn(t);break;case 31:Xn(e,t),Zn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,nm(t,r)));break;case 13:Xn(e,t),Zn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Uy=Tr()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,nm(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=fa,c=Ht;if(fa=u||i,Ht=c||l,Xn(e,t),Ht=c,fa=u,Zn(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||fa||Ht||Us(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var d=l.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;s.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(v){Je(l,l.return,v)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(v){Je(l,l.return,v)}}}else if(e.tag===18){if(n===null){l=e;try{var p=l.stateNode;i?sR(p,!0):sR(l.stateNode,!1)}catch(v){Je(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,nm(t,n))));break;case 19:Xn(e,t),Zn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,nm(t,r)));break;case 30:break;case 21:break;default:Xn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(tB(r)){n=r;break}r=r.return}if(n==null)throw Error(G(160));switch(n.tag){case 27:var i=n.stateNode,a=Pb(t);Vg(t,a,i);break;case 5:var o=n.stateNode;n.flags&32&&(Zu(o,""),n.flags&=-33);var s=Pb(t);Vg(t,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Pb(t);mT(t,u,l);break;default:throw Error(G(161))}}catch(c){Je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uB(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;uB(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function sa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)rB(t,e.alternate,e),e=e.sibling}function Us(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:is(4,e,e.return),Us(e);break;case 1:Di(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&ZU(e,e.return,n),Us(e);break;case 27:Tf(e.stateNode);case 26:case 5:Di(e,e.return),Us(e);break;case 22:e.memoizedState===null&&Us(e);break;case 30:Us(e);break;default:Us(e)}t=t.sibling}}function ua(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:ua(i,a,n),Bh(4,a);break;case 1:if(ua(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Je(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)oU(l[i],s)}catch(u){Je(r,r.return,u)}}n&&o&64&&XU(a),yf(a,a.return);break;case 27:nB(a);case 26:case 5:ua(i,a,n),n&&r===null&&o&4&&eB(a),yf(a,a.return);break;case 12:ua(i,a,n);break;case 31:ua(i,a,n),n&&o&4&&oB(i,a);break;case 13:ua(i,a,n),n&&o&4&&sB(i,a);break;case 22:a.memoizedState===null&&ua(i,a,n),yf(a,a.return);break;case 30:break;default:ua(i,a,n)}e=e.sibling}}function px(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Vh(n))}function mx(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Vh(t))}function ui(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cB(t,e,n,r),e=e.sibling}function cB(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:ui(t,e,n,r),i&2048&&Bh(9,e);break;case 1:ui(t,e,n,r);break;case 3:ui(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Vh(t)));break;case 12:if(i&2048){ui(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Je(e,e.return,l)}}else ui(t,e,n,r);break;case 31:ui(t,e,n,r);break;case 13:ui(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?ui(t,e,n,r):_f(t,e):a._visibility&2?ui(t,e,n,r):(a._visibility|=2,lu(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&px(o,e);break;case 24:ui(t,e,n,r),i&2048&&mx(e.alternate,e);break;default:ui(t,e,n,r)}}function lu(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,o=e,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:lu(a,o,s,l,i),Bh(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?lu(a,o,s,l,i):_f(a,o):(c._visibility|=2,lu(a,o,s,l,i)),i&&u&2048&&px(o.alternate,o);break;case 24:lu(a,o,s,l,i),i&&u&2048&&mx(o.alternate,o);break;default:lu(a,o,s,l,i)}e=e.sibling}}function _f(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:_f(n,r),i&2048&&px(r.alternate,r);break;case 24:_f(n,r),i&2048&&mx(r.alternate,r);break;default:_f(n,r)}e=e.sibling}}var Zd=8192;function Jl(t,e,n){if(t.subtreeFlags&Zd)for(t=t.child;t!==null;)dB(t,e,n),t=t.sibling}function dB(t,e,n){switch(t.tag){case 26:Jl(t,e,n),t.flags&Zd&&t.memoizedState!==null&&cK(n,di,t.memoizedState,t.memoizedProps);break;case 5:Jl(t,e,n);break;case 3:case 4:var r=di;di=Gg(t.stateNode.containerInfo),Jl(t,e,n),di=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Zd,Zd=16777216,Jl(t,e,n),Zd=r):Jl(t,e,n));break;default:Jl(t,e,n)}}function fB(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Nd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];cn=r,pB(r,t)}fB(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hB(t),t=t.sibling}function hB(t){switch(t.tag){case 0:case 11:case 15:Nd(t),t.flags&2048&&is(9,t,t.return);break;case 3:Nd(t);break;case 12:Nd(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ym(t)):Nd(t);break;default:Nd(t)}}function Ym(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];cn=r,pB(r,t)}fB(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:is(8,e,e.return),Ym(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ym(e));break;default:Ym(e)}t=t.sibling}}function pB(t,e){for(;cn!==null;){var n=cn;switch(n.tag){case 0:case 11:case 15:is(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Vh(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,cn=r;else e:for(n=t;cn!==null;){r=cn;var i=r.sibling,a=r.return;if(iB(r),r===n){cn=null;break e}if(i!==null){i.return=a,cn=i;break e}cn=a}}}var x8={getCacheForType:function(t){var e=xn(Kt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return xn(Kt).controller.signal}},w8=typeof WeakMap=="function"?WeakMap:Map,je=0,lt=null,Ce=null,Re=0,Ye=0,mr=null,Mo=!1,Dc=!1,gx=!1,ka=0,Ot=0,as=0,rl=0,vx=0,_r=0,rc=0,bf=null,tr=null,gT=!1,Uy=0,mB=0,Ug=1/0,Bg=null,$o=null,Xt=0,qo=null,ic=null,Ia=0,vT=0,yT=null,gB=null,Ef=0,_T=null;function xr(){return je&2&&Re!==0?Re&-Re:he.T!==null?_x():xV()}function vB(){if(_r===0)if(!(Re&536870912)||Me){var t=Wp;Wp<<=1,!(Wp&3932160)&&(Wp=262144),_r=t}else _r=536870912;return t=Pr.current,t!==null&&(t.flags|=32),_r}function ur(t,e,n){(t===lt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(ac(t,0),Do(t,Re,_r,!1)),Dh(t,n),(!(je&2)||t!==lt)&&(t===lt&&(!(je&2)&&(rl|=n),Ot===4&&Do(t,Re,_r,!1)),Qi(t))}function yB(t,e,n){if(je&6)throw Error(G(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Mh(t,e),i=r?P8(t,e):Nb(t,e,!0),a=r;do{if(i===0){Dc&&!r&&Do(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!I8(n)){i=Nb(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;i=bf;var l=s.current.memoizedState.isDehydrated;if(l&&(ac(s,o).flags|=256),o=Nb(s,o,!1),o!==2){if(gx&&!l){s.errorRecoveryDisabledLanes|=a,rl|=a,i=4;break e}a=tr,tr=i,a!==null&&(tr===null?tr=a:tr.push.apply(tr,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){ac(t,0),Do(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(G(345));case 4:if((e&4194048)!==e)break;case 6:Do(r,e,_r,!Mo);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(G(329))}if((e&62914560)===e&&(i=Uy+300-Tr(),10<i)){if(Do(r,e,_r,!Mo),Iy(r,0,!0)!==0)break e;Ia=e,r.timeoutHandle=UB(W1.bind(null,r,n,tr,Bg,gT,e,_r,rl,rc,Mo,a,"Throttled",-0,0),i);break e}W1(r,n,tr,Bg,gT,e,_r,rl,rc,Mo,a,null,-0,0)}}break}while(!0);Qi(t)}function W1(t,e,n,r,i,a,o,s,l,u,c,d,f,p){if(t.timeoutHandle=-1,d=e.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ma},dB(e,a,d);var v=(a&62914560)===a?Uy-Tr():(a&4194048)===a?mB-Tr():0;if(v=dK(d,v),v!==null){Ia=a,t.cancelPendingCommit=v(Q1.bind(null,t,e,a,n,r,i,o,s,l,c,d,null,f,p)),Do(t,a,o,!u);return}}Q1(t,e,a,n,r,i,o,s,l)}function I8(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Cr(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Do(t,e,n,r){e&=~vx,e&=~rl,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-Sr(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&TV(t,n,e)}function By(){return je&6?!0:(zh(0),!1)}function yx(){if(Ce!==null){if(Ye===0)var t=Ce.return;else t=Ce,ga=Bl=null,rx(t),zu=null,Bf=0,t=Ce;for(;t!==null;)JU(t.alternate,t),t=t.return;Ce=null}}function ac(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,K8(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ia=0,yx(),lt=t,Ce=n=xa(t.current,null),Re=e,Ye=0,mr=null,Mo=!1,Dc=Mh(t,e),gx=!1,rc=_r=vx=rl=as=Ot=0,tr=bf=null,gT=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Sr(r),a=1<<i;e|=t[i],r&=~a}return ka=e,Ny(),n}function _B(t,e){_e=null,he.H=Ff,e===Mc||e===My?(e=w1(),Ye=3):e===QS?(e=w1(),Ye=4):Ye=e===fx?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,mr=e,Ce===null&&(Ot=1,kg(t,Fr(e,t.current)))}function bB(){var t=Pr.current;return t===null?!0:(Re&4194048)===Re?Gr===null:(Re&62914560)===Re||Re&536870912?t===Gr:!1}function EB(){var t=he.H;return he.H=Ff,t===null?Ff:t}function TB(){var t=he.A;return he.A=x8,t}function zg(){Ot=4,Mo||(Re&4194048)!==Re&&Pr.current!==null||(Dc=!0),!(as&134217727)&&!(rl&134217727)||lt===null||Do(lt,Re,_r,!1)}function Nb(t,e,n){var r=je;je|=2;var i=EB(),a=TB();(lt!==t||Re!==e)&&(Bg=null,ac(t,e)),e=!1;var o=Ot;e:do try{if(Ye!==0&&Ce!==null){var s=Ce,l=mr;switch(Ye){case 8:yx(),o=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(e=!0);var u=Ye;if(Ye=0,mr=null,Cu(t,s,l,u),n&&Dc){o=0;break e}break;default:u=Ye,Ye=0,mr=null,Cu(t,s,l,u)}}C8(),o=Ot;break}catch(c){_B(t,c)}while(!0);return e&&t.shellSuspendCounter++,ga=Bl=null,je=r,he.H=i,he.A=a,Ce===null&&(lt=null,Re=0,Ny()),o}function C8(){for(;Ce!==null;)AB(Ce)}function P8(t,e){var n=je;je|=2;var r=EB(),i=TB();lt!==t||Re!==e?(Bg=null,Ug=Tr()+500,ac(t,e)):Dc=Mh(t,e);e:do try{if(Ye!==0&&Ce!==null){e=Ce;var a=mr;t:switch(Ye){case 1:Ye=0,mr=null,Cu(t,e,a,1);break;case 2:case 9:if(x1(a)){Ye=0,mr=null,Y1(e);break}e=function(){Ye!==2&&Ye!==9||lt!==t||(Ye=7),Qi(t)},a.then(e,e);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:x1(a)?(Ye=0,mr=null,Y1(e)):(Ye=0,mr=null,Cu(t,e,a,7));break;case 5:var o=null;switch(Ce.tag){case 26:o=Ce.memoizedState;case 5:case 27:var s=Ce;if(o?$B(o):s.stateNode.complete){Ye=0,mr=null;var l=s.sibling;if(l!==null)Ce=l;else{var u=s.return;u!==null?(Ce=u,zy(u)):Ce=null}break t}}Ye=0,mr=null,Cu(t,e,a,5);break;case 6:Ye=0,mr=null,Cu(t,e,a,6);break;case 8:yx(),Ot=6;break e;default:throw Error(G(462))}}R8();break}catch(c){_B(t,c)}while(!0);return ga=Bl=null,he.H=r,he.A=i,je=n,Ce!==null?0:(lt=null,Re=0,Ny(),Ot)}function R8(){for(;Ce!==null&&!ZH();)AB(Ce)}function AB(t){var e=QU(t.alternate,t,ka);t.memoizedProps=t.pendingProps,e===null?zy(t):Ce=e}function Y1(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=j1(n,e,e.pendingProps,e.type,void 0,Re);break;case 11:e=j1(n,e,e.pendingProps,e.type.render,e.ref,Re);break;case 5:rx(e);default:JU(n,e),e=Ce=JV(e,ka),e=QU(n,e,ka)}t.memoizedProps=t.pendingProps,e===null?zy(t):Ce=e}function Cu(t,e,n,r){ga=Bl=null,rx(e),zu=null,Bf=0;var i=e.return;try{if(y8(t,i,e,n,Re)){Ot=1,kg(t,Fr(n,t.current)),Ce=null;return}}catch(a){if(i!==null)throw Ce=i,a;Ot=1,kg(t,Fr(n,t.current)),Ce=null;return}e.flags&32768?(Me||r===1?t=!0:Dc||Re&536870912?t=!1:(Mo=t=!0,(r===2||r===9||r===3||r===6)&&(r=Pr.current,r!==null&&r.tag===13&&(r.flags|=16384))),SB(e,t)):zy(e)}function zy(t){var e=t;do{if(e.flags&32768){SB(e,Mo);return}t=e.return;var n=E8(e.alternate,e,ka);if(n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);Ot===0&&(Ot=5)}function SB(t,e){do{var n=T8(t.alternate,t);if(n!==null){n.flags&=32767,Ce=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=n}while(t!==null);Ot=6,Ce=null}function Q1(t,e,n,r,i,a,o,s,l){t.cancelPendingCommit=null;do Fy();while(Xt!==0);if(je&6)throw Error(G(327));if(e!==null){if(e===t.current)throw Error(G(177));if(a=e.lanes|e.childLanes,a|=$S,u9(t,n,a,o,s,l),t===lt&&(Ce=lt=null,Re=0),ic=e,qo=t,Ia=n,vT=a,yT=i,gB=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,D8(Sg,function(){return PB(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=he.T,he.T=null,i=qe.p,qe.p=2,o=je,je|=4;try{A8(t,e,n)}finally{je=o,qe.p=i,he.T=r}}Xt=1,xB(),wB(),IB()}}function xB(){if(Xt===1){Xt=0;var t=qo,e=ic,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=he.T,he.T=null;var r=qe.p;qe.p=2;var i=je;je|=4;try{lB(e,t);var a=AT,o=$V(t.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&jV(s.ownerDocument.documentElement,s)){if(l!==null&&jS(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),v=s.textContent.length,E=Math.min(l.start,v),y=l.end===void 0?E:Math.min(l.end,v);!p.extend&&E>y&&(o=y,y=E,E=o);var _=y1(s,E),T=y1(s,y);if(_&&T&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==T.node||p.focusOffset!==T.offset)){var S=d.createRange();S.setStart(_.node,_.offset),p.removeAllRanges(),E>y?(p.addRange(S),p.extend(T.node,T.offset)):(S.setEnd(T.node,T.offset),p.addRange(S))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Wg=!!TT,AT=TT=null}finally{je=i,qe.p=r,he.T=n}}t.current=e,Xt=2}}function wB(){if(Xt===2){Xt=0;var t=qo,e=ic,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=he.T,he.T=null;var r=qe.p;qe.p=2;var i=je;je|=4;try{rB(t,e.alternate,e)}finally{je=i,qe.p=r,he.T=n}}Xt=3}}function IB(){if(Xt===4||Xt===3){Xt=0,e9();var t=qo,e=ic,n=Ia,r=gB;e.subtreeFlags&10256||e.flags&10256?Xt=5:(Xt=0,ic=qo=null,CB(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&($o=null),kS(n),e=e.stateNode,Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Oh,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=he.T,i=qe.p,qe.p=2,he.T=null;try{for(var a=t.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{he.T=e,qe.p=i}}Ia&3&&Fy(),Qi(t),i=t.pendingLanes,n&261930&&i&42?t===_T?Ef++:(Ef=0,_T=t):Ef=0,zh(0)}}function CB(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Vh(e)))}function Fy(){return xB(),wB(),IB(),PB()}function PB(){if(Xt!==5)return!1;var t=qo,e=vT;vT=0;var n=kS(Ia),r=he.T,i=qe.p;try{qe.p=32>n?32:n,he.T=null,n=yT,yT=null;var a=qo,o=Ia;if(Xt=0,ic=qo=null,Ia=0,je&6)throw Error(G(331));var s=je;if(je|=4,hB(a.current),cB(a,a.current,o,n),je=s,zh(0,!1),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Oh,a)}catch{}return!0}finally{qe.p=i,he.T=r,CB(t,e)}}function J1(t,e,n){e=Fr(n,e),e=fT(t.stateNode,e,2),t=jo(t,e,2),t!==null&&(Dh(t,2),Qi(t))}function Je(t,e,n){if(t.tag===3)J1(t,t,n);else for(;e!==null;){if(e.tag===3){J1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($o===null||!$o.has(r))){t=Fr(n,t),n=qU(2),r=jo(e,n,2),r!==null&&(GU(n,r,e,t),Dh(r,2),Qi(r));break}}e=e.return}}function Ob(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new w8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(gx=!0,i.add(n),t=N8.bind(null,t,e,n),e.then(t,t))}function N8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,lt===t&&(Re&n)===n&&(Ot===4||Ot===3&&(Re&62914560)===Re&&300>Tr()-Uy?!(je&2)&&ac(t,0):vx|=n,rc===Re&&(rc=0)),Qi(t)}function RB(t,e){e===0&&(e=EV()),t=Ul(t,e),t!==null&&(Dh(t,e),Qi(t))}function O8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RB(t,n)}function M8(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(G(314))}r!==null&&r.delete(e),RB(t,n)}function D8(t,e){return MS(t,e)}var Fg=null,uu=null,bT=!1,jg=!1,Mb=!1,ko=0;function Qi(t){t!==uu&&t.next===null&&(uu===null?Fg=uu=t:uu=uu.next=t),jg=!0,bT||(bT=!0,L8())}function zh(t,e){if(!Mb&&jg){Mb=!0;do for(var n=!1,r=Fg;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Sr(42|t)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,X1(r,a))}else a=Re,a=Iy(r,r===lt?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Mh(r,a)||(n=!0,X1(r,a));r=r.next}while(n);Mb=!1}}function k8(){NB()}function NB(){jg=bT=!1;var t=0;ko!==0&&H8()&&(t=ko);for(var e=Tr(),n=null,r=Fg;r!==null;){var i=r.next,a=OB(r,e);a===0?(r.next=null,n===null?Fg=i:n.next=i,i===null&&(uu=n)):(n=r,(t!==0||a&3)&&(jg=!0)),r=i}Xt!==0&&Xt!==5||zh(t),ko!==0&&(ko=0)}function OB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-Sr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=l9(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}if(e=lt,n=Re,n=Iy(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&sb(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Mh(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&sb(r),kS(n)){case 2:case 8:n=_V;break;case 32:n=Sg;break;case 268435456:n=bV;break;default:n=Sg}return r=MB.bind(null,t),n=MS(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&sb(r),t.callbackPriority=2,t.callbackNode=null,2}function MB(t,e){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Fy()&&t.callbackNode!==n)return null;var r=Re;return r=Iy(t,t===lt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(yB(t,r,e),OB(t,Tr()),t.callbackNode!=null&&t.callbackNode===n?MB.bind(null,t):null)}function X1(t,e){if(Fy())return null;yB(t,e,!0)}function L8(){W8(function(){je&6?MS(yV,k8):NB()})}function _x(){if(ko===0){var t=ec;t===0&&(t=Kp,Kp<<=1,!(Kp&261888)&&(Kp=256)),ko=t}return ko}function Z1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zm(""+t)}function eR(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function V8(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=Z1((i[cr]||null).action),o=r.submitter;o&&(e=(e=o[cr]||null)?Z1(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var s=new Cy("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ko!==0){var l=o?eR(i,o):new FormData(i);cT(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(s.preventDefault(),l=o?eR(i,o):new FormData(i),cT(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Db=0;Db<XE.length;Db++){var kb=XE[Db],U8=kb.toLowerCase(),B8=kb[0].toUpperCase()+kb.slice(1);Si(U8,"on"+B8)}Si(GV,"onAnimationEnd");Si(HV,"onAnimationIteration");Si(KV,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(t8,"onTransitionRun");Si(n8,"onTransitionStart");Si(r8,"onTransitionCancel");Si(WV,"onTransitionEnd");Xu("onMouseEnter",["mouseout","mouseover"]);Xu("onMouseLeave",["mouseout","mouseover"]);Xu("onPointerEnter",["pointerout","pointerover"]);Xu("onPointerLeave",["pointerout","pointerover"]);kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kl("onBeforeInput",["compositionend","keypress","textInput","paste"]);kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jf));function DB(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){wg(c)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){wg(c)}i.currentTarget=null,a=l}}}}function Ie(t,e){var n=e[qE];n===void 0&&(n=e[qE]=new Set);var r=t+"__bubble";n.has(r)||(kB(e,t,2,!1),n.add(r))}function Lb(t,e,n){var r=0;e&&(r|=4),kB(n,t,r,e)}var rm="_reactListening"+Math.random().toString(36).slice(2);function bx(t){if(!t[rm]){t[rm]=!0,wV.forEach(function(n){n!=="selectionchange"&&(z8.has(n)||Lb(n,!1,t),Lb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rm]||(e[rm]=!0,Lb("selectionchange",!1,e))}}function kB(t,e,n,r){switch(WB(e)){case 2:var i=pK;break;case 8:i=mK;break;default:i=Sx}n=i.bind(null,e,n,t),i=void 0,!YE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=_u(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=a=o;continue e}s=s.parentNode}}r=r.return}DV(function(){var u=a,c=US(n),d=[];e:{var f=YV.get(t);if(f!==void 0){var p=Cy,v=t;switch(t){case"keypress":if(jm(n)===0)break e;case"keydown":case"keyup":p=M9;break;case"focusin":v="focus",p=fb;break;case"focusout":v="blur",p=fb;break;case"beforeblur":case"afterblur":p=fb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=l1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=E9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=L9;break;case GV:case HV:case KV:p=S9;break;case WV:p=U9;break;case"scroll":case"scrollend":p=_9;break;case"wheel":p=z9;break;case"copy":case"cut":case"paste":p=w9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=c1;break;case"toggle":case"beforetoggle":p=j9}var E=(e&4)!==0,y=!E&&(t==="scroll"||t==="scrollend"),_=E?f!==null?f+"Capture":null:f;E=[];for(var T=u,S;T!==null;){var w=T;if(S=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||S===null||_===null||(w=Df(T,_),w!=null&&E.push($f(T,w,S))),y)break;T=T.return}0<E.length&&(f=new p(f,v,null,n,c),d.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==WE&&(v=n.relatedTarget||n.fromElement)&&(_u(v)||v[Rc]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?_u(v):null,v!==null&&(y=Nh(v),E=v.tag,v!==y||E!==5&&E!==27&&E!==6)&&(v=null)):(p=null,v=u),p!==v)){if(E=l1,w="onMouseLeave",_="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(E=c1,w="onPointerLeave",_="onPointerEnter",T="pointer"),y=p==null?f:Jd(p),S=v==null?f:Jd(v),f=new E(w,T+"leave",p,n,c),f.target=y,f.relatedTarget=S,w=null,_u(c)===u&&(E=new E(_,T+"enter",v,n,c),E.target=S,E.relatedTarget=y,w=E),y=w,p&&v)t:{for(E=F8,_=p,T=v,S=0,w=_;w;w=E(w))S++;w=0;for(var N=T;N;N=E(N))w++;for(;0<S-w;)_=E(_),S--;for(;0<w-S;)T=E(T),w--;for(;S--;){if(_===T||T!==null&&_===T.alternate){E=_;break t}_=E(_),T=E(T)}E=null}else E=null;p!==null&&tR(d,f,p,E,!1),v!==null&&y!==null&&tR(d,y,v,E,!0)}}e:{if(f=u?Jd(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var O=p1;else if(h1(f))if(zV)O=X9;else{O=Q9;var I=Y9}else p=f.nodeName,!p||p.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&VS(u.elementType)&&(O=p1):O=J9;if(O&&(O=O(t,u))){BV(d,O,n,c);break e}I&&I(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&KE(f,"number",f.value)}switch(I=u?Jd(u):window,t){case"focusin":(h1(I)||I.contentEditable==="true")&&(Tu=I,QE=u,ff=null);break;case"focusout":ff=QE=Tu=null;break;case"mousedown":JE=!0;break;case"contextmenu":case"mouseup":case"dragend":JE=!1,_1(d,n,c);break;case"selectionchange":if(e8)break;case"keydown":case"keyup":_1(d,n,c)}var P;if(FS)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Eu?VV(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(LV&&n.locale!=="ko"&&(Eu||R!=="onCompositionStart"?R==="onCompositionEnd"&&Eu&&(P=kV()):(Oo=c,BS="value"in Oo?Oo.value:Oo.textContent,Eu=!0)),I=$g(u,R),0<I.length&&(R=new u1(R,t,null,n,c),d.push({event:R,listeners:I}),P?R.data=P:(P=UV(n),P!==null&&(R.data=P)))),(P=q9?G9(t,n):H9(t,n))&&(R=$g(u,"onBeforeInput"),0<R.length&&(I=new u1("onBeforeInput","beforeinput",null,n,c),d.push({event:I,listeners:R}),I.data=P)),V8(d,t,u,n,c)}DB(d,e)})}function $f(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $g(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Df(t,n),i!=null&&r.unshift($f(t,i,a)),i=Df(t,e),i!=null&&r.push($f(t,i,a))),t.tag===3)return r;t=t.return}return[]}function F8(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tR(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=Df(n,a),u!=null&&o.unshift($f(n,u,l))):i||(u=Df(n,a),u!=null&&o.push($f(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var j8=/\r\n?/g,$8=/\u0000|\uFFFD/g;function nR(t){return(typeof t=="string"?t:""+t).replace(j8,`
`).replace($8,"")}function LB(t,e){return e=nR(e),nR(t)===e}function tt(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Zu(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Zu(t,""+r);break;case"className":Qp(t,"class",r);break;case"tabIndex":Qp(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Qp(t,n,r);break;case"style":MV(t,r,a);break;case"data":if(e!=="object"){Qp(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=zm(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&tt(t,e,"name",i.name,i,null),tt(t,e,"formEncType",i.formEncType,i,null),tt(t,e,"formMethod",i.formMethod,i,null),tt(t,e,"formTarget",i.formTarget,i,null)):(tt(t,e,"encType",i.encType,i,null),tt(t,e,"method",i.method,i,null),tt(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=zm(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=ma);break;case"onScroll":r!=null&&Ie("scroll",t);break;case"onScrollEnd":r!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(G(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(G(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=zm(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),Bm(t,"popover",r);break;case"xlinkActuate":ia(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ia(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ia(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ia(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ia(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ia(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ia(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ia(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ia(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Bm(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=v9.get(n)||n,Bm(t,n,r))}}function ET(t,e,n,r,i,a){switch(n){case"style":MV(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(G(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(G(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Zu(t,r):(typeof r=="number"||typeof r=="bigint")&&Zu(t,""+r);break;case"onScroll":r!=null&&Ie("scroll",t);break;case"onScrollEnd":r!=null&&Ie("scrollend",t);break;case"onClick":r!=null&&(t.onclick=ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!IV.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[cr]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Bm(t,n,r)}}}function wn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(G(137,e));default:tt(t,e,a,o,n,null)}}i&&tt(t,e,"srcSet",n.srcSet,n,null),r&&tt(t,e,"src",n.src,n,null);return;case"input":Ie("invalid",t);var s=a=o=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":o=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(G(137,e));break;default:tt(t,e,r,c,n,null)}}RV(t,a,s,l,u,o,i,!1);return;case"select":Ie("invalid",t),r=o=a=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:tt(t,e,i,s,n,null)}e=a,n=o,t.multiple=!!r,e!=null?Vu(t,!!r,e,!1):n!=null&&Vu(t,!!r,n,!0);return;case"textarea":Ie("invalid",t),a=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(G(91));break;default:tt(t,e,o,s,n,null)}OV(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:tt(t,e,l,r,n,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(r=0;r<jf.length;r++)Ie(jf[r],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(G(137,e));default:tt(t,e,u,r,n,null)}return;default:if(VS(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&ET(t,e,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&tt(t,e,s,r,n,null))}function q8(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,l=null,u=null,c=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||tt(t,e,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(p!=null||d!=null))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":o=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(G(137,e));break;default:p!==d&&tt(t,e,f,p,r,d)}}HE(t,o,s,l,u,c,a,i);return;case"select":p=o=s=f=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||tt(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":f=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&tt(t,e,i,a,r,l)}e=s,n=o,r=p,f!=null?Vu(t,!!n,f,!1):!!r!=!!n&&(e!=null?Vu(t,!!n,e,!0):Vu(t,!!n,n?[]:"",!1));return;case"textarea":p=f=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:tt(t,e,s,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(G(91));break;default:i!==a&&tt(t,e,o,i,r,a)}NV(t,f,p);return;case"option":for(var v in n)if(f=n[v],n.hasOwnProperty(v)&&f!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:tt(t,e,v,null,r,f)}for(l in r)if(f=r[l],p=n[l],r.hasOwnProperty(l)&&f!==p&&(f!=null||p!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:tt(t,e,l,f,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)f=n[E],n.hasOwnProperty(E)&&f!=null&&!r.hasOwnProperty(E)&&tt(t,e,E,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(f!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(G(137,e));break;default:tt(t,e,u,f,r,p)}return;default:if(VS(e)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!==void 0&&!r.hasOwnProperty(y)&&ET(t,e,y,void 0,r,f);for(c in r)f=r[c],p=n[c],!r.hasOwnProperty(c)||f===p||f===void 0&&p===void 0||ET(t,e,c,f,r,p);return}}for(var _ in n)f=n[_],n.hasOwnProperty(_)&&f!=null&&!r.hasOwnProperty(_)&&tt(t,e,_,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||f==null&&p==null||tt(t,e,d,f,r,p)}function rR(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G8(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&rR(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,d=l.initiatorType;c&&rR(d)&&(l=l.responseEnd,o+=c*(l<s?1:(s-u)/(l-u)))}if(--r,e+=8*(a+o)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var TT=null,AT=null;function qg(t){return t.nodeType===9?t:t.ownerDocument}function iR(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VB(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function ST(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ub=null;function H8(){var t=window.event;return t&&t.type==="popstate"?t===Ub?!1:(Ub=t,!0):(Ub=null,!1)}var UB=typeof setTimeout=="function"?setTimeout:void 0,K8=typeof clearTimeout=="function"?clearTimeout:void 0,aR=typeof Promise=="function"?Promise:void 0,W8=typeof queueMicrotask=="function"?queueMicrotask:typeof aR<"u"?function(t){return aR.resolve(null).then(t).catch(Y8)}:UB;function Y8(t){setTimeout(function(){throw t})}function gs(t){return t==="head"}function oR(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),sc(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Tf(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Tf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[kh]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}else n==="body"&&Tf(t.ownerDocument.body);n=i}while(n);sc(e)}function sR(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function xT(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xT(n),LS(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Q8(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[kh])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Hr(t.nextSibling),t===null)break}return null}function J8(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Hr(t.nextSibling),t===null))return null;return t}function BB(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Hr(t.nextSibling),t===null))return null;return t}function wT(t){return t.data==="$?"||t.data==="$~"}function IT(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function X8(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var CT=null;function lR(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Hr(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function uR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function zB(t,e,n){switch(e=qg(n),t){case"html":if(t=e.documentElement,!t)throw Error(G(452));return t;case"head":if(t=e.head,!t)throw Error(G(453));return t;case"body":if(t=e.body,!t)throw Error(G(454));return t;default:throw Error(G(451))}}function Tf(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);LS(t)}var Jr=new Map,cR=new Set;function Gg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ya=qe.d;qe.d={f:Z8,r:eK,D:tK,C:nK,L:rK,m:iK,X:oK,S:aK,M:sK};function Z8(){var t=Ya.f(),e=By();return t||e}function eK(t){var e=Nc(t);e!==null&&e.tag===5&&e.type==="form"?MU(e):Ya.r(t)}var kc=typeof document>"u"?null:document;function FB(t,e,n){var r=kc;if(r&&typeof e=="string"&&e){var i=zr(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),cR.has(i)||(cR.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),wn(e,"link",t),dn(e),r.head.appendChild(e)))}}function tK(t){Ya.D(t),FB("dns-prefetch",t,null)}function nK(t,e){Ya.C(t,e),FB("preconnect",t,e)}function rK(t,e,n){Ya.L(t,e,n);var r=kc;if(r&&t&&e){var i='link[rel="preload"][as="'+zr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+zr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+zr(n.imageSizes)+'"]')):i+='[href="'+zr(t)+'"]';var a=i;switch(e){case"style":a=oc(t);break;case"script":a=Lc(t)}Jr.has(a)||(t=Et({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Jr.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Fh(a))||e==="script"&&r.querySelector(jh(a))||(e=r.createElement("link"),wn(e,"link",t),dn(e),r.head.appendChild(e)))}}function iK(t,e){Ya.m(t,e);var n=kc;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+zr(r)+'"][href="'+zr(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Lc(t)}if(!Jr.has(a)&&(t=Et({rel:"modulepreload",href:t},e),Jr.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(jh(a)))return}r=n.createElement("link"),wn(r,"link",t),dn(r),n.head.appendChild(r)}}}function aK(t,e,n){Ya.S(t,e,n);var r=kc;if(r&&t){var i=Lu(r).hoistableStyles,a=oc(t);e=e||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Fh(a)))s.loading=5;else{t=Et({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Jr.get(a))&&Ex(t,n);var l=o=r.createElement("link");dn(l),wn(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Qm(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function oK(t,e){Ya.X(t,e);var n=kc;if(n&&t){var r=Lu(n).hoistableScripts,i=Lc(t),a=r.get(i);a||(a=n.querySelector(jh(i)),a||(t=Et({src:t,async:!0},e),(e=Jr.get(i))&&Tx(t,e),a=n.createElement("script"),dn(a),wn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function sK(t,e){Ya.M(t,e);var n=kc;if(n&&t){var r=Lu(n).hoistableScripts,i=Lc(t),a=r.get(i);a||(a=n.querySelector(jh(i)),a||(t=Et({src:t,async:!0,type:"module"},e),(e=Jr.get(i))&&Tx(t,e),a=n.createElement("script"),dn(a),wn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function dR(t,e,n,r){var i=(i=Bo.current)?Gg(i):null;if(!i)throw Error(G(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=oc(n.href),n=Lu(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=oc(n.href);var a=Lu(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(Fh(t)))&&!a._p&&(o.instance=a,o.state.loading=5),Jr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Jr.set(t,n),a||lK(i,t,n,o.state))),e&&r===null)throw Error(G(528,""));return o}if(e&&r!==null)throw Error(G(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Lc(n),n=Lu(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(G(444,t))}}function oc(t){return'href="'+zr(t)+'"'}function Fh(t){return'link[rel="stylesheet"]['+t+"]"}function jB(t){return Et({},t,{"data-precedence":t.precedence,precedence:null})}function lK(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),wn(e,"link",n),dn(e),t.head.appendChild(e))}function Lc(t){return'[src="'+zr(t)+'"]'}function jh(t){return"script[async]"+t}function fR(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+zr(n.href)+'"]');if(r)return e.instance=r,dn(r),r;var i=Et({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),dn(r),wn(r,"style",i),Qm(r,n.precedence,t),e.instance=r;case"stylesheet":i=oc(n.href);var a=t.querySelector(Fh(i));if(a)return e.state.loading|=4,e.instance=a,dn(a),a;r=jB(n),(i=Jr.get(i))&&Ex(r,i),a=(t.ownerDocument||t).createElement("link"),dn(a);var o=a;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),wn(a,"link",r),e.state.loading|=4,Qm(a,n.precedence,t),e.instance=a;case"script":return a=Lc(n.src),(i=t.querySelector(jh(a)))?(e.instance=i,dn(i),i):(r=n,(i=Jr.get(a))&&(r=Et({},n),Tx(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),dn(i),wn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(G(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Qm(r,n.precedence,t));return e.instance}function Qm(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===e)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Ex(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Tx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Jm=null;function hR(t,e,n){if(Jm===null){var r=new Map,i=Jm=new Map;i.set(n,r)}else i=Jm,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[kh]||a[An]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function pR(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function uK(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function $B(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function cK(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=oc(r.href),a=e.querySelector(Fh(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Hg.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,dn(a);return}a=e.ownerDocument||e,r=jB(r),(i=Jr.get(i))&&Ex(r,i),a=a.createElement("link"),dn(a);var o=a;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),wn(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Hg.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Bb=0;function dK(t,e){return t.stylesheets&&t.count===0&&Xm(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Xm(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Bb===0&&(Bb=62500*G8());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xm(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Bb?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Hg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kg=null;function Xm(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kg=new Map,e.forEach(fK,t),Kg=null,Hg.call(t))}function fK(t,e){if(!(e.state.loading&4)){var n=Kg.get(t);if(n)var r=n.get(null);else{n=new Map,Kg.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Hg.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var qf={$$typeof:pa,Provider:null,Consumer:null,_currentValue:Zs,_currentValue2:Zs,_threadCount:0};function hK(t,e,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lb(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lb(0),this.hiddenUpdates=lb(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function qB(t,e,n,r,i,a,o,s,l,u,c,d){return t=new hK(t,e,n,o,l,u,c,d,s),e=1,a===!0&&(e|=24),a=vr(3,null,null,e),t.current=a,a.stateNode=t,e=WS(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},JS(a),t}function GB(t){return t?(t=xu,t):xu}function HB(t,e,n,r,i,a){i=GB(i),r.context===null?r.context=i:r.pendingContext=i,r=Fo(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=jo(t,r,e),n!==null&&(ur(n,t,e),pf(n,t,e))}function mR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ax(t,e){mR(t,e),(t=t.alternate)&&mR(t,e)}function KB(t){if(t.tag===13||t.tag===31){var e=Ul(t,67108864);e!==null&&ur(e,t,67108864),Ax(t,67108864)}}function gR(t){if(t.tag===13||t.tag===31){var e=xr();e=DS(e);var n=Ul(t,e);n!==null&&ur(n,t,e),Ax(t,e)}}var Wg=!0;function pK(t,e,n,r){var i=he.T;he.T=null;var a=qe.p;try{qe.p=2,Sx(t,e,n,r)}finally{qe.p=a,he.T=i}}function mK(t,e,n,r){var i=he.T;he.T=null;var a=qe.p;try{qe.p=8,Sx(t,e,n,r)}finally{qe.p=a,he.T=i}}function Sx(t,e,n,r){if(Wg){var i=PT(r);if(i===null)Vb(t,e,r,Yg,n),vR(t,r);else if(vK(i,t,e,n,r))r.stopPropagation();else if(vR(t,r),e&4&&-1<gK.indexOf(t)){for(;i!==null;){var a=Nc(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Ls(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-Sr(o);s.entanglements[1]|=l,o&=~l}Qi(a),!(je&6)&&(Ug=Tr()+500,zh(0))}}break;case 31:case 13:s=Ul(a,2),s!==null&&ur(s,a,2),By(),Ax(a,2)}if(a=PT(r),a===null&&Vb(t,e,r,Yg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Vb(t,e,r,null,n)}}function PT(t){return t=US(t),xx(t)}var Yg=null;function xx(t){if(Yg=null,t=_u(t),t!==null){var e=Nh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=hV(e),t!==null)return t;t=null}else if(n===31){if(t=pV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Yg=t,null}function WB(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(t9()){case yV:return 2;case _V:return 8;case Sg:case n9:return 32;case bV:return 268435456;default:return 32}default:return 32}}var RT=!1,Go=null,Ho=null,Ko=null,Gf=new Map,Hf=new Map,So=[],gK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vR(t,e){switch(t){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":Ko=null;break;case"pointerover":case"pointerout":Gf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hf.delete(e.pointerId)}}function Od(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Nc(e),e!==null&&KB(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vK(t,e,n,r,i){switch(e){case"focusin":return Go=Od(Go,t,e,n,r,i),!0;case"dragenter":return Ho=Od(Ho,t,e,n,r,i),!0;case"mouseover":return Ko=Od(Ko,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Gf.set(a,Od(Gf.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Hf.set(a,Od(Hf.get(a)||null,t,e,n,r,i)),!0}return!1}function YB(t){var e=_u(t.target);if(e!==null){var n=Nh(e);if(n!==null){if(e=n.tag,e===13){if(e=hV(n),e!==null){t.blockedOn=e,t1(t.priority,function(){gR(n)});return}}else if(e===31){if(e=pV(n),e!==null){t.blockedOn=e,t1(t.priority,function(){gR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=PT(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);WE=r,n.target.dispatchEvent(r),WE=null}else return e=Nc(n),e!==null&&KB(e),t.blockedOn=n,!1;e.shift()}return!0}function yR(t,e,n){Zm(t)&&n.delete(e)}function yK(){RT=!1,Go!==null&&Zm(Go)&&(Go=null),Ho!==null&&Zm(Ho)&&(Ho=null),Ko!==null&&Zm(Ko)&&(Ko=null),Gf.forEach(yR),Hf.forEach(yR)}function im(t,e){t.blockedOn===e&&(t.blockedOn=null,RT||(RT=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,yK)))}var am=null;function _R(t){am!==t&&(am=t,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,function(){am===t&&(am=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(xx(r||n)===null)continue;break}var a=Nc(n);a!==null&&(t.splice(e,3),e-=3,cT(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function sc(t){function e(l){return im(l,t)}Go!==null&&im(Go,t),Ho!==null&&im(Ho,t),Ko!==null&&im(Ko,t),Gf.forEach(e),Hf.forEach(e);for(var n=0;n<So.length;n++){var r=So[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<So.length&&(n=So[0],n.blockedOn===null);)YB(n),n.blockedOn===null&&So.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[cr]||null;if(typeof a=="function")o||_R(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[cr]||null)s=o.formAction;else if(xx(i)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),_R(n)}}}function QB(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function wx(t){this._internalRoot=t}jy.prototype.render=wx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));var n=e.current,r=xr();HB(n,r,t,e,null,null)};jy.prototype.unmount=wx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;HB(t.current,2,null,t,null,null),By(),e[Rc]=null}};function jy(t){this._internalRoot=t}jy.prototype.unstable_scheduleHydration=function(t){if(t){var e=xV();t={blockedOn:null,target:t,priority:e};for(var n=0;n<So.length&&e!==0&&e<So[n].priority;n++);So.splice(n,0,t),n===0&&YB(t)}};var bR=dV.version;if(bR!=="19.2.4")throw Error(G(527,bR,"19.2.4"));qe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=WH(e),t=t!==null?mV(t):null,t=t===null?null:t.stateNode,t};var _K={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:he,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!om.isDisabled&&om.supportsFiber)try{Oh=om.inject(_K),Ar=om}catch{}}Sy.createRoot=function(t,e){if(!fV(t))throw Error(G(299));var n=!1,r="",i=FU,a=jU,o=$U;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=qB(t,1,!1,null,null,n,r,null,i,a,o,QB),t[Rc]=e.current,bx(t),new wx(e)};Sy.hydrateRoot=function(t,e,n){if(!fV(t))throw Error(G(299));var r=!1,i="",a=FU,o=jU,s=$U,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=qB(t,1,!0,e,n??null,r,i,l,a,o,s,QB),e.context=GB(null),n=e.current,r=xr(),r=DS(r),i=Fo(r),i.callback=null,jo(n,i,r),n=r,e.current.lanes=n,Dh(e,n),Qi(e),t[Rc]=e.current,bx(t),new jy(e)};Sy.version="19.2.4";function JB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JB)}catch(t){console.error(t)}}JB(),aV.exports=Sy;var bK=aV.exports;const EK=ri(bK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=t=>{const e=AK(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>b.createElement("svg",{ref:l,...SK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:XB("lucide",i),...!a&&!xK(s)&&{"aria-hidden":"true"},...s},[...o.map(([u,c])=>b.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const n=b.forwardRef(({className:r,...i},a)=>b.createElement(wK,{ref:a,iconNode:e,className:XB(`lucide-${TK(ER(t))}`,`lucide-${t}`,r),...i}));return n.displayName=ER(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ZB=we("activity",IK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],PK=we("arrow-down-right",CK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],NK=we("arrow-right-left",RK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],MK=we("arrow-right",OK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ez=we("arrow-up-right",DK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],tz=we("badge-percent",kK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],VK=we("brain-circuit",LK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],BK=we("building-2",UK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],FK=we("calendar",zK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],$K=we("chart-no-axes-column",jK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],GK=we("chart-pie",qK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],KK=we("chevron-right",HK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],YK=we("circle-alert",WK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],JK=we("circle-check",QK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZK=we("clock",XK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],t7=we("cloud-upload",e7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ix=we("database",n7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],i7=we("dollar-sign",r7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],o7=we("funnel",a7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],l7=we("layout-dashboard",s7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],c7=we("list-checks",u7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Kf=we("loader-circle",d7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],nz=we("map",f7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],NT=we("menu",h7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M5 12h14",key:"1ays0h"}]],m7=we("minus",p7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],v7=we("scale",g7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rz=we("search",y7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qg=we("sparkles",_7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],E7=we("table-properties",b7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],A7=we("trash-2",T7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],x7=we("trending-down",S7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],iz=we("trending-up",w7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],az=we("triangle-alert",I7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],P7=we("trophy",C7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oz=we("users",R7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],O7=we("wallet",N7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],D7=we("wifi-off",M7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],L7=we("wifi",k7),V7=({activeTab:t,setActiveTab:e,isMobileOpen:n,setIsMobileOpen:r,dbStatus:i=!1})=>{const a=[{id:"dashboard",label:"Viso Geral",icon:l7},{id:"admin_analysis",label:"Anlise por Adm.",icon:BK},{id:"operational",label:"Performance Oper.",icon:ZB},{id:"competitive",label:"Posicionamento Competitivo",icon:GK},{id:"trends",label:"Tendncias de Mercado",icon:iz},{id:"regional",label:"Anlise Regional",icon:nz},{id:"import",label:"Importar Dados",icon:Ix}];return x.jsxs(x.Fragment,{children:[n&&x.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-20 lg:hidden",onClick:()=>r(!1)}),x.jsxs("aside",{className:`fixed top-0 left-0 z-30 h-full w-64 bg-slate-900 text-white transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:block ${n?"translate-x-0":"-translate-x-full"}`,children:[x.jsxs("div",{className:"flex h-16 items-center justify-between px-6 bg-slate-950 border-b border-slate-800/50",children:[x.jsxs("span",{className:"text-xl font-bold tracking-tight text-blue-400",children:["Consrcio",x.jsx("span",{className:"text-white",children:"Intel"})]}),x.jsx("button",{onClick:()=>r(!1),className:"lg:hidden text-slate-400",children:x.jsx(NT,{size:20})})]}),x.jsx("nav",{className:"p-4 space-y-2 mt-4",children:a.map(o=>{const s=o.icon;return x.jsxs("button",{onClick:()=>{e(o.id),r(!1)},className:`flex w-full items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-all ${t===o.id?"bg-blue-600 text-white shadow-xl shadow-blue-900/50 scale-105":"text-slate-400 hover:bg-slate-800/50 hover:text-white"}`,children:[x.jsx(s,{size:18}),o.label]},o.id)})}),x.jsx("div",{className:"absolute bottom-0 w-full p-6 border-t border-slate-800 bg-slate-950/50",children:x.jsxs("div",{className:"rounded-xl bg-slate-800/50 p-4 border border-slate-700/50 space-y-3",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"text-[10px] font-bold uppercase text-slate-500 mb-2 tracking-widest",children:"Status da API"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500"}),x.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Chave Offline"})]})]}),x.jsxs("div",{className:"pt-3 border-t border-slate-700/50",children:[x.jsx("h4",{className:"text-[10px] font-bold uppercase text-slate-500 mb-2 tracking-widest",children:"Banco de Dados"}),x.jsxs("div",{className:"flex items-center gap-2",children:[i?x.jsx(L7,{size:14,className:"text-green-500"}):x.jsx(D7,{size:14,className:"text-red-500"}),x.jsx("span",{className:`text-xs font-medium ${i?"text-green-400":"text-red-400"}`,children:i?"Firestore Online":"Desconectado"})]})]})]})})]})]})},Xl=({title:t,value:e,trend:n,trendLabel:r="vs. trimestre anterior",color:i="blue"})=>{const a=n>0,o=n===0,s={blue:"border-l-blue-500",indigo:"border-l-indigo-500",slate:"border-l-slate-500",emerald:"border-l-emerald-500"};return x.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-slate-100 p-6 border-l-4 ${s[i]}`,children:[x.jsx("h3",{className:"text-sm font-medium text-slate-500 mb-1",children:t}),x.jsx("div",{className:"flex items-baseline gap-2",children:x.jsx("span",{className:"text-2xl font-bold text-slate-900",children:e})}),x.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs",children:[x.jsxs("span",{className:`flex items-center gap-1 font-medium rounded-full px-2 py-0.5 ${a?"bg-green-100 text-green-700":o?"bg-slate-100 text-slate-600":"bg-red-100 text-red-700"}`,children:[a?x.jsx(ez,{size:14}):o?x.jsx(m7,{size:14}):x.jsx(PK,{size:14}),Math.abs(n),"%"]}),x.jsx("span",{className:"text-slate-400",children:r})]})]})};function sz(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=sz(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function be(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=sz(t))&&(r&&(r+=" "),r+=e);return r}var U7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Cx(t){if(typeof t!="string")return!1;var e=U7;return e.includes(t)}var B7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],z7=new Set(B7);function lz(t){return typeof t!="string"?!1:z7.has(t)}function uz(t){return typeof t=="string"&&t.startsWith("data-")}function it(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(lz(n)||uz(n))&&(e[n]=t[n]);return e}function $i(t){if(t==null)return null;if(b.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return it(e)}return typeof t=="object"&&!Array.isArray(t)?it(t):null}function Bt(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(lz(n)||uz(n)||Cx(n))&&(e[n]=t[n]);return e}function F7(t){return t==null?null:b.isValidElement(t)?Bt(t.props):typeof t=="object"&&!Array.isArray(t)?Bt(t):null}var j7=["children","width","height","viewBox","className","style","title","desc"];function OT(){return OT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OT.apply(null,arguments)}function $7(t,e){if(t==null)return{};var n,r,i=q7(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function q7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Px=b.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:s,title:l,desc:u}=t,c=$7(t,j7),d=a||{width:r,height:i,x:0,y:0},f=be("recharts-surface",o);return b.createElement("svg",OT({},Bt(c),{className:f,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),b.createElement("title",null,l),b.createElement("desc",null,u),n)}),G7=["children","className"];function MT(){return MT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MT.apply(null,arguments)}function H7(t,e){if(t==null)return{};var n,r,i=K7(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var De=b.forwardRef((t,e)=>{var{children:n,className:r}=t,i=H7(t,G7),a=be("recharts-layer",r);return b.createElement("g",MT({className:a},Bt(i),{ref:e}),n)}),cz=b.createContext(null),W7=()=>b.useContext(cz);function dt(t){return function(){return t}}const dz=Math.cos,Jg=Math.sin,xi=Math.sqrt,Xg=Math.PI,$y=2*Xg,DT=Math.PI,kT=2*DT,Bs=1e-6,Y7=kT-Bs;function fz(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Q7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fz;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class J7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fz:Q7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,d=s-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Bs)if(!(Math.abs(d*l-u*c)>Bs)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,v=i-s,E=l*l+u*u,y=p*p+v*v,_=Math.sqrt(E),T=Math.sqrt(f),S=a*Math.tan((DT-Math.acos((E+f-y)/(2*_*T)))/2),w=S/T,N=S/_;Math.abs(w-1)>Bs&&this._append`L${e+w*c},${n+w*d}`,this._append`A${a},${a},0,0,${+(d*p>c*v)},${this._x1=e+N*l},${this._y1=n+N*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Bs||Math.abs(this._y1-c)>Bs)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%kT+kT),f>Y7?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>Bs&&this._append`A${r},${r},0,${+(f>=DT)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Rx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new J7(e)}function Nx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hz(t){this._context=t}hz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qy(t){return new hz(t)}function pz(t){return t[0]}function mz(t){return t[1]}function gz(t,e){var n=dt(!0),r=null,i=qy,a=null,o=Rx(s);t=typeof t=="function"?t:t===void 0?pz:dt(t),e=typeof e=="function"?e:e===void 0?mz:dt(e);function s(l){var u,c=(l=Nx(l)).length,d,f=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(d,u,l),+e(d,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:dt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:dt(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:dt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function sm(t,e,n){var r=null,i=dt(!0),a=null,o=qy,s=null,l=Rx(u);t=typeof t=="function"?t:t===void 0?pz:dt(+t),e=typeof e=="function"?e:dt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?mz:dt(+n);function u(d){var f,p,v,E=(d=Nx(d)).length,y,_=!1,T,S=new Array(E),w=new Array(E);for(a==null&&(s=o(T=l())),f=0;f<=E;++f){if(!(f<E&&i(y=d[f],f,d))===_)if(_=!_)p=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=f-1;v>=p;--v)s.point(S[v],w[v]);s.lineEnd(),s.areaEnd()}_&&(S[f]=+t(y,f,d),w[f]=+e(y,f,d),s.point(r?+r(y,f,d):S[f],n?+n(y,f,d):w[f]))}if(T)return s=null,T+""||null}function c(){return gz().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:dt(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:dt(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:dt(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:dt(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:dt(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:dt(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:dt(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class vz{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function X7(t){return new vz(t,!0)}function Z7(t){return new vz(t,!1)}const Ox={draw(t,e){const n=xi(e/Xg);t.moveTo(n,0),t.arc(0,0,n,0,$y)}},eW={draw(t,e){const n=xi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},yz=xi(1/3),tW=yz*2,nW={draw(t,e){const n=xi(e/tW),r=n*yz;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},rW={draw(t,e){const n=xi(e),r=-n/2;t.rect(r,r,n,n)}},iW=.8908130915292852,_z=Jg(Xg/10)/Jg(7*Xg/10),aW=Jg($y/10)*_z,oW=-dz($y/10)*_z,sW={draw(t,e){const n=xi(e*iW),r=aW*n,i=oW*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=$y*a/5,s=dz(o),l=Jg(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},zb=xi(3),lW={draw(t,e){const n=-xi(e/(zb*3));t.moveTo(0,n*2),t.lineTo(-zb*n,-n),t.lineTo(zb*n,-n),t.closePath()}},Or=-.5,Mr=xi(3)/2,LT=1/xi(12),uW=(LT/2+1)*3,cW={draw(t,e){const n=xi(e/uW),r=n/2,i=n*LT,a=r,o=n*LT+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Or*r-Mr*i,Mr*r+Or*i),t.lineTo(Or*a-Mr*o,Mr*a+Or*o),t.lineTo(Or*s-Mr*l,Mr*s+Or*l),t.lineTo(Or*r+Mr*i,Or*i-Mr*r),t.lineTo(Or*a+Mr*o,Or*o-Mr*a),t.lineTo(Or*s+Mr*l,Or*l-Mr*s),t.closePath()}};function dW(t,e){let n=null,r=Rx(i);t=typeof t=="function"?t:dt(t||Ox),e=typeof e=="function"?e:dt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:dt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:dt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Zg(){}function ev(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bz(t){this._context=t}bz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ev(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ev(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fW(t){return new bz(t)}function Ez(t){this._context=t}Ez.prototype={areaStart:Zg,areaEnd:Zg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ev(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hW(t){return new Ez(t)}function Tz(t){this._context=t}Tz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ev(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pW(t){return new Tz(t)}function Az(t){this._context=t}Az.prototype={areaStart:Zg,areaEnd:Zg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function mW(t){return new Az(t)}function TR(t){return t<0?-1:1}function AR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(TR(a)+TR(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function SR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Fb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function tv(t){this._context=t}tv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fb(this,this._t0,SR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Fb(this,SR(this,n=AR(this,t,e)),n);break;default:Fb(this,this._t0,n=AR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Sz(t){this._context=new xz(t)}(Sz.prototype=Object.create(tv.prototype)).point=function(t,e){tv.prototype.point.call(this,e,t)};function xz(t){this._context=t}xz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function gW(t){return new tv(t)}function vW(t){return new Sz(t)}function wz(t){this._context=t}wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=xR(t),i=xR(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function xR(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function yW(t){return new wz(t)}function Gy(t,e){this._context=t,this._t=e}Gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _W(t){return new Gy(t,.5)}function bW(t){return new Gy(t,0)}function EW(t){return new Gy(t,1)}function gl(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function VT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function TW(t,e){return t[e]}function AW(t){const e=[];return e.key=t,e}function SW(){var t=dt([]),e=VT,n=gl,r=TW;function i(a){var o=Array.from(t.apply(this,arguments),AW),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(d,o[s].key,u,a)]).data=d;for(s=0,c=Nx(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:dt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:dt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?VT:typeof a=="function"?a:dt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??gl,i):n},i}function xW(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}gl(t,e)}}function wW(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}gl(t,e)}}function IW(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],d=c[r][1]||0,f=c[r-1][1]||0,p=(d-f)/2,v=0;v<s;++v){var E=t[e[v]],y=E[r][1]||0,_=E[r-1][1]||0;p+=y-_}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,gl(t,e)}}var Hy={},Iz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Iz);var Mx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Mx);var Ky={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Ky);var Wy={},Cz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Cz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cz,n=Ky;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const d=i[s];u?d==="\\"&&s+1<o?(s++,l+=i[s]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,a.push(l),l=""):l+=d:d==="["?(c=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,s++}return l&&a.push(l),a}t.toPath=r})(Wy);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iz,n=Mx,r=Ky,i=Wy;function a(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?n.isDeepKey(l)?a(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function o(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||e.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}t.get=a})(Hy);var CW=Hy.get;const vl=ri(CW);var PW=4;function Lo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PW,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function wt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,o)=>{var s=n[o-1];return typeof s=="string"?i+s+a:s!==void 0?i+Lo(s)+a:i+a},"")}var fn=t=>t===0?0:t>0?1:-1,Ei=t=>typeof t=="number"&&t!=+t,yl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ie=t=>(typeof t=="number"||t instanceof Number)&&!Ei(t),qi=t=>ie(t)||typeof t=="string",RW=0,Wf=t=>{var e=++RW;return"".concat(t||"").concat(e)},Un=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&typeof e!="string")return r;var a;if(yl(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Ei(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},Pz=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function xe(t,e,n){return ie(t)&&ie(e)?Lo(t+n*(e-t)):e}function Rz(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):vl(r,e))===n)}var NW=t=>{for(var e=t.length,n=0,r=0,i=0,a=0,o=1/0,s=-1/0,l=0,u=0,c=0;c<e;c++){var d,f;l=((d=t[c])===null||d===void 0?void 0:d.cx)||0,u=((f=t[c])===null||f===void 0?void 0:f.cy)||0,n+=l,r+=u,i+=l*u,a+=l*l,o=Math.min(o,l),s=Math.max(s,l)}var p=e*a!==n*n?(e*i-n*r)/(e*a-n*n):0;return{xmin:o,xmax:s,a:p,b:(r-p*n)/e}},Fe=t=>t===null||typeof t>"u",$h=t=>Fe(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function rr(t){return t!=null}function wi(){}var OW=["type","size","sizeType"];function UT(){return UT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UT.apply(null,arguments)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){MW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MW(t,e,n){return(e=DW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DW(t){var e=kW(t,"string");return typeof e=="symbol"?e:e+""}function kW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LW(t,e){if(t==null)return{};var n,r,i=VW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nz={symbolCircle:Ox,symbolCross:eW,symbolDiamond:nW,symbolSquare:rW,symbolStar:sW,symbolTriangle:lW,symbolWye:cW},UW=Math.PI/180,BW=t=>{var e="symbol".concat($h(t));return Nz[e]||Ox},zW=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*UW;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},FW=(t,e)=>{Nz["symbol".concat($h(t))]=e},Yy=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=LW(t,OW),a=IR(IR({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var s=()=>{var f=BW(o),p=dW().type(f).size(zW(n,r,o)),v=p();if(v!==null)return v},{className:l,cx:u,cy:c}=a,d=Bt(a);return ie(u)&&ie(c)&&ie(n)?b.createElement("path",UT({},d,{className:be("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};Yy.registerSymbol=FW;var Oz=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Dx=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Cx(i)&&(r[i]=a=>n[i](n,a))}),r},jW=(t,e,n)=>r=>(t(e,n,r),null),vs=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];Cx(i)&&typeof a=="function"&&(r||(r={}),r[i]=jW(a,e,n))}),r},$W=t=>Array.isArray(t)&&t.length>0;function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){GW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GW(t,e,n){return(e=HW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HW(t){var e=KW(t,"string");return typeof e=="symbol"?e:e+""}function KW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function We(t,e){var n=qW({},t),r=e,i=Object.keys(e),a=i.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return a}function nv(){return nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nv.apply(null,arguments)}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){YW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YW(t,e,n){return(e=QW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QW(t){var e=JW(t,"string");return typeof e=="symbol"?e:e+""}function JW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kr=32,XW={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function ZW(t){var{data:e,iconType:n,inactiveColor:r}=t,i=kr/2,a=kr/6,o=kr/3,s=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline"){var u;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:kr,y2:i,className:"recharts-legend-icon"})}if(l==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(kr,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return b.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(kr/8,"h").concat(kr,"v").concat(kr*3/4,"h").concat(-kr,"z"),className:"recharts-legend-icon"});if(b.isValidElement(e.legendIcon)){var c=WW({},e);return delete c.legendIcon,b.cloneElement(e.legendIcon,c)}return b.createElement(Yy,{fill:s,cx:i,cy:i,size:kr,sizeType:"diameter",type:l})}function eY(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=t,s={x:0,y:0,width:kr,height:kr},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((c,d)=>{var f=c.formatter||i,p=be({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var v=c.inactive?a:c.color,E=f?f(c.value,c,d):c.value;return b.createElement("li",nv({className:p,style:l,key:"legend-item-".concat(d)},vs(t,c,d)),b.createElement(Px,{width:n,height:n,viewBox:s,style:u,"aria-label":"".concat(E," legend icon")},b.createElement(ZW,{data:c,iconType:o,inactiveColor:a})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},E))})}var tY=t=>{var e=We(t,XW),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:a},b.createElement(eY,nv({},e,{payload:n})))},Mz={},Dz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],s=r(o,a,n);i.has(s)||i.set(s,o)}return Array.from(i.values())}t.uniqBy=e})(Dz);var kz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(kz);var qh={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(qh);var Lz={},Qy={},Vz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Vz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vz;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Qy);var Uz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Uz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qy,n=Uz;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Lz);var Jy={},Bz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hy;function n(r){return function(i){return e.get(i,r)}}t.property=n})(Bz);var zz={},kx={},Fz={},Lx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Lx);var Vx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Vx);var Ux={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(Ux);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lx,n=Vx,r=Ux;function i(c,d,f){return typeof f!="function"?i(c,d,()=>{}):a(c,d,function p(v,E,y,_,T,S){const w=f(v,E,y,_,T,S);return w!==void 0?!!w:a(v,E,p,S)},new Map)}function a(c,d,f,p){if(d===c)return!0;switch(typeof d){case"object":return o(c,d,f,p);case"function":return Object.keys(d).length>0?a(c,{...d},f,p):r.isEqualsSameValueZero(c,d);default:return e.isObject(c)?typeof d=="string"?d==="":!0:r.isEqualsSameValueZero(c,d)}}function o(c,d,f,p){if(d==null)return!0;if(Array.isArray(d))return l(c,d,f,p);if(d instanceof Map)return s(c,d,f,p);if(d instanceof Set)return u(c,d,f,p);const v=Object.keys(d);if(c==null||n.isPrimitive(c))return v.length===0;if(v.length===0)return!0;if(p!=null&&p.has(d))return p.get(d)===c;p==null||p.set(d,c);try{for(let E=0;E<v.length;E++){const y=v[E];if(!n.isPrimitive(c)&&!(y in c)||d[y]===void 0&&c[y]!==void 0||d[y]===null&&c[y]!==null||!f(c[y],d[y],y,c,d,p))return!1}return!0}finally{p==null||p.delete(d)}}function s(c,d,f,p){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[v,E]of d.entries()){const y=c.get(v);if(f(y,E,v,c,d,p)===!1)return!1}return!0}function l(c,d,f,p){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const v=new Set;for(let E=0;E<d.length;E++){const y=d[E];let _=!1;for(let T=0;T<c.length;T++){if(v.has(T))continue;const S=c[T];let w=!1;if(f(S,y,E,c,d,p)&&(w=!0),w){v.add(T),_=!0;break}}if(!_)return!1}return!0}function u(c,d,f,p){return d.size===0?!0:c instanceof Set?l([...c],[...d],f,p):!1}t.isMatchWith=i,t.isSetMatch=u})(Fz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fz;function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(kx);var jz={},Bx={},$z={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})($z);var Xy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Xy);var zx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",f="[object ArrayBuffer]",p="[object Object]",v="[object Error]",E="[object DataView]",y="[object Uint8Array]",_="[object Uint8ClampedArray]",T="[object Uint16Array]",S="[object Uint32Array]",w="[object BigUint64Array]",N="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",P="[object BigInt64Array]",R="[object Float32Array]",M="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=f,t.arrayTag=c,t.bigInt64ArrayTag=P,t.bigUint64ArrayTag=w,t.booleanTag=i,t.dataViewTag=E,t.dateTag=s,t.errorTag=v,t.float32ArrayTag=R,t.float64ArrayTag=M,t.functionTag=d,t.int16ArrayTag=O,t.int32ArrayTag=I,t.int8ArrayTag=N,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=T,t.uint32ArrayTag=S,t.uint8ArrayTag=y,t.uint8ClampedArrayTag=_})(zx);var qz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(qz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$z,n=Xy,r=zx,i=Vx,a=qz;function o(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,f,p=new Map,v=void 0){const E=v==null?void 0:v(c,d,f,p);if(E!==void 0)return E;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const y=new Array(c.length);p.set(c,y);for(let _=0;_<c.length;_++)y[_]=s(c[_],_,f,p,v);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;p.set(c,y);for(const[_,T]of c)y.set(_,s(T,_,f,p,v));return y}if(c instanceof Set){const y=new Set;p.set(c,y);for(const _ of c)y.add(s(_,void 0,f,p,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,y);for(let _=0;_<c.length;_++)y[_]=s(c[_],_,f,p,v);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,y),l(y,c,f,p,v),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return p.set(c,y),l(y,c,f,p,v),y}if(typeof Blob<"u"&&c instanceof Blob){const y=new Blob([c],{type:c.type});return p.set(c,y),l(y,c,f,p,v),y}if(c instanceof Error){const y=new c.constructor;return p.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,l(y,c,f,p,v),y}if(c instanceof Boolean){const y=new Boolean(c.valueOf());return p.set(c,y),l(y,c,f,p,v),y}if(c instanceof Number){const y=new Number(c.valueOf());return p.set(c,y),l(y,c,f,p,v),y}if(c instanceof String){const y=new String(c.valueOf());return p.set(c,y),l(y,c,f,p,v),y}if(typeof c=="object"&&u(c)){const y=Object.create(Object.getPrototypeOf(c));return p.set(c,y),l(y,c,f,p,v),y}return c}function l(c,d,f=c,p,v){const E=[...Object.keys(d),...e.getSymbols(d)];for(let y=0;y<E.length;y++){const _=E[y],T=Object.getOwnPropertyDescriptor(c,_);(T==null||T.writable)&&(c[_]=s(d[_],_,f,p,v))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=s,t.copyProperties=l})(Bx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bx;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(jz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kx,n=jz;function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(zz);var Gz={},Hz={},Kz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bx,n=Xy,r=zx;function i(a,o){return e.cloneDeepWith(a,(s,l,u,c)=>{const d=o==null?void 0:o(s,l,u,c);if(d!==void 0)return d;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const f={};return c.set(a,f),e.copyProperties(f,a,u,c),f}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(f,a),f}case r.argumentsTag:{const f={};return e.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}}})}t.cloneDeepWith=i})(Kz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kz;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Hz);var Wz={},Fx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Fx);var Yz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xy;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Yz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mx,n=Fx,r=Yz,i=Wy;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&e.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}t.has=a})(Wz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kx,n=Ky,r=Hz,i=Hy,a=Wz;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?a.has(u,s):l===void 0?c===void 0:e.isMatch(c,l)}}t.matchesProperty=o})(Gz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qh,n=Bz,r=zz,i=Gz;function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(Jy);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dz,n=kz,r=qh,i=Lz,a=Jy;function o(s,l=r.identity){return i.isArrayLikeObject(s)?e.uniqBy(Array.from(s),n.ary(a.iteratee(l),1)):[]}t.uniqBy=o})(Mz);var nY=Mz.uniqBy;const RR=ri(nY);function Qz(t,e,n){return e===!0?RR(t,n):typeof e=="function"?RR(t,e):t}var Jz={exports:{}},Xz={},Zz={exports:{}},e4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=b;function rY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iY=typeof Object.is=="function"?Object.is:rY,aY=lc.useState,oY=lc.useEffect,sY=lc.useLayoutEffect,lY=lc.useDebugValue;function uY(t,e){var n=e(),r=aY({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return sY(function(){i.value=n,i.getSnapshot=e,jb(i)&&a({inst:i})},[t,n,e]),oY(function(){return jb(i)&&a({inst:i}),t(function(){jb(i)&&a({inst:i})})},[t]),lY(n),n}function jb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!iY(t,n)}catch{return!0}}function cY(t,e){return e()}var dY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cY:uY;e4.useSyncExternalStore=lc.useSyncExternalStore!==void 0?lc.useSyncExternalStore:dY;Zz.exports=e4;var fY=Zz.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy=b,hY=fY;function pY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mY=typeof Object.is=="function"?Object.is:pY,gY=hY.useSyncExternalStore,vY=Zy.useRef,yY=Zy.useEffect,_Y=Zy.useMemo,bY=Zy.useDebugValue;Xz.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=vY(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=_Y(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var v=o.value;if(i(v,p))return d=v}return d=p}if(v=d,mY(c,p))return v;var E=r(p);return i!==void 0&&i(v,E)?(c=p,v):(c=p,d=E)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var s=gY(t,a[0],a[1]);return yY(function(){o.hasValue=!0,o.value=s},[s]),bY(s),s};Jz.exports=Xz;var EY=Jz.exports,jx=b.createContext(null),TY=t=>t,Ze=()=>{var t=b.useContext(jx);return t?t.store.dispatch:TY},eg=()=>{},AY=()=>eg,SY=(t,e)=>t===e;function ee(t){var e=b.useContext(jx),n=b.useMemo(()=>e?r=>{if(r!=null)return t(r)}:eg,[e,t]);return EY.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:AY,e?e.store.getState:eg,e?e.store.getState:eg,n,SY)}function xY(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function wY(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function IY(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var NR=t=>Array.isArray(t)?t:[t];function CY(t){const e=Array.isArray(t[0])?t[0]:t;return IY(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function PY(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var RY=class{constructor(t){this.value=t}deref(){return this.value}},NY=typeof WeakRef<"u"?WeakRef:RY,OY=0,OR=1;function lm(){return{s:OY,v:void 0,o:null,p:null}}function t4(t,e={}){let n=lm();const{resultEqualityCheck:r}=e;let i,a=0;function o(){var d;let s=n;const{length:l}=arguments;for(let f=0,p=l;f<p;f++){const v=arguments[f];if(typeof v=="function"||typeof v=="object"&&v!==null){let E=s.o;E===null&&(s.o=E=new WeakMap);const y=E.get(v);y===void 0?(s=lm(),E.set(v,s)):s=y}else{let E=s.p;E===null&&(s.p=E=new Map);const y=E.get(v);y===void 0?(s=lm(),E.set(v,s)):s=y}}const u=s;let c;if(s.s===OR)c=s.v;else if(c=t.apply(null,arguments),a++,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,c)&&(c=f,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new NY(c):c}return u.s=OR,u.v=c,c}return o.clearCache=()=>{n=lm(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function MY(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),xY(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:p=t4,argsMemoizeOptions:v=[]}=c,E=NR(f),y=NR(v),_=CY(i),T=d(function(){return a++,u.apply(null,arguments)},...E),S=p(function(){o++;const N=PY(_,arguments);return s=T.apply(null,N),s},...y);return Object.assign(S,{resultFunc:u,memoizedResultFunc:T,dependencies:_,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var U=MY(t4),DY=Object.assign((t,e=U)=>{wY(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,s,l)=>(o[n[l]]=s,o),{}))},{withTypes:()=>DY}),n4={},r4={},i4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),s=e(i);if(o===s&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};t.compareValues=n})(i4);var a4={},$x={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})($x);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$x,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(a4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i4,n=a4,r=Wy;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,v)=>{let E=p;for(let y=0;y<v.length&&E!=null;++y)E=E[v[y]];return E},c=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:u(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?u(v,p):typeof v=="object"?v[p]:v,d=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:d.map(v=>c(v,p))})).slice().sort((p,v)=>{for(let E=0;E<d.length;E++){const y=e.compareValues(p.criteria[E],v.criteria[E],s[E]);if(y!==0)return y}return 0}).map(p=>p.original)}t.orderBy=i})(r4);var o4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<a?o(c,l+1):i.push(c)}};return o(n,0),i}t.flatten=e})(o4);var qx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fx,n=Qy,r=Lx,i=Ux;function a(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&e.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.isEqualsSameValueZero(l[s],o):!1}t.isIterateeCall=a})(qx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r4,n=o4,r=qx;function i(a,...o){const s=o.length;return s>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(n4);var kY=n4.sortBy;const e0=ri(kY);var s4=t=>t.legend.settings,LY=t=>t.legend.size,VY=t=>t.legend.payload,UY=U([VY,s4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?e0(r,n):r});function BY(){return ee(UY)}var um=1;function l4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>um||Math.abs(o.left-e.left)>um||Math.abs(o.top-e.top)>um||Math.abs(o.width-e.width)>um)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function _n(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zY=typeof Symbol=="function"&&Symbol.observable||"@@observable",MR=zY,$b=()=>Math.random().toString(36).substring(7).split("").join("."),FY={INIT:`@@redux/INIT${$b()}`,REPLACE:`@@redux/REPLACE${$b()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$b()}`},rv=FY;function Gx(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function u4(t,e,n){if(typeof t!="function")throw new Error(_n(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_n(1));return n(u4)(t,e)}let r=t,i=e,a=new Map,o=a,s=0,l=!1;function u(){o===a&&(o=new Map,a.forEach((y,_)=>{o.set(_,y)}))}function c(){if(l)throw new Error(_n(3));return i}function d(y){if(typeof y!="function")throw new Error(_n(4));if(l)throw new Error(_n(5));let _=!0;u();const T=s++;return o.set(T,y),function(){if(_){if(l)throw new Error(_n(6));_=!1,u(),o.delete(T),a=null}}}function f(y){if(!Gx(y))throw new Error(_n(7));if(typeof y.type>"u")throw new Error(_n(8));if(typeof y.type!="string")throw new Error(_n(17));if(l)throw new Error(_n(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=o).forEach(T=>{T()}),y}function p(y){if(typeof y!="function")throw new Error(_n(10));r=y,f({type:rv.REPLACE})}function v(){const y=d;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(_n(11));function T(){const w=_;w.next&&w.next(c())}return T(),{unsubscribe:y(T)}},[MR](){return this}}}return f({type:rv.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:p,[MR]:v}}function jY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:rv.INIT})>"u")throw new Error(_n(12));if(typeof n(void 0,{type:rv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_n(13))})}function c4(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{jY(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],p=o[d],v=f(p,s);if(typeof v>"u")throw s&&s.type,new Error(_n(14));u[d]=v,l=l||v!==p}return l=l||r.length!==Object.keys(o).length,l?u:o}}function iv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function $Y(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(_n(15))};const o={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},s=t.map(l=>l(o));return a=iv(...s)(i.dispatch),{...i,dispatch:a}}}function d4(t){return Gx(t)&&"type"in t&&typeof t.type=="string"}var f4=Symbol.for("immer-nothing"),DR=Symbol.for("immer-draftable"),Yn=Symbol.for("immer-state");function fi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var br=Object,uc=br.getPrototypeOf,av="constructor",t0="prototype",BT="configurable",ov="enumerable",tg="writable",Yf="value",La=t=>!!t&&!!t[Yn];function Ti(t){var e;return t?h4(t)||r0(t)||!!t[DR]||!!((e=t[av])!=null&&e[DR])||i0(t)||a0(t):!1}var qY=br[t0][av].toString(),kR=new WeakMap;function h4(t){if(!t||!Hx(t))return!1;const e=uc(t);if(e===null||e===br[t0])return!0;const n=br.hasOwnProperty.call(e,av)&&e[av];if(n===Object)return!0;if(!cu(n))return!1;let r=kR.get(n);return r===void 0&&(r=Function.toString.call(n),kR.set(n,r)),r===qY}function n0(t,e,n=!0){Gh(t)===0?(n?Reflect.ownKeys(t):br.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Gh(t){const e=t[Yn];return e?e.type_:r0(t)?1:i0(t)?2:a0(t)?3:0}var LR=(t,e,n=Gh(t))=>n===2?t.has(e):br[t0].hasOwnProperty.call(t,e),zT=(t,e,n=Gh(t))=>n===2?t.get(e):t[e],sv=(t,e,n,r=Gh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function GY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var r0=Array.isArray,i0=t=>t instanceof Map,a0=t=>t instanceof Set,Hx=t=>typeof t=="object",cu=t=>typeof t=="function",qb=t=>typeof t=="boolean";function HY(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var da=t=>t.copy_||t.base_,Kx=t=>t.modified_?t.copy_:t.base_;function FT(t,e){if(i0(t))return new Map(t);if(a0(t))return new Set(t);if(r0(t))return Array[t0].slice.call(t);const n=h4(t);if(e===!0||e==="class_only"&&!n){const r=br.getOwnPropertyDescriptors(t);delete r[Yn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s[tg]===!1&&(s[tg]=!0,s[BT]=!0),(s.get||s.set)&&(r[o]={[BT]:!0,[tg]:!0,[ov]:s[ov],[Yf]:t[o]})}return br.create(uc(t),r)}else{const r=uc(t);if(r!==null&&n)return{...t};const i=br.create(r);return br.assign(i,t)}}function Wx(t,e=!1){return o0(t)||La(t)||!Ti(t)||(Gh(t)>1&&br.defineProperties(t,{set:cm,add:cm,clear:cm,delete:cm}),br.freeze(t),e&&n0(t,(n,r)=>{Wx(r,!0)},!1)),t}function KY(){fi(2)}var cm={[Yf]:KY};function o0(t){return t===null||!Hx(t)?!0:br.isFrozen(t)}var lv="MapSet",jT="Patches",VR="ArrayMethods",p4={};function _l(t){const e=p4[t];return e||fi(0,t),e}var UR=t=>!!p4[t],Qf,m4=()=>Qf,WY=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:UR(lv)?_l(lv):void 0,arrayMethodsPlugin_:UR(VR)?_l(VR):void 0});function BR(t,e){e&&(t.patchPlugin_=_l(jT),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function $T(t){qT(t),t.drafts_.forEach(YY),t.drafts_=null}function qT(t){t===Qf&&(Qf=t.parent_)}var zR=t=>Qf=WY(Qf,t);function YY(t){const e=t[Yn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function FR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Yn].modified_&&($T(e),fi(4)),Ti(t)&&(t=jR(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Yn].base_,t,e)}else t=jR(e,n);return QY(e,t,!0),$T(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==f4?t:void 0}function jR(t,e){if(o0(e))return e;const n=e[Yn];if(!n)return uv(e,t.handledSet_,t);if(!s0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);y4(n,t)}return n.copy_}function QY(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Wx(e,n)}function g4(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var s0=(t,e)=>t.scope_===e,JY=[];function v4(t,e,n,r){const i=da(t),a=t.type_;if(r!==void 0&&zT(i,r,a)===e){sv(i,r,n,a);return}if(!t.draftLocations_){const s=t.draftLocations_=new Map;n0(i,(l,u)=>{if(La(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const o=t.draftLocations_.get(e)??JY;for(const s of o)sv(i,s,n,a)}function XY(t,e,n){t.callbacks_.push(function(i){var s;const a=e;if(!a||!s0(a,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(a);const o=Kx(a);v4(t,a.draft_??a,o,n),y4(a,i)})}function y4(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}g4(t)}}function ZY(t,e,n){const{scope_:r}=t;if(La(n)){const i=n[Yn];s0(i,r)&&i.callbacks_.push(function(){ng(t);const o=Kx(i);v4(t,n,o,e)})}else Ti(n)&&t.callbacks_.push(function(){const a=da(t);t.type_===3?a.has(n)&&uv(n,r.handledSet_,r):zT(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&uv(zT(t.copy_,e,t.type_),r.handledSet_,r)})}function uv(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||La(t)||e.has(t)||!Ti(t)||o0(t)||(e.add(t),n0(t,(r,i)=>{if(La(i)){const a=i[Yn];if(s0(a,n)){const o=Kx(a);sv(t,r,o,t.type_),g4(a)}}else Ti(i)&&uv(i,e,n)})),t}function eQ(t,e){const n=r0(t),r={type_:n?1:0,scope_:e?e.scope_:m4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=cv;n&&(i=[r],a=Jf);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,[s,r]}var cv={get(t,e){if(e===Yn)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=da(t);if(!LR(i,e,t.type_))return tQ(t,i,e);const a=i[e];if(t.finalized_||!Ti(a)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&HY(e))return a;if(a===Gb(t.base_,e)){ng(t);const o=t.type_===1?+e:e,s=HT(t.scope_,a,t,o);return t.copy_[o]=s}return a},has(t,e){return e in da(t)},ownKeys(t){return Reflect.ownKeys(da(t))},set(t,e,n){const r=_4(da(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Gb(da(t),e),a=i==null?void 0:i[Yn];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(GY(n,i)&&(n!==void 0||LR(t.base_,e,t.type_)))return!0;ng(t),GT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),ZY(t,e,n)),!0},deleteProperty(t,e){return ng(t),Gb(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),GT(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=da(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[tg]:!0,[BT]:t.type_!==1||e!=="length",[ov]:r[ov],[Yf]:n[e]}},defineProperty(){fi(11)},getPrototypeOf(t){return uc(t.base_)},setPrototypeOf(){fi(12)}},Jf={};for(let t in cv){let e=cv[t];Jf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Jf.deleteProperty=function(t,e){return Jf.set.call(this,t,e,void 0)};Jf.set=function(t,e,n){return cv.set.call(this,t[0],e,n,t[0])};function Gb(t,e){const n=t[Yn];return(n?da(n):t)[e]}function tQ(t,e,n){var i;const r=_4(e,n);return r?Yf in r?r[Yf]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function _4(t,e){if(!(e in t))return;let n=uc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=uc(n)}}function GT(t){t.modified_||(t.modified_=!0,t.parent_&&GT(t.parent_))}function ng(t){t.copy_||(t.assigned_=new Map,t.copy_=FT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var nQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(cu(n)&&!cu(r)){const o=r;r=n;const s=this;return function(u=o,...c){return s.produce(u,d=>r.call(this,d,...c))}}cu(r)||fi(6),i!==void 0&&!cu(i)&&fi(7);let a;if(Ti(n)){const o=zR(this),s=HT(o,n,void 0);let l=!0;try{a=r(s),l=!1}finally{l?$T(o):qT(o)}return BR(o,i),FR(a,o)}else if(!n||!Hx(n)){if(a=r(n),a===void 0&&(a=n),a===f4&&(a=void 0),this.autoFreeze_&&Wx(a,!0),i){const o=[],s=[];_l(jT).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else fi(1,n)},this.produceWithPatches=(n,r)=>{if(cu(n))return(s,...l)=>this.produceWithPatches(s,u=>n(u,...l));let i,a;return[this.produce(n,r,(s,l)=>{i=s,a=l}),i,a]},qb(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),qb(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),qb(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ti(e)||fi(8),La(e)&&(e=yi(e));const n=zR(this),r=HT(n,e,void 0);return r[Yn].isManual_=!0,qT(n),r}finishDraft(e,n){const r=e&&e[Yn];(!r||!r.isManual_)&&fi(9);const{scope_:i}=r;return BR(i,n),FR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=_l(jT).applyPatches_;return La(e)?i(e,n):this.produce(e,a=>i(a,n))}};function HT(t,e,n,r){const[i,a]=i0(e)?_l(lv).proxyMap_(e,n):a0(e)?_l(lv).proxySet_(e,n):eQ(e,n);return((n==null?void 0:n.scope_)??m4()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?XY(n,a,r):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function yi(t){return La(t)||fi(10,t),b4(t)}function b4(t){if(!Ti(t)||o0(t))return t;const e=t[Yn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=FT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=FT(t,!0);return n0(n,(i,a)=>{sv(n,i,b4(a))},r),e&&(e.finalized_=!1),n}var rQ=new nQ,E4=rQ.produce;function T4(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var iQ=T4(),aQ=T4,oQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?iv:iv.apply(null,arguments)};function Xr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(wr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>d4(r)&&r.type===t,n}var A4=class ef extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ef.prototype)}static get[Symbol.species](){return ef}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ef(...e[0].concat(this)):new ef(...e.concat(this))}};function $R(t){return Ti(t)?E4(t,()=>{}):t}function dm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function sQ(t){return typeof t=="boolean"}var lQ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new A4;return n&&(sQ(n)?o.push(iQ):o.push(aQ(n.extraArgument))),o},S4="RTK_autoBatch",At=()=>t=>({payload:t,meta:{[S4]:!0}}),qR=t=>e=>{setTimeout(e,t)},x4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const s=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qR(10):t.type==="callback"?t.queueNotification:qR(t.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return s.add(c),()=>{f(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[S4]),a=!i,a&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},uQ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new A4(t);return r&&i.push(x4(typeof r=="object"?r:void 0)),i};function cQ(t){const e=lQ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let s;if(typeof n=="function")s=n;else if(Gx(n))s=c4(n);else throw new Error(wr(1));let l;typeof r=="function"?l=r(e):l=e();let u=iv;i&&(u=oQ({trace:!1,...typeof i=="object"&&i}));const c=$Y(...l),d=uQ(c);let f=typeof o=="function"?o(d):d();const p=u(...f);return u4(s,a,p)}function w4(t){const e={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(wr(28));if(s in e)throw new Error(wr(29));return e[s]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function dQ(t){return typeof t=="function"}function fQ(t,e){let[n,r,i]=w4(e),a;if(dQ(t))a=()=>$R(t());else{const s=$R(t);a=()=>s}function o(s=a(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(La(c)){const p=d(c,l);return p===void 0?c:p}else{if(Ti(c))return E4(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},s)}return o.getInitialState=a,o}var hQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pQ=(t=21)=>{let e="",n=t;for(;n--;)e+=hQ[Math.random()*64|0];return e},mQ=Symbol.for("rtk-slice-createasyncthunk");function gQ(t,e){return`${t}/${e}`}function vQ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[mQ];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(wr(11));const s=(typeof i.reducers=="function"?i.reducers(_Q()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,N){const O=typeof w=="string"?w:w.type;if(!O)throw new Error(wr(12));if(O in u.sliceCaseReducersByType)throw new Error(wr(13));return u.sliceCaseReducersByType[O]=N,c},addMatcher(w,N){return u.sliceMatchers.push({matcher:w,reducer:N}),c},exposeAction(w,N){return u.actionCreators[w]=N,c},exposeCaseReducer(w,N){return u.sliceCaseReducersByName[w]=N,c}};l.forEach(w=>{const N=s[w],O={reducerName:w,type:gQ(a,w),createNotation:typeof i.reducers=="function"};EQ(N)?AQ(O,N,c,e):bQ(O,N,c)});function d(){const[w={},N=[],O=void 0]=typeof i.extraReducers=="function"?w4(i.extraReducers):[i.extraReducers],I={...w,...u.sliceCaseReducersByType};return fQ(i.initialState,P=>{for(let R in I)P.addCase(R,I[R]);for(let R of u.sliceMatchers)P.addMatcher(R.matcher,R.reducer);for(let R of N)P.addMatcher(R.matcher,R.reducer);O&&P.addDefaultCase(O)})}const f=w=>w,p=new Map,v=new WeakMap;let E;function y(w,N){return E||(E=d()),E(w,N)}function _(){return E||(E=d()),E.getInitialState()}function T(w,N=!1){function O(P){let R=P[w];return typeof R>"u"&&N&&(R=dm(v,O,_)),R}function I(P=f){const R=dm(p,N,()=>new WeakMap);return dm(R,P,()=>{const M={};for(const[V,D]of Object.entries(i.selectors??{}))M[V]=yQ(D,P,()=>dm(v,P,_),N);return M})}return{reducerPath:w,getSelectors:I,get selectors(){return I(O)},selectSlice:O}}const S={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...T(o),injectInto(w,{reducerPath:N,...O}={}){const I=N??o;return w.inject({reducerPath:I,reducer:y},O),{...S,...T(I,!0)}}};return S}}function yQ(t,e,n,r){function i(a,...o){let s=e(a);return typeof s>"u"&&r&&(s=n()),t(s,...o)}return i.unwrapped=t,i}var fr=vQ();function _Q(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function bQ({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!TQ(r))throw new Error(wr(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?Xr(t,o):Xr(t))}function EQ(t){return t._reducerDefinitionType==="asyncThunk"}function TQ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function AQ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(wr(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:u,options:c}=n,d=i(t,a,c);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),s&&r.addCase(d.pending,s),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:o||fm,pending:s||fm,rejected:l||fm,settled:u||fm})}function fm(){}var SQ="task",I4="listener",C4="completed",Yx="cancelled",xQ=`task-${Yx}`,wQ=`task-${C4}`,KT=`${I4}-${Yx}`,IQ=`${I4}-${C4}`,l0=class{constructor(t){nb(this,"name","TaskAbortError");nb(this,"message");this.code=t,this.message=`${SQ} ${Yx} (reason: ${t})`}},Qx=(t,e)=>{if(typeof t!="function")throw new TypeError(wr(32))},dv=()=>{},P4=(t,e=dv)=>(t.catch(e),t),R4=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),il=t=>{if(t.aborted)throw new l0(t.reason)};function N4(t,e){let n=dv;return new Promise((r,i)=>{const a=()=>i(new l0(t.reason));if(t.aborted){a();return}n=R4(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=dv})}var CQ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof l0?"cancelled":"rejected",error:n}}finally{e==null||e()}},fv=t=>e=>P4(N4(t,e).then(n=>(il(t),n))),O4=t=>{const e=fv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:$u}=Object,GR={},u0="listenerMiddleware",PQ=(t,e)=>{const n=r=>R4(t,()=>r.abort(t.reason));return(r,i)=>{Qx(r);const a=new AbortController;n(a);const o=CQ(async()=>{il(t),il(a.signal);const s=await r({pause:fv(a.signal),delay:O4(a.signal),signal:a.signal});return il(a.signal),s},()=>a.abort(wQ));return i!=null&&i.autoJoin&&e.push(o.catch(dv)),{result:fv(t)(o),cancel(){a.abort(xQ)}}}},RQ=(t,e)=>{const n=async(r,i)=>{il(e);let a=()=>{};const s=[new Promise((l,u)=>{let c=t({predicate:r,effect:(d,f)=>{f.unsubscribe(),l([d,f.getState(),f.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await N4(e,Promise.race(s));return il(e),l}finally{a()}};return(r,i)=>P4(n(r,i))},M4=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Xr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(wr(21));return Qx(a),{predicate:i,type:e,effect:a}},D4=$u(t=>{const{type:e,predicate:n,effect:r}=M4(t);return{id:pQ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(wr(22))}}},{withTypes:()=>D4}),HR=(t,e)=>{const{type:n,effect:r,predicate:i}=M4(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},WT=t=>{t.pending.forEach(e=>{e.abort(KT)})},NQ=(t,e)=>()=>{for(const n of e.keys())WT(n);t.clear()},KR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},k4=$u(Xr(`${u0}/add`),{withTypes:()=>k4}),OQ=Xr(`${u0}/removeAll`),L4=$u(Xr(`${u0}/remove`),{withTypes:()=>L4}),MQ=(...t)=>{console.error(`${u0}/error`,...t)},Hh=(t={})=>{const e=new Map,n=new Map,r=p=>{const v=n.get(p)??0;n.set(p,v+1)},i=p=>{const v=n.get(p)??1;v===1?n.delete(p):n.set(p,v-1)},{extra:a,onError:o=MQ}=t;Qx(o);const s=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),v=>{p.unsubscribe(),v!=null&&v.cancelActive&&WT(p)}),l=p=>{const v=HR(e,p)??D4(p);return s(v)};$u(l,{withTypes:()=>l});const u=p=>{const v=HR(e,p);return v&&(v.unsubscribe(),p.cancelActive&&WT(v)),!!v};$u(u,{withTypes:()=>u});const c=async(p,v,E,y)=>{const _=new AbortController,T=RQ(l,_.signal),S=[];try{p.pending.add(_),r(p),await Promise.resolve(p.effect(v,$u({},E,{getOriginalState:y,condition:(w,N)=>T(w,N).then(Boolean),take:T,delay:O4(_.signal),pause:fv(_.signal),extra:a,signal:_.signal,fork:PQ(_.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,N,O)=>{w!==_&&(w.abort(KT),O.delete(w))})},cancel:()=>{_.abort(KT),p.pending.delete(_)},throwIfCancelled:()=>{il(_.signal)}})))}catch(w){w instanceof l0||KR(o,w,{raisedBy:"effect"})}finally{await Promise.all(S),_.abort(IQ),i(p),p.pending.delete(_)}},d=NQ(e,n);return{middleware:p=>v=>E=>{if(!d4(E))return v(E);if(k4.match(E))return l(E.payload);if(OQ.match(E)){d();return}if(L4.match(E))return u(E.payload);let y=p.getState();const _=()=>{if(y===GR)throw new Error(wr(23));return y};let T;try{if(T=v(E),e.size>0){const S=p.getState(),w=Array.from(e.values());for(const N of w){let O=!1;try{O=N.predicate(E,S,y)}catch(I){O=!1,KR(o,I,{raisedBy:"predicate"})}O&&c(N,E,p,_)}}}finally{y=GR}return T},startListening:l,stopListening:u,clearListeners:d}};function wr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var DQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},V4=fr({name:"chartLayout",initialState:DQ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:kQ,setLayout:LQ,setChartSize:VQ,setScale:UQ}=V4.actions,BQ=V4.reducer;function U4(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ae(t){return Number.isFinite(t)}function Gi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){zQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zQ(t,e,n){return(e=FQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FQ(t){var e=jQ(t,"string");return typeof e=="symbol"?e:e+""}function jQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oe(t,e,n){return Fe(t)||Fe(e)?n:qi(e)?vl(t,e,n):typeof e=="function"?e(t):n}var $Q=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=e;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&ie(t[a]))return Pu(Pu({},t),{},{[a]:t[a]+(r||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&ie(t[o]))return Pu(Pu({},t),{},{[o]:t[o]+(i||0)})}return t},ii=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",B4=(t,e,n,r)=>{if(r)return t.map(s=>s.coordinate);var i,a,o=t.map(s=>(s.coordinate===e&&(i=!0),s.coordinate===n&&(a=!0),s.coordinate));return i||o.push(e),a||o.push(n),o},z4=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:f,axisType:p}=t;if(!o)return null;var v=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,E=i==="category"&&o.bandwidth?o.bandwidth()/v:0;if(E=p==="angleAxis"&&a&&a.length>=2?fn(a[0]-a[1])*2*E:E,d||f){var y=(d||f||[]).map((_,T)=>{var S=r?r.indexOf(_):_,w=o.map(S);return Ae(w)?{coordinate:w+E,value:_,offset:E,index:T}:null}).filter(rr);return y}return l&&u?u.map((_,T)=>{var S=o.map(_);return Ae(S)?{coordinate:S+E,value:_,index:T,offset:E}:null}).filter(rr):o.ticks&&c!=null?o.ticks(c).map((_,T)=>{var S=o.map(_);return Ae(S)?{coordinate:S+E,value:_,index:T,offset:E}:null}).filter(rr):o.domain().map((_,T)=>{var S=o.map(_);return Ae(S)?{coordinate:S+E,value:r?r[_]:_,index:T,offset:E}:null}).filter(rr)},qQ=(t,e)=>{if(!e||e.length!==2||!ie(e[0])||!ie(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ie(t[0])||t[0]<n)&&(i[0]=n),(!ie(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},GQ=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0,s=0;s<n;++s){var l=t[s],u=l==null?void 0:l[i];if(u!=null){var c=u[1],d=u[0],f=Ei(c)?d:c;f>=0?(u[0]=a,a+=f,u[1]=a):(u[0]=o,o+=f,u[1]=o)}}}},HQ=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0;o<n;++o){var s=t[o],l=s==null?void 0:s[i];if(l!=null){var u=Ei(l[1])?l[0]:l[1];u>=0?(l[0]=a,a+=u,l[1]=a):(l[0]=0,l[1]=0)}}}},KQ={sign:GQ,expand:xW,none:gl,silhouette:wW,wiggle:IW,positive:HQ},WQ=(t,e,n)=>{var r,i=(r=KQ[n])!==null&&r!==void 0?r:gl,a=SW().keys(e).value((s,l)=>Number(Oe(s,l,0))).order(VT).offset(i),o=a(t);return o.forEach((s,l)=>{s.forEach((u,c)=>{var d=Oe(t[c],e[l],0);Array.isArray(d)&&d.length===2&&ie(d[0])&&ie(d[1])&&(u[0]=d[0],u[1]=d[1])})}),o};function F4(t){return t==null?void 0:String(t)}function cc(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Fe(i[e.dataKey])){var s=Rz(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var l=Oe(i,Fe(o)?e.dataKey:o),u=e.scale.map(l);return ie(u)?u:null}var YR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var s=Oe(a,e.dataKey,e.scale.domain()[o]);if(Fe(s))return null;var l=e.scale.map(s);return ie(l)?l-i/2+r:null},YQ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},QQ=t=>{var e=t.flat(2).filter(ie);return[Math.min(...e),Math.max(...e)]},JQ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],XQ=(t,e,n)=>{if(t!=null)return JQ(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:o}=a,s=o.reduce((l,u)=>{var c=U4(u,e,n),d=QQ(c);return!Ae(d[0])||!Ae(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},QR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hi=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=e0(e,c=>c.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function XR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Pu(Pu({},e),{},{dataKey:n,payload:r,value:i,name:a})}function ai(t,e){if(t)return String(t);if(typeof e=="string")return e}var ZQ=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},eJ=(t,e)=>e==="centric"?t.angle:t.radius,Qa=t=>t.layout.width,Ja=t=>t.layout.height,tJ=t=>t.layout.scale,j4=t=>t.layout.margin,c0=U(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),d0=U(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),$4="data-recharts-item-index",Jx="data-recharts-item-id",Kh=60;function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){nJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nJ(t,e,n){return(e=rJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rJ(t){var e=iJ(t,"string");return typeof e=="symbol"?e:e+""}function iJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aJ=t=>t.brush.height;function oJ(t){var e=d0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Kh;return n+i}return n},0)}function sJ(t){var e=d0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Kh;return n+i}return n},0)}function lJ(t){var e=c0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function uJ(t){var e=c0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var tn=U([Qa,Ja,j4,aJ,oJ,sJ,lJ,uJ,s4,LY],(t,e,n,r,i,a,o,s,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+a},d={top:(n.top||0)+o,bottom:(n.bottom||0)+s},f=hm(hm({},d),c),p=f.bottom;f.bottom+=r,f=$Q(f,l,u);var v=t-f.left-f.right,E=e-f.top-f.bottom;return hm(hm({brushBottom:p},f),{},{width:Math.max(v,0),height:Math.max(E,0)})}),cJ=U(tn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Xx=U(Qa,Ja,(t,e)=>({x:0,y:0,width:t,height:e})),dJ=b.createContext(null),Dt=()=>b.useContext(dJ)!=null,f0=t=>t.brush,h0=U([f0,tn,j4],(t,e,n)=>({height:t.height,x:ie(t.x)?t.x:e.left,y:ie(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ie(t.width)?t.width:e.width})),q4={},G4={},H4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},d=()=>{u&&c(),E()};let f=null;const p=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},r)},v=()=>{f!==null&&(clearTimeout(f),f=null)},E=()=>{v(),o=void 0,s=null},y=()=>{c()},_=function(...T){if(i!=null&&i.aborted)return;o=this,s=T;const S=f==null;p(),l&&S&&c()};return _.schedule=p,_.cancel=E,_.flush=y,i==null||i.addEventListener("abort",E,{once:!0}),_}t.debounce=e})(H4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H4;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const f=e.debounce(function(...E){c=r.apply(this,E),d=null},i,{edges:u}),p=function(...E){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=r.apply(this,E),d=Date.now(),f.cancel(),f.schedule(),c):(f.apply(this,E),c)},v=()=>(f.flush(),c);return p.cancel=f.cancel,p.flush=v,p}t.debounce=n})(G4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G4;function n(r,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:s})}t.throttle=n})(q4);var fJ=q4.throttle;const hJ=ri(fJ);var hv=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},ki={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},K4=(t,e,n)=>{var{width:r=ki.width,height:i=ki.height,aspect:a,maxHeight:o}=n,s=yl(r)?t:Number(r),l=yl(i)?e:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},pJ={width:0,height:0,overflow:"visible"},mJ={width:0,overflowX:"visible"},gJ={height:0,overflowY:"visible"},vJ={},yJ=t=>{var{width:e,height:n}=t,r=yl(e),i=yl(n);return r&&i?pJ:r?mJ:i?gJ:vJ};function _J(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i=ki.width,a=ki.height):i===void 0?i=r&&r>0?void 0:ki.width:a===void 0&&(a=r&&r>0?void 0:ki.height),{width:i,height:a}}function YT(){return YT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YT.apply(null,arguments)}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){bJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bJ(t,e,n){return(e=EJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EJ(t){var e=TJ(t,"string");return typeof e=="symbol"?e:e+""}function TJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W4=b.createContext(ki.initialDimension);function AJ(t){return Gi(t.width)&&Gi(t.height)}function Y4(t){var{children:e,width:n,height:r}=t,i=b.useMemo(()=>({width:n,height:r}),[n,r]);return AJ(i)?b.createElement(W4.Provider,{value:i},e):null}var Zx=()=>b.useContext(W4),SJ=b.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=ki.initialDimension,width:i,height:a,minWidth:o=ki.minWidth,minHeight:s,maxHeight:l,children:u,debounce:c=ki.debounce,id:d,className:f,onResize:p,style:v={}}=t,E=b.useRef(null),y=b.useRef();y.current=p,b.useImperativeHandle(e,()=>E.current);var[_,T]=b.useState({containerWidth:r.width,containerHeight:r.height}),S=b.useCallback((P,R)=>{T(M=>{var V=Math.round(P),D=Math.round(R);return M.containerWidth===V&&M.containerHeight===D?M:{containerWidth:V,containerHeight:D}})},[]);b.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return wi;var P=D=>{var k,Q=D[0];if(Q!=null){var{width:ae,height:H}=Q.contentRect;S(ae,H),(k=y.current)===null||k===void 0||k.call(y,ae,H)}};c>0&&(P=hJ(P,c,{trailing:!0,leading:!1}));var R=new ResizeObserver(P),{width:M,height:V}=E.current.getBoundingClientRect();return S(M,V),R.observe(E.current),()=>{R.disconnect()}},[S,c]);var{containerWidth:w,containerHeight:N}=_;hv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:I}=K4(w,N,{width:i,height:a,aspect:n,maxHeight:l});return hv(O!=null&&O>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,I,i,a,o,s,n),b.createElement("div",{id:d?"".concat(d):void 0,className:be("recharts-responsive-container",f),style:tN(tN({},v),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:E},b.createElement("div",{style:yJ({width:i,height:a})},b.createElement(Y4,{width:O,height:I},u)))}),Kr=b.forwardRef((t,e)=>{var n=Zx();if(Gi(n.width)&&Gi(n.height))return t.children;var{width:r,height:i}=_J({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:o}=K4(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ie(a)&&ie(o)?b.createElement(Y4,{width:a,height:o},t.children):b.createElement(SJ,YT({},t,{width:r,height:i,ref:e}))});function ew(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Wh=()=>{var t,e=Dt(),n=ee(cJ),r=ee(h0),i=(t=ee(f0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},xJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Q4=()=>{var t;return(t=ee(tn))!==null&&t!==void 0?t:xJ},tw=()=>ee(Qa),nw=()=>ee(Ja),wJ=()=>ee(t=>t.layout.margin),Se=t=>t.layout.layoutType,ys=()=>ee(Se),rw=()=>{var t=ys();if(t==="horizontal"||t==="vertical")return t},iw=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},J4=()=>ee(iw),IJ=()=>{var t=ys();return t!==void 0},Yh=t=>{var e=Ze(),n=Dt(),{width:r,height:i}=t,a=Zx(),o=r,s=i;return a&&(o=a.width>0?a.width:r,s=a.height>0?a.height:i),b.useEffect(()=>{!n&&Gi(o)&&Gi(s)&&e(VQ({width:o,height:s}))},[e,n,o,s]),null},X4=Symbol.for("immer-nothing"),nN=Symbol.for("immer-draftable"),Rr=Symbol.for("immer-state");function hi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xf=Object.getPrototypeOf;function dc(t){return!!t&&!!t[Rr]}function bl(t){var e;return t?Z4(t)||Array.isArray(t)||!!t[nN]||!!((e=t.constructor)!=null&&e[nN])||Qh(t)||m0(t):!1}var CJ=Object.prototype.constructor.toString(),rN=new WeakMap;function Z4(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=rN.get(n);return r===void 0&&(r=Function.toString.call(n),rN.set(n,r)),r===CJ}function pv(t,e,n=!0){p0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function p0(t){const e=t[Rr];return e?e.type_:Array.isArray(t)?1:Qh(t)?2:m0(t)?3:0}function QT(t,e){return p0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function eF(t,e,n){const r=p0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function PJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Qh(t){return t instanceof Map}function m0(t){return t instanceof Set}function zs(t){return t.copy_||t.base_}function JT(t,e){if(Qh(t))return new Map(t);if(m0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Z4(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Rr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(Xf(t),r)}else{const r=Xf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function aw(t,e=!1){return g0(t)||dc(t)||!bl(t)||(p0(t)>1&&Object.defineProperties(t,{set:pm,add:pm,clear:pm,delete:pm}),Object.freeze(t),e&&Object.values(t).forEach(n=>aw(n,!0))),t}function RJ(){hi(2)}var pm={value:RJ};function g0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var NJ={};function El(t){const e=NJ[t];return e||hi(0,t),e}var Zf;function tF(){return Zf}function OJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iN(t,e){e&&(El("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function XT(t){ZT(t),t.drafts_.forEach(MJ),t.drafts_=null}function ZT(t){t===Zf&&(Zf=t.parent_)}function aN(t){return Zf=OJ(Zf,t)}function MJ(t){const e=t[Rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function oN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Rr].modified_&&(XT(e),hi(4)),bl(t)&&(t=mv(e,t),e.parent_||gv(e,t)),e.patches_&&El("Patches").generateReplacementPatches_(n[Rr].base_,t,e.patches_,e.inversePatches_)):t=mv(e,n,[]),XT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==X4?t:void 0}function mv(t,e,n){if(g0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Rr];if(!i)return pv(e,(a,o)=>sN(t,i,e,a,o,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return gv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),pv(o,(l,u)=>sN(t,i,a,l,u,n,s),r),gv(t,a,!1),n&&t.patches_&&El("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function sN(t,e,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=g0(i);if(!(s&&!o)){if(dc(i)){const l=a&&e&&e.type_!==3&&!QT(e.assigned_,r)?a.concat(r):void 0,u=mv(t,i,l);if(eF(n,r,u),dc(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(bl(i)&&!s){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&s)return;mv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Qh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&gv(t,i)}}}function gv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&aw(e,n)}function DJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:tF(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=ow;n&&(i=[r],a=eh);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var ow={get(t,e){if(e===Rr)return t;const n=zs(t);if(!QT(n,e))return kJ(t,n,e);const r=n[e];return t.finalized_||!bl(r)?r:r===Hb(t.base_,e)?(Kb(t),t.copy_[e]=tA(r,t)):r},has(t,e){return e in zs(t)},ownKeys(t){return Reflect.ownKeys(zs(t))},set(t,e,n){const r=nF(zs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Hb(zs(t),e),a=i==null?void 0:i[Rr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(PJ(n,i)&&(n!==void 0||QT(t.base_,e)))return!0;Kb(t),eA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Hb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Kb(t),eA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){hi(11)},getPrototypeOf(t){return Xf(t.base_)},setPrototypeOf(){hi(12)}},eh={};pv(ow,(t,e)=>{eh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});eh.deleteProperty=function(t,e){return eh.set.call(this,t,e,void 0)};eh.set=function(t,e,n){return ow.set.call(this,t[0],e,n,t[0])};function Hb(t,e){const n=t[Rr];return(n?zs(n):t)[e]}function kJ(t,e,n){var i;const r=nF(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function nF(t,e){if(!(e in t))return;let n=Xf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Xf(n)}}function eA(t){t.modified_||(t.modified_=!0,t.parent_&&eA(t.parent_))}function Kb(t){t.copy_||(t.copy_=JT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var LJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(l=a,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&hi(6),r!==void 0&&typeof r!="function"&&hi(7);let i;if(bl(e)){const a=aN(this),o=tA(e,void 0);let s=!0;try{i=n(o),s=!1}finally{s?XT(a):ZT(a)}return iN(a,r),oN(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===X4&&(i=void 0),this.autoFreeze_&&aw(i,!0),r){const a=[],o=[];El("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else hi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,l=>e(l,...s));let r,i;return[this.produce(e,n,(o,s)=>{r=o,i=s}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){bl(t)||hi(8),dc(t)&&(t=VJ(t));const e=aN(this),n=tA(t,void 0);return n[Rr].isManual_=!0,ZT(e),n}finishDraft(t,e){const n=t&&t[Rr];(!n||!n.isManual_)&&hi(9);const{scope_:r}=n;return iN(r,e),oN(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=El("Patches").applyPatches_;return dc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function tA(t,e){const n=Qh(t)?El("MapSet").proxyMap_(t,e):m0(t)?El("MapSet").proxySet_(t,e):DJ(t,e);return(e?e.scope_:tF()).drafts_.push(n),n}function VJ(t){return dc(t)||hi(10,t),rF(t)}function rF(t){if(!bl(t)||g0(t))return t;const e=t[Rr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=JT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=JT(t,!0);return pv(n,(i,a)=>{eF(n,i,rF(a))},r),e&&(e.finalized_=!1),n}var UJ=new LJ;UJ.produce;var BJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},iF=fr({name:"legend",initialState:BJ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:At()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=yi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:At()},removeLegendPayload:{reducer(t,e){var n=yi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:At()}}}),{setLegendSize:lN,setLegendSettings:zJ,addLegendPayload:aF,replaceLegendPayload:oF,removeLegendPayload:sF}=iF.actions,FJ=iF.reducer,jJ=["contextPayload"];function nA(){return nA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nA.apply(null,arguments)}function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){$J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $J(t,e,n){return(e=qJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qJ(t){var e=GJ(t,"string");return typeof e=="symbol"?e:e+""}function GJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HJ(t,e){if(t==null)return{};var n,r,i=KJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WJ(t){return t.value}function YJ(t){var{contextPayload:e}=t,n=HJ(t,jJ),r=Qz(e,t.payloadUniqBy,WJ),i=fc(fc({},n),{},{payload:r});return b.isValidElement(t.content)?b.cloneElement(t.content,i):typeof t.content=="function"?b.createElement(t.content,i):b.createElement(tY,i)}function QJ(t,e,n,r,i,a){var{layout:o,align:s,verticalAlign:l}=e,u,c;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(s==="center"&&o==="vertical"?u={left:((r||0)-a.width)/2}:u=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),fc(fc({},u),c)}function JJ(t){var e=Ze();return b.useEffect(()=>{e(zJ(t))},[e,t]),null}function XJ(t){var e=Ze();return b.useEffect(()=>(e(lN(t)),()=>{e(lN({width:0,height:0}))}),[e,t]),null}function ZJ(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var eX={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function os(t){var e=We(t,eX),n=BY(),r=W7(),i=wJ(),{width:a,height:o,wrapperStyle:s,portal:l}=e,[u,c]=l4([n]),d=tw(),f=nw();if(d==null||f==null)return null;var p=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),v=ZJ(e.layout,o,a,p),E=l?s:fc(fc({position:"absolute",width:(v==null?void 0:v.width)||a||"auto",height:(v==null?void 0:v.height)||o||"auto"},QJ(s,e,i,d,f,u)),s),y=l??r;if(y==null||n==null)return null;var _=b.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:c},b.createElement(JJ,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&b.createElement(XJ,{width:u.width,height:u.height}),b.createElement(YJ,nA({},e,v,{margin:i,chartWidth:d,chartHeight:f,contextPayload:n})));return wy.createPortal(_,y)}os.displayName="Legend";function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rA.apply(null,arguments)}function cN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(n),!0).forEach(function(r){tX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e,n){return(e=nX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=rX(t,"string");return typeof e=="symbol"?e:e+""}function rX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iX(t){return Array.isArray(t)&&qi(t[0])&&qi(t[1])?t.join(" ~ "):t}var Zl={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},aX=t=>{var{separator:e=Zl.separator,contentStyle:n,itemStyle:r,labelStyle:i=Zl.labelStyle,payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:f=Zl.accessibilityLayer}=t,p=()=>{if(a&&a.length){var N={padding:0,margin:0},O=(s?e0(a,s):a).map((I,P)=>{if(I.type==="none")return null;var R=I.formatter||o||iX,{value:M,name:V}=I,D=M,k=V;if(R){var Q=R(M,V,I,P,a);if(Array.isArray(Q))[D,k]=Q;else if(Q!=null)D=Q;else return null}var ae=Md(Md({},Zl.itemStyle),{},{color:I.color||Zl.itemStyle.color},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:ae},qi(k)?b.createElement("span",{className:"recharts-tooltip-item-name"},k):null,qi(k)?b.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,b.createElement("span",{className:"recharts-tooltip-item-value"},D),b.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:N},O)}return null},v=Md(Md({},Zl.contentStyle),n),E=Md({margin:0},i),y=!Fe(c),_=y?c:"",T=be("recharts-default-tooltip",l),S=be("recharts-tooltip-label",u);y&&d&&a!==void 0&&a!==null&&(_=d(c,a));var w=f?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",rA({className:T,style:v},w),b.createElement("p",{className:S,style:E},b.isValidElement(_)?_:"".concat(_)),p())},Dd="recharts-tooltip-wrapper",oX={visibility:"hidden"};function sX(t){var{coordinate:e,translateX:n,translateY:r}=t;return be(Dd,{["".concat(Dd,"-right")]:ie(n)&&e&&ie(e.x)&&n>=e.x,["".concat(Dd,"-left")]:ie(n)&&e&&ie(e.x)&&n<e.x,["".concat(Dd,"-bottom")]:ie(r)&&e&&ie(e.y)&&r>=e.y,["".concat(Dd,"-top")]:ie(r)&&e&&ie(e.y)&&r<e.y})}function dN(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=t;if(a&&ie(a[r]))return a[r];var c=n[r]-s-(i>0?i:0),d=n[r]+i;if(e[r])return o[r]?c:d;var f=l[r];if(f==null)return 0;if(o[r]){var p=c,v=f;return p<v?Math.max(d,f):Math.max(c,f)}if(u==null)return 0;var E=d+s,y=f+u;return E>y?Math.max(c,f):Math.max(d,f)}function lX(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function uX(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:o,tooltipBox:s,useTranslate3d:l,viewBox:u}=t,c,d,f;return s.height>0&&s.width>0&&n?(d=dN({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:a,reverseDirection:o,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),f=dN({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:a,reverseDirection:o,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=lX({translateX:d,translateY:f,useTranslate3d:l})):c=oX,{cssProperties:c,cssClasses:sX({translateX:d,translateY:f,coordinate:n})}}function fN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fN(Object(n),!0).forEach(function(r){iA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iA(t,e,n){return(e=cX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cX(t){var e=dX(t,"string");return typeof e=="symbol"?e:e+""}function dX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fX extends b.PureComponent{constructor(){super(...arguments),iA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),iA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:f,viewBox:p,wrapperStyle:v,lastBoundingBox:E,innerRef:y,hasPortalFromProps:_}=this.props,T=typeof u=="number"?u:u.x,S=typeof u=="number"?u:u.y,{cssClasses:w,cssProperties:N}=uX({allowEscapeViewBox:n,coordinate:o,offsetLeft:T,offsetTop:S,position:c,reverseDirection:d,tooltipBox:{height:E.height,width:E.width},useTranslate3d:f,viewBox:p}),O=_?{}:mm(mm({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),I=mm(mm({},O),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},v);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:I,ref:y},a)}}var lF=()=>{var t;return(t=ee(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aA.apply(null,arguments)}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){hX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hX(t,e,n){return(e=pX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pX(t){var e=mX(t,"string");return typeof e=="symbol"?e:e+""}function mX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mN={curveBasisClosed:hW,curveBasisOpen:pW,curveBasis:fW,curveBumpX:X7,curveBumpY:Z7,curveLinearClosed:mW,curveLinear:qy,curveMonotoneX:gW,curveMonotoneY:vW,curveNatural:yW,curveStep:_W,curveStepAfter:EW,curveStepBefore:bW},vv=t=>Ae(t.x)&&Ae(t.y),gN=t=>t.base!=null&&vv(t.base)&&vv(t),kd=t=>t.x,Ld=t=>t.y,gX=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat($h(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=mN["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return mN[n]||qy},vN={connectNulls:!1,type:"linear"},vX=t=>{var{type:e=vN.type,points:n=[],baseLine:r,layout:i,connectNulls:a=vN.connectNulls}=t,o=gX(e,i),s=a?n.filter(vv):n;if(Array.isArray(r)){var l,u=n.map((v,E)=>pN(pN({},v),{},{base:r[E]}));i==="vertical"?l=sm().y(Ld).x1(kd).x0(v=>v.base.x):l=sm().x(kd).y1(Ld).y0(v=>v.base.y);var c=l.defined(gN).curve(o),d=a?u.filter(gN):u;return c(d)}var f;i==="vertical"&&ie(r)?f=sm().y(Ld).x1(kd).x0(r):ie(r)?f=sm().x(kd).y1(Ld).y0(r):f=gz().x(kd).y(Ld);var p=f.defined(vv).curve(o);return p(s)},al=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=ys();if((!n||!n.length)&&!r)return null;var o={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},s=n&&n.length?vX(o):r;return b.createElement("path",aA({},it(t),Dx(t),{className:be("recharts-curve",e),d:s===null?void 0:s,ref:i}))},yX=["x","y","top","left","width","height","className"];function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oA.apply(null,arguments)}function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(r){bX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bX(t,e,n){return(e=EX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EX(t){var e=TX(t,"string");return typeof e=="symbol"?e:e+""}function TX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AX(t,e){if(t==null)return{};var n,r,i=SX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xX=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),wX=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:s}=t,l=AX(t,yX),u=_X({x:e,y:n,top:r,left:i,width:a,height:o},l);return!ie(e)||!ie(n)||!ie(a)||!ie(o)||!ie(r)||!ie(i)?null:b.createElement("path",oA({},Bt(u),{className:be("recharts-cross",s),d:xX(e,n,a,o,r,i)}))};function IX(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){CX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CX(t,e,n){return(e=PX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PX(t){var e=RX(t,"string");return typeof e=="symbol"?e:e+""}function RX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NX=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),uF=(t,e,n)=>t.map(r=>"".concat(NX(r)," ").concat(e,"ms ").concat(n)).join(","),OX=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),th=(t,e)=>Object.keys(e).reduce((n,r)=>bN(bN({},n),{},{[r]:t(r,e[r])}),{});function EN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(n),!0).forEach(function(r){MX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MX(t,e,n){return(e=DX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DX(t){var e=kX(t,"string");return typeof e=="symbol"?e:e+""}function kX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yv=(t,e,n)=>t+(e-t)*n,sA=t=>{var{from:e,to:n}=t;return e!==n},cF=(t,e,n)=>{var r=th((i,a)=>{if(sA(a)){var[o,s]=t(a.from,a.to,a.velocity);return Qt(Qt({},a),{},{from:o,velocity:s})}return a},e);return n<1?th((i,a)=>sA(a)&&r[i]!=null?Qt(Qt({},a),{},{velocity:yv(a.velocity,r[i].velocity,n),from:yv(a.from,r[i].from,n)}):a,e):cF(t,r,n-1)};function LX(t,e,n,r,i,a){var o,s=r.reduce((f,p)=>Qt(Qt({},f),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>th((f,p)=>p.from,s),u=()=>!Object.values(s).filter(sA).length,c=null,d=f=>{o||(o=f);var p=f-o,v=p/n.dt;s=cF(n,s,v),i(Qt(Qt(Qt({},t),e),l())),o=f,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{var f;(f=c)===null||f===void 0||f()})}function VX(t,e,n,r,i,a,o){var s=null,l=i.reduce((d,f)=>{var p=t[f],v=e[f];return p==null||v==null?d:Qt(Qt({},d),{},{[f]:[p,v]})},{}),u,c=d=>{u||(u=d);var f=(d-u)/r,p=th((E,y)=>yv(...y,n(f)),l);if(a(Qt(Qt(Qt({},t),e),p)),f<1)s=o.setTimeout(c);else{var v=th((E,y)=>yv(...y,n(1)),l);a(Qt(Qt(Qt({},t),e),v))}};return()=>(s=o.setTimeout(c),()=>{var d;(d=s)===null||d===void 0||d()})}const UX=(t,e,n,r,i,a)=>{var o=OX(t,e);return n==null?()=>(i(Qt(Qt({},t),e)),()=>{}):n.isStepper===!0?LX(t,e,n,o,i,a):VX(t,e,n,r,o,i,a)};var _v=1e-4,dF=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],fF=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),TN=(t,e)=>n=>{var r=dF(t,e);return fF(r,n)},BX=(t,e)=>n=>{var r=dF(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return fF(i,n)},zX=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},FX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=zX(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},jX=(t,e,n,r)=>{var i=TN(t,n),a=TN(e,r),o=BX(t,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,f=0;f<8;++f){var p=i(d)-c,v=o(d);if(Math.abs(p-c)<_v||v<_v)return a(d);d=s(d-p/v)}return a(d)};return l.isStepper=!1,l},AN=function(){return jX(...FX(...arguments))},$X=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,s,l)=>{var u=-(o-s)*n,c=l*r,d=l+(u-c)*i/1e3,f=l*i/1e3+o;return Math.abs(f-s)<_v&&Math.abs(d)<_v?[s,0]:[f,d]};return a.isStepper=!0,a.dt=i,a},qX=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AN(t);case"spring":return $X();default:if(t.split("(")[0]==="cubic-bezier")return AN(t)}return typeof t=="function"?t:null};function GX(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){i=t.setTimeout(a.bind(null,u),l);return}a(l),i=t.setTimeout(a.bind(null,u));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class HX{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function KX(){return GX(new HX)}var WX=b.createContext(KX);function YX(t,e){var n=b.useContext(WX);return b.useMemo(()=>e??n(t),[t,e,n])}var QX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Jh={isSsr:QX()},JX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SN={t:0},Wb={t:1};function _s(t){var e=We(t,JX),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=e,c=n==="auto"?!Jh.isSsr:n,d=YX(e.animationId,e.animationManager),[f,p]=b.useState(c?SN:Wb),v=b.useRef(null);return b.useEffect(()=>{c||p(Wb)},[c]),b.useEffect(()=>{if(!c||!r)return wi;var E=UX(SN,Wb,qX(a),i,p,d.getTimeoutController()),y=()=>{v.current=E()};return d.start([l,o,y,i,s]),()=>{d.stop(),v.current&&v.current(),s()}},[c,r,i,a,o,l,s,d]),u(f.t)}function bs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(Wf(e)),r=b.useRef(t);return r.current!==t&&(n.current=Wf(e),r.current=t),n.current}var XX=["radius"],ZX=["radius"],xN,wN,IN,CN,PN,RN,NN,ON,MN,DN;function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){eZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eZ(t,e,n){return(e=tZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tZ(t){var e=nZ(t,"string");return typeof e=="symbol"?e:e+""}function nZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(null,arguments)}function VN(t,e){if(t==null)return{};var n,r,i=rZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var UN=(t,e,n,r,i)=>{var a=Lo(n),o=Lo(r),s=Math.min(Math.abs(a)/2,Math.abs(o)/2),l=o>=0?1:-1,u=a>=0?1:-1,c=o>=0&&a>=0||o<0&&a<0?1:0,d;if(s>0&&Array.isArray(i)){for(var f=[0,0,0,0],p=0,v=4;p<v;p++){var E,y=(E=i[p])!==null&&E!==void 0?E:0;f[p]=y>s?s:y}d=wt(xN||(xN=Pi(["M",",",""])),t,e+l*f[0]),f[0]>0&&(d+=wt(wN||(wN=Pi(["A ",",",",0,0,",",",",",""])),f[0],f[0],c,t+u*f[0],e)),d+=wt(IN||(IN=Pi(["L ",",",""])),t+n-u*f[1],e),f[1]>0&&(d+=wt(CN||(CN=Pi(["A ",",",",0,0,",`,
        `,",",""])),f[1],f[1],c,t+n,e+l*f[1])),d+=wt(PN||(PN=Pi(["L ",",",""])),t+n,e+r-l*f[2]),f[2]>0&&(d+=wt(RN||(RN=Pi(["A ",",",",0,0,",`,
        `,",",""])),f[2],f[2],c,t+n-u*f[2],e+r)),d+=wt(NN||(NN=Pi(["L ",",",""])),t+u*f[3],e+r),f[3]>0&&(d+=wt(ON||(ON=Pi(["A ",",",",0,0,",`,
        `,",",""])),f[3],f[3],c,t,e+r-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var _=Math.min(s,i);d=wt(MN||(MN=Pi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*_,_,_,c,t+u*_,e,t+n-u*_,e,_,_,c,t+n,e+l*_,t+n,e+r-l*_,_,_,c,t+n-u*_,e+r,t+u*_,e+r,_,_,c,t,e+r-l*_)}else d=wt(DN||(DN=Pi(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return d},BN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hF=t=>{var e=We(t,BN),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var W=n.current.getTotalLength();W&&i(W)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:u,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:E}=e,y=b.useRef(s),_=b.useRef(l),T=b.useRef(a),S=b.useRef(o),w=b.useMemo(()=>({x:a,y:o,width:s,height:l,radius:u}),[a,o,s,l,u]),N=bs(w,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var O=be("recharts-rectangle",c);if(!E){var I=Bt(e),{radius:P}=I,R=VN(I,XX);return b.createElement("path",bv({},R,{x:Lo(a),y:Lo(o),width:Lo(s),height:Lo(l),radius:typeof u=="number"?u:void 0,className:O,d:UN(a,o,s,l,u)}))}var M=y.current,V=_.current,D=T.current,k=S.current,Q="0px ".concat(r===-1?1:r,"px"),ae="".concat(r,"px 0px"),H=uF(["strokeDasharray"],f,typeof d=="string"?d:BN.animationEasing);return b.createElement(_s,{animationId:N,key:N,canBegin:r>0,duration:f,easing:d,isActive:E,begin:p},W=>{var J=xe(M,s,W),te=xe(V,l,W),ce=xe(D,a,W),Ge=xe(k,o,W);n.current&&(y.current=J,_.current=te,T.current=ce,S.current=Ge);var ke;v?W>0?ke={transition:H,strokeDasharray:ae}:ke={strokeDasharray:Q}:ke={strokeDasharray:ae};var Le=Bt(e),{radius:ct}=Le,$t=VN(Le,ZX);return b.createElement("path",bv({},$t,{radius:typeof u=="number"?u:void 0,className:O,d:UN(ce,Ge,J,te,u),ref:n,style:LN(LN({},ke),e.style)}))})};function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){iZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iZ(t,e,n){return(e=aZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aZ(t){var e=oZ(t,"string");return typeof e=="symbol"?e:e+""}function oZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ev=Math.PI/180,Tv=t=>t*Math.PI/180,sZ=t=>t*180/Math.PI,$e=(t,e,n,r)=>({x:t+Math.cos(-Ev*r)*n,y:e+Math.sin(-Ev*r)*n}),pF=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},lZ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},uZ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=lZ({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:sZ(l),angleInRadian:l}},cZ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},dZ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},fZ=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=uZ({x:n,y:r},e),{innerRadius:o,outerRadius:s}=e;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:u}=cZ(e),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?FN(FN({},e),{},{radius:i,angle:dZ(c,e)}):null};function mF(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=$e(e,n,r,i),s=$e(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var jN,$N,qN,GN,HN,KN,WN;function lA(){return lA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lA.apply(null,arguments)}function Ys(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var hZ=(t,e)=>{var n=fn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},gm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=t,u=s*(o?1:-1)+r,c=Math.asin(s/u)/Ev,d=l?i:i+a*c,f=$e(e,n,u,d),p=$e(e,n,r,d),v=l?i-a*c:i,E=$e(e,n,u*Math.cos(c*Ev),v);return{center:f,circleTangency:p,lineTangency:E,theta:c}},gF=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,s=hZ(a,o),l=a+s,u=$e(e,n,i,a),c=$e(e,n,i,l),d=wt(jN||(jN=Ys(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(s)>180),+(a>l),c.x,c.y);if(r>0){var f=$e(e,n,r,a),p=$e(e,n,r,l);d+=wt($N||($N=Ys(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(s)>180),+(a<=l),f.x,f.y)}else d+=wt(qN||(qN=Ys(["L ",","," Z"])),e,n);return d},pZ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=t,c=fn(u-l),{circleTangency:d,lineTangency:f,theta:p}=gm({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),{circleTangency:v,lineTangency:E,theta:y}=gm({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),_=s?Math.abs(l-u):Math.abs(l-u)-p-y;if(_<0)return o?wt(GN||(GN=Ys(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),f.x,f.y,a,a,a*2,a,a,-a*2):gF({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var T=wt(HN||(HN=Ys(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),f.x,f.y,a,a,+(c<0),d.x,d.y,i,i,+(_>180),+(c<0),v.x,v.y,a,a,+(c<0),E.x,E.y);if(r>0){var{circleTangency:S,lineTangency:w,theta:N}=gm({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:O,lineTangency:I,theta:P}=gm({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),R=s?Math.abs(l-u):Math.abs(l-u)-N-P;if(R<0&&a===0)return"".concat(T,"L").concat(e,",").concat(n,"Z");T+=wt(KN||(KN=Ys(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),I.x,I.y,a,a,+(c<0),O.x,O.y,r,r,+(R>180),+(c>0),S.x,S.y,a,a,+(c<0),w.x,w.y)}else T+=wt(WN||(WN=Ys(["L",",","Z"])),e,n);return T},mZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vF=t=>{var e=We(t,mZ),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=e;if(a<i||u===c)return null;var f=be("recharts-sector",d),p=a-i,v=Un(o,p,0,!0),E;return v>0&&Math.abs(u-c)<360?E=pZ({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):E=gF({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),b.createElement("path",lA({},Bt(e),{className:f,d:E}))};function gZ(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(Oz(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:s}=e,l=$e(r,i,a,s),u=$e(r,i,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return mF(e)}}var yF={},_F={},bF={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$x;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(bF);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bF;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(_F);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qx,n=_F;function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=o;return l}t.range=r})(yF);var vZ=yF.range;const EF=ri(vZ);function Wo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sw(t){let e,n,r;t.length!==2?(e=Wo,n=(s,l)=>Wo(t(s),l),r=(s,l)=>t(s)-l):(e=t===Wo||t===yZ?t:_Z,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function _Z(){return 0}function TF(t){return t===null?NaN:+t}function*bZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const EZ=sw(Wo),Xh=EZ.right;sw(TF).center;class YN extends Map{constructor(e,n=SZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QN(this,e))}has(e){return super.has(QN(this,e))}set(e,n){return super.set(TZ(this,e),n)}delete(e){return super.delete(AZ(this,e))}}function QN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function TZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function AZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function SZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xZ(t=Wo){if(t===Wo)return AF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function AF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wZ=Math.sqrt(50),IZ=Math.sqrt(10),CZ=Math.sqrt(2);function Av(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=wZ?10:a>=IZ?5:a>=CZ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Av(t,e,n*2):[s,l,u]}function uA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Av(e,t,n):Av(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function cA(t,e,n){return e=+e,t=+t,n=+n,Av(t,e,n)[2]}function dA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?cA(e,t,n):cA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function JN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function XN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function SF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?AF:xZ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*d/l+f)),v=Math.min(r,Math.floor(e+(l-u)*d/l+f));SF(t,e,p,v,i)}const a=t[e];let o=n,s=r;for(Vd(t,n,e),i(t[r],a)>0&&Vd(t,n,r);o<s;){for(Vd(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Vd(t,n,s):(++s,Vd(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Vd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function PZ(t,e,n){if(t=Float64Array.from(bZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return XN(t);if(e>=1)return JN(t);var r,i=(r-1)*e,a=Math.floor(i),o=JN(SF(t,a).subarray(0,a+1)),s=XN(t.subarray(a+1));return o+(s-o)*(i-a)}}function RZ(t,e,n=TF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function NZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function oi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const fA=Symbol("implicit");function lw(){var t=new YN,e=[],n=[],r=fA;function i(a){let o=t.get(a);if(o===void 0){if(r!==fA)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new YN;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lw(e,n).unknown(r)},oi.apply(i,arguments),i}function uw(){var t=lw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var f=e().length,p=i<r,v=p?i:r,E=p?r:i;a=(E-v)/Math.max(1,f-l+u*2),s&&(a=Math.floor(a)),v+=(E-v-a*(f-l))*c,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var y=NZ(f).map(function(_){return v+a*_});return n(p?y.reverse():y)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(s=!!f,d()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},t.copy=function(){return uw(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},oi.apply(d(),arguments)}function xF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xF(e())},t}function OZ(){return xF(uw.apply(null,arguments).paddingInner(1))}function cw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zh(){}var nh=.7,Sv=1/nh,qu="\\s*([+-]?\\d+)\\s*",rh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MZ=/^#([0-9a-f]{3,8})$/,DZ=new RegExp(`^rgb\\(${qu},${qu},${qu}\\)$`),kZ=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),LZ=new RegExp(`^rgba\\(${qu},${qu},${qu},${rh}\\)$`),VZ=new RegExp(`^rgba\\(${zi},${zi},${zi},${rh}\\)$`),UZ=new RegExp(`^hsl\\(${rh},${zi},${zi}\\)$`),BZ=new RegExp(`^hsla\\(${rh},${zi},${zi},${rh}\\)$`),ZN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cw(Zh,ih,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eO,formatHex:eO,formatHex8:zZ,formatHsl:FZ,formatRgb:tO,toString:tO});function eO(){return this.rgb().formatHex()}function zZ(){return this.rgb().formatHex8()}function FZ(){return IF(this).formatHsl()}function tO(){return this.rgb().formatRgb()}function ih(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=MZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nO(e):n===3?new ir(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?vm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?vm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=DZ.exec(t))?new ir(e[1],e[2],e[3],1):(e=kZ.exec(t))?new ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=LZ.exec(t))?vm(e[1],e[2],e[3],e[4]):(e=VZ.exec(t))?vm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=UZ.exec(t))?aO(e[1],e[2]/100,e[3]/100,1):(e=BZ.exec(t))?aO(e[1],e[2]/100,e[3]/100,e[4]):ZN.hasOwnProperty(t)?nO(ZN[t]):t==="transparent"?new ir(NaN,NaN,NaN,0):null}function nO(t){return new ir(t>>16&255,t>>8&255,t&255,1)}function vm(t,e,n,r){return r<=0&&(t=e=n=NaN),new ir(t,e,n,r)}function jZ(t){return t instanceof Zh||(t=ih(t)),t?(t=t.rgb(),new ir(t.r,t.g,t.b,t.opacity)):new ir}function hA(t,e,n,r){return arguments.length===1?jZ(t):new ir(t,e,n,r??1)}function ir(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cw(ir,hA,wF(Zh,{brighter(t){return t=t==null?Sv:Math.pow(Sv,t),new ir(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?nh:Math.pow(nh,t),new ir(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ir(ol(this.r),ol(this.g),ol(this.b),xv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rO,formatHex:rO,formatHex8:$Z,formatRgb:iO,toString:iO}));function rO(){return`#${Qs(this.r)}${Qs(this.g)}${Qs(this.b)}`}function $Z(){return`#${Qs(this.r)}${Qs(this.g)}${Qs(this.b)}${Qs((isNaN(this.opacity)?1:this.opacity)*255)}`}function iO(){const t=xv(this.opacity);return`${t===1?"rgb(":"rgba("}${ol(this.r)}, ${ol(this.g)}, ${ol(this.b)}${t===1?")":`, ${t})`}`}function xv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ol(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qs(t){return t=ol(t),(t<16?"0":"")+t.toString(16)}function aO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new pi(t,e,n,r)}function IF(t){if(t instanceof pi)return new pi(t.h,t.s,t.l,t.opacity);if(t instanceof Zh||(t=ih(t)),!t)return new pi;if(t instanceof pi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new pi(o,s,l,t.opacity)}function qZ(t,e,n,r){return arguments.length===1?IF(t):new pi(t,e,n,r??1)}function pi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cw(pi,qZ,wF(Zh,{brighter(t){return t=t==null?Sv:Math.pow(Sv,t),new pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?nh:Math.pow(nh,t),new pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ir(Yb(t>=240?t-240:t+120,i,r),Yb(t,i,r),Yb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new pi(oO(this.h),ym(this.s),ym(this.l),xv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xv(this.opacity);return`${t===1?"hsl(":"hsla("}${oO(this.h)}, ${ym(this.s)*100}%, ${ym(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oO(t){return t=(t||0)%360,t<0?t+360:t}function ym(t){return Math.max(0,Math.min(1,t||0))}function Yb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dw=t=>()=>t;function GZ(t,e){return function(n){return t+n*e}}function HZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function KZ(t){return(t=+t)==1?CF:function(e,n){return n-e?HZ(e,n,t):dw(isNaN(e)?n:e)}}function CF(t,e){var n=e-t;return n?GZ(t,n):dw(isNaN(t)?e:t)}const sO=function t(e){var n=KZ(e);function r(i,a){var o=n((i=hA(i)).r,(a=hA(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=CF(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function WZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function YZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function QZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Vc(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function JZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function wv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function XZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Vc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var pA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qb=new RegExp(pA.source,"g");function ZZ(t){return function(){return t}}function eee(t){return function(e){return t(e)+""}}function tee(t,e){var n=pA.lastIndex=Qb.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=pA.exec(t))&&(i=Qb.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:wv(r,i)})),n=Qb.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?eee(l[0].x):ZZ(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Vc(t,e){var n=typeof e,r;return e==null||n==="boolean"?dw(e):(n==="number"?wv:n==="string"?(r=ih(e))?(e=r,sO):tee:e instanceof ih?sO:e instanceof Date?JZ:YZ(e)?WZ:Array.isArray(e)?QZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?XZ:wv)(t,e)}function fw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function nee(t,e){e===void 0&&(e=t,t=Vc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function ree(t){return function(){return t}}function Iv(t){return+t}var lO=[0,1];function Gn(t){return t}function mA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ree(isNaN(e)?NaN:.5)}function iee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function aee(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=mA(i,r),a=n(o,a)):(r=mA(r,i),a=n(a,o)),function(s){return a(r(s))}}function oee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=mA(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Xh(t,s,1,r)-1;return a[l](i[l](s))}}function ep(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function v0(){var t=lO,e=lO,n=Vc,r,i,a,o=Gn,s,l,u;function c(){var f=Math.min(t.length,e.length);return o!==Gn&&(o=iee(t[0],t[f-1])),s=f>2?oee:aee,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=s(t.map(r),e,n)))(r(o(f)))}return d.invert=function(f){return o(i((u||(u=s(e,t.map(r),wv)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Iv),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=fw,c()},d.clamp=function(f){return arguments.length?(o=f?!0:Gn,c()):o!==Gn},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,p){return r=f,i=p,c()}}function hw(){return v0()(Gn,Gn)}function see(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cv(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function hc(t){return t=Cv(Math.abs(t)),t?t[1]:NaN}function lee(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function uee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var cee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ah(t){if(!(e=cee.exec(t)))throw new Error("invalid format: "+t);var e;return new pw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ah.prototype=pw.prototype;function pw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Pv;function fee(t,e){var n=Cv(t,e);if(!n)return Pv=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Pv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Cv(t,Math.max(0,e+a-1))[0]}function uO(t,e){var n=Cv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:see,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uO(t*100,e),r:uO,s:fee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dO(t){return t}var fO=Array.prototype.map,hO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hee(t){var e=t.grouping===void 0||t.thousands===void 0?dO:lee(fO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?dO:uee(fO.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d,f){d=ah(d);var p=d.fill,v=d.align,E=d.sign,y=d.symbol,_=d.zero,T=d.width,S=d.comma,w=d.precision,N=d.trim,O=d.type;O==="n"?(S=!0,O="g"):cO[O]||(w===void 0&&(w=12),N=!0,O="g"),(_||p==="0"&&v==="=")&&(_=!0,p="0",v="=");var I=(f&&f.prefix!==void 0?f.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),P=(y==="$"?r:/[%p]/.test(O)?o:"")+(f&&f.suffix!==void 0?f.suffix:""),R=cO[O],M=/[defgprs%]/.test(O);w=w===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function V(D){var k=I,Q=P,ae,H,W;if(O==="c")Q=R(D)+Q,D="";else{D=+D;var J=D<0||1/D<0;if(D=isNaN(D)?l:R(Math.abs(D),w),N&&(D=dee(D)),J&&+D==0&&E!=="+"&&(J=!1),k=(J?E==="("?E:s:E==="-"||E==="("?"":E)+k,Q=(O==="s"&&!isNaN(D)&&Pv!==void 0?hO[8+Pv/3]:"")+Q+(J&&E==="("?")":""),M){for(ae=-1,H=D.length;++ae<H;)if(W=D.charCodeAt(ae),48>W||W>57){Q=(W===46?i+D.slice(ae+1):D.slice(ae))+Q,D=D.slice(0,ae);break}}}S&&!_&&(D=e(D,1/0));var te=k.length+D.length+Q.length,ce=te<T?new Array(T-te+1).join(p):"";switch(S&&_&&(D=e(ce+D,ce.length?T-Q.length:1/0),ce=""),v){case"<":D=k+D+Q+ce;break;case"=":D=k+ce+D+Q;break;case"^":D=ce.slice(0,te=ce.length>>1)+k+D+Q+ce.slice(te);break;default:D=ce+k+D+Q;break}return a(D)}return V.toString=function(){return d+""},V}function c(d,f){var p=Math.max(-8,Math.min(8,Math.floor(hc(f)/3)))*3,v=Math.pow(10,-p),E=u((d=ah(d),d.type="f",d),{suffix:hO[8+p/3]});return function(y){return E(v*y)}}return{format:u,formatPrefix:c}}var _m,mw,PF;pee({thousands:",",grouping:[3],currency:["$",""]});function pee(t){return _m=hee(t),mw=_m.format,PF=_m.formatPrefix,_m}function mee(t){return Math.max(0,-hc(Math.abs(t)))}function gee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hc(e)/3)))*3-hc(Math.abs(t)))}function vee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hc(e)-hc(t))+1}function RF(t,e,n,r){var i=dA(t,e,n),a;switch(r=ah(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=gee(i,o))&&(r.precision=a),PF(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=vee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=mee(i))&&(r.precision=a-(r.type==="%")*2);break}}return mw(r)}function Es(t){var e=t.domain;return t.ticks=function(n){var r=e();return uA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return RF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=cA(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function NF(){var t=hw();return t.copy=function(){return ep(t,NF())},oi.apply(t,arguments),Es(t)}function OF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Iv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return OF(t).unknown(e)},t=arguments.length?Array.from(t,Iv):[0,1],Es(n)}function MF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function pO(t){return Math.log(t)}function mO(t){return Math.exp(t)}function yee(t){return-Math.log(-t)}function _ee(t){return-Math.exp(-t)}function bee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Eee(t){return t===10?bee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Tee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gO(t){return(e,n)=>-t(-e,n)}function gw(t){const e=t(pO,mO),n=e.domain;let r=10,i,a;function o(){return i=Tee(r),a=Eee(r),n()[0]<0?(i=gO(i),a=gO(a),t(yee,_ee)):t(pO,mO),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),p=i(c),v,E;const y=s==null?10:+s;let _=[];if(!(r%1)&&p-f<y){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(v=1;v<r;++v)if(E=f<0?v/a(-f):v*a(f),!(E<u)){if(E>c)break;_.push(E)}}else for(;f<=p;++f)for(v=r-1;v>=1;--v)if(E=f>0?v/a(-f):v*a(f),!(E<u)){if(E>c)break;_.push(E)}_.length*2<y&&(_=uA(u,c,y))}else _=uA(f,p,Math.min(p-f,y)).map(a);return d?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ah(l)).precision==null&&(l.trim=!0),l=mw(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(MF(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function DF(){const t=gw(v0()).domain([1,10]);return t.copy=()=>ep(t,DF()).base(t.base()),oi.apply(t,arguments),t}function vO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vw(t){var e=1,n=t(vO(e),yO(e));return n.constant=function(r){return arguments.length?t(vO(e=+r),yO(e)):e},Es(n)}function kF(){var t=vw(v0());return t.copy=function(){return ep(t,kF()).constant(t.constant())},oi.apply(t,arguments)}function _O(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Aee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function See(t){return t<0?-t*t:t*t}function yw(t){var e=t(Gn,Gn),n=1;function r(){return n===1?t(Gn,Gn):n===.5?t(Aee,See):t(_O(n),_O(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Es(e)}function _w(){var t=yw(v0());return t.copy=function(){return ep(t,_w()).exponent(t.exponent())},oi.apply(t,arguments),t}function xee(){return _w.apply(null,arguments).exponent(.5)}function bO(t){return Math.sign(t)*t*t}function wee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function LF(){var t=hw(),e=[0,1],n=!1,r;function i(a){var o=wee(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(bO(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Iv)).map(bO)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return LF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},oi.apply(i,arguments),Es(i)}function VF(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=RZ(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Xh(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Wo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return VF().domain(t).range(e).unknown(r)},oi.apply(a,arguments)}function UF(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Xh(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return UF().domain([t,e]).range(i).unknown(a)},oi.apply(Es(o),arguments)}function BF(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Xh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return BF().domain(t).range(e).unknown(n)},oi.apply(i,arguments)}const Jb=new Date,Xb=new Date;function nn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>nn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Jb.setTime(+a),Xb.setTime(+o),t(Jb),t(Xb),Math.floor(n(Jb,Xb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Rv=nn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Rv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Rv);Rv.range;const va=1e3,qr=va*60,ya=qr*60,Va=ya*24,bw=Va*7,EO=Va*30,Zb=Va*365,Js=nn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getUTCSeconds());Js.range;const Ew=nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*va)},(t,e)=>{t.setTime(+t+e*qr)},(t,e)=>(e-t)/qr,t=>t.getMinutes());Ew.range;const Tw=nn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qr)},(t,e)=>(e-t)/qr,t=>t.getUTCMinutes());Tw.range;const Aw=nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*va-t.getMinutes()*qr)},(t,e)=>{t.setTime(+t+e*ya)},(t,e)=>(e-t)/ya,t=>t.getHours());Aw.range;const Sw=nn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ya)},(t,e)=>(e-t)/ya,t=>t.getUTCHours());Sw.range;const tp=nn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qr)/Va,t=>t.getDate()-1);tp.range;const y0=nn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Va,t=>t.getUTCDate()-1);y0.range;const zF=nn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Va,t=>Math.floor(t/Va));zF.range;function zl(t){return nn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*qr)/bw)}const _0=zl(0),Nv=zl(1),Iee=zl(2),Cee=zl(3),pc=zl(4),Pee=zl(5),Ree=zl(6);_0.range;Nv.range;Iee.range;Cee.range;pc.range;Pee.range;Ree.range;function Fl(t){return nn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bw)}const b0=Fl(0),Ov=Fl(1),Nee=Fl(2),Oee=Fl(3),mc=Fl(4),Mee=Fl(5),Dee=Fl(6);b0.range;Ov.range;Nee.range;Oee.range;mc.range;Mee.range;Dee.range;const xw=nn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xw.range;const ww=nn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ww.range;const Ua=nn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ua.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ua.range;const Ba=nn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ba.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ba.range;function FF(t,e,n,r,i,a){const o=[[Js,1,va],[Js,5,5*va],[Js,15,15*va],[Js,30,30*va],[a,1,qr],[a,5,5*qr],[a,15,15*qr],[a,30,30*qr],[i,1,ya],[i,3,3*ya],[i,6,6*ya],[i,12,12*ya],[r,1,Va],[r,2,2*Va],[n,1,bw],[e,1,EO],[e,3,3*EO],[t,1,Zb]];function s(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),v=p?p.range(u,+c+1):[];return f?v.reverse():v}function l(u,c,d){const f=Math.abs(c-u)/d,p=sw(([,,y])=>y).right(o,f);if(p===o.length)return t.every(dA(u/Zb,c/Zb,d));if(p===0)return Rv.every(Math.max(dA(u,c,d),1));const[v,E]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return v.every(E)}return[s,l]}const[kee,Lee]=FF(Ba,ww,b0,zF,Sw,Tw),[Vee,Uee]=FF(Ua,xw,_0,tp,Aw,Ew);function eE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ud(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Bee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Bd(i),c=zd(i),d=Bd(a),f=zd(a),p=Bd(o),v=zd(o),E=Bd(s),y=zd(s),_=Bd(l),T=zd(l),S={a:W,A:J,b:te,B:ce,c:null,d:IO,e:IO,f:lte,g:yte,G:bte,H:ate,I:ote,j:ste,L:jF,m:ute,M:cte,p:Ge,q:ke,Q:RO,s:NO,S:dte,u:fte,U:hte,V:pte,w:mte,W:gte,x:null,X:null,y:vte,Y:_te,Z:Ete,"%":PO},w={a:Le,A:ct,b:$t,B:ea,c:null,d:CO,e:CO,f:xte,g:kte,G:Vte,H:Tte,I:Ate,j:Ste,L:qF,m:wte,M:Ite,p:Lt,q:Ci,Q:RO,s:NO,S:Cte,u:Pte,U:Rte,V:Nte,w:Ote,W:Mte,x:null,X:null,y:Dte,Y:Lte,Z:Ute,"%":PO},N={a:M,A:V,b:D,B:k,c:Q,d:xO,e:xO,f:tte,g:SO,G:AO,H:wO,I:wO,j:Jee,L:ete,m:Qee,M:Xee,p:R,q:Yee,Q:rte,s:ite,S:Zee,u:qee,U:Gee,V:Hee,w:$ee,W:Kee,x:ae,X:H,y:SO,Y:AO,Z:Wee,"%":nte};S.x=O(n,S),S.X=O(r,S),S.c=O(e,S),w.x=O(n,w),w.X=O(r,w),w.c=O(e,w);function O(Y,ge){return function(j){var $=[],et=-1,He=0,vn=Y.length,Cn,ta,Cp;for(j instanceof Date||(j=new Date(+j));++et<vn;)Y.charCodeAt(et)===37&&($.push(Y.slice(He,et)),(ta=TO[Cn=Y.charAt(++et)])!=null?Cn=Y.charAt(++et):ta=Cn==="e"?" ":"0",(Cp=ge[Cn])&&(Cn=Cp(j,ta)),$.push(Cn),He=et+1);return $.push(Y.slice(He,et)),$.join("")}}function I(Y,ge){return function(j){var $=Ud(1900,void 0,1),et=P($,Y,j+="",0),He,vn;if(et!=j.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(ge&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(He=tE(Ud($.y,0,1)),vn=He.getUTCDay(),He=vn>4||vn===0?Ov.ceil(He):Ov(He),He=y0.offset(He,($.V-1)*7),$.y=He.getUTCFullYear(),$.m=He.getUTCMonth(),$.d=He.getUTCDate()+($.w+6)%7):(He=eE(Ud($.y,0,1)),vn=He.getDay(),He=vn>4||vn===0?Nv.ceil(He):Nv(He),He=tp.offset(He,($.V-1)*7),$.y=He.getFullYear(),$.m=He.getMonth(),$.d=He.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),vn="Z"in $?tE(Ud($.y,0,1)).getUTCDay():eE(Ud($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(vn+5)%7:$.w+$.U*7-(vn+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,tE($)):eE($)}}function P(Y,ge,j,$){for(var et=0,He=ge.length,vn=j.length,Cn,ta;et<He;){if($>=vn)return-1;if(Cn=ge.charCodeAt(et++),Cn===37){if(Cn=ge.charAt(et++),ta=N[Cn in TO?ge.charAt(et++):Cn],!ta||($=ta(Y,j,$))<0)return-1}else if(Cn!=j.charCodeAt($++))return-1}return $}function R(Y,ge,j){var $=u.exec(ge.slice(j));return $?(Y.p=c.get($[0].toLowerCase()),j+$[0].length):-1}function M(Y,ge,j){var $=p.exec(ge.slice(j));return $?(Y.w=v.get($[0].toLowerCase()),j+$[0].length):-1}function V(Y,ge,j){var $=d.exec(ge.slice(j));return $?(Y.w=f.get($[0].toLowerCase()),j+$[0].length):-1}function D(Y,ge,j){var $=_.exec(ge.slice(j));return $?(Y.m=T.get($[0].toLowerCase()),j+$[0].length):-1}function k(Y,ge,j){var $=E.exec(ge.slice(j));return $?(Y.m=y.get($[0].toLowerCase()),j+$[0].length):-1}function Q(Y,ge,j){return P(Y,e,ge,j)}function ae(Y,ge,j){return P(Y,n,ge,j)}function H(Y,ge,j){return P(Y,r,ge,j)}function W(Y){return o[Y.getDay()]}function J(Y){return a[Y.getDay()]}function te(Y){return l[Y.getMonth()]}function ce(Y){return s[Y.getMonth()]}function Ge(Y){return i[+(Y.getHours()>=12)]}function ke(Y){return 1+~~(Y.getMonth()/3)}function Le(Y){return o[Y.getUTCDay()]}function ct(Y){return a[Y.getUTCDay()]}function $t(Y){return l[Y.getUTCMonth()]}function ea(Y){return s[Y.getUTCMonth()]}function Lt(Y){return i[+(Y.getUTCHours()>=12)]}function Ci(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ge=O(Y+="",S);return ge.toString=function(){return Y},ge},parse:function(Y){var ge=I(Y+="",!1);return ge.toString=function(){return Y},ge},utcFormat:function(Y){var ge=O(Y+="",w);return ge.toString=function(){return Y},ge},utcParse:function(Y){var ge=I(Y+="",!0);return ge.toString=function(){return Y},ge}}}var TO={"-":"",_:" ",0:"0"},pn=/^\s*\d+/,zee=/^%/,Fee=/[\\^$*+?|[\]().{}]/g;function Be(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function jee(t){return t.replace(Fee,"\\$&")}function Bd(t){return new RegExp("^(?:"+t.map(jee).join("|")+")","i")}function zd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $ee(t,e,n){var r=pn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qee(t,e,n){var r=pn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Gee(t,e,n){var r=pn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Hee(t,e,n){var r=pn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Kee(t,e,n){var r=pn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function AO(t,e,n){var r=pn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function SO(t,e,n){var r=pn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Yee(t,e,n){var r=pn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Qee(t,e,n){var r=pn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function xO(t,e,n){var r=pn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Jee(t,e,n){var r=pn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function wO(t,e,n){var r=pn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Xee(t,e,n){var r=pn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Zee(t,e,n){var r=pn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ete(t,e,n){var r=pn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function tte(t,e,n){var r=pn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function nte(t,e,n){var r=zee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function rte(t,e,n){var r=pn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ite(t,e,n){var r=pn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function IO(t,e){return Be(t.getDate(),e,2)}function ate(t,e){return Be(t.getHours(),e,2)}function ote(t,e){return Be(t.getHours()%12||12,e,2)}function ste(t,e){return Be(1+tp.count(Ua(t),t),e,3)}function jF(t,e){return Be(t.getMilliseconds(),e,3)}function lte(t,e){return jF(t,e)+"000"}function ute(t,e){return Be(t.getMonth()+1,e,2)}function cte(t,e){return Be(t.getMinutes(),e,2)}function dte(t,e){return Be(t.getSeconds(),e,2)}function fte(t){var e=t.getDay();return e===0?7:e}function hte(t,e){return Be(_0.count(Ua(t)-1,t),e,2)}function $F(t){var e=t.getDay();return e>=4||e===0?pc(t):pc.ceil(t)}function pte(t,e){return t=$F(t),Be(pc.count(Ua(t),t)+(Ua(t).getDay()===4),e,2)}function mte(t){return t.getDay()}function gte(t,e){return Be(Nv.count(Ua(t)-1,t),e,2)}function vte(t,e){return Be(t.getFullYear()%100,e,2)}function yte(t,e){return t=$F(t),Be(t.getFullYear()%100,e,2)}function _te(t,e){return Be(t.getFullYear()%1e4,e,4)}function bte(t,e){var n=t.getDay();return t=n>=4||n===0?pc(t):pc.ceil(t),Be(t.getFullYear()%1e4,e,4)}function Ete(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Be(e/60|0,"0",2)+Be(e%60,"0",2)}function CO(t,e){return Be(t.getUTCDate(),e,2)}function Tte(t,e){return Be(t.getUTCHours(),e,2)}function Ate(t,e){return Be(t.getUTCHours()%12||12,e,2)}function Ste(t,e){return Be(1+y0.count(Ba(t),t),e,3)}function qF(t,e){return Be(t.getUTCMilliseconds(),e,3)}function xte(t,e){return qF(t,e)+"000"}function wte(t,e){return Be(t.getUTCMonth()+1,e,2)}function Ite(t,e){return Be(t.getUTCMinutes(),e,2)}function Cte(t,e){return Be(t.getUTCSeconds(),e,2)}function Pte(t){var e=t.getUTCDay();return e===0?7:e}function Rte(t,e){return Be(b0.count(Ba(t)-1,t),e,2)}function GF(t){var e=t.getUTCDay();return e>=4||e===0?mc(t):mc.ceil(t)}function Nte(t,e){return t=GF(t),Be(mc.count(Ba(t),t)+(Ba(t).getUTCDay()===4),e,2)}function Ote(t){return t.getUTCDay()}function Mte(t,e){return Be(Ov.count(Ba(t)-1,t),e,2)}function Dte(t,e){return Be(t.getUTCFullYear()%100,e,2)}function kte(t,e){return t=GF(t),Be(t.getUTCFullYear()%100,e,2)}function Lte(t,e){return Be(t.getUTCFullYear()%1e4,e,4)}function Vte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?mc(t):mc.ceil(t),Be(t.getUTCFullYear()%1e4,e,4)}function Ute(){return"+0000"}function PO(){return"%"}function RO(t){return+t}function NO(t){return Math.floor(+t/1e3)}var eu,HF,KF;Bte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bte(t){return eu=Bee(t),HF=eu.format,eu.parse,KF=eu.utcFormat,eu.utcParse,eu}function zte(t){return new Date(t)}function Fte(t){return t instanceof Date?+t:+new Date(+t)}function Iw(t,e,n,r,i,a,o,s,l,u){var c=hw(),d=c.invert,f=c.domain,p=u(".%L"),v=u(":%S"),E=u("%I:%M"),y=u("%I %p"),_=u("%a %d"),T=u("%b %d"),S=u("%B"),w=u("%Y");function N(O){return(l(O)<O?p:s(O)<O?v:o(O)<O?E:a(O)<O?y:r(O)<O?i(O)<O?_:T:n(O)<O?S:w)(O)}return c.invert=function(O){return new Date(d(O))},c.domain=function(O){return arguments.length?f(Array.from(O,Fte)):f().map(zte)},c.ticks=function(O){var I=f();return t(I[0],I[I.length-1],O??10)},c.tickFormat=function(O,I){return I==null?N:u(I)},c.nice=function(O){var I=f();return(!O||typeof O.range!="function")&&(O=e(I[0],I[I.length-1],O??10)),O?f(MF(I,O)):c},c.copy=function(){return ep(c,Iw(t,e,n,r,i,a,o,s,l,u))},c}function jte(){return oi.apply(Iw(Vee,Uee,Ua,xw,_0,tp,Aw,Ew,Js,HF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $te(){return oi.apply(Iw(kee,Lee,Ba,ww,b0,y0,Sw,Tw,Js,KF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function E0(){var t=0,e=1,n,r,i,a,o=Gn,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(f){var p,v;return arguments.length?([p,v]=f,o=d(p,v),u):[o(0),o(1)]}}return u.range=c(Vc),u.rangeRound=c(fw),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Ts(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WF(){var t=Es(E0()(Gn));return t.copy=function(){return Ts(t,WF())},Xa.apply(t,arguments)}function YF(){var t=gw(E0()).domain([1,10]);return t.copy=function(){return Ts(t,YF()).base(t.base())},Xa.apply(t,arguments)}function QF(){var t=vw(E0());return t.copy=function(){return Ts(t,QF()).constant(t.constant())},Xa.apply(t,arguments)}function Cw(){var t=yw(E0());return t.copy=function(){return Ts(t,Cw()).exponent(t.exponent())},Xa.apply(t,arguments)}function qte(){return Cw.apply(null,arguments).exponent(.5)}function JF(){var t=[],e=Gn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Xh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Wo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>PZ(t,a/r))},n.copy=function(){return JF(e).domain(t)},Xa.apply(n,arguments)}function T0(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Gn,c,d=!1,f;function p(E){return isNaN(E=+E)?f:(E=.5+((E=+c(E))-a)*(r*E<r*a?s:l),u(d?Math.max(0,Math.min(1,E)):E))}p.domain=function(E){return arguments.length?([t,e,n]=E,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(E){return arguments.length?(d=!!E,p):d},p.interpolator=function(E){return arguments.length?(u=E,p):u};function v(E){return function(y){var _,T,S;return arguments.length?([_,T,S]=y,u=nee(E,[_,T,S]),p):[u(0),u(.5),u(1)]}}return p.range=v(Vc),p.rangeRound=v(fw),p.unknown=function(E){return arguments.length?(f=E,p):f},function(E){return c=E,i=E(t),a=E(e),o=E(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function XF(){var t=Es(T0()(Gn));return t.copy=function(){return Ts(t,XF())},Xa.apply(t,arguments)}function ZF(){var t=gw(T0()).domain([.1,1,10]);return t.copy=function(){return Ts(t,ZF()).base(t.base())},Xa.apply(t,arguments)}function ej(){var t=vw(T0());return t.copy=function(){return Ts(t,ej()).constant(t.constant())},Xa.apply(t,arguments)}function Pw(){var t=yw(T0());return t.copy=function(){return Ts(t,Pw()).exponent(t.exponent())},Xa.apply(t,arguments)}function Gte(){return Pw.apply(null,arguments).exponent(.5)}const tf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uw,scaleDiverging:XF,scaleDivergingLog:ZF,scaleDivergingPow:Pw,scaleDivergingSqrt:Gte,scaleDivergingSymlog:ej,scaleIdentity:OF,scaleImplicit:fA,scaleLinear:NF,scaleLog:DF,scaleOrdinal:lw,scalePoint:OZ,scalePow:_w,scaleQuantile:VF,scaleQuantize:UF,scaleRadial:LF,scaleSequential:WF,scaleSequentialLog:YF,scaleSequentialPow:Cw,scaleSequentialQuantile:JF,scaleSequentialSqrt:qte,scaleSequentialSymlog:QF,scaleSqrt:xee,scaleSymlog:kF,scaleThreshold:BF,scaleTime:jte,scaleUtc:$te,tickFormat:RF},Symbol.toStringTag,{value:"Module"}));var Za=t=>t.chartData,np=U([Za],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),A0=(t,e,n,r)=>r?np(t):Za(t),tj=(t,e,n)=>n?np(t):Za(t);function za(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ae(e)&&Ae(n))return!0}return!1}function OO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function nj(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Ae(n))i=n;else if(typeof n=="function")return;if(Ae(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(za(o))return o}}function Hte(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(za(r))return OO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,s;if(i==="auto")e!=null&&(o=Math.min(...e));else if(ie(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&QR.test(i)){var l=QR.exec(i);if(l==null||l[1]==null||e==null)o=void 0;else{var u=+l[1];o=e[0]-u}}else o=e==null?void 0:e[0];if(a==="auto")e!=null&&(s=Math.max(...e));else if(ie(a))s=a;else if(typeof a=="function")try{e!=null&&(s=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&JR.test(a)){var c=JR.exec(a);if(c==null||c[1]==null||e==null)s=void 0;else{var d=+c[1];s=e[1]+d}}else s=e==null?void 0:e[1];var f=[o,s];if(za(f))return e==null?f:OO(f,e,n)}}}var Uc=1e9,Kte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Nw,xt=!0,Zr="[DecimalError] ",sl=Zr+"Invalid argument: ",Rw=Zr+"Exponent out of range: ",Bc=Math.floor,Fs=Math.pow,Wte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yr,ln=1e7,vt=7,rj=9007199254740991,Mv=Bc(rj/vt),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*vt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};oe.dividedBy=oe.div=function(t){return Ca(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,n=e.constructor;return ot(Ca(e,new n(t),0,1),n.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return Yt(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(yr))throw Error(Zr+"NaN");if(n.s<1)throw Error(Zr+(n.s?"NaN":"-Infinity"));return n.eq(yr)?new r(0):(xt=!1,e=Ca(oh(n,a),oh(t,a),a),xt=!0,ot(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oj(e,t):ij(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Zr+"NaN");return n.s?(xt=!1,e=Ca(n,t,0,1).times(t),xt=!0,n.minus(e)):ot(new r(n),i)};oe.naturalExponential=oe.exp=function(){return aj(this)};oe.naturalLogarithm=oe.ln=function(){return oh(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ij(e,t):oj(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sl+t);if(e=Yt(i)+1,r=i.d.length-1,n=r*vt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};oe.squareRoot=oe.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Zr+"NaN")}for(t=Yt(s),xt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Li(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Bc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Ca(s,a,o+2)).times(.5),Li(a.d).slice(0,o)===(e=Li(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ot(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return xt=!0,ot(r,n)};oe.times=oe.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,d=c.constructor,f=c.d,p=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=f.length,u=p.length,l<u&&(a=f,f=p,p=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+p[r]*f[i-r-1]+e,a[i--]=s%ln|0,e=s/ln|0;a[i]=(a[i]+e)%ln|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,xt?ot(t,d.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ki(t,0,Uc),e===void 0?e=r.rounding:Ki(e,0,8),ot(n,t+Yt(n)+1,e))};oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Tl(r,!0):(Ki(t,0,Uc),e===void 0?e=i.rounding:Ki(e,0,8),r=ot(new i(r),t+1,e),n=Tl(r,!0,t+1)),n};oe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Tl(i):(Ki(t,0,Uc),e===void 0?e=a.rounding:Ki(e,0,8),r=ot(new a(i),t+Yt(i)+1,e),n=Tl(r.abs(),!1,t+Yt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return ot(new e(t),Yt(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(yr);if(s=new l(s),!s.s){if(t.s<1)throw Error(Zr+"Infinity");return s}if(s.eq(yr))return s;if(r=l.precision,t.eq(yr))return ot(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=rj){for(i=new l(yr),e=Math.ceil(r/vt+4),xt=!1;n%2&&(i=i.times(s),DO(i.d,e)),n=Bc(n/2),n!==0;)s=s.times(s),DO(s.d,e);return xt=!0,t.s<0?new l(yr).div(i):ot(i,r)}}else if(a<0)throw Error(Zr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,xt=!1,i=t.times(oh(s,r+u)),xt=!0,i=aj(i),i.s=a,i};oe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Yt(i),r=Tl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ki(t,1,Uc),e===void 0?e=a.rounding:Ki(e,0,8),i=ot(new a(i),t,e),n=Yt(i),r=Tl(i,t<=n||n<=a.toExpNeg,t)),r};oe.toSignificantDigits=oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ki(t,1,Uc),e===void 0?e=r.rounding:Ki(e,0,8)),ot(new r(n),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Yt(t),n=t.constructor;return Tl(t,e<=n.toExpNeg||e>=n.toExpPos)};function ij(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),xt?ot(e,d):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(d/vt),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/ln|0,l[a]%=ln;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,xt?ot(e,d):e}function Ki(t,e,n){if(t!==~~t||t<e||t>n)throw Error(sl+t)}function Li(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=vt-r.length,n&&(a+=_o(n)),a+=r;o=t[e],r=o+"",n=vt-r.length,n&&(a+=_o(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ca=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%ln|0,o=a/ln|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ln+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,d,f,p,v,E,y,_,T,S,w,N,O,I,P,R=r.constructor,M=r.s==i.s?1:-1,V=r.d,D=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Zr+"Division by zero");for(l=r.e-i.e,I=D.length,N=V.length,p=new R(M),v=p.d=[],u=0;D[u]==(V[u]||0);)++u;if(D[u]>(V[u]||0)&&--l,a==null?T=a=R.precision:o?T=a+(Yt(r)-Yt(i))+1:T=a,T<0)return new R(0);if(T=T/vt+2|0,u=0,I==1)for(c=0,D=D[0],T++;(u<N||c)&&T--;u++)S=c*ln+(V[u]||0),v[u]=S/D|0,c=S%D|0;else{for(c=ln/(D[0]+1)|0,c>1&&(D=t(D,c),V=t(V,c),I=D.length,N=V.length),w=I,E=V.slice(0,I),y=E.length;y<I;)E[y++]=0;P=D.slice(),P.unshift(0),O=D[0],D[1]>=ln/2&&++O;do c=0,s=e(D,E,I,y),s<0?(_=E[0],I!=y&&(_=_*ln+(E[1]||0)),c=_/O|0,c>1?(c>=ln&&(c=ln-1),d=t(D,c),f=d.length,y=E.length,s=e(d,E,f,y),s==1&&(c--,n(d,I<f?P:D,f))):(c==0&&(s=c=1),d=D.slice()),f=d.length,f<y&&d.unshift(0),n(E,d,y),s==-1&&(y=E.length,s=e(D,E,I,y),s<1&&(c++,n(E,I<y?P:D,y))),y=E.length):s===0&&(c++,E=[0]),v[u++]=c,s&&E[0]?E[y++]=V[w]||0:(E=[V[w]],y=1);while((w++<N||E[0]!==void 0)&&T--)}return v[0]||v.shift(),p.e=l,ot(p,o?a+Yt(p)+1:a)}}();function aj(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,d=c.precision;if(Yt(t)>16)throw Error(Rw+Yt(t));if(!t.s)return new c(yr);for(xt=!1,s=d,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Fs(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(yr),c.precision=s;;){if(i=ot(i.times(t),s),n=n.times(++l),o=a.plus(Ca(i,n,s)),Li(o.d).slice(0,s)===Li(a.d).slice(0,s)){for(;u--;)a=ot(a.times(a),s);return c.precision=d,e==null?(xt=!0,ot(a,d)):a}a=o}}function Yt(t){for(var e=t.e*vt,n=t.d[0];n>=10;n/=10)e++;return e}function nE(t,e,n){if(e>t.LN10.sd())throw xt=!0,n&&(t.precision=n),Error(Zr+"LN10 precision limit exceeded");return ot(new t(t.LN10),e)}function _o(t){for(var e="";t--;)e+="0";return e}function oh(t,e){var n,r,i,a,o,s,l,u,c,d=1,f=10,p=t,v=p.d,E=p.constructor,y=E.precision;if(p.s<1)throw Error(Zr+(p.s?"NaN":"-Infinity"));if(p.eq(yr))return new E(0);if(e==null?(xt=!1,u=y):u=e,p.eq(10))return e==null&&(xt=!0),nE(E,u);if(u+=f,E.precision=u,n=Li(v),r=n.charAt(0),a=Yt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Li(p.d),r=n.charAt(0),d++;a=Yt(p),r>1?(p=new E("0."+n),a++):p=new E(r+"."+n.slice(1))}else return l=nE(E,u+2,y).times(a+""),p=oh(new E(r+"."+n.slice(1)),u-f).plus(l),E.precision=y,e==null?(xt=!0,ot(p,y)):p;for(s=o=p=Ca(p.minus(yr),p.plus(yr),u),c=ot(p.times(p),u),i=3;;){if(o=ot(o.times(c),u),l=s.plus(Ca(o,new E(i),u)),Li(l.d).slice(0,u)===Li(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(nE(E,u+2,y).times(a+""))),s=Ca(s,new E(d),u),E.precision=y,e==null?(xt=!0,ot(s,y)):s;s=l,i+=2}}function MO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Bc(n/vt),t.d=[],r=(n+1)%vt,n<0&&(r+=vt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=vt;r<i;)t.d.push(+e.slice(r,r+=vt));e=e.slice(r),r=vt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),xt&&(t.e>Mv||t.e<-Mv))throw Error(Rw+n)}else t.s=0,t.e=0,t.d=[0];return t}function ot(t,e,n){var r,i,a,o,s,l,u,c,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=vt,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/vt),a=d.length,c>=a)return t;for(u=a=d[c],o=1;a>=10;a/=10)o++;r%=vt,i=r-vt+o}if(n!==void 0&&(a=Fs(10,o-i-1),s=u/a%10|0,l=e<0||d[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Fs(10,o-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=Yt(t),d.length=1,e=e-a-1,d[0]=Fs(10,(vt-e%vt)%vt),t.e=Bc(-e/vt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,a=1,c--):(d.length=c+1,a=Fs(10,vt-r),d[c]=i>0?(u/Fs(10,o-i)%Fs(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==ln&&(d[0]=1,++t.e);break}else{if(d[c]+=a,d[c]!=ln)break;d[c--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(xt&&(t.e>Mv||t.e<-Mv))throw Error(Rw+Yt(t));return t}function oj(t,e){var n,r,i,a,o,s,l,u,c,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),xt?ot(e,p):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(p/vt),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=ln-1;--l[a],l[i]+=ln}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,xt?ot(e,p):e):new f(0)}function Tl(t,e,n){var r,i=Yt(t),a=Li(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+_o(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_o(-i-1)+a,n&&(r=n-o)>0&&(a+=_o(r))):i>=o?(a+=_o(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+_o(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=_o(r))),t.s<0?"-"+a:a}function DO(t,e){if(t.length>e)return t.length=e,!0}function sj(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(sl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return MO(o,a.toString())}else if(typeof a!="string")throw Error(sl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Wte.test(a))MO(o,a);else throw Error(sl+a)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=sj,i.config=i.set=Yte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Yte(t){if(!t||typeof t!="object")throw Error(Zr+"Object expected");var e,n,r,i=["precision",1,Uc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Bc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(sl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sl+n+": "+r);return this}var Nw=sj(Kte);yr=new Nw(1);const Qe=Nw;function lj(t){var e;return t===0?e=1:e=Math.floor(new Qe(t).abs().log(10).toNumber())+1,e}function uj(t,e,n){for(var r=new Qe(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var cj=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},dj=(t,e,n)=>{if(t.lte(0))return new Qe(0);var r=lj(t.toNumber()),i=new Qe(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Qe(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?new Qe(l.toNumber()):new Qe(Math.ceil(l.toNumber()))},Qte=(t,e,n)=>{var r=new Qe(1),i=new Qe(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Qe(10).pow(lj(t)-1),i=new Qe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Qe(Math.floor(t)))}else t===0?i=new Qe(Math.floor((e-1)/2)):n||(i=new Qe(Math.floor(t)));for(var o=Math.floor((e-1)/2),s=[],l=0;l<e;l++)s.push(i.add(new Qe(l-o).mul(r)).toNumber());return s},fj=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var o=dj(new Qe(n).sub(e).div(r-1),i,a),s;e<=0&&n>=0?s=new Qe(0):(s=new Qe(e).add(n).div(2),s=s.sub(new Qe(s).mod(o)));var l=Math.ceil(s.sub(e).div(o).toNumber()),u=Math.ceil(new Qe(n).sub(s).div(o).toNumber()),c=l+u+1;return c>r?fj(e,n,r,i,a+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:o,tickMin:s.sub(new Qe(l).mul(o)),tickMax:s.add(new Qe(u).mul(o))})},Jte=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,l]=cj([n,r]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return n>r?u.reverse():u}if(s===l)return Qte(s,i,a);var{step:c,tickMin:d,tickMax:f}=fj(s,l,o,a,0),p=uj(d,f.add(new Qe(.1).mul(c)),c);return n>r?p.reverse():p},Xte=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=cj([r,i]);if(o===-1/0||s===1/0)return[r,i];if(o===s)return[o];var l=Math.max(n,2),u=dj(new Qe(s).sub(o).div(l-1),a,0),c=[...uj(new Qe(o),new Qe(s),u),s];return a===!1&&(c=c.map(d=>Math.round(d))),r>i?c.reverse():c},hj=t=>t.rootProps.maxBarSize,Zte=t=>t.rootProps.barGap,pj=t=>t.rootProps.barCategoryGap,ene=t=>t.rootProps.barSize,rp=t=>t.rootProps.stackOffset,mj=t=>t.rootProps.reverseStackOrder,Ow=t=>t.options.chartName,Mw=t=>t.rootProps.syncId,gj=t=>t.rootProps.syncMethod,Dw=t=>t.options.eventEmitter,tne=t=>t.rootProps.baseValue,st={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},go={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:st.axis},ci={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:st.axis},S0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function zc(t,e,n){if(n!=="auto")return n;if(t!=null)return ii(t,e)?"category":"number"}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nne(t,e,n){return(e=rne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rne(t){var e=ine(t,"string");return typeof e=="symbol"?e:e+""}function ine(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LO={allowDataOverflow:go.allowDataOverflow,allowDecimals:go.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:go.angleAxisId,includeHidden:!1,name:void 0,reversed:go.reversed,scale:go.scale,tick:go.tick,tickCount:void 0,ticks:void 0,type:go.type,unit:void 0},VO={allowDataOverflow:ci.allowDataOverflow,allowDecimals:ci.allowDecimals,allowDuplicatedCategory:ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ci.radiusAxisId,includeHidden:ci.includeHidden,name:void 0,reversed:ci.reversed,scale:ci.scale,tick:ci.tick,tickCount:ci.tickCount,ticks:void 0,type:ci.type,unit:void 0},ane=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},Fc=U([ane,iw],(t,e)=>{var n;if(t!=null)return t;var r=(n=zc(e,"angleAxis",LO.type))!==null&&n!==void 0?n:"category";return Dv(Dv({},LO),{},{type:r})}),one=(t,e)=>t.polarAxis.radiusAxis[e],ip=U([one,iw],(t,e)=>{var n;if(t!=null)return t;var r=(n=zc(e,"radiusAxis",VO.type))!==null&&n!==void 0?n:"category";return Dv(Dv({},VO),{},{type:r})}),x0=t=>t.polarOptions,kw=U([Qa,Ja,tn],pF),vj=U([x0,kw],(t,e)=>{if(t!=null)return Un(t.innerRadius,e,0)}),yj=U([x0,kw],(t,e)=>{if(t!=null)return Un(t.outerRadius,e,e*.8)}),sne=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},_j=U([x0],sne),lne=U([Fc,_j],S0),bj=U([kw,vj,yj],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),une=U([ip,bj],S0),jc=U([Se,x0,vj,yj,Qa,Ja],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=e;return{cx:Un(o,i,i/2),cy:Un(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),pt=(t,e)=>e,ap=(t,e,n)=>n;function w0(t){return t==null?void 0:t.id}function Ej(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=w0(s);u.forEach((d,f)=>{var p=a==null||i?f:String(Oe(d,a,null)),v=Oe(d,s.dataKey,0),E;o.has(p)?E=o.get(p):E={},Object.assign(E,{[c]:v}),o.set(p,E)})}}),Array.from(o.values())}function I0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var C0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function P0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function cne(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var mn=t=>{var e=Se(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},$c=t=>t.tooltip.settings.axisId;function dne(t){if(t in tf)return tf[t]();var e="scale".concat($h(t));if(e in tf)return tf[e]()}function UO(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:function(a){function o(){return a.apply(this,arguments)}return o.toString=function(){return a.toString()},o}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var o=i[0],s=i[1];return o<=s?a>=o&&a<=s:a>=s&&a<=o},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,o)=>{var s=t(a);if(s!=null){if(t.bandwidth&&o!==null&&o!==void 0&&o.position){var l=t.bandwidth();switch(o.position){case"middle":s+=l/2;break;case"end":s+=l;break}}return s}}}}function BO(t,e,n){if(typeof t=="function")return UO(t.copy().domain(e).range(n));if(t!=null){var r=dne(t);if(r!=null)return r.domain(e).range(n),UO(r)}}var Tj=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!za(e)){for(var n,r,i=0;i<e.length;i++){var a=e[i];Ae(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fne(t,e,n){return(e=hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hne(t){var e=pne(t,"string");return typeof e=="symbol"?e:e+""}function pne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gA=[0,"auto"],on={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Aj=(t,e)=>t.cartesianAxis.xAxis[e],eo=(t,e)=>{var n=Aj(t,e);return n??on},sn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:gA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Kh},Sj=(t,e)=>t.cartesianAxis.yAxis[e],to=(t,e)=>{var n=Sj(t,e);return n??sn},_a={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Lw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??_a},kt=(t,e,n)=>{switch(e){case"xAxis":return eo(t,n);case"yAxis":return to(t,n);case"zAxis":return Lw(t,n);case"angleAxis":return Fc(t,n);case"radiusAxis":return ip(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},mne=(t,e,n)=>{switch(e){case"xAxis":return eo(t,n);case"yAxis":return to(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jl=(t,e,n)=>{switch(e){case"xAxis":return eo(t,n);case"yAxis":return to(t,n);case"angleAxis":return Fc(t,n);case"radiusAxis":return ip(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xj=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Vw(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var qc=t=>t.graphicalItems.cartesianItems,gne=U([pt,ap],Vw),Uw=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),op=U([qc,kt,gne],Uw,{memoizeOptions:{resultEqualityCheck:P0}}),wj=U([op],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(I0)),Ij=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),vne=U([op],Ij),Bw=t=>t.map(e=>e.data).filter(Boolean).flat(1),yne=U([op],Bw,{memoizeOptions:{resultEqualityCheck:P0}}),zw=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Fw=U([yne,A0],zw),jw=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Oe(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Oe(i,r)}))):t.map(r=>({value:r})),R0=U([Fw,kt,op],jw);function Cj(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function rg(t){if(qi(t)||t instanceof Date){var e=Number(t);if(Ae(e))return e}}function FO(t){if(Array.isArray(t)){var e=[rg(t[0]),rg(t[1])];return za(e)?e:void 0}var n=rg(t);if(n!=null)return[n,n]}function Fa(t){return t.map(rg).filter(rr)}function _ne(t,e,n){return!n||typeof e!="number"||Ei(e)?[]:n.length?Fa(n.flatMap(r=>{var i=Oe(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Ae(a)||!Ae(o)))return[e-a,e+o]})):[]}var rn=t=>{var e=mn(t),n=$c(t);return jl(t,e,n)},sp=U([rn],t=>t==null?void 0:t.dataKey),bne=U([wj,A0,rn],Ej),Pj=(t,e,n,r)=>{var i={},a=e.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,l]=o,u=r?[...l].reverse():l,c=u.map(w0);return[s,{stackedData:WQ(t,c,n),graphicalItems:u}]}))},Lv=U([bne,wj,rp,mj],Pj),Rj=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var o=XQ(t,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Ene=U([kt],t=>t.allowDataOverflow),$w=t=>{var e;if(t==null||!("domain"in t))return gA;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Fa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:gA},qw=U([kt],$w),Gw=U([qw,Ene],nj),Tne=U([Lv,Za,pt,Gw],Rj,{memoizeOptions:{resultEqualityCheck:C0}}),N0=t=>t.errorBars,Ane=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Cj(n,r)),Vv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},Hw=(t,e,n,r,i)=>{var a,o;if(n.length>0&&t.forEach(s=>{n.forEach(l=>{var u,c,d=(u=r[l.id])===null||u===void 0?void 0:u.filter(_=>Cj(i,_)),f=Oe(s,(c=e.dataKey)!==null&&c!==void 0?c:l.dataKey),p=_ne(s,f,d);if(p.length>=2){var v=Math.min(...p),E=Math.max(...p);(a==null||v<a)&&(a=v),(o==null||E>o)&&(o=E)}var y=FO(f);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(s=>{var l=FO(Oe(s,e.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),Ae(a)&&Ae(o))return[a,o]},Sne=U([Fw,kt,vne,N0,pt],Hw,{memoizeOptions:{resultEqualityCheck:C0}});function xne(t){var{value:e}=t;if(qi(e)||e instanceof Date)return e}var wne=(t,e,n)=>{var r=t.map(xne).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Pz(r))?EF(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Nj=t=>t.referenceElements.dots,Gc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ine=U([Nj,pt,ap],Gc),Oj=t=>t.referenceElements.areas,Cne=U([Oj,pt,ap],Gc),Mj=t=>t.referenceElements.lines,Pne=U([Mj,pt,ap],Gc),Dj=(t,e)=>{if(t!=null){var n=Fa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Rne=U(Ine,pt,Dj),kj=(t,e)=>{if(t!=null){var n=Fa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Nne=U([Cne,pt],kj);function One(t){var e;if(t.x!=null)return Fa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Fa(n)}function Mne(t){var e;if(t.y!=null)return Fa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Fa(n)}var Lj=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?One(r):Mne(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Dne=U([Pne,pt],Lj),kne=U(Rne,Dne,Nne,(t,e,n)=>Vv(t,n,e)),Kw=(t,e,n,r,i,a,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?Vv(r,a,i):Vv(a,i);return Hte(e,u,t.allowDataOverflow)},Lne=U([kt,qw,Gw,Tne,Sne,kne,Se,pt],Kw,{memoizeOptions:{resultEqualityCheck:C0}}),Vne=[0,1],Ww=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=t,u=ii(e,a);if(u&&s==null){var c;return EF(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?wne(r,t,u):i==="expand"?Vne:o}},Yw=U([kt,Se,Fw,R0,rp,pt,Lne],Ww);function Une(t){return t in tf}var Vj=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat($h(r));return Une(a)?a:"point"}}},Ji=U([kt,xj,Ow],Vj);function O0(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?BO(t.scale,n,r):BO(e,n,r)}var Qw=(t,e,n)=>{var r=$w(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&za(t))return Jte(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&za(t))return Xte(t,e.tickCount,e.allowDecimals)}},Jw=U([Yw,jl,Ji],Qw),Xw=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&za(e)&&Array.isArray(n)&&n.length>0){var i,a,o=e[0],s=(i=n[0])!==null&&i!==void 0?i:0,l=e[1],u=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(o,s),Math.max(l,u)]}return e},Bne=U([kt,Yw,Jw,pt],Xw),zne=U(R0,kt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Fa(t.map(d=>d.value))).sort((d,f)=>d-f),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/o}}),Uj=U(zne,Se,pj,tn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Ae(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Un(n,t*a),s=t*a/2;return s-o-(s-o)/a*o}return 0}),Fne=(t,e,n)=>{var r=eo(t,e);return r==null||typeof r.padding!="string"?0:Uj(t,"xAxis",e,n,r.padding)},jne=(t,e,n)=>{var r=to(t,e);return r==null||typeof r.padding!="string"?0:Uj(t,"yAxis",e,n,r.padding)},$ne=U(eo,Fne,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),qne=U(to,jne,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Gne=U([tn,$ne,h0,f0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Hne=U([tn,Se,qne,h0,f0,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),lp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Gne(t,n,r);case"yAxis":return Hne(t,n,r);case"zAxis":return(i=Lw(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return _j(t);case"radiusAxis":return bj(t,n);default:return}},Bj=U([kt,lp],S0),Kne=U([Ji,Bne],Tj),M0=U([kt,Ji,Kne,Bj],O0);U([op,N0,pt],Ane);function zj(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var D0=(t,e)=>e,k0=(t,e,n)=>n,Wne=U(c0,D0,k0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(zj)),Yne=U(d0,D0,k0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(zj)),Fj=(t,e)=>({width:t.width,height:e.height}),Qne=(t,e)=>{var n=typeof e.width=="number"?e.width:Kh;return{width:n,height:t.height}},jj=U(tn,eo,Fj),Jne=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Xne=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Zne=U(Ja,tn,Wne,D0,k0,(t,e,n,r,i)=>{var a={},o;return n.forEach(s=>{var l=Fj(e,s);o==null&&(o=Jne(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;a[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),a}),ere=U(Qa,tn,Yne,D0,k0,(t,e,n,r,i)=>{var a={},o;return n.forEach(s=>{var l=Qne(e,s);o==null&&(o=Xne(e,r,t));var u=r==="left"&&!i||r==="right"&&i;a[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),a}),tre=(t,e)=>{var n=eo(t,e);if(n!=null)return Zne(t,n.orientation,n.mirror)},nre=U([tn,eo,tre,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),rre=(t,e)=>{var n=to(t,e);if(n!=null)return ere(t,n.orientation,n.mirror)},ire=U([tn,to,rre,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),$j=U(tn,to,(t,e)=>{var n=typeof e.width=="number"?e.width:Kh;return{width:n,height:t.height}}),jO=(t,e,n)=>{switch(e){case"xAxis":return jj(t,n).width;case"yAxis":return $j(t,n).height;default:return}},qj=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=ii(t,r),l=e.map(u=>u.value);if(o&&s&&a==="category"&&i&&Pz(l))return l}},up=U([Se,R0,kt,pt],qj),Zw=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=ii(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(s=>s.value)}},eI=U([Se,R0,jl,pt],Zw),$O=U([Se,mne,Ji,M0,up,eI,lp,Jw,pt],(t,e,n,r,i,a,o,s,l)=>{if(e!=null){var u=ii(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:n,scale:r}}}),Gj=(t,e,n,r,i,a,o,s,l)=>{if(!(e==null||r==null)){var u=ii(t,l),{type:c,ticks:d,tickCount:f}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=c==="category"&&r.bandwidth?r.bandwidth()/p:0;v=l==="angleAxis"&&a!=null&&a.length>=2?fn(a[0]-a[1])*2*v:v;var E=d||i;return E?E.map((y,_)=>{var T=o?o.indexOf(y):y,S=r.map(T);return Ae(S)?{index:_,coordinate:S+v,value:y,offset:v}:null}).filter(rr):u&&s?s.map((y,_)=>{var T=r.map(y);return Ae(T)?{coordinate:T+v,value:y,index:_,offset:v}:null}).filter(rr):r.ticks?r.ticks(f).map((y,_)=>{var T=r.map(y);return Ae(T)?{coordinate:T+v,value:y,index:_,offset:v}:null}).filter(rr):r.domain().map((y,_)=>{var T=r.map(y);return Ae(T)?{coordinate:T+v,value:o?o[y]:y,index:_,offset:v}:null}).filter(rr)}},Hj=U([Se,jl,Ji,M0,Jw,lp,up,eI,pt],Gj),Kj=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var s=ii(t,o),{tickCount:l}=e,u=0;return u=o==="angleAxis"&&(r==null?void 0:r.length)>=2?fn(r[0]-r[1])*2*u:u,s&&a?a.map((c,d)=>{var f=n.map(c);return Ae(f)?{coordinate:f+u,value:c,index:d,offset:u}:null}).filter(rr):n.ticks?n.ticks(l).map((c,d)=>{var f=n.map(c);return Ae(f)?{coordinate:f+u,value:c,index:d,offset:u}:null}).filter(rr):n.domain().map((c,d)=>{var f=n.map(c);return Ae(f)?{coordinate:f+u,value:i?i[c]:c,index:d,offset:u}:null}).filter(rr)}},ei=U([Se,jl,M0,lp,up,eI,pt],Kj),ti=U(kt,M0,(t,e)=>{if(!(t==null||e==null))return kv(kv({},t),{},{scale:e})}),are=U([kt,Ji,Yw,Bj],O0),ore=U((t,e,n)=>Lw(t,n),are,(t,e)=>{if(!(t==null||e==null))return kv(kv({},t),{},{scale:e})}),sre=U([Se,c0,d0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Wj=t=>t.options.defaultTooltipEventType,Yj=t=>t.options.validateTooltipEventTypes;function Qj(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function tI(t,e){var n=Wj(t),r=Yj(t);return Qj(e,n,r)}function lre(t){return ee(e=>tI(e,t))}var Jj=(t,e)=>{var n,r=Number(e);if(!(Ei(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},ure=t=>t.tooltip.settings,xo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},cre={itemInteraction:{click:xo,hover:xo},axisInteraction:{click:xo,hover:xo},keyboardInteraction:xo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Xj=fr({name:"tooltip",initialState:cre,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:At()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=yi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:At()},removeTooltipEntrySettings:{reducer(t,e){var n=yi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:At()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:dre,replaceTooltipEntrySettings:fre,removeTooltipEntrySettings:hre,setTooltipSettingsState:pre,setActiveMouseOverItemIndex:Zj,mouseLeaveItem:mre,mouseLeaveChart:e$,setActiveClickItemIndex:gre,setMouseOverAxisIndex:t$,setMouseClickAxisIndex:vre,setSyncInteraction:vA,setKeyboardInteraction:yA}=Xj.actions,yre=Xj.reducer;function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){_re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _re(t,e,n){return(e=bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bre(t){var e=Ere(t,"string");return typeof e=="symbol"?e:e+""}function Ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tre(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Are(t){return t.index!=null}var n$=(t,e,n,r)=>{if(e==null)return xo;var i=Tre(t,e,n);if(i==null)return xo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Are(i)){if(a)return bm(bm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return bm(bm({},xo),{},{coordinate:i.coordinate})};function Sre(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function xre(t,e){var n=Sre(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function wre(t,e,n){if(n==null||e==null)return!0;var r=Oe(t,e);return r==null||!za(n)?!0:xre(r,n)}var nI=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!Ae(a))return i;var o=0,s=1/0;e.length>0&&(s=e.length-1);var l=Math.max(o,Math.min(a,s)),u=e[l];return u==null||wre(u,n,r)?String(l):null},r$=(t,e,n,r,i,a,o)=>{if(a!=null){var s=o[0],l=s==null?void 0:s.getPosition(a);if(l!=null)return l;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},i$=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},a$=t=>t.options.tooltipPayloadSearcher,Hc=t=>t.tooltip;function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return(e=Cre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cre(t){var e=Pre(t,"string");return typeof e=="symbol"?e:e+""}function Pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rre(t,e){return t??e}var o$=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,d=[];return t.reduce((f,p)=>{var v,{dataDefinedOnItem:E,settings:y}=p,_=Rre(E,s),T=Array.isArray(_)?U4(_,u,c):_,S=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:r,w=y==null?void 0:y.nameKey,N;if(r&&Array.isArray(T)&&!Array.isArray(T[0])&&o==="axis"?N=Rz(T,r,i):N=a(T,e,l,w),Array.isArray(N))N.forEach(I=>{var P=HO(HO({},y),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});f.push(XR({tooltipEntrySettings:P,dataKey:I.dataKey,payload:I.payload,value:Oe(I.payload,I.dataKey),name:I.name}))});else{var O;f.push(XR({tooltipEntrySettings:y,dataKey:S,payload:N,value:Oe(N,S),name:(O=Oe(N,w))!==null&&O!==void 0?O:y==null?void 0:y.name}))}return f},d)}},rI=U([rn,xj,Ow],Vj),Nre=U([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Ore=U([mn,$c],Vw),Kc=U([Nre,rn,Ore],Uw,{memoizeOptions:{resultEqualityCheck:P0}}),Mre=U([Kc],t=>t.filter(I0)),Dre=U([Kc],Bw,{memoizeOptions:{resultEqualityCheck:P0}}),Wc=U([Dre,Za],zw),kre=U([Mre,Za,rn],Ej),iI=U([Wc,rn,Kc],jw),s$=U([rn],$w),Lre=U([rn],t=>t.allowDataOverflow),l$=U([s$,Lre],nj),Vre=U([Kc],t=>t.filter(I0)),Ure=U([kre,Vre,rp,mj],Pj),Bre=U([Ure,Za,mn,l$],Rj),zre=U([Kc],Ij),Fre=U([Wc,rn,zre,N0,mn],Hw,{memoizeOptions:{resultEqualityCheck:C0}}),jre=U([Nj,mn,$c],Gc),$re=U([jre,mn],Dj),qre=U([Oj,mn,$c],Gc),Gre=U([qre,mn],kj),Hre=U([Mj,mn,$c],Gc),Kre=U([Hre,mn],Lj),Wre=U([$re,Kre,Gre],Vv),Yre=U([rn,s$,l$,Bre,Fre,Wre,Se,mn],Kw),cp=U([rn,Se,Wc,iI,rp,mn,Yre],Ww),Qre=U([cp,rn,rI],Qw),Jre=U([rn,cp,Qre,mn],Xw),u$=t=>{var e=mn(t),n=$c(t),r=!1;return lp(t,e,n,r)},c$=U([rn,u$],S0),d$=U([rn,rI,Jre,c$],O0),Xre=U([Se,iI,rn,mn],qj),Zre=U([Se,iI,rn,mn],Zw),eie=(t,e,n,r,i,a,o,s)=>{if(e){var{type:l}=e,u=ii(t,s);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?fn(i[0]-i[1])*2*d:d,u&&o?o.map((f,p)=>{var v=r.map(f);return Ae(v)?{coordinate:v+d,value:f,index:p,offset:d}:null}).filter(rr):r.domain().map((f,p)=>{var v=r.map(f);return Ae(v)?{coordinate:v+d,value:a?a[f]:f,index:p,offset:d}:null}).filter(rr)}}},no=U([Se,rn,rI,d$,u$,Xre,Zre,mn],eie),aI=U([Wj,Yj,ure],(t,e,n)=>Qj(n.shared,t,e)),f$=t=>t.tooltip.settings.trigger,oI=t=>t.tooltip.settings.defaultIndex,dp=U([Hc,aI,f$,oI],n$),ja=U([dp,Wc,sp,cp],nI),h$=U([no,ja],Jj),sI=U([dp],t=>{if(t)return t.dataKey}),tie=U([dp],t=>{if(t)return t.graphicalItemId}),p$=U([Hc,aI,f$,oI],i$),nie=U([Qa,Ja,Se,tn,no,oI,p$],r$),rie=U([dp,nie],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),iie=U([dp],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),aie=U([p$,ja,Za,sp,h$,a$,aI],o$),oie=U([aie],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sie(t,e,n){return(e=lie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lie(t){var e=uie(t,"string");return typeof e=="symbol"?e:e+""}function uie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cie=()=>ee(rn),die=()=>{var t=cie(),e=ee(no),n=ee(d$);return Hi(!t||!n?void 0:WO(WO({},t),{},{scale:n}),e)};function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){fie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fie(t,e,n){return(e=hie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hie(t){var e=pie(t,"string");return typeof e=="symbol"?e:e+""}function pie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mie=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},gie=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:o}=r;return tu(tu(tu({},r),$e(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return tu(tu(tu({},r),$e(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function vie(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var m$=(t,e,n,r,i)=>{var a,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,u,c,d,f,p=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(u=n[o-1])===null||u===void 0?void 0:u.coordinate,v=(c=n[s])===null||c===void 0?void 0:c.coordinate,E=s>=o-1?(d=n[0])===null||d===void 0?void 0:d.coordinate:(f=n[s+1])===null||f===void 0?void 0:f.coordinate,y=void 0;if(!(p==null||v==null||E==null))if(fn(v-p)!==fn(E-v)){var _=[];if(fn(E-v)===fn(i[1]-i[0])){y=E;var T=v+i[1]-i[0];_[0]=Math.min(T,(T+p)/2),_[1]=Math.max(T,(T+p)/2)}else{y=p;var S=E+i[1]-i[0];_[0]=Math.min(v,(S+v)/2),_[1]=Math.max(v,(S+v)/2)}var w=[Math.min(v,(y+v)/2),Math.max(v,(y+v)/2)];if(t>w[0]&&t<=w[1]||t>=_[0]&&t<=_[1]){var N;return(N=n[s])===null||N===void 0?void 0:N.index}}else{var O=Math.min(p,E),I=Math.max(p,E);if(t>(O+v)/2&&t<=(I+v)/2){var P;return(P=n[s])===null||P===void 0?void 0:P.index}}}else if(e)for(var R=0;R<o;R++){var M=e[R];if(M!=null){var V=e[R+1],D=e[R-1];if(R===0&&V!=null&&t<=(M.coordinate+V.coordinate)/2||R===o-1&&D!=null&&t>(M.coordinate+D.coordinate)/2||R>0&&R<o-1&&D!=null&&V!=null&&t>(M.coordinate+D.coordinate)/2&&t<=(M.coordinate+V.coordinate)/2)return M.index}}return-1},g$=()=>ee(Ow),lI=(t,e)=>e,v$=(t,e,n)=>n,uI=(t,e,n,r)=>r,yie=U(no,t=>e0(t,e=>e.coordinate)),cI=U([Hc,lI,v$,uI],n$),dI=U([cI,Wc,sp,cp],nI),_ie=(t,e,n)=>{if(e!=null){var r=Hc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},y$=U([Hc,lI,v$,uI],i$),Uv=U([Qa,Ja,Se,tn,no,uI,y$],r$),bie=U([cI,Uv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),_$=U([no,dI],Jj),Eie=U([y$,dI,Za,sp,_$,a$,lI],o$),Tie=U([cI,dI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Aie=(t,e,n,r,i,a,o)=>{if(!(!t||!n||!r||!i)&&vie(t,o)){var s=ZQ(t,e),l=m$(s,a,i,n,r),u=mie(e,i,l,t);return{activeIndex:String(l),activeCoordinate:u}}},Sie=(t,e,n,r,i,a,o)=>{if(!(!t||!r||!i||!a||!n)){var s=fZ(t,n);if(s){var l=eJ(s,e),u=m$(l,o,a,r,i),c=gie(e,a,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},xie=(t,e,n,r,i,a,o,s)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?Aie(t,e,r,i,a,o,s):Sie(t,e,n,r,i,a,o)},wie=U(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Iie=U(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(st)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:cne}});function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){Cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cie(t,e,n){return(e=Pie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pie(t){var e=Rie(t,"string");return typeof e=="symbol"?e:e+""}function Rie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nie={},Oie={zIndexMap:Object.values(st).reduce((t,e)=>JO(JO({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Nie)},Mie=new Set(Object.values(st));function Die(t){return Mie.has(t)}var b$=fr({name:"zIndex",initialState:Oie,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:At()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Die(n)&&delete t.zIndexMap[n])},prepare:At()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:At()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:At()}}}),{registerZIndexPortal:kie,unregisterZIndexPortal:Lie,registerZIndexPortalElement:Vie,unregisterZIndexPortalElement:Uie}=b$.actions,Bie=b$.reducer;function jt(t){var{zIndex:e,children:n}=t,r=IJ(),i=r&&e!==void 0&&e!==0,a=Dt(),o=Ze();b.useLayoutEffect(()=>i?(o(kie({zIndex:e})),()=>{o(Lie({zIndex:e}))}):wi,[o,e,i]);var s=ee(l=>wie(l,e,a));return i?s?wy.createPortal(n,s):null:n}function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_A.apply(null,arguments)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){zie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zie(t,e,n){return(e=Fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fie(t){var e=jie(t,"string");return typeof e=="symbol"?e:e+""}function jie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ie(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return b.isValidElement(e)?b.cloneElement(e,r):b.createElement(n,r)}function qie(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:c}=t,d=n,f=r,p=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var v,E,y;if(c==="ScatterChart")v=d,E=wX,y=st.cursorLine;else if(c==="BarChart")v=IX(s,d,a,o),E=hF,y=st.cursorRectangle;else if(s==="radial"&&Oz(d)){var{cx:_,cy:T,radius:S,startAngle:w,endAngle:N}=mF(d);v={cx:_,cy:T,startAngle:w,endAngle:N,innerRadius:S,outerRadius:S},E=vF,y=st.cursorLine}else v={points:gZ(s,d,a)},E=al,y=st.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,I=Em(Em(Em(Em({stroke:"#ccc",pointerEvents:"none"},a),v),$i(l)),{},{payload:f,payloadIndex:p,className:be("recharts-tooltip-cursor",O)});return b.createElement(jt,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:y},b.createElement($ie,{cursor:l,cursorComp:E,cursorProps:I}))}function Gie(t){var e=die(),n=Q4(),r=ys(),i=g$();return e==null||n==null||r==null||i==null?null:b.createElement(qie,_A({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var E$=b.createContext(null),Hie=()=>b.useContext(E$),T$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,f),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,v=new Array(p);f<p;f++)v[f]=d[f].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,f,p,v){var E=n?n+u:u;if(!this._events[E])return!1;var y=this._events[E],_=arguments.length,T,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,f),!0;case 5:return y.fn.call(y.context,c,d,f,p),!0;case 6:return y.fn.call(y.context,c,d,f,p,v),!0}for(S=1,T=new Array(_-1);S<_;S++)T[S-1]=arguments[S];y.fn.apply(y.context,T)}else{var w=y.length,N;for(S=0;S<w;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),_){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,c);break;case 3:y[S].fn.call(y[S].context,c,d);break;case 4:y[S].fn.call(y[S].context,c,d,f);break;default:if(!T)for(N=1,T=new Array(_-1);N<_;N++)T[N-1]=arguments[N];y[S].fn.apply(y[S].context,T)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,f){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===c&&(!f||v.once)&&(!d||v.context===d)&&o(this,p);else{for(var E=0,y=[],_=v.length;E<_;E++)(v[E].fn!==c||f&&!v[E].once||d&&v[E].context!==d)&&y.push(v[E]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(T$);var Kie=T$.exports;const Wie=ri(Kie);var sh=new Wie,bA="recharts.syncEvent.tooltip",ZO="recharts.syncEvent.brush",Yc=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Ei(n))return t[n]}},Yie={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},A$=fr({name:"options",initialState:Yie,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Qie=A$.reducer,{createEventEmitter:Jie}=A$.actions;function Xie(t){return t.tooltip.syncInteraction}var Zie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},S$=fr({name:"chartData",initialState:Zie,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:eM,setDataStartEndIndexes:eae,setComputedData:yPe}=S$.actions,tae=S$.reducer,nae=["x","y"];function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rae(t,e,n){return(e=iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=aae(t,"string");return typeof e=="symbol"?e:e+""}function aae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oae(t,e){if(t==null)return{};var n,r,i=sae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lae(){var t=ee(Mw),e=ee(Dw),n=Ze(),r=ee(gj),i=ee(no),a=ys(),o=Wh(),s=ee(l=>l.rootProps.className);b.useEffect(()=>{if(t==null)return wi;var l=(u,c,d)=>{if(e!==d&&t===u){if(r==="index"){var f;if(o&&c!==null&&c!==void 0&&(f=c.payload)!==null&&f!==void 0&&f.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:v,y:E}=p,y=oae(p,nae),{x:_,y:T,width:S,height:w}=c.payload.sourceViewBox,N=nu(nu({},y),{},{x:o.x+(S?(v-_)/S:0)*o.width,y:o.y+(w?(E-T)/w:0)*o.height});n(nu(nu({},c),{},{payload:nu(nu({},c.payload),{},{coordinate:N})}))}else n(c);return}if(i!=null){var O;if(typeof r=="function"){var I={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},P=r(i,I);O=i[P]}else r==="value"&&(O=i.find(H=>String(H.value)===c.payload.label));var{coordinate:R}=c.payload;if(O==null||c.payload.active===!1||R==null||o==null){n(vA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:M,y:V}=R,D=Math.min(M,o.x+o.width),k=Math.min(V,o.y+o.height),Q={x:a==="horizontal"?O.coordinate:D,y:a==="horizontal"?k:O.coordinate},ae=vA({active:c.payload.active,coordinate:Q,dataKey:c.payload.dataKey,index:String(O.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(ae)}}};return sh.on(bA,l),()=>{sh.off(bA,l)}},[s,n,e,t,r,i,a,o])}function uae(){var t=ee(Mw),e=ee(Dw),n=Ze();b.useEffect(()=>{if(t==null)return wi;var r=(i,a,o)=>{e!==o&&t===i&&n(eae(a))};return sh.on(ZO,r),()=>{sh.off(ZO,r)}},[n,e,t])}function cae(){var t=Ze();b.useEffect(()=>{t(Jie())},[t]),lae(),uae()}function dae(t,e,n,r,i,a){var o=ee(p=>_ie(p,t,e)),s=ee(Dw),l=ee(Mw),u=ee(gj),c=ee(Xie),d=c==null?void 0:c.active,f=Wh();b.useEffect(()=>{if(!d&&l!=null&&s!=null){var p=vA({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:f,graphicalItemId:void 0});sh.emit(bA,l,p,s)}},[d,n,o,i,r,s,l,u,a,f])}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e,n){return(e=hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hae(t){var e=pae(t,"string");return typeof e=="symbol"?e:e+""}function pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mae(t){return t.dataKey}function gae(t,e){return b.isValidElement(t)?b.cloneElement(t,e):typeof t=="function"?b.createElement(t,e):b.createElement(aX,e)}var iM=[],vae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Wr(t){var e,n,r=We(t,vae),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:f,position:p,reverseDirection:v,useTranslate3d:E,wrapperStyle:y,cursor:_,shared:T,trigger:S,defaultIndex:w,portal:N,axisId:O}=r,I=Ze(),P=typeof w=="number"?String(w):w;b.useEffect(()=>{I(pre({shared:T,trigger:S,axisId:O,active:i,defaultIndex:P}))},[I,T,S,O,i,P]);var R=Wh(),M=lF(),V=lre(T),{activeIndex:D,isActive:k}=(e=ee(Lt=>Tie(Lt,V,S,P)))!==null&&e!==void 0?e:{},Q=ee(Lt=>Eie(Lt,V,S,P)),ae=ee(Lt=>_$(Lt,V,S,P)),H=ee(Lt=>bie(Lt,V,S,P)),W=Q,J=Hie(),te=(n=i??k)!==null&&n!==void 0?n:!1,[ce,Ge]=l4([W,te]),ke=V==="axis"?ae:void 0;dae(V,S,H,ke,D,te);var Le=N??J;if(Le==null||R==null||V==null)return null;var ct=W??iM;te||(ct=iM),u&&ct.length&&(ct=Qz(ct.filter(Lt=>Lt.value!=null&&(Lt.hide!==!0||r.includeHidden)),f,mae));var $t=ct.length>0,ea=b.createElement(fX,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:c,active:te,coordinate:H,hasPayload:$t,offset:d,position:p,reverseDirection:v,useTranslate3d:E,viewBox:R,wrapperStyle:y,lastBoundingBox:ce,innerRef:Ge,hasPortalFromProps:!!N},gae(l,rM(rM({},r),{},{payload:ct,label:ke,active:te,activeIndex:D,coordinate:H,accessibilityLayer:M})));return b.createElement(b.Fragment,null,wy.createPortal(ea,Le),te&&b.createElement(Gie,{cursor:_,tooltipEventType:V,coordinate:H,payload:ct,index:D}))}var Ai=t=>null;Ai.displayName="Cell";function yae(t,e,n){return(e=_ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ae(t){var e=bae(t,"string");return typeof e=="symbol"?e:e+""}function bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Eae{constructor(e){yae(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){Aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aae(t,e,n){return(e=Sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sae(t){var e=xae(t,"string");return typeof e=="symbol"?e:e+""}function xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wae={cacheSize:2e3,enableCache:!0},x$=Tae({},wae),oM=new Eae(x$.cacheSize),Iae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sM="recharts_measurement_span";function Cae(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",s=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var lM=(t,e)=>{try{var n=document.getElementById(sM);n||(n=document.createElement("span"),n.setAttribute("id",sM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Iae,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Af=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Jh.isSsr)return{width:0,height:0};if(!x$.enableCache)return lM(e,n);var r=Cae(e,n),i=oM.get(r);if(i)return i;var a=lM(e,n);return oM.set(r,a),a},w$;function Pae(t,e,n){return(e=Rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rae(t){var e=Nae(t,"string");return typeof e=="symbol"?e:e+""}function Nae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Oae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Dae={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kae=["cm","mm","pt","pc","in","Q","px"];function Lae(t){return kae.includes(t)}var Ru="NaN";function Vae(t,e){return t*Dae[e]}class En{static parse(e){var n,[,r,i]=(n=Mae.exec(e))!==null&&n!==void 0?n:[];return r==null?En.NaN:new En(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ei(e)&&(this.unit=""),n!==""&&!Oae.test(n)&&(this.num=NaN,this.unit=""),Lae(n)&&(this.num=Vae(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new En(NaN,""):new En(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new En(NaN,""):new En(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new En(NaN,""):new En(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new En(NaN,""):new En(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ei(this.num)}}w$=En;Pae(En,"NaN",new w$(NaN,""));function I$(t){if(t==null||t.includes(Ru))return Ru;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=uM.exec(e))!==null&&n!==void 0?n:[],o=En.parse(r??""),s=En.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Ru;e=e.replace(uM,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,d,f]=(u=cM.exec(e))!==null&&u!==void 0?u:[],p=En.parse(c??""),v=En.parse(f??""),E=d==="+"?p.add(v):p.subtract(v);if(E.isNaN())return Ru;e=e.replace(cM,E.toString())}return e}var dM=/\(([^()]*)\)/;function Uae(t){for(var e=t,n;(n=dM.exec(e))!=null;){var[,r]=n;e=e.replace(dM,I$(r))}return e}function Bae(t){var e=t.replace(/\s+/g,"");return e=Uae(e),e=I$(e),e}function zae(t){try{return Bae(t)}catch{return Ru}}function rE(t){var e=zae(t.slice(5,-1));return e===Ru?"":e}var Fae=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],jae=["dx","dy","angle","className","breakAll"];function EA(){return EA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EA.apply(null,arguments)}function fM(t,e){if(t==null)return{};var n,r,i=$ae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var C$=/[ \f\n\r\t\v\u2028\u2029]+/,P$=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Fe(e)||(n?i=e.toString().split(""):i=e.toString().split(C$));var a=i.map(s=>({word:s,width:Af(s,r).width})),o=n?0:Af("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function qae(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var R$=(t,e,n,r)=>t.reduce((i,a)=>{var{word:o,width:s}=a,l=i[i.length-1];if(l&&s!=null&&(e==null||r||l.width+s+n<Number(e)))l.words.push(o),l.width+=s+n;else{var u={words:[o],width:s};i.push(u)}return i},[]),N$=t=>t.reduce((e,n)=>e.width>n.width?e:n),Gae="",hM=(t,e,n,r,i,a,o,s)=>{var l=t.slice(0,e),u=P$({breakAll:n,style:r,children:l+Gae});if(!u)return[!1,[]];var c=R$(u.wordsWithComputedWidth,a,o,s),d=c.length>i||N$(c).width>Number(a);return[d,c]},Hae=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=t,u=ie(a),c=String(o),d=R$(e,r,n,i);if(!u||i)return d;var f=d.length>a||N$(d).width>Number(r);if(!f)return d;for(var p=0,v=c.length-1,E=0,y;p<=v&&E<=c.length-1;){var _=Math.floor((p+v)/2),T=_-1,[S,w]=hM(c,T,l,s,a,r,n,i),[N]=hM(c,_,l,s,a,r,n,i);if(!S&&!N&&(p=_+1),S&&N&&(v=_-1),!S&&N){y=w;break}E++}return y||d},pM=t=>{var e=Fe(t)?[]:t.toString().split(C$);return[{words:e,width:void 0}]},Kae=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!Jh.isSsr){var s,l,u=P$({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return pM(r);return Hae({breakAll:a,children:r,maxLines:o,style:i},s,l,e,!!n)}return pM(r)},O$="#808080",Wae={angle:0,breakAll:!1,capHeight:"0.71em",fill:O$,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Qc=b.forwardRef((t,e)=>{var n=We(t,Wae),{x:r,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,d=fM(n,Fae),f=b.useMemo(()=>Kae({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:p,dy:v,angle:E,className:y,breakAll:_}=d,T=fM(d,jae);if(!qi(r)||!qi(i)||f.length===0)return null;var S=Number(r)+(ie(p)?p:0),w=Number(i)+(ie(v)?v:0);if(!Ae(S)||!Ae(w))return null;var N;switch(c){case"start":N=rE("calc(".concat(o,")"));break;case"middle":N=rE("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:N=rE("calc(".concat(f.length-1," * -").concat(a,")"));break}var O=[],I=f[0];if(l&&I!=null){var P=I.width,{width:R}=d;O.push("scale(".concat(ie(R)&&ie(P)?R/P:1,")"))}return E&&O.push("rotate(".concat(E,", ").concat(S,", ").concat(w,")")),O.length&&(T.transform=O.join(" ")),b.createElement("text",EA({},Bt(T),{ref:e,x:S,y:w,className:be("recharts-text",y),textAnchor:u,fill:s.includes("url")?O$:s}),f.map((M,V)=>{var D=M.words.join(_?"":" ");return b.createElement("tspan",{x:S,dy:V===0?N:a,key:"".concat(D,"-").concat(V)},D)}))});Qc.displayName="Text";function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){Yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yae(t,e,n){return(e=Qae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qae(t){var e=Jae(t,"string");return typeof e=="symbol"?e:e+""}function Jae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xae=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:a,y:o,height:s,upperWidth:l,lowerWidth:u}=ew(e),c=a,d=a+(l-u)/2,f=(c+d)/2,p=(l+u)/2,v=c+l/2,E=s>=0?1:-1,y=E*r,_=E>0?"end":"start",T=E>0?"start":"end",S=l>=0?1:-1,w=S*r,N=S>0?"end":"start",O=S>0?"start":"end",I=i;if(n==="top"){var P={x:c+l/2,y:o-y,horizontalAnchor:"middle",verticalAnchor:_};return I&&(P.height=Math.max(o-I.y,0),P.width=l),P}if(n==="bottom"){var R={x:d+u/2,y:o+s+y,horizontalAnchor:"middle",verticalAnchor:T};return I&&(R.height=Math.max(I.y+I.height-(o+s),0),R.width=u),R}if(n==="left"){var M={x:f-w,y:o+s/2,horizontalAnchor:N,verticalAnchor:"middle"};return I&&(M.width=Math.max(M.x-I.x,0),M.height=s),M}if(n==="right"){var V={x:f+p+w,y:o+s/2,horizontalAnchor:O,verticalAnchor:"middle"};return I&&(V.width=Math.max(I.x+I.width-V.x,0),V.height=s),V}var D=I?{width:p,height:s}:{};return n==="insideLeft"?Ri({x:f+w,y:o+s/2,horizontalAnchor:O,verticalAnchor:"middle"},D):n==="insideRight"?Ri({x:f+p-w,y:o+s/2,horizontalAnchor:N,verticalAnchor:"middle"},D):n==="insideTop"?Ri({x:c+l/2,y:o+y,horizontalAnchor:"middle",verticalAnchor:T},D):n==="insideBottom"?Ri({x:d+u/2,y:o+s-y,horizontalAnchor:"middle",verticalAnchor:_},D):n==="insideTopLeft"?Ri({x:c+w,y:o+y,horizontalAnchor:O,verticalAnchor:T},D):n==="insideTopRight"?Ri({x:c+l-w,y:o+y,horizontalAnchor:N,verticalAnchor:T},D):n==="insideBottomLeft"?Ri({x:d+w,y:o+s-y,horizontalAnchor:O,verticalAnchor:_},D):n==="insideBottomRight"?Ri({x:d+u-w,y:o+s-y,horizontalAnchor:N,verticalAnchor:_},D):n&&typeof n=="object"&&(ie(n.x)||yl(n.x))&&(ie(n.y)||yl(n.y))?Ri({x:a+Un(n.x,p),y:o+Un(n.y,s),horizontalAnchor:"end",verticalAnchor:"end"},D):Ri({x:v,y:o+s/2,horizontalAnchor:"middle",verticalAnchor:"middle"},D)},Zae=["labelRef"],eoe=["content"];function gM(t,e){if(t==null)return{};var n,r,i=toe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function toe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){noe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function noe(t,e,n){return(e=roe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function roe(t){var e=ioe(t,"string");return typeof e=="symbol"?e:e+""}function ioe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ha.apply(null,arguments)}var M$=b.createContext(null),aoe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:s}=t,l=b.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[e,n,r,i,a,o]);return b.createElement(M$.Provider,{value:l},s)},D$=()=>{var t=b.useContext(M$),e=Wh();return t||(e?ew(e):void 0)},k$=b.createContext(null),ooe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:s,children:l}=t,u=b.useMemo(()=>({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:s}),[e,n,r,i,a,o,s]);return b.createElement(k$.Provider,{value:u},l)},L$=()=>{var t=b.useContext(k$),e=ee(jc);return t||e},soe=t=>{var{value:e,formatter:n}=t,r=Fe(t.children)?e:t.children;return typeof n=="function"?n(r):r},fI=t=>t!=null&&typeof t=="function",loe=(t,e)=>{var n=fn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},uoe=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:f,clockWise:p}=i,v=(u+c)/2,E=loe(d,f),y=E>=0?1:-1,_,T;switch(e){case"insideStart":_=d+y*a,T=p;break;case"insideEnd":_=f-y*a,T=!p;break;case"end":_=f+y*a,T=p;break;default:throw new Error("Unsupported position ".concat(e))}T=E<=0?T:!T;var S=$e(s,l,v,_),w=$e(s,l,v,_+(T?1:-1)*359),N="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(T?0:1,`,
    `).concat(w.x,",").concat(w.y),O=Fe(t.id)?Wf("recharts-radial-line-"):t.id;return b.createElement("text",ha({},r,{dominantBaseline:"central",className:be("recharts-radial-bar-label",o)}),b.createElement("defs",null,b.createElement("path",{id:O,d:N})),b.createElement("textPath",{xlinkHref:"#".concat(O)},n))},coe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=t,u=(s+l)/2;if(n==="outside"){var{x:c,y:d}=$e(r,i,o+e,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(a+o)/2,{x:p,y:v}=$e(r,i,f,u);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},ig=t=>t!=null&&"cx"in t&&ie(t.cx),doe={angle:0,offset:5,zIndex:st.label,position:"middle",textBreakAll:!1};function foe(t){if(!ig(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function bo(t){var e=We(t,doe),{viewBox:n,parentViewBox:r,position:i,value:a,children:o,content:s,className:l="",textBreakAll:u,labelRef:c}=e,d=L$(),f=D$(),p=i==="center"?f:d??f,v,E,y;n==null?v=p:ig(n)?v=n:v=ew(n);var _=foe(v);if(!v||Fe(a)&&Fe(o)&&!b.isValidElement(s)&&typeof s!="function")return null;var T=nf(nf({},e),{},{viewBox:v});if(b.isValidElement(s)){var{labelRef:S}=T,w=gM(T,Zae);return b.cloneElement(s,w)}if(typeof s=="function"){var{content:N}=T,O=gM(T,eoe);if(E=b.createElement(s,O),b.isValidElement(E))return E}else E=soe(e);var I=Bt(e);if(ig(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return uoe(e,i,E,I,v);y=coe(v,e.offset,e.position)}else{if(!_)return null;var P=Xae({viewBox:_,position:i,offset:e.offset,parentViewBox:ig(r)?void 0:r});y=nf(nf({x:P.x,y:P.y,textAnchor:P.horizontalAnchor,verticalAnchor:P.verticalAnchor},P.width!==void 0?{width:P.width}:{}),P.height!==void 0?{height:P.height}:{})}return b.createElement(jt,{zIndex:e.zIndex},b.createElement(Qc,ha({ref:c,className:be("recharts-label",l)},I,y,{textAnchor:qae(I.textAnchor)?I.textAnchor:y.textAnchor,breakAll:u}),E))}bo.displayName="Label";var V$=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?b.createElement(bo,ha({key:"label-implicit"},r)):qi(t)?b.createElement(bo,ha({key:"label-implicit",value:t},r)):b.isValidElement(t)?t.type===bo?b.cloneElement(t,nf({key:"label-implicit"},r)):b.createElement(bo,ha({key:"label-implicit",content:t},r)):fI(t)?b.createElement(bo,ha({key:"label-implicit",content:t},r)):t&&typeof t=="object"?b.createElement(bo,ha({},t,{key:"label-implicit"},r)):null};function hoe(t){var{label:e,labelRef:n}=t,r=D$();return V$(e,r,n)||null}function poe(t){var{label:e}=t,n=L$();return V$(e,n)||null}var U$={},B$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(B$);var z$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(z$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B$,n=z$,r=Qy;function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(U$);var moe=U$.last;const F$=ri(moe);var goe=["valueAccessor"],voe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(null,arguments)}function yM(t,e){if(t==null)return{};var n,r,i=yoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _oe=t=>Array.isArray(t.value)?F$(t.value):t.value,j$=b.createContext(void 0),fp=j$.Provider,$$=b.createContext(void 0),boe=$$.Provider;function Eoe(){return b.useContext(j$)}function Toe(){return b.useContext($$)}function ag(t){var{valueAccessor:e=_oe}=t,n=yM(t,goe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:s}=n,l=yM(n,voe),u=Eoe(),c=Toe(),d=u||c;return!d||!d.length?null:b.createElement(jt,{zIndex:s??st.label},b.createElement(De,{className:"recharts-label-list"},d.map((f,p)=>{var v,E=Fe(r)?e(f,p):Oe(f.payload,r),y=Fe(a)?{}:{id:"".concat(a,"-").concat(p)};return b.createElement(bo,Bv({key:"label-".concat(p)},Bt(f),l,y,{fill:(v=n.fill)!==null&&v!==void 0?v:f.fill,parentViewBox:f.parentViewBox,value:E,textBreakAll:o,viewBox:f.viewBox,index:p,zIndex:0}))})))}ag.displayName="LabelList";function Jc(t){var{label:e}=t;return e?e===!0?b.createElement(ag,{key:"labelList-implicit"}):b.isValidElement(e)||fI(e)?b.createElement(ag,{key:"labelList-implicit",content:e}):typeof e=="object"?b.createElement(ag,Bv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Aoe=["points","className","baseLinePoints","connectNulls"],_M;function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(null,arguments)}function Soe(t,e){if(t==null)return{};var n,r,i=xoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function woe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var bM=t=>t!=null&&t.x===+t.x&&t.y===+t.y,Ioe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];e.forEach(o=>{var s=n[n.length-1];bM(o)?s&&s.push(o):s&&s.length>0&&n.push([])});var r=e[0],i=n[n.length-1];bM(r)&&i&&i.push(r);var a=n[n.length-1];return a&&a.length<=0&&(n=n.slice(0,-1)),n},Sf=(t,e)=>{var n=Ioe(t);e&&(n=[n.reduce((i,a)=>[...i,...a],[])]);var r=n.map(i=>i.reduce((a,o,s)=>wt(_M||(_M=woe(["","","",",",""])),a,s===0?"M":"L",o.x,o.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},Coe=(t,e,n)=>{var r=Sf(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(Sf(Array.from(e).reverse(),n).slice(1))},q$=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,a=Soe(t,Aoe);if(!e||!e.length)return null;var o=be("recharts-polygon",n);if(r&&r.length){var s=a.stroke&&a.stroke!=="none",l=Coe(e,r,i);return b.createElement("g",{className:o},b.createElement("path",Nu({},Bt(a),{fill:l.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:l})),s?b.createElement("path",Nu({},Bt(a),{fill:"none",d:Sf(e,i)})):null,s?b.createElement("path",Nu({},Bt(a),{fill:"none",d:Sf(r,i)})):null)}var u=Sf(e,i);return b.createElement("path",Nu({},Bt(a),{fill:u.slice(-1)==="Z"?a.fill:"none",className:o,d:u}))};function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TA.apply(null,arguments)}var hI=t=>{var{cx:e,cy:n,r,className:i}=t,a=be("recharts-dot",i);return ie(e)&&ie(n)&&ie(r)?b.createElement("circle",TA({},it(t),Dx(t),{className:a,cx:e,cy:n,r})):null},pI=t=>t.graphicalItems.polarItems,Poe=U([pt,ap],Vw),L0=U([pI,kt,Poe],Uw),Roe=U([L0],Bw),V0=U([Roe,np],zw),G$=U([V0,kt,L0],jw);U([V0,kt,L0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=Oe(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Oe(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var EM=()=>{},Noe=U([V0,kt,L0,N0,pt],Hw),Ooe=U([kt,qw,Gw,EM,Noe,EM,Se,pt],Kw),H$=U([kt,Se,V0,G$,rp,pt,Ooe],Ww),K$=U([H$,jl,Ji],Qw),Moe=U([kt,H$,K$,pt],Xw),Doe=U([Ji,Moe],Tj),mI=(t,e,n)=>{switch(e){case"angleAxis":return Fc(t,n);case"radiusAxis":return ip(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gI=(t,e,n)=>{switch(e){case"angleAxis":return lne(t,n);case"radiusAxis":return une(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Xc=U([mI,Ji,Doe,gI],O0),W$=U([Se,G$,jl,pt],Zw),Zc=U([Se,mI,Ji,Xc,K$,gI,up,W$,pt],Gj),koe=U([Zc],t=>{if(t){var e=new Map;return t.forEach(n=>{var r=(n.coordinate+360)%360;e.has(r)||e.set(r,n)}),Array.from(e.values())}});U([Se,mI,Xc,gI,up,W$,pt],Kj);var Loe=(t,e)=>Zc(t,"angleAxis",e,!1),Voe=U([Loe],t=>{if(t)return t.map(e=>e.coordinate)}),Uoe=(t,e)=>Zc(t,"radiusAxis",e,!1),Boe=U([Uoe],t=>{if(t)return t.map(e=>e.coordinate)}),zoe=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius","zIndex"];function Foe(t,e){if(t==null)return{};var n,r,i=joe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function joe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gi(){return gi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gi.apply(null,arguments)}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){$oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $oe(t,e,n){return(e=qoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qoe(t){var e=Goe(t,"string");return typeof e=="symbol"?e:e+""}function Goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hoe=(t,e,n,r)=>{var i="";return r.forEach((a,o)=>{var s=$e(e,n,t,a);o?i+="L ".concat(s.x,",").concat(s.y):i+="M ".concat(s.x,",").concat(s.y)}),i+="Z",i},Koe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:a,radialLines:o}=t;if(!a||!a.length||!o)return null;var s=U0({stroke:"#ccc"},it(t));return b.createElement("g",{className:"recharts-polar-grid-angle"},a.map(l=>{var u=$e(e,n,r,l),c=$e(e,n,i,l);return b.createElement("line",gi({key:"line-".concat(l)},s,{x1:u.x,y1:u.y,x2:c.x,y2:c.y}))}))},AM=t=>{var{cx:e,cy:n,radius:r}=t,i=U0({stroke:"#ccc",fill:"none"},it(t));return b.createElement("circle",gi({},i,{className:be("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r}))},SM=t=>{var{radius:e}=t,n=U0({stroke:"#ccc",fill:"none"},it(t));return b.createElement("path",gi({},n,{className:be("recharts-polar-grid-concentric-polygon",t.className),d:Hoe(e,t.cx,t.cy,t.polarAngles)}))},Woe=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var r=Math.max(...e),i=t.fill&&t.fill!=="none";return b.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&b.createElement(AM,gi({},t,{radius:r})),i&&n!=="circle"&&b.createElement(SM,gi({},t,{radius:r})),e.map((a,o)=>{var s=o;return n==="circle"?b.createElement(AM,gi({key:s},t,{fill:"none",radius:a})):b.createElement(SM,gi({key:s},t,{fill:"none",radius:a}))}))},Yoe={angleAxisId:0,radiusAxisId:0,gridType:"polygon",radialLines:!0,zIndex:st.grid},Y$=t=>{var e,n,r,i,a,o,s,l,u=We(t,Yoe),{gridType:c,radialLines:d,angleAxisId:f,radiusAxisId:p,cx:v,cy:E,innerRadius:y,outerRadius:_,polarAngles:T,polarRadius:S,zIndex:w}=u,N=Foe(u,zoe),O=ee(jc),I=ee(k=>Voe(k,f)),P=ee(k=>Boe(k,p)),R=Array.isArray(T)?T:I,M=Array.isArray(S)?S:P;if(R==null||M==null)return null;var V=U0({cx:(e=(n=O==null?void 0:O.cx)!==null&&n!==void 0?n:v)!==null&&e!==void 0?e:0,cy:(r=(i=O==null?void 0:O.cy)!==null&&i!==void 0?i:E)!==null&&r!==void 0?r:0,innerRadius:(a=(o=O==null?void 0:O.innerRadius)!==null&&o!==void 0?o:y)!==null&&a!==void 0?a:0,outerRadius:(s=(l=O==null?void 0:O.outerRadius)!==null&&l!==void 0?l:_)!==null&&s!==void 0?s:0,polarAngles:R,polarRadius:M,zIndex:w},N),{outerRadius:D}=V;return D<=0?null:b.createElement(jt,{zIndex:V.zIndex},b.createElement("g",{className:"recharts-polar-grid"},b.createElement(Woe,gi({gridType:c,radialLines:d},V,{polarAngles:R,polarRadius:M})),b.createElement(Koe,gi({gridType:c,radialLines:d},V,{polarAngles:R,polarRadius:M}))))};Y$.displayName="PolarGrid";var Q$={},J$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i,0,n);for(let o=1;o<n.length;o++){const s=n[o],l=r(s,o,n);l>a&&(a=l,i=s)}return i}t.maxBy=e})(J$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J$,n=qh,r=Jy;function i(a,o){if(a!=null)return e.maxBy(Array.from(a),r.iteratee(o??n.identity))}t.maxBy=i})(Q$);var Qoe=Q$.maxBy;const Joe=ri(Qoe);var X$={},Z$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i,0,n);for(let o=1;o<n.length;o++){const s=n[o],l=r(s,o,n);l<a&&(a=l,i=s)}return i}t.minBy=e})(Z$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z$,n=qh,r=Jy;function i(a,o){if(a!=null)return e.minBy(Array.from(a),r.iteratee(o??n.identity))}t.minBy=i})(X$);var Xoe=X$.minBy;const Zoe=ri(Xoe);var ese={radiusAxis:{},angleAxis:{}},e3=fr({name:"polarAxis",initialState:ese,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:tse,removeRadiusAxis:nse,addAngleAxis:rse,removeAngleAxis:ise}=e3.actions,ase=e3.reducer;function B0(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var ose=["type"],sse=["cx","cy","angle","axisLine"],lse=["angle","tickFormatter","stroke","tick"];function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(null,arguments)}function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function use(t,e,n){return(e=cse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cse(t){var e=dse(t,"string");return typeof e=="symbol"?e:e+""}function dse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vI(t,e){if(t==null)return{};var n,r,i=fse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hse="radiusAxis";function pse(t){var e=Ze(),n=J4(),r=b.useMemo(()=>{var{type:i}=t,a=vI(t,ose),o=zc(n,"radiusAxis",i);if(o!=null)return vi(vi({},a),{},{type:o})},[t,n]);return b.useEffect(()=>r==null?wi:(e(tse(r)),()=>{e(nse(r))}),[e,r]),null}var mse=(t,e,n,r)=>{var{coordinate:i}=t;return $e(n,r,i,e)},gse=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},vse=(t,e,n,r)=>{var i=Joe(r,o=>o.coordinate||0),a=Zoe(r,o=>o.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:(a==null?void 0:a.coordinate)||0,outerRadius:(i==null?void 0:i.coordinate)||0,clockWise:!1}},yse=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:a}=t,o=vI(t,sse),s=e.reduce((d,f)=>[Math.min(d[0],f.coordinate),Math.max(d[1],f.coordinate)],[1/0,-1/0]),l=$e(n,r,s[0],i),u=$e(n,r,s[1],i),c=vi(vi(vi({},it(o)),{},{fill:"none"},it(a)),{},{x1:l.x,y1:l.y,x2:u.x,y2:u.y});return b.createElement("line",lh({className:"recharts-polar-radius-axis-line"},c))},_se=(t,e,n)=>{var r;return b.isValidElement(t)?r=b.cloneElement(t,e):typeof t=="function"?r=t(e):r=b.createElement(Qc,lh({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},bse=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:a}=t,o=vI(t,lse),s=gse(t.orientation),l=it(o),u=$i(a),c=e.map((d,f)=>{var p=mse(d,t.angle,t.cx,t.cy),v=vi(vi(vi(vi({textAnchor:s,transform:"rotate(".concat(90-n,", ").concat(p.x,", ").concat(p.y,")")},l),{},{stroke:"none",fill:i},u),{},{index:f},p),{},{payload:d});return b.createElement(De,lh({className:be("recharts-polar-radius-axis-tick",B0(a)),key:"tick-".concat(d.coordinate)},vs(t,d,f)),_se(a,v,r?r(d.value,f):d.value))});return b.createElement(De,{className:"recharts-polar-radius-axis-ticks"},c)},Ese=t=>{var{radiusAxisId:e}=t,n=ee(jc),r=ee(l=>Xc(l,"radiusAxis",e)),i=ee(l=>Zc(l,"radiusAxis",e,!1));if(n==null||!i||!i.length||r==null)return null;var a=vi(vi({},t),{},{scale:r},n),{tick:o,axisLine:s}=a;return b.createElement(jt,{zIndex:a.zIndex},b.createElement(De,{className:be("recharts-polar-radius-axis",hse,a.className)},s&&yse(a,i),o&&bse(a,i),b.createElement(ooe,vse(a.angle,a.cx,a.cy,i),b.createElement(poe,{label:a.label}),a.children)))};function t3(t){var e=We(t,ci);return b.createElement(b.Fragment,null,b.createElement(pse,{domain:e.domain,id:e.radiusAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDataOverflow:e.allowDataOverflow,reversed:e.reversed,includeHidden:e.includeHidden,allowDecimals:e.allowDecimals,ticks:e.ticks,tickCount:e.tickCount,tick:e.tick}),b.createElement(Ese,e))}t3.displayName="PolarRadiusAxis";var Tse=["children","type"];function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(null,arguments)}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){Ase(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ase(t,e,n){return(e=Sse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sse(t){var e=xse(t,"string");return typeof e=="symbol"?e:e+""}function xse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wse(t,e){if(t==null)return{};var n,r,i=Ise(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ise(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var IM=1e-5,Cse=Math.cos(Tv(45)),Pse="angleAxis";function Rse(t){var e=Ze(),n=J4(),r=b.useMemo(()=>{var{children:o,type:s}=t,l=wse(t,Tse),u=zc(n,"angleAxis",s);if(u!=null)return $r($r({},l),{},{type:u})},[t,n]),i=ee(o=>Fc(o,r==null?void 0:r.id)),a=r===i;return b.useEffect(()=>r==null?wi:(e(rse(r)),()=>{e(ise(r))}),[e,r]),a?t.children:null}var Nse=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:o}=e,s=o||8,l=$e(n,r,i,t.coordinate),u=$e(n,r,i+(a==="inner"?-1:1)*s,t.coordinate);return{x1:l.x,y1:l.y,x2:u.x,y2:u.y}},Ose=(t,e)=>{var n=Math.cos(Tv(-t.coordinate));return n>IM?e==="outer"?"start":"end":n<-IM?e==="outer"?"end":"start":"middle"},Mse=t=>{var e=Math.cos(Tv(-t.coordinate)),n=Math.sin(Tv(-t.coordinate));return Math.abs(e)<=Cse?n>0?"start":"end":"middle"},Dse=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:a,ticks:o}=t;if(!a)return null;var s=$r($r({},it(t)),{},{fill:"none"},it(a));if(i==="circle")return b.createElement(hI,Al({className:"recharts-polar-angle-axis-line"},s,{cx:e,cy:n,r}));var l=o.map(u=>$e(e,n,r,u.coordinate));return b.createElement(q$,Al({className:"recharts-polar-angle-axis-line"},s,{points:l}))},kse=t=>{var{tick:e,tickProps:n,value:r}=t;return e?b.isValidElement(e)?b.cloneElement(e,n):typeof e=="function"?e(n):b.createElement(Qc,Al({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},Lse=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:a}=t,o=it(t),s=$i(e),l=$r($r({},o),{},{fill:"none"},it(n)),u=a.map((c,d)=>{var f=Nse(c,t),p=Ose(c,t.orientation),v=Mse(c),E=$r($r($r({},o),{},{textAnchor:p,verticalAnchor:v,stroke:"none",fill:i},s),{},{index:d,payload:c,x:f.x2,y:f.y2});return b.createElement(De,Al({className:be("recharts-polar-angle-axis-tick",B0(e)),key:"tick-".concat(c.coordinate)},vs(t,c,d)),n&&b.createElement("line",Al({className:"recharts-polar-angle-axis-tick-line"},l,f)),b.createElement(kse,{tick:e,tickProps:E,value:r?r(c.value,d):c.value}))});return b.createElement(De,{className:"recharts-polar-angle-axis-ticks"},u)},Vse=t=>{var{angleAxisId:e}=t,n=ee(jc),r=ee(s=>Xc(s,"angleAxis",e)),i=Dt(),a=ee(s=>koe(s,"angleAxis",e,i));if(n==null||!a||!a.length||r==null)return null;var o=$r($r($r({},t),{},{scale:r},n),{},{radius:n.outerRadius,ticks:a});return b.createElement(jt,{zIndex:o.zIndex},b.createElement(De,{className:be("recharts-polar-angle-axis",Pse,o.className)},b.createElement(Dse,o),b.createElement(Lse,o)))};function n3(t){var e=We(t,go);return b.createElement(Rse,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},b.createElement(Vse,e))}n3.displayName="PolarAngleAxis";function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){Use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Use(t,e,n){return(e=Bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bse(t){var e=zse(t,"string");return typeof e=="symbol"?e:e+""}function zse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fse=(t,e)=>e,yI=U([pI,Fse],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),jse=[],_I=(t,e,n)=>(n==null?void 0:n.length)===0?jse:n,r3=U([np,yI,_I],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>PM(PM({},e.presentationProps),a.props))),i!=null)return i}}),$se=U([r3,yI,_I],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,o=Oe(r,e.nameKey,e.name),s;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=e.fill,{value:ai(o,e.dataKey),color:s,payload:r,type:e.legendType}})}),qse=U([r3,yI,_I,tn],(t,e,n,r)=>{if(!(e==null||t==null))return Fle({offset:r,pieSettings:e,displayedData:t,cells:n})}),i3={exports:{}},ut={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bI=Symbol.for("react.transitional.element"),EI=Symbol.for("react.portal"),z0=Symbol.for("react.fragment"),F0=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),$0=Symbol.for("react.consumer"),q0=Symbol.for("react.context"),G0=Symbol.for("react.forward_ref"),H0=Symbol.for("react.suspense"),K0=Symbol.for("react.suspense_list"),W0=Symbol.for("react.memo"),Y0=Symbol.for("react.lazy"),Gse=Symbol.for("react.view_transition"),Hse=Symbol.for("react.client.reference");function si(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bI:switch(t=t.type,t){case z0:case j0:case F0:case H0:case K0:case Gse:return t;default:switch(t=t&&t.$$typeof,t){case q0:case G0:case Y0:case W0:return t;case $0:return t;default:return e}}case EI:return e}}}ut.ContextConsumer=$0;ut.ContextProvider=q0;ut.Element=bI;ut.ForwardRef=G0;ut.Fragment=z0;ut.Lazy=Y0;ut.Memo=W0;ut.Portal=EI;ut.Profiler=j0;ut.StrictMode=F0;ut.Suspense=H0;ut.SuspenseList=K0;ut.isContextConsumer=function(t){return si(t)===$0};ut.isContextProvider=function(t){return si(t)===q0};ut.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bI};ut.isForwardRef=function(t){return si(t)===G0};ut.isFragment=function(t){return si(t)===z0};ut.isLazy=function(t){return si(t)===Y0};ut.isMemo=function(t){return si(t)===W0};ut.isPortal=function(t){return si(t)===EI};ut.isProfiler=function(t){return si(t)===j0};ut.isStrictMode=function(t){return si(t)===F0};ut.isSuspense=function(t){return si(t)===H0};ut.isSuspenseList=function(t){return si(t)===K0};ut.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===z0||t===j0||t===F0||t===H0||t===K0||typeof t=="object"&&t!==null&&(t.$$typeof===Y0||t.$$typeof===W0||t.$$typeof===q0||t.$$typeof===$0||t.$$typeof===G0||t.$$typeof===Hse||t.getModuleId!==void 0)};ut.typeOf=si;i3.exports=ut;var Kse=i3.exports,RM=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",NM=null,iE=null,a3=t=>{if(t===NM&&Array.isArray(iE))return iE;var e=[];return b.Children.forEach(t,n=>{Fe(n)||(Kse.isFragment(n)?e=e.concat(a3(n.props.children)):e.push(n))}),iE=e,NM=t,e};function Q0(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>RM(i)):r=[RM(e)],a3(t).forEach(i=>{var a=vl(i,"type.displayName")||vl(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var TI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,o3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(o3);var Wse=o3.isPlainObject;const Yse=ri(Wse);var OM,MM,DM,kM,LM;function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){Qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qse(t,e,n){return(e=Jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jse(t){var e=Xse(t,"string");return typeof e=="symbol"?e:e+""}function Xse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(null,arguments)}function Fd(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var BM=(t,e,n,r,i)=>{var a=n-r,o;return o=wt(OM||(OM=Fd(["M ",",",""])),t,e),o+=wt(MM||(MM=Fd(["L ",",",""])),t+n,e),o+=wt(DM||(DM=Fd(["L ",",",""])),t+n-a/2,e+i),o+=wt(kM||(kM=Fd(["L ",",",""])),t+n-a/2-r,e+i),o+=wt(LM||(LM=Fd(["L ",","," Z"])),t,e),o},Zse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ele=t=>{var e=We(t,Zse),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:s}=e,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=e,f=b.useRef(null),[p,v]=b.useState(-1),E=b.useRef(i),y=b.useRef(a),_=b.useRef(o),T=b.useRef(n),S=b.useRef(r),w=bs(t,"trapezoid-");if(b.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var Q=f.current.getTotalLength();Q&&v(Q)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var N=be("recharts-trapezoid",s);if(!d)return b.createElement("g",null,b.createElement("path",zv({},Bt(e),{className:N,d:BM(n,r,i,a,o)})));var O=E.current,I=y.current,P=_.current,R=T.current,M=S.current,V="0px ".concat(p===-1?1:p,"px"),D="".concat(p,"px 0px"),k=uF(["strokeDasharray"],u,l);return b.createElement(_s,{animationId:w,key:w,canBegin:p>0,duration:u,easing:l,isActive:d,begin:c},Q=>{var ae=xe(O,i,Q),H=xe(I,a,Q),W=xe(P,o,Q),J=xe(R,n,Q),te=xe(M,r,Q);f.current&&(E.current=ae,y.current=H,_.current=W,T.current=J,S.current=te);var ce=Q>0?{transition:k,strokeDasharray:D}:{strokeDasharray:V};return b.createElement("path",zv({},Bt(e),{className:N,d:BM(J,te,ae,H,W),ref:f,style:UM(UM({},ce),e.style)}))})},tle=["option","shapeType","activeClassName"];function nle(t,e){if(t==null)return{};var n,r,i=rle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){ile(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ile(t,e,n){return(e=ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ale(t){var e=ole(t,"string");return typeof e=="symbol"?e:e+""}function ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sle(t,e){return Fv(Fv({},e),t)}function lle(t,e){return t==="symbols"}function FM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return b.createElement(hF,n);case"trapezoid":return b.createElement(ele,n);case"sector":return b.createElement(vF,n);case"symbols":if(lle(e))return b.createElement(Yy,n);break;case"curve":return b.createElement(al,n);default:return null}}function ule(t){return b.isValidElement(t)?t.props:t}function uh(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=nle(t,tle),a;if(b.isValidElement(e))a=b.cloneElement(e,Fv(Fv({},i),ule(e)));else if(typeof e=="function")a=e(i,i.index);else if(Yse(e)&&typeof e!="boolean"){var o=sle(e,i);a=b.createElement(FM,{shapeType:n,elementProps:o})}else{var s=i;a=b.createElement(FM,{shapeType:n,elementProps:s})}return i.isActive?b.createElement(De,{className:r},a):a}var J0=(t,e,n)=>{var r=Ze();return(i,a)=>o=>{t==null||t(i,a,o),r(Zj({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},X0=t=>{var e=Ze();return(n,r)=>i=>{t==null||t(n,r,i),e(mre())}},Z0=(t,e,n)=>{var r=Ze();return(i,a)=>o=>{t==null||t(i,a,o),r(gre({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function ed(t){var{tooltipEntrySettings:e}=t,n=Ze(),r=Dt(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(dre(e)):i.current!==e&&n(fre({prev:i.current,next:e})),i.current=e)},[e,n,r]),b.useLayoutEffect(()=>()=>{i.current&&(n(hre(i.current)),i.current=null)},[n]),null}function e_(t){var{legendPayload:e}=t,n=Ze(),r=Dt(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(aF(e)):i.current!==e&&n(oF({prev:i.current,next:e})),i.current=e)},[n,r,e]),b.useLayoutEffect(()=>()=>{i.current&&(n(sF(i.current)),i.current=null)},[n]),null}function s3(t){var{legendPayload:e}=t,n=Ze(),r=ee(Se),i=b.useRef(null);return b.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(aF(e)):i.current!==e&&n(oF({prev:i.current,next:e})),i.current=e)},[n,r,e]),b.useLayoutEffect(()=>()=>{i.current&&(n(sF(i.current)),i.current=null)},[n]),null}var aE,cle=()=>{var[t]=b.useState(()=>Wf("uid-"));return t},dle=(aE=jH.useId)!==null&&aE!==void 0?aE:cle;function fle(t,e){var n=dle();return e||(t?"".concat(t,"-").concat(n):n)}var hle=b.createContext(void 0),td=t=>{var{id:e,type:n,children:r}=t,i=fle("recharts-".concat(n),e);return b.createElement(hle.Provider,{value:i},r(i))},ple={cartesianItems:[],polarItems:[]},l3=fr({name:"graphicalItems",initialState:ple,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:At()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=yi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:At()},removeCartesianGraphicalItem:{reducer(t,e){var n=yi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:At()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:At()},removePolarGraphicalItem:{reducer(t,e){var n=yi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:At()}}}),{addCartesianGraphicalItem:mle,replaceCartesianGraphicalItem:gle,removeCartesianGraphicalItem:vle,addPolarGraphicalItem:yle,removePolarGraphicalItem:_le}=l3.actions,ble=l3.reducer,Ele=t=>{var e=Ze(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(mle(t)):n.current!==t&&e(gle({prev:n.current,next:t})),n.current=t},[e,t]),b.useLayoutEffect(()=>()=>{n.current&&(e(vle(n.current)),n.current=null)},[e]),null},t_=b.memo(Ele);function u3(t){var e=Ze();return b.useLayoutEffect(()=>(e(yle(t)),()=>{e(_le(t))}),[e,t]),null}var Tle=["key"],Ale=["onMouseEnter","onClick","onMouseLeave"],Sle=["id"],xle=["id"];function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wle(t,e,n){return(e=Ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ile(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(null,arguments)}function n_(t,e){if(t==null)return{};var n,r,i=Ple(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ple(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rle(t){var e=b.useMemo(()=>Q0(t.children,Ai),[t.children]),n=ee(r=>$se(r,t.id,e));return n==null?null:b.createElement(s3,{legendPayload:n})}var Nle=b.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:u,id:c}=t,d={dataDefinedOnItem:r.map(f=>f.tooltipPayload),getPosition:f=>{var p;return(p=r[Number(f)])===null||p===void 0?void 0:p.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:n,name:ai(s,e),hide:l,type:u,color:o,unit:"",graphicalItemId:c}};return b.createElement(ed,{tooltipEntrySettings:d})}),Ole=(t,e)=>t>e?"start":t<e?"end":"middle",Mle=(t,e,n)=>Un(typeof e=="function"?e(t):e,n,n*.8),Dle=(t,e,n)=>{var{top:r,left:i,width:a,height:o}=e,s=pF(a,o),l=i+Un(t.cx,a,a/2),u=r+Un(t.cy,o,o/2),c=Un(t.innerRadius,s,0),d=Mle(n,t.outerRadius,s),f=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:f}},kle=(t,e)=>{var n=fn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Lle=(t,e)=>{if(b.isValidElement(t))return b.cloneElement(t,e);if(typeof t=="function")return t(e);var n=be("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=n_(e,Tle);return b.createElement(al,ss({},i,{type:"linear",className:n}))},Vle=(t,e,n)=>{if(b.isValidElement(t))return b.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),b.isValidElement(r)))return r;var i=be("recharts-pie-label-text",B0(t));return b.createElement(Qc,ss({},e,{alignmentBaseline:"middle",className:i}),r)};function Ule(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!e)return null;var s=it(n),l=$i(i),u=$i(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=e.map((f,p)=>{var v=(f.startAngle+f.endAngle)/2,E=$e(f.cx,f.cy,f.outerRadius+c,v),y=Nt(Nt(Nt(Nt({},s),f),{},{stroke:"none"},l),{},{index:p,textAnchor:Ole(E.x,f.cx)},E),_=Nt(Nt(Nt(Nt({},s),f),{},{fill:"none",stroke:f.fill},u),{},{index:p,points:[$e(f.cx,f.cy,f.outerRadius,v),E],key:"line"});return b.createElement(jt,{zIndex:st.label,key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(p)},b.createElement(De,null,a&&Lle(a,_),Vle(i,y,Oe(f,o))))});return b.createElement(De,{className:"recharts-pie-labels"},d)}function Ble(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?b.createElement(Jc,{label:i}):b.createElement(Ule,{sectors:e,props:n,showLabels:r})}function zle(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:o}=t,s=ee(ja),l=ee(sI),u=ee(tie),{onMouseEnter:c,onClick:d,onMouseLeave:f}=i,p=n_(i,Ale),v=J0(c,i.dataKey,o),E=X0(f),y=Z0(d,i.dataKey,o);return e==null||e.length===0?null:b.createElement(b.Fragment,null,e.map((_,T)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&e.length!==1)return null;var S=u==null||u===o,w=String(T)===s&&(l==null||i.dataKey===l)&&S,N=s?r:null,O=n&&w?n:N,I=Nt(Nt({},_),{},{stroke:_.stroke,tabIndex:-1,[$4]:T,[Jx]:o});return b.createElement(De,ss({key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(T),tabIndex:-1,className:"recharts-pie-sector"},vs(p,_,T),{onMouseEnter:v(_,T),onMouseLeave:E(_,T),onClick:y(_,T)}),b.createElement(uh,ss({option:a??O,index:T,shapeType:"sector",isActive:w},I)))}))}function Fle(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=n,f=Math.abs(n.minAngle),p=kle(s,l),v=Math.abs(p),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,y=r.filter(O=>Oe(O,u,0)!==0).length,_=(v>=360?y:y-1)*E,T=v-y*f-_,S=r.reduce((O,I)=>{var P=Oe(I,u,0);return O+(ie(P)?P:0)},0),w;if(S>0){var N;w=r.map((O,I)=>{var P=Oe(O,u,0),R=Oe(O,c,I),M=Dle(n,a,O),V=(ie(P)?P:0)/S,D,k=Nt(Nt({},O),i&&i[I]&&i[I].props);I?D=N.endAngle+fn(p)*E*(P!==0?1:0):D=s;var Q=D+fn(p)*((P!==0?f:0)+V*T),ae=(D+Q)/2,H=(M.innerRadius+M.outerRadius)/2,W=[{name:R,value:P,payload:k,dataKey:u,type:d,graphicalItemId:n.id}],J=$e(M.cx,M.cy,H,ae);return N=Nt(Nt(Nt(Nt({},n.presentationProps),{},{percent:V,cornerRadius:typeof o=="string"?parseFloat(o):o,name:R,tooltipPayload:W,midAngle:ae,middleRadius:H,tooltipPosition:J},k),M),{},{value:P,dataKey:u,startAngle:D,endAngle:Q,payload:k,paddingAngle:fn(p)*E}),N})}return w}function jle(t){var{showLabels:e,sectors:n,children:r}=t,i=b.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return b.createElement(boe,{value:e?i:void 0},r)}function $le(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:f}=e,p=bs(e,"recharts-pie-"),v=n.current,[E,y]=b.useState(!1),_=b.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),T=b.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return b.createElement(jle,{showLabels:!E,sectors:i},b.createElement(_s,{animationId:p,begin:o,duration:s,isActive:a,easing:l,onAnimationStart:T,onAnimationEnd:_,key:p},S=>{var w,N=[],O=i&&i[0],I=(w=O==null?void 0:O.startAngle)!==null&&w!==void 0?w:0;return i==null||i.forEach((P,R)=>{var M=v&&v[R],V=R>0?vl(P,"paddingAngle",0):0;if(M){var D=xe(M.endAngle-M.startAngle,P.endAngle-P.startAngle,S),k=Nt(Nt({},P),{},{startAngle:I+V,endAngle:I+D+V});N.push(k),I=k.endAngle}else{var{endAngle:Q,startAngle:ae}=P,H=xe(0,Q-ae,S),W=Nt(Nt({},P),{},{startAngle:I+V,endAngle:I+H+V});N.push(W),I=W.endAngle}}),n.current=N,b.createElement(De,null,b.createElement(zle,{sectors:N,activeShape:u,inactiveShape:c,allOtherPieProps:e,shape:e.shape,id:r}))}),b.createElement(Ble,{showLabels:!E,sectors:i,props:e}),e.children)}var qle={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:st.area};function Gle(t){var{id:e}=t,n=n_(t,Sle),{hide:r,className:i,rootTabIndex:a}=t,o=b.useMemo(()=>Q0(t.children,Ai),[t.children]),s=ee(c=>qse(c,e,o)),l=b.useRef(null),u=be("recharts-pie",i);return r||s==null?(l.current=null,b.createElement(De,{tabIndex:a,className:u})):b.createElement(jt,{zIndex:t.zIndex},b.createElement(Nle,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:s,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),b.createElement(De,{tabIndex:a,className:u},b.createElement($le,{props:Nt(Nt({},n),{},{sectors:s}),previousSectorsRef:l,id:e})))}function hp(t){var e=We(t,qle),{id:n}=e,r=n_(e,xle),i=it(r);return b.createElement(td,{id:n,type:"pie"},a=>b.createElement(b.Fragment,null,b.createElement(u3,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),b.createElement(Rle,ss({},r,{id:a})),b.createElement(Gle,ss({},r,{id:a}))))}hp.displayName="Pie";var Hle=["points"];function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){Kle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kle(t,e,n){return(e=Wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wle(t){var e=Yle(t,"string");return typeof e=="symbol"?e:e+""}function Yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(null,arguments)}function Qle(t,e){if(t==null)return{};var n,r,i=Jle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xle(t){var{option:e,dotProps:n,className:r}=t;if(b.isValidElement(e))return b.cloneElement(e,n);if(typeof e=="function")return e(n);var i=be(r,typeof e!="boolean"?e.className:""),a=n??{},{points:o}=a,s=Qle(a,Hle);return b.createElement(hI,jv({},s,{className:i}))}function Zle(t,e){return t==null?!1:e?!0:t.length===1}function AI(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:l,zIndex:u=st.scatter}=t;if(!Zle(e,n))return null;var c=TI(n),d=F7(n),f=e.map((v,E)=>{var y,_,T=oE(oE(oE({r:3},o),d),{},{index:E,cx:(y=v.x)!==null&&y!==void 0?y:void 0,cy:(_=v.y)!==null&&_!==void 0?_:void 0,dataKey:a,value:v.value,payload:v.payload,points:e});return b.createElement(Xle,{key:"dot-".concat(E),option:n,dotProps:T,className:i})}),p={};return s&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),b.createElement(jt,{zIndex:u},b.createElement(De,jv({className:r},p),f))}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){eue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eue(t,e,n){return(e=tue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tue(t){var e=nue(t,"string");return typeof e=="symbol"?e:e+""}function nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c3=0,rue={xAxis:{},yAxis:{},zAxis:{}},d3=fr({name:"cartesianAxis",initialState:rue,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:At()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:At()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:At()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:At()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:At()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:At()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:At()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:At()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:At()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-((a=o[0])!==null&&a!==void 0?a:0))<=1)return;var s=[...o,r].slice(-3);t.yAxis[n]=GM(GM({},i),{},{width:r,widthHistory:s})}}}}),{addXAxis:iue,replaceXAxis:aue,removeXAxis:oue,addYAxis:sue,replaceYAxis:lue,removeYAxis:uue,addZAxis:cue,replaceZAxis:due,removeZAxis:fue,updateYAxisWidth:hue}=d3.actions,pue=d3.reducer,mue=U([tn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),gue=U([mue,Qa,Ja],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),r_=()=>ee(gue),vue=()=>ee(oie);function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yue(t,e,n){return(e=_ue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ue(t){var e=bue(t,"string");return typeof e=="symbol"?e:e+""}function bue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eue=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=t;if(i===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=sE(sE(sE({},s),$i(i)),Dx(i)),u;return b.isValidElement(i)?u=b.cloneElement(i,l):typeof i=="function"?u=i(l):u=b.createElement(hI,l),b.createElement(De,{className:"recharts-active-dot",clipPath:o},u)};function $v(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=st.activeDot}=t,s=ee(ja),l=vue();if(e==null||l==null)return null;var u=e.find(c=>l.includes(c.payload));return Fe(u)?null:b.createElement(jt,{zIndex:o},b.createElement(Eue,{point:u,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){Tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e,n){return(e=Aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aue(t){var e=Sue(t,"string");return typeof e=="symbol"?e:e+""}function Sue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f3=(t,e)=>Xc(t,"radiusAxis",e),xue=U([f3],t=>{if(t!=null)return{scale:t}}),wue=U([ip,f3],(t,e)=>{if(!(t==null||e==null))return qv(qv({},t),{},{scale:e})}),Iue=(t,e,n,r)=>Zc(t,"radiusAxis",e,r),h3=(t,e,n)=>Fc(t,n),p3=(t,e,n)=>Xc(t,"angleAxis",n),Cue=U([h3,p3],(t,e)=>{if(!(t==null||e==null))return qv(qv({},t),{},{scale:e})}),Pue=(t,e,n,r)=>Zc(t,"angleAxis",n,r),Rue=U([h3,p3,jc],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),Nue=(t,e,n,r,i)=>i,Oue=U([Se,wue,Iue,Cue,Pue],(t,e,n,r,i)=>ii(t,"radiusAxis")?Hi(e,n,!1):Hi(r,i,!1)),Mue=U([pI,Nue],(t,e)=>{if(t!=null){var n=t.find(r=>r.type==="radar"&&e===r.id);return n==null?void 0:n.dataKey}}),Due=U([xue,Rue,np,Mue,Oue],(t,e,n,r,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:s}=n;if(!(t==null||e==null||a==null||i==null||r==null)){var l=a.slice(o,s+1);return que({radiusAxis:t,angleAxis:e,displayedData:l,dataKey:r,bandSize:i})}}),kue=["id"];function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(null,arguments)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){Lue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lue(t,e,n){return(e=Vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bue(t,e){if(t==null)return{};var n,r,i=zue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function SI(t,e){return t&&t!=="none"?t:e}var Fue=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:SI(r,i),value:ai(n,e),payload:t}]},jue=b.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,tooltipType:s,id:l}=t,u={dataDefinedOnItem:void 0,getPosition:wi,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:ai(a,e),hide:o,type:s,color:SI(n,i),unit:"",graphicalItemId:l}};return b.createElement(ed,{tooltipEntrySettings:u})});function $ue(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n,{id:a}=n,o=Bue(n,kue),s=it(o);return b.createElement(AI,{points:e,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:s})}function que(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=t,{cx:o,cy:s}=n,l=!1,u=[],c=n.type!=="number"?a??0:0;r.forEach((f,p)=>{var v,E,y=Oe(f,n.dataKey,p),_=Oe(f,i),T=((v=n.scale.map(y))!==null&&v!==void 0?v:0)+c,S=Array.isArray(_)?F$(_):_,w=Fe(S)?0:(E=e.scale.map(S))!==null&&E!==void 0?E:0;Array.isArray(_)&&_.length>=2&&(l=!0),u.push(ar(ar({},$e(o,s,w,T)),{},{name:y,value:_,cx:o,cy:s,radius:w,angle:T,payload:f}))});var d=[];return l&&u.forEach(f=>{if(Array.isArray(f.value)){var p,v=f.value[0],E=Fe(v)?0:(p=e.scale.map(v))!==null&&p!==void 0?p:0;d.push(ar(ar({},f),{},{radius:E},$e(o,s,E,f.angle)))}else d.push(f)}),{points:u,isRange:l,baseLinePoints:d}}function Gue(t){var{showLabels:e,points:n,children:r}=t,i=n.map(a=>{var o,s={x:a.x,y:a.y,width:0,lowerWidth:0,upperWidth:0,height:0};return ar(ar({},s),{},{value:(o=a.value)!==null&&o!==void 0?o:"",payload:a.payload,parentViewBox:void 0,viewBox:s,fill:void 0})});return b.createElement(fp,{value:e?i:void 0},r)}function Hue(t){var{points:e,baseLinePoints:n,props:r}=t;if(e==null)return null;var{shape:i,isRange:a,connectNulls:o}=r,s=c=>{var{onMouseEnter:d}=r;d&&d(r,c)},l=c=>{var{onMouseLeave:d}=r;d&&d(r,c)},u;return b.isValidElement(i)?u=b.cloneElement(i,ar(ar({},r),{},{points:e})):typeof i=="function"?u=i(ar(ar({},r),{},{points:e})):u=b.createElement(q$,ch({},Bt(r),{onMouseEnter:s,onMouseLeave:l,points:e,baseLinePoints:a?n:void 0,connectNulls:o})),b.createElement(De,{className:"recharts-radar-polygon"},u,b.createElement($ue,{props:r,points:e}))}var YM=(t,e,n)=>(r,i)=>{var a=t&&t[Math.floor(i*e)];return a?ar(ar({},r),{},{x:xe(a.x,r.x,n),y:xe(a.y,r.y,n)}):ar(ar({},r),{},{x:xe(r.cx,r.x,n),y:xe(r.cy,r.y,n)})};function Kue(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:r}=t,{points:i,baseLinePoints:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:u,onAnimationEnd:c,onAnimationStart:d}=e,f=n.current,p=r.current,v=f?f.length/i.length:1,E=p?p.length/a.length:1,y=bs(e,"recharts-radar-"),[_,T]=b.useState(!1),S=!_,w=b.useCallback(()=>{typeof c=="function"&&c(),T(!1)},[c]),N=b.useCallback(()=>{typeof d=="function"&&d(),T(!0)},[d]);return b.createElement(Gue,{showLabels:S,points:i},b.createElement(_s,{animationId:y,begin:s,duration:l,isActive:o,easing:u,key:"radar-".concat(y),onAnimationEnd:w,onAnimationStart:N},O=>{var I=O===1?i:i.map(YM(f,v,O)),P=O===1?a:a==null?void 0:a.map(YM(p,E,O));return O>0&&(n.current=I,r.current=P),b.createElement(Hue,{points:I,baseLinePoints:P,props:e})}),b.createElement(Jc,{label:e.label}),e.children)}function Wue(t){var e=b.useRef(void 0),n=b.useRef(void 0);return b.createElement(Kue,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var Yue={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:st.area};function Que(t){var{hide:e,className:n,points:r}=t;if(e)return null;var i=be("recharts-radar",n);return b.createElement(jt,{zIndex:t.zIndex},b.createElement(De,{className:i},b.createElement(Wue,t)),b.createElement($v,{points:r,mainColor:SI(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function Jue(t){var e=Dt(),n=ee(r=>Due(r,t.radiusAxisId,t.angleAxisId,e,t.id));return(n==null?void 0:n.points)==null?null:b.createElement(Que,ch({},t,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}function AA(t){var e=We(t,Yue);return b.createElement(td,{id:e.id,type:"radar"},n=>b.createElement(b.Fragment,null,b.createElement(u3,{type:"radar",id:n,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),b.createElement(s3,{legendPayload:Fue(e)}),b.createElement(jue,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:n}),b.createElement(Jue,ch({},e,{id:n}))))}AA.displayName="Radar";var QM=(t,e,n)=>{var r=n??t;if(!Fe(r))return Un(r,e,0)},Xue=(t,e,n)=>{var r={},i=t.filter(I0),a=t.filter(u=>u.stackId==null),o=i.reduce((u,c)=>{var d=u[c.stackId];return d==null&&(d=[]),d.push(c),u[c.stackId]=d,u},r),s=Object.entries(o).map(u=>{var c,[d,f]=u,p=f.map(E=>E.dataKey),v=QM(e,n,(c=f[0])===null||c===void 0?void 0:c.barSize);return{stackId:d,dataKeys:p,barSize:v}}),l=a.map(u=>{var c=[u.dataKey].filter(f=>f!=null),d=QM(e,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...s,...l]};function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){Zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zue(t,e,n){return(e=ece(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ece(t){var e=tce(t,"string");return typeof e=="symbol"?e:e+""}function tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nce(t,e,n,r,i){var a,o=r.length;if(!(o<1)){var s=Un(t,n,0,!0),l,u=[];if(Ae((a=r[0])===null||a===void 0?void 0:a.barSize)){var c=!1,d=n/o,f=r.reduce((T,S)=>T+(S.barSize||0),0);f+=(o-1)*s,f>=n&&(f-=(o-1)*s,s=0),f>=n&&d>0&&(c=!0,d*=.9,f=o*d);var p=(n-f)/2>>0,v={offset:p-s,size:0};l=r.reduce((T,S)=>{var w,N={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:v.offset+v.size+s,size:c?d:(w=S.barSize)!==null&&w!==void 0?w:0}},O=[...T,N];return v=N.position,O},u)}else{var E=Un(e,n,0,!0);n-2*E-(o-1)*s<=0&&(s=0);var y=(n-2*E-(o-1)*s)/o;y>1&&(y>>=0);var _=Ae(i)?Math.min(y,i):y;l=r.reduce((T,S,w)=>[...T,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:E+(y+s)*w+(y-_)/2,size:_}}],u)}return l}}var rce=(t,e,n,r,i,a,o)=>{var s=Fe(o)?e:o,l=nce(n,r,i!==a?i:a,t,s);return i!==a&&l!=null&&(l=l.map(u=>Tm(Tm({},u),{},{position:Tm(Tm({},u.position),{},{offset:u.position.offset-i/2})}))),l},ice=(t,e)=>{var n=w0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},ace=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function oce(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Ae(t.zIndex)?t.zIndex:e}var m3=t=>{var{chartData:e}=t,n=Ze(),r=Dt();return b.useEffect(()=>r?()=>{}:(n(eM(e)),()=>{n(eM(void 0))}),[e,n,r]),null},XM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},g3=fr({name:"brush",initialState:XM,reducers:{setBrushSettings(t,e){return e.payload==null?XM:e.payload}}}),{setBrushSettings:_Pe}=g3.actions,sce=g3.reducer;function lce(t){return(t%180+180)%180}var uce=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=lce(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},cce={dots:[],areas:[],lines:[]},v3=fr({name:"referenceElements",initialState:cce,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=yi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=yi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=yi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:bPe,removeDot:EPe,addArea:TPe,removeArea:APe,addLine:SPe,removeLine:xPe}=v3.actions,dce=v3.reducer,fce=b.createContext(void 0),hce=t=>{var{children:e}=t,[n]=b.useState("".concat(Wf("recharts"),"-clip")),r=r_();if(r==null)return null;var{x:i,y:a,width:o,height:s}=r;return b.createElement(fce.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:a,height:s,width:o}))),e)};function y3(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function pce(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return uce(r,n)}function mce(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:s}=t;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function dh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function gce(t,e){return y3(t,e+1)}function vce(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:s}=e,l=0,u=1,c=o,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:y3(r,u)};var E=l,y,_=()=>(y===void 0&&(y=n(v,E)),y),T=v.coordinate,S=l===0||dh(t,T,_,c,s);S||(l=0,c=o,u+=1),S&&(c=T+t*(_()/2+i),l+=u)},f;u<=a.length;)if(f=d(),f)return f.v;return[]}function yce(t,e,n,r,i){var a=(r||[]).slice(),o=a.length;if(o===0)return[];for(var{start:s,end:l}=e,u=1;u<=o;u++){for(var c=(o-1)%u,d=s,f=!0,p=function(){var w=r[E];if(w==null)return 0;var N=E,O,I=()=>(O===void 0&&(O=n(w,N)),O),P=w.coordinate,R=E===c||dh(t,P,I,d,l);if(!R)return f=!1,1;R&&(d=P+t*(I()/2+i))},v,E=c;E<o&&(v=p(),!(v!==0&&v===1));E+=u);if(f){for(var y=[],_=c;_<o;_+=u){var T=r[_];T!=null&&y.push(T)}return y}}return[]}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return(e=bce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bce(t){var e=Ece(t,"string");return typeof e=="symbol"?e:e+""}function Ece(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tce(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=e,{end:l}=e,u=function(f){var p=a[f];if(p==null)return 1;var v=p,E,y=()=>(E===void 0&&(E=n(p,f)),E);if(f===o-1){var _=t*(v.coordinate+t*y()/2-l);a[f]=v=Mn(Mn({},v),{},{tickCoord:_>0?v.coordinate-_*t:v.coordinate})}else a[f]=v=Mn(Mn({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var T=dh(t,v.tickCoord,y,s,l);T&&(l=v.tickCoord-t*(y()/2+i),a[f]=Mn(Mn({},v),{},{isShow:!0}))}},c=o-1;c>=0;c--)u(c);return a}function Ace(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:u}=e;if(a){var c=r[s-1];if(c!=null){var d=n(c,s-1),f=t*(c.coordinate+t*d/2-u);if(o[s-1]=c=Mn(Mn({},c),{},{tickCoord:f>0?c.coordinate-f*t:c.coordinate}),c.tickCoord!=null){var p=dh(t,c.tickCoord,()=>d,l,u);p&&(u=c.tickCoord-t*(d/2+i),o[s-1]=Mn(Mn({},c),{},{isShow:!0}))}}}for(var v=a?s-1:s,E=function(T){var S=o[T];if(S==null)return 1;var w=S,N,O=()=>(N===void 0&&(N=n(S,T)),N);if(T===0){var I=t*(w.coordinate-t*O()/2-l);o[T]=w=Mn(Mn({},w),{},{tickCoord:I<0?w.coordinate-I*t:w.coordinate})}else o[T]=w=Mn(Mn({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var P=dh(t,w.tickCoord,O,l,u);P&&(l=w.tickCoord+t*(O()/2+i),o[T]=Mn(Mn({},w),{},{isShow:!0}))}},y=0;y<v;y++)E(y);return o}function xI(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=t;if(!i||!i.length||!r)return[];if(ie(l)||Jh.isSsr){var f;return(f=gce(i,ie(l)?l:0))!==null&&f!==void 0?f:[]}var p=[],v=s==="top"||s==="bottom"?"width":"height",E=c&&v==="width"?Af(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=(N,O)=>{var I=typeof u=="function"?u(N.value,O):N.value;return v==="width"?pce(Af(I,{fontSize:e,letterSpacing:n}),E,d):Af(I,{fontSize:e,letterSpacing:n})[v]},_=i[0],T=i[1],S=i.length>=2&&_!=null&&T!=null?fn(T.coordinate-_.coordinate):1,w=mce(a,S,v);return l==="equidistantPreserveStart"?vce(S,w,y,i,o):l==="equidistantPreserveEnd"?yce(S,w,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=Ace(S,w,y,i,o,l==="preserveStartEnd"):p=Tce(S,w,y,i,o),p.filter(N=>N.isShow))}var Sce=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){Array.from(e).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+a,u=o+l+s+(n?r:0);return Math.round(u)}return 0},xce=["axisLine","width","height","className","hide","ticks","axisType"];function wce(t,e){if(t==null)return{};var n,r,i=Ice(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ice(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sl.apply(null,arguments)}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){Cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cce(t,e,n){return(e=Pce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pce(t){var e=Rce(t,"string");return typeof e=="symbol"?e:e+""}function Rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:st.axis};function Nce(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=t;if(!s)return null;var u=Rt(Rt(Rt({},l),it(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!o||a==="bottom"&&o);u=Rt(Rt({},u),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);u=Rt(Rt({},u),{},{x1:e+d*r,y1:n,x2:e+d*r,y2:n+i})}return b.createElement("line",Sl({},u,{className:be("recharts-cartesian-axis-line",vl(s,"className"))}))}function Oce(t,e,n,r,i,a,o,s,l){var u,c,d,f,p,v,E=s?-1:1,y=t.tickSize||o,_=ie(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":u=c=t.coordinate,f=n+ +!s*i,d=f-E*y,v=d-E*l,p=_;break;case"left":d=f=t.coordinate,c=e+ +!s*r,u=c-E*y,p=u-E*l,v=_;break;case"right":d=f=t.coordinate,c=e+ +s*r,u=c+E*y,p=u+E*l,v=_;break;default:u=c=t.coordinate,f=n+ +s*i,d=f+E*y,v=d+E*l,p=_;break}return{line:{x1:u,y1:d,x2:c,y2:f},tick:{x:p,y:v}}}function Mce(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Dce(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function kce(t){var{option:e,tickProps:n,value:r}=t,i,a=be(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(e))i=b.cloneElement(e,Rt(Rt({},n),{},{className:a}));else if(typeof e=="function")i=e(Rt(Rt({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=be(o,B0(e))),i=b.createElement(Qc,Sl({},n,{className:o}),r)}return i}var Lce=b.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:f,y:p,width:v,height:E,tickSize:y,tickMargin:_,fontSize:T,letterSpacing:S,getTicksConfig:w,events:N,axisType:O}=t,I=xI(Rt(Rt({},w),{},{ticks:n}),T,S),P=Mce(c,d),R=Dce(c,d),M=it(w),V=$i(r),D={};typeof i=="object"&&(D=i);var k=Rt(Rt({},M),{},{fill:"none"},D),Q=I.map(W=>Rt({entry:W},Oce(W,f,p,v,E,c,y,d,_))),ae=Q.map(W=>{var{entry:J,line:te}=W;return b.createElement(De,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},i&&b.createElement("line",Sl({},k,te,{className:be("recharts-cartesian-axis-tick-line",vl(i,"className"))})))}),H=Q.map((W,J)=>{var te,ce,{entry:Ge,tick:ke}=W,Le=Rt(Rt(Rt(Rt({verticalAnchor:R},M),{},{textAnchor:P,stroke:"none",fill:a},ke),{},{index:J,payload:Ge,visibleTicksCount:I.length,tickFormatter:o,padding:l},u),{},{angle:(te=(ce=u==null?void 0:u.angle)!==null&&ce!==void 0?ce:M.angle)!==null&&te!==void 0?te:0}),ct=Rt(Rt({},Le),V);return b.createElement(De,Sl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Ge.value,"-").concat(Ge.coordinate,"-").concat(Ge.tickCoord)},vs(N,Ge,J)),r&&b.createElement(kce,{option:r,tickProps:ct,value:"".concat(typeof o=="function"?o(Ge.value,J):Ge.value).concat(s||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},H.length>0&&b.createElement(jt,{zIndex:st.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:e},H)),ae.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},ae))}),Vce=b.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:s,axisType:l}=t,u=wce(t,xce),[c,d]=b.useState(""),[f,p]=b.useState(""),v=b.useRef(null);b.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var y;return Sce({ticks:v.current,label:(y=t.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=b.useCallback(y=>{if(y){var _=y.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=_;var T=_[0];if(T){var S=window.getComputedStyle(T),w=S.fontSize,N=S.letterSpacing;(w!==c||N!==f)&&(d(w),p(N))}}},[c,f]);return o||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(jt,{zIndex:t.zIndex},b.createElement(De,{className:be("recharts-cartesian-axis",a)},b.createElement(Nce,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:it(t)}),b.createElement(Lce,{ref:E,axisType:l,events:u,fontSize:c,getTicksConfig:t,height:t.height,letterSpacing:f,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:s,unit:t.unit,width:t.width,x:t.x,y:t.y}),b.createElement(aoe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},b.createElement(hoe,{label:t.label,labelRef:t.labelRef}),t.children)))}),wI=b.forwardRef((t,e)=>{var n=We(t,Pa);return b.createElement(Vce,Sl({},n,{ref:e}))});wI.displayName="CartesianAxis";var Uce=["x1","y1","x2","y2","key"],Bce=["offset"],zce=["xAxisId","yAxisId"],Fce=["xAxisId","yAxisId"];function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jce(t,e,n){return(e=$ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ce(t){var e=qce(t,"string");return typeof e=="symbol"?e:e+""}function qce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xs(){return Xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xs.apply(null,arguments)}function Gv(t,e){if(t==null)return{};var n,r,i=Gce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:s}=t;return b.createElement("rect",{x:r,y:i,ry:s,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _3(t){var{option:e,lineItemProps:n}=t,r;if(b.isValidElement(e))r=b.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:o,x2:s,y2:l,key:u}=n,c=Gv(n,Uce),d=(i=it(c))!==null&&i!==void 0?i:{},{offset:f}=d,p=Gv(d,Bce);r=b.createElement("line",Xs({},p,{x1:a,y1:o,x2:s,y2:l,fill:"none",key:u}))}return r}function Kce(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,s=Gv(t,zce),l=i.map((u,c)=>{var d=kn(kn({},s),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return b.createElement(_3,{key:"line-".concat(c),option:r,lineItemProps:d})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Wce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,s=Gv(t,Fce),l=i.map((u,c)=>{var d=kn(kn({},s),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return b.createElement(_3,{option:r,lineItemProps:d,key:"line-".concat(c)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Yce(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=t;if(!l||!e||!e.length||s==null)return null;var u=s.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==u[0]&&u.unshift(0);var c=u.map((d,f)=>{var p=u[f+1],v=p==null,E=v?i+o-d:p-d;if(E<=0)return null;var y=f%e.length;return b.createElement("rect",{key:"react-".concat(f),y:d,x:r,height:E,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Qce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==u[0]&&u.unshift(0);var c=u.map((d,f)=>{var p=u[f+1],v=p==null,E=v?i+o-d:p-d;if(E<=0)return null;var y=f%n.length;return b.createElement("rect",{key:"react-".concat(f),x:d,y:a,width:E,height:s,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Jce=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return B4(xI(kn(kn(kn({},Pa),n),{},{ticks:z4(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Xce=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return B4(xI(kn(kn(kn({},Pa),n),{},{ticks:z4(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Zce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:st.grid};function ls(t){var e=tw(),n=nw(),r=Q4(),i=kn(kn({},We(t,Zce)),{},{x:ie(t.x)?t.x:r.left,y:ie(t.y)?t.y:r.top,width:ie(t.width)?t.width:r.width,height:ie(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:f,verticalValues:p}=i,v=Dt(),E=ee(R=>$O(R,"xAxis",a,v)),y=ee(R=>$O(R,"yAxis",o,v));if(!Gi(u)||!Gi(c)||!ie(s)||!ie(l))return null;var _=i.verticalCoordinatesGenerator||Jce,T=i.horizontalCoordinatesGenerator||Xce,{horizontalPoints:S,verticalPoints:w}=i;if((!S||!S.length)&&typeof T=="function"){var N=f&&f.length,O=T({yAxis:y?kn(kn({},y),{},{ticks:N?f:y.ticks}):void 0,width:e??u,height:n??c,offset:r},N?!0:d);hv(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(S=O)}if((!w||!w.length)&&typeof _=="function"){var I=p&&p.length,P=_({xAxis:E?kn(kn({},E),{},{ticks:I?p:E.ticks}):void 0,width:e??u,height:n??c,offset:r},I?!0:d);hv(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(w=P)}return b.createElement(jt,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Hce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(Yce,Xs({},i,{horizontalPoints:S})),b.createElement(Qce,Xs({},i,{verticalPoints:w})),b.createElement(Kce,Xs({},i,{offset:r,horizontalPoints:S,xAxis:E,yAxis:y})),b.createElement(Wce,Xs({},i,{offset:r,verticalPoints:w,xAxis:E,yAxis:y}))))}ls.displayName="CartesianGrid";var ede={},b3=fr({name:"errorBars",initialState:ede,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:wPe,replaceErrorBar:IPe,removeErrorBar:CPe}=b3.actions,tde=b3.reducer,nde=["children"];function rde(t,e){if(t==null)return{};var n,r,i=ide(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ide(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ade={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ode=b.createContext(ade);function II(t){var{children:e}=t,n=rde(t,nde);return b.createElement(ode.Provider,{value:n},e)}function pp(t,e){var n,r,i=ee(u=>eo(u,t)),a=ee(u=>to(u,e)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:on.allowDataOverflow,s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:sn.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function i_(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=r_(),{needClipX:a,needClipY:o,needClip:s}=pp(e,n);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:a?l:l-c/2,y:o?u:u-d/2,width:a?c:c*2,height:o?d:d*2}))}var E3=(t,e,n,r)=>ti(t,"xAxis",e,r),T3=(t,e,n,r)=>ei(t,"xAxis",e,r),A3=(t,e,n,r)=>ti(t,"yAxis",n,r),S3=(t,e,n,r)=>ei(t,"yAxis",n,r),sde=U([Se,E3,A3,T3,S3],(t,e,n,r,i)=>ii(t,"xAxis")?Hi(e,r,!1):Hi(n,i,!1)),lde=(t,e,n,r,i)=>i;function ude(t){return t.type==="line"}var cde=U([qc,lde],(t,e)=>t.filter(ude).find(n=>n.id===e)),dde=U([Se,E3,A3,T3,S3,cde,sde,A0],(t,e,n,r,i,a,o,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=s;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:d,data:f}=a,p;if(f!=null&&f.length>0?p=f:p=l==null?void 0:l.slice(u,c+1),p!=null)return tfe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:d,bandSize:o,displayedData:p})}});function x3(t){var e=$i(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,o=Number(i),s=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}var fde={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp=b;function hde(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pde=typeof Object.is=="function"?Object.is:hde,mde=mp.useSyncExternalStore,gde=mp.useRef,vde=mp.useEffect,yde=mp.useMemo,_de=mp.useDebugValue;fde.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=gde(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=yde(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var v=o.value;if(i(v,p))return d=v}return d=p}if(v=d,pde(c,p))return v;var E=r(p);return i!==void 0&&i(v,E)?(c=p,v):(c=p,d=E)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var s=mde(t,a[0],a[1]);return vde(function(){o.hasValue=!0,o.value=s},[s]),_de(s),s};function bde(t){t()}function Ede(){let t=null,e=null;return{clear(){t=null,e=null},notify(){bde(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var nD={notify(){},get:()=>[]};function Tde(t,e){let n,r=nD,i=0,a=!1;function o(E){c();const y=r.subscribe(E);let _=!1;return()=>{_||(_=!0,y(),d())}}function s(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return a}function c(){i++,n||(n=t.subscribe(l),r=Ede())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=nD)}function f(){a||(a=!0,c())}function p(){a&&(a=!1,d())}const v={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return v}var Ade=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sde=Ade(),xde=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wde=xde(),Ide=()=>Sde||wde?b.useLayoutEffect:b.useEffect,Cde=Ide();function rD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Pde(t,e){if(rD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!rD(t[n[i]],e[n[i]]))return!1;return!0}var lE=Symbol.for("react-redux-context"),uE=typeof globalThis<"u"?globalThis:{};function Rde(){if(!b.createContext)return{};const t=uE[lE]??(uE[lE]=new Map);let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var Nde=Rde();function Ode(t){const{children:e,context:n,serverState:r,store:i}=t,a=b.useMemo(()=>{const l=Tde(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=b.useMemo(()=>i.getState(),[i]);Cde(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=n||Nde;return b.createElement(s.Provider,{value:a},e)}var Mde=Ode,Dde=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function kde(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function nd(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Dde.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Pde(t[r],e[r]))return!1}else if(!kde(t[r],e[r]))return!1;return!0}var Lde=["id"],Vde=["type","layout","connectNulls","needClip","shape"],Ude=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(null,arguments)}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){Bde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bde(t,e,n){return(e=zde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t){var e=Fde(t,"string");return typeof e=="symbol"?e:e+""}function Fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CI(t,e){if(t==null)return{};var n,r,i=jde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $de=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:ai(n,e),payload:t}]},qde=b.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:l,tooltipType:u,id:c}=t,d={dataDefinedOnItem:n,getPosition:wi,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:ai(o,e),hide:s,type:u,color:r,unit:l,graphicalItemId:c}};return b.createElement(ed,{tooltipEntrySettings:d})}),w3=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Gde(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Hde=(t,e,n)=>{var r=n.reduce((p,v)=>p+v);if(!r)return w3(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,s=[],l=0,u=0;l<n.length;u+=(c=n[l])!==null&&c!==void 0?c:0,++l){var c,d=n[l];if(d!=null&&u+d>a){s=[...n.slice(0,l),a-u];break}}var f=s.length%2===0?[0,o]:[o];return[...Gde(n,i),...s,...f].map(p=>"".concat(p,"px")).join(", ")};function Kde(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r,{id:s}=r,l=CI(r,Lde),u=it(l);return b.createElement(AI,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:o,clipPathId:e})}function Wde(t){var{showLabels:e,children:n,points:r}=t,i=b.useMemo(()=>r==null?void 0:r.map(a=>{var o,s,l={x:(o=a.x)!==null&&o!==void 0?o:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ni(Ni({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return b.createElement(fp,{value:e?i:void 0},n)}function aD(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:s,connectNulls:l,needClip:u,shape:c}=a,d=CI(a,Vde),f=Ni(Ni({},Bt(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return b.createElement(b.Fragment,null,(r==null?void 0:r.length)>1&&b.createElement(uh,fh({shapeType:"curve",option:c},f,{pathRef:n})),b.createElement(Kde,{points:r,clipPathId:e,props:a}))}function Yde(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Qde(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,animateNewValues:f,width:p,height:v,onAnimationEnd:E,onAnimationStart:y}=n,_=i.current,T=bs(o,"recharts-line-"),S=b.useRef(T),[w,N]=b.useState(!1),O=!w,I=b.useCallback(()=>{typeof E=="function"&&E(),N(!1)},[E]),P=b.useCallback(()=>{typeof y=="function"&&y(),N(!0)},[y]),R=Yde(r.current),M=b.useRef(0);S.current!==T&&(M.current=a.current,S.current=T);var V=M.current;return b.createElement(Wde,{points:o,showLabels:O},n.children,b.createElement(_s,{animationId:T,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:I,onAnimationStart:P,key:T},D=>{var k=xe(V,R+V,D),Q=Math.min(k,R),ae;if(l)if(s){var H="".concat(s).split(/[,\s]+/gim).map(te=>parseFloat(te));ae=Hde(Q,R,H)}else ae=w3(R,Q);else ae=s==null?void 0:String(s);if(D>0&&R>0&&(i.current=o,a.current=Math.max(a.current,Q)),_){var W=_.length/o.length,J=D===1?o:o.map((te,ce)=>{var Ge=Math.floor(ce*W);if(_[Ge]){var ke=_[Ge];return Ni(Ni({},te),{},{x:xe(ke.x,te.x,D),y:xe(ke.y,te.y,D)})}return f?Ni(Ni({},te),{},{x:xe(p*2,te.x,D),y:xe(v/2,te.y,D)}):Ni(Ni({},te),{},{x:te.x,y:te.y})});return i.current=J,b.createElement(aD,{props:n,points:J,clipPathId:e,pathRef:r,strokeDasharray:ae})}return b.createElement(aD,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:ae})}),b.createElement(Jc,{label:n.label}))}function Jde(t){var{clipPathId:e,props:n}=t,r=b.useRef(null),i=b.useRef(0),a=b.useRef(null);return b.createElement(Qde,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Xde=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Oe(t.payload,e)}};class Zde extends b.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:o,top:s,left:l,width:u,height:c,id:d,needClip:f,zIndex:p}=this.props;if(e)return null;var v=be("recharts-line",i),E=d,{r:y,strokeWidth:_}=x3(n),T=TI(n),S=y*2+_,w=f?"url(#clipPath-".concat(T?"":"dots-").concat(E,")"):void 0;return b.createElement(jt,{zIndex:p},b.createElement(De,{className:v},f&&b.createElement("defs",null,b.createElement(i_,{clipPathId:E,xAxisId:a,yAxisId:o}),!T&&b.createElement("clipPath",{id:"clipPath-dots-".concat(E)},b.createElement("rect",{x:l-S/2,y:s-S/2,width:u+S,height:c+S}))),b.createElement(II,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:Xde,errorBarOffset:0},b.createElement(Jde,{props:this.props,clipPathId:E}))),b.createElement($v,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:w}))}}var I3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:st.line,type:"linear"};function efe(t){var e=We(t,I3),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,hide:u,isAnimationActive:c,label:d,legendType:f,xAxisId:p,yAxisId:v,id:E}=e,y=CI(e,Ude),{needClip:_}=pp(p,v),T=r_(),S=ys(),w=Dt(),N=ee(M=>dde(M,p,v,w,E));if(S!=="horizontal"&&S!=="vertical"||N==null||T==null)return null;var{height:O,width:I,x:P,y:R}=T;return b.createElement(Zde,fh({},y,{id:E,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:c,hide:u,label:d,legendType:f,xAxisId:p,yAxisId:v,points:N,layout:S,height:O,width:I,left:P,top:R,needClip:_}))}function tfe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=t;return l.map((u,c)=>{var d=Oe(u,o);if(e==="horizontal"){var f=cc({axis:n,ticks:i,bandSize:s,entry:u,index:c}),p=Fe(d)?null:r.scale.map(d);return{x:f,y:p??null,value:d,payload:u}}var v=Fe(d)?null:n.scale.map(d),E=cc({axis:r,ticks:a,bandSize:s,entry:u,index:c});return v==null||E==null?null:{x:v,y:E,value:d,payload:u}}).filter(Boolean)}function nfe(t){var e=We(t,I3),n=Dt();return b.createElement(td,{id:e.id,type:"line"},r=>b.createElement(b.Fragment,null,b.createElement(e_,{legendPayload:$de(e)}),b.createElement(qde,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),b.createElement(t_,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),b.createElement(efe,fh({},e,{id:r}))))}var PI=b.memo(nfe,nd);PI.displayName="Line";function Xi(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:c3}function Zi(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:c3}var C3=(t,e,n)=>ti(t,"xAxis",Xi(t,e),n),P3=(t,e,n)=>ei(t,"xAxis",Xi(t,e),n),R3=(t,e,n)=>ti(t,"yAxis",Zi(t,e),n),N3=(t,e,n)=>ei(t,"yAxis",Zi(t,e),n),rfe=U([Se,C3,R3,P3,N3],(t,e,n,r,i)=>ii(t,"xAxis")?Hi(e,r,!1):Hi(n,i,!1)),ife=(t,e)=>e,O3=U([qc,ife],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),M3=t=>{var e=Se(t),n=ii(e,"xAxis");return n?"yAxis":"xAxis"},afe=(t,e)=>{var n=M3(t);return n==="yAxis"?Zi(t,e):Xi(t,e)},ofe=(t,e,n)=>Lv(t,M3(t),afe(t,e),n),sfe=U([O3,ofe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=w0(t);if(!(r==null||i==null)){var a=(n=e[r])===null||n===void 0?void 0:n.stackedData,o=a==null?void 0:a.find(s=>s.key===i);if(o!=null)return o.map(s=>[s[0],s[1]])}}}),lfe=U([Se,C3,R3,P3,N3,sfe,tj,rfe,O3,tne],(t,e,n,r,i,a,o,s,l,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=o;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{data:p}=l,v;if(p&&p.length>0?v=p:v=c==null?void 0:c.slice(d,f+1),v!=null)return Ife({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:d,areaSettings:l,stackedData:a,displayedData:v,chartBaseValue:u,bandSize:s})}}),ufe=["id"],cfe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(null,arguments)}function D3(t,e){if(t==null)return{};var n,r,i=dfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){ffe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ffe(t,e,n){return(e=hfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hfe(t){var e=pfe(t,"string");return typeof e=="symbol"?e:e+""}function pfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hv(t,e){return t&&t!=="none"?t:e}var mfe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:Hv(r,i),value:ai(n,e),payload:t}]},gfe=b.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:l,tooltipType:u,id:c}=t,d={dataDefinedOnItem:n,getPosition:wi,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:ai(o,e),hide:s,type:u,color:Hv(r,a),unit:l,graphicalItemId:c}};return b.createElement(ed,{tooltipEntrySettings:d})});function vfe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:o}=r,s=it(r);return b.createElement(AI,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:s,needClip:i,clipPathId:e})}function yfe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var o,s,l={x:(o=a.x)!==null&&o!==void 0?o:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ou(Ou({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return b.createElement(fp,{value:e?i:void 0},n)}function sD(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:o,type:s,stroke:l,connectNulls:u,isRange:c}=a,{id:d}=a,f=D3(a,ufe),p=it(f),v=Bt(f);return b.createElement(b.Fragment,null,(e==null?void 0:e.length)>1&&b.createElement(De,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},b.createElement(al,ll({},v,{id:d,points:e,connectNulls:u,type:s,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),l!=="none"&&b.createElement(al,ll({},p,{className:"recharts-area-curve",layout:o,type:s,connectNulls:u,fill:"none",points:e})),l!=="none"&&c&&b.createElement(al,ll({},p,{className:"recharts-area-curve",layout:o,type:s,connectNulls:u,fill:"none",points:n}))),b.createElement(vfe,{points:e,props:f,clipPathId:i}))}function _fe(t){var e,n,{alpha:r,baseLine:i,points:a,strokeWidth:o}=t,s=(e=a[0])===null||e===void 0?void 0:e.y,l=(n=a[a.length-1])===null||n===void 0?void 0:n.y;if(!Ae(s)||!Ae(l))return null;var u=r*Math.abs(s-l),c=Math.max(...a.map(d=>d.x||0));return ie(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(d=>d.x||0),c)),ie(c)?b.createElement("rect",{x:0,y:s<l?s:s-u,width:c+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}function bfe(t){var e,n,{alpha:r,baseLine:i,points:a,strokeWidth:o}=t,s=(e=a[0])===null||e===void 0?void 0:e.x,l=(n=a[a.length-1])===null||n===void 0?void 0:n.x;if(!Ae(s)||!Ae(l))return null;var u=r*Math.abs(s-l),c=Math.max(...a.map(d=>d.y||0));return ie(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(d=>d.y||0),c)),ie(c)?b.createElement("rect",{x:s<l?s:s-u,y:0,width:u,height:Math.floor(c+(o?parseInt("".concat(o),10):1))}):null}function Efe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?b.createElement(_fe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):b.createElement(bfe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function Tfe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:o,baseLine:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,onAnimationStart:f,onAnimationEnd:p}=r,v=b.useMemo(()=>({points:o,baseLine:s}),[o,s]),E=bs(v,"recharts-area-"),y=rw(),[_,T]=b.useState(!1),S=!_,w=b.useCallback(()=>{typeof p=="function"&&p(),T(!1)},[p]),N=b.useCallback(()=>{typeof f=="function"&&f(),T(!0)},[f]);if(y==null)return null;var O=i.current,I=a.current;return b.createElement(yfe,{showLabels:S,points:o},r.children,b.createElement(_s,{animationId:E,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:w,onAnimationStart:N,key:E},P=>{if(O){var R=O.length/o.length,M=P===1?o:o.map((D,k)=>{var Q=Math.floor(k*R);if(O[Q]){var ae=O[Q];return Ou(Ou({},D),{},{x:xe(ae.x,D.x,P),y:xe(ae.y,D.y,P)})}return D}),V;return ie(s)?V=xe(I,s,P):Fe(s)||Ei(s)?V=xe(I,0,P):V=s.map((D,k)=>{var Q=Math.floor(k*R);if(Array.isArray(I)&&I[Q]){var ae=I[Q];return Ou(Ou({},D),{},{x:xe(ae.x,D.x,P),y:xe(ae.y,D.y,P)})}return D}),P>0&&(i.current=M,a.current=V),b.createElement(sD,{points:M,baseLine:V,needClip:e,clipPathId:n,props:r})}return P>0&&(i.current=o,a.current=s),b.createElement(De,null,l&&b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement(Efe,{alpha:P,points:o,baseLine:s,layout:y,strokeWidth:r.strokeWidth}))),b.createElement(De,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(sD,{points:o,baseLine:s,needClip:e,clipPathId:n,props:r})))}),b.createElement(Jc,{label:r.label}))}function Afe(t){var{needClip:e,clipPathId:n,props:r}=t,i=b.useRef(null),a=b.useRef();return b.createElement(Tfe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Sfe extends b.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:o,needClip:s,xAxisId:l,yAxisId:u,width:c,height:d,id:f,baseLine:p,zIndex:v}=this.props;if(e)return null;var E=be("recharts-area",i),y=f,{r:_,strokeWidth:T}=x3(n),S=TI(n),w=_*2+T,N=s?"url(#clipPath-".concat(S?"":"dots-").concat(y,")"):void 0;return b.createElement(jt,{zIndex:v},b.createElement(De,{className:E},s&&b.createElement("defs",null,b.createElement(i_,{clipPathId:y,xAxisId:l,yAxisId:u}),!S&&b.createElement("clipPath",{id:"clipPath-dots-".concat(y)},b.createElement("rect",{x:o-w/2,y:a-w/2,width:c+w,height:d+w}))),b.createElement(Afe,{needClip:s,clipPathId:y,props:this.props})),b.createElement($v,{points:r,mainColor:Hv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:N}),this.props.isRange&&Array.isArray(p)&&b.createElement($v,{points:p,mainColor:Hv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:N}))}}var k3={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:st.area};function xfe(t){var e,n=We(t,k3),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,fill:u,fillOpacity:c,hide:d,isAnimationActive:f,legendType:p,stroke:v,xAxisId:E,yAxisId:y}=n,_=D3(n,cfe),T=ys(),S=g$(),{needClip:w}=pp(E,y),N=Dt(),{points:O,isRange:I,baseLine:P}=(e=ee(Q=>lfe(Q,t.id,N)))!==null&&e!==void 0?e:{},R=r_();if(T!=="horizontal"&&T!=="vertical"||R==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:M,width:V,x:D,y:k}=R;return!O||!O.length?null:b.createElement(Sfe,ll({},_,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:P,connectNulls:s,dot:l,fill:u,fillOpacity:c,height:M,hide:d,layout:T,isAnimationActive:f==="auto"?!Jh.isSsr:f,isRange:I,legendType:p,needClip:w,points:O,stroke:v,width:V,left:D,top:k,xAxisId:E,yAxisId:y}))}var wfe=(t,e,n,r,i)=>{var a=n??e;if(ie(a))return a;var o=t==="horizontal"?i:r,s=o.scale.domain();if(o.type==="number"){var l=Math.max(s[0],s[1]),u=Math.min(s[0],s[1]);return a==="dataMin"?u:a==="dataMax"||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return a==="dataMin"?s[0]:a==="dataMax"?s[1]:s[0]};function Ife(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:s,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:d,yAxisTicks:f,bandSize:p}=t,v=i&&i.length,E=wfe(a,o,n,s,l),y=a==="horizontal",_=!1,T=u.map((w,N)=>{var O,I,P,R;if(v)R=i[c+N];else{var M=Oe(w,r);Array.isArray(M)?(R=M,_=!0):R=[E,M]}var V=(O=(I=R)===null||I===void 0?void 0:I[1])!==null&&O!==void 0?O:null,D=V==null||v&&!e&&Oe(w,r)==null;if(y){var k;return{x:cc({axis:s,ticks:d,bandSize:p,entry:w,index:N}),y:D?null:(k=l.scale.map(V))!==null&&k!==void 0?k:null,value:R,payload:w}}return{x:D?null:(P=s.scale.map(V))!==null&&P!==void 0?P:null,y:cc({axis:l,ticks:f,bandSize:p,entry:w,index:N}),value:R,payload:w}}),S;return v||_?S=T.map(w=>{var N,O=Array.isArray(w.value)?w.value[0]:null;if(y){var I;return{x:w.x,y:O!=null&&w.y!=null&&(I=l.scale.map(O))!==null&&I!==void 0?I:null,payload:w.payload}}return{x:O!=null&&(N=s.scale.map(O))!==null&&N!==void 0?N:null,y:w.y,payload:w.payload}}):S=y?l.scale.map(E):s.scale.map(E),{points:T,baseLine:S??0,isRange:_}}function Cfe(t){var e=We(t,k3),n=Dt();return b.createElement(td,{id:e.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(e_,{legendPayload:mfe(e)}),b.createElement(gfe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),b.createElement(t_,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:F4(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),b.createElement(xfe,ll({},e,{id:r}))))}var L3=b.memo(Cfe,nd);L3.displayName="Area";var Pfe="Invariant failed";function Rfe(t,e){throw new Error(Pfe)}function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SA.apply(null,arguments)}function Kv(t){return b.createElement(uh,SA({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Nfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ie(e))return e;var a=ie(r)||Fe(r);return a?e(r,i):(a||Rfe(),n)}},Ofe=(t,e,n)=>n,Mfe=(t,e)=>e,gp=U([qc,Mfe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Dfe=U([gp],t=>t==null?void 0:t.maxBarSize),kfe=(t,e,n,r)=>r,Lfe=U([Se,qc,Xi,Zi,Ofe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Vfe=(t,e,n)=>{var r=Se(t),i=Xi(t,e),a=Zi(t,e);if(!(i==null||a==null))return r==="horizontal"?Lv(t,"yAxis",a,n):Lv(t,"xAxis",i,n)},Ufe=(t,e)=>{var n=Se(t),r=Xi(t,e),i=Zi(t,e);if(!(r==null||i==null))return n==="horizontal"?jO(t,"xAxis",r):jO(t,"yAxis",i)},Bfe=U([Lfe,ene,Ufe],Xue),zfe=(t,e,n)=>{var r,i,a=gp(t,e);if(a==null)return 0;var o=Xi(t,e),s=Zi(t,e);if(o==null||s==null)return 0;var l=Se(t),u=hj(t),{maxBarSize:c}=a,d=Fe(c)?u:c,f,p;return l==="horizontal"?(f=ti(t,"xAxis",o,n),p=ei(t,"xAxis",o,n)):(f=ti(t,"yAxis",s,n),p=ei(t,"yAxis",s,n)),(r=(i=Hi(f,p,!0))!==null&&i!==void 0?i:d)!==null&&r!==void 0?r:0},V3=(t,e,n)=>{var r=Se(t),i=Xi(t,e),a=Zi(t,e);if(!(i==null||a==null)){var o,s;return r==="horizontal"?(o=ti(t,"xAxis",i,n),s=ei(t,"xAxis",i,n)):(o=ti(t,"yAxis",a,n),s=ei(t,"yAxis",a,n)),Hi(o,s)}},Ffe=U([Bfe,hj,Zte,pj,zfe,V3,Dfe],rce),jfe=(t,e,n)=>{var r=Xi(t,e);if(r!=null)return ti(t,"xAxis",r,n)},$fe=(t,e,n)=>{var r=Zi(t,e);if(r!=null)return ti(t,"yAxis",r,n)},qfe=(t,e,n)=>{var r=Xi(t,e);if(r!=null)return ei(t,"xAxis",r,n)},Gfe=(t,e,n)=>{var r=Zi(t,e);if(r!=null)return ei(t,"yAxis",r,n)},Hfe=U([Ffe,gp],ace),Kfe=U([Vfe,gp],ice),Wfe=U([tn,Xx,jfe,$fe,qfe,Gfe,Hfe,Se,tj,V3,Kfe,gp,kfe],(t,e,n,r,i,a,o,s,l,u,c,d,f)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:E}=l;if(!(d==null||o==null||e==null||s!=="horizontal"&&s!=="vertical"||n==null||r==null||i==null||a==null||u==null)){var{data:y}=d,_;if(y!=null&&y.length>0?_=y:_=p==null?void 0:p.slice(v,E+1),_!=null)return The({layout:s,barSettings:d,pos:o,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:_,offset:t,cells:f,dataStartIndex:v})}}),Yfe=["index"];function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xA.apply(null,arguments)}function Qfe(t,e){if(t==null)return{};var n,r,i=Jfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U3=b.createContext(void 0),Xfe=t=>{var e=b.useContext(U3);if(e!=null)return e.stackId;if(t!=null)return F4(t)},Zfe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),ehe=t=>{var e=b.useContext(U3);if(e!=null){var{stackId:n}=e;return"url(#".concat(Zfe(n,t),")")}},B3=t=>{var{index:e}=t,n=Qfe(t,Yfe),r=ehe(e);return b.createElement(De,xA({className:"recharts-bar-stack-layer",clipPath:r},n))},the=["onMouseEnter","onMouseLeave","onClick"],nhe=["value","background","tooltipPosition"],rhe=["id"],ihe=["onMouseEnter","onClick","onMouseLeave"];function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(null,arguments)}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){ahe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ahe(t,e,n){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ohe(t){var e=she(t,"string");return typeof e=="symbol"?e:e+""}function she(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wv(t,e){if(t==null)return{};var n,r,i=lhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uhe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:ai(n,e),payload:t}]},che=b.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:s,tooltipType:l,id:u}=t,c={dataDefinedOnItem:void 0,getPosition:wi,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:ai(a,e),hide:o,type:l,color:i,unit:s,graphicalItemId:u}};return b.createElement(ed,{tooltipEntrySettings:c})});function dhe(t){var e=ee(ja),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,u=Wv(a,the),c=J0(o,r,a.id),d=X0(s),f=Z0(l,r,a.id);if(!i||n==null)return null;var p=$i(i);return b.createElement(jt,{zIndex:oce(i,st.barBackground)},n.map((v,E)=>{var{value:y,background:_,tooltipPosition:T}=v,S=Wv(v,nhe);if(!_)return null;var w=c(v,E),N=d(v,E),O=f(v,E),I=$n($n($n($n($n({option:i,isActive:String(E)===e},S),{},{fill:"#eee"},_),p),vs(u,v,E)),{},{onMouseEnter:w,onMouseLeave:N,onClick:O,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return b.createElement(Kv,$a({key:"background-bar-".concat(E)},I))}))}function fhe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return $n($n({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return b.createElement(fp,{value:e?i:void 0},n)}function hhe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=t,s=ee(ja),l=ee(sI),u=n&&String(a)===s&&(l==null||o===l),c=u?n:e;return u?b.createElement(jt,{zIndex:st.activeBar},b.createElement(B3,{index:a},b.createElement(Kv,$a({},r,{name:String(r.name)},i,{isActive:u,option:c,index:a,dataKey:o})))):b.createElement(Kv,$a({},r,{name:String(r.name)},i,{isActive:u,option:c,index:a,dataKey:o}))}function phe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return b.createElement(Kv,$a({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function mhe(t){var e,{data:n,props:r}=t,i=(e=it(r))!==null&&e!==void 0?e:{},{id:a}=i,o=Wv(i,rhe),{shape:s,dataKey:l,activeBar:u}=r,{onMouseEnter:c,onClick:d,onMouseLeave:f}=r,p=Wv(r,ihe),v=J0(c,l,a),E=X0(f),y=Z0(d,l,a);return n?b.createElement(b.Fragment,null,n.map((_,T)=>b.createElement(B3,$a({index:T,key:"rectangle-".concat(_==null?void 0:_.x,"-").concat(_==null?void 0:_.y,"-").concat(_==null?void 0:_.value,"-").concat(T),className:"recharts-bar-rectangle"},vs(p,_,T),{onMouseEnter:v(_,T),onMouseLeave:E(_,T),onClick:y(_,T)}),u?b.createElement(hhe,{shape:s,activeBar:u,baseProps:o,entry:_,index:T,dataKey:l}):b.createElement(phe,{shape:s,baseProps:o,entry:_,index:T,dataKey:l})))):null}function ghe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=e,d=n.current,f=bs(e,"recharts-bar-"),[p,v]=b.useState(!1),E=!p,y=b.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),_=b.useCallback(()=>{typeof c=="function"&&c(),v(!0)},[c]);return b.createElement(fhe,{showLabels:E,rects:r},b.createElement(_s,{animationId:f,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:y,onAnimationStart:_,key:f},T=>{var S=T===1?r:r==null?void 0:r.map((w,N)=>{var O=d&&d[N];if(O)return $n($n({},w),{},{x:xe(O.x,w.x,T),y:xe(O.y,w.y,T),width:xe(O.width,w.width,T),height:xe(O.height,w.height,T)});if(i==="horizontal"){var I=xe(0,w.height,T),P=xe(w.stackedBarStart,w.y,T);return $n($n({},w),{},{y:P,height:I})}var R=xe(0,w.width,T),M=xe(w.stackedBarStart,w.x,T);return $n($n({},w),{},{width:R,x:M})});return T>0&&(n.current=S??null),S==null?null:b.createElement(De,null,b.createElement(mhe,{props:e,data:S}))}),b.createElement(Jc,{label:e.label}),e.children)}function vhe(t){var e=b.useRef(null);return b.createElement(ghe,{previousRectanglesRef:e,props:t})}var z3=0,yhe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Oe(t,e)}};class _he extends b.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:u}=this.props;if(e||n==null)return null;var c=be("recharts-bar",i),d=u;return b.createElement(De,{className:c,id:u},s&&b.createElement("defs",null,b.createElement(i_,{clipPathId:d,xAxisId:a,yAxisId:o})),b.createElement(De,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},b.createElement(dhe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),b.createElement(vhe,this.props)))}}var bhe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:z3,xAxisId:0,yAxisId:0,zIndex:st.bar};function Ehe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=t,{needClip:d}=pp(e,n),f=ys(),p=Dt(),v=Q0(t.children,Ai),E=ee(T=>Wfe(T,t.id,p,v));if(f!=="vertical"&&f!=="horizontal")return null;var y,_=E==null?void 0:E[0];return _==null||_.height==null||_.width==null?y=0:y=f==="vertical"?_.height/2:_.width/2,b.createElement(II,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:yhe,errorBarOffset:y},b.createElement(_he,$a({},t,{layout:f,needClip:d,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function The(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:f,cells:p,parentViewBox:v,dataStartIndex:E}=t,y=e==="horizontal"?s:o,_=c?y.scale.domain():null,T=YQ({numericAxis:y}),S=y.scale.map(T);return d.map((w,N)=>{var O,I,P,R,M,V;if(c){var D=c[N+E];if(D==null)return null;O=qQ(D,_)}else O=Oe(w,n),Array.isArray(O)||(O=[T,O]);var k=Nfe(r,z3)(O[1],N);if(e==="horizontal"){var Q,ae=s.scale.map(O[0]),H=s.scale.map(O[1]);if(ae==null||H==null)return null;I=YR({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:w,index:N}),P=(Q=H??ae)!==null&&Q!==void 0?Q:void 0,R=i.size;var W=ae-H;if(M=Ei(W)?0:W,V={x:I,y:f.top,width:R,height:f.height},Math.abs(k)>0&&Math.abs(M)<Math.abs(k)){var J=fn(M||k)*(Math.abs(k)-Math.abs(M));P-=J,M+=J}}else{var te=o.scale.map(O[0]),ce=o.scale.map(O[1]);if(te==null||ce==null)return null;if(I=te,P=YR({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:w,index:N}),R=ce-te,M=i.size,V={x:f.left,y:P,width:f.width,height:M},Math.abs(k)>0&&Math.abs(R)<Math.abs(k)){var Ge=fn(R||k)*(Math.abs(k)-Math.abs(R));R+=Ge}}if(I==null||P==null||R==null||M==null)return null;var ke=$n($n({},w),{},{stackedBarStart:S,x:I,y:P,width:R,height:M,value:c?O:O[1],payload:w,background:V,tooltipPosition:{x:I+R/2,y:P+M/2},parentViewBox:v},p&&p[N]&&p[N].props);return ke}).filter(Boolean)}function Ahe(t){var e=We(t,bhe),n=Xfe(e.stackId),r=Dt();return b.createElement(td,{id:e.id,type:"bar"},i=>b.createElement(b.Fragment,null,b.createElement(e_,{legendPayload:uhe(e)}),b.createElement(che,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),b.createElement(t_,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),b.createElement(jt,{zIndex:e.zIndex},b.createElement(Ehe,$a({},e,{id:i})))))}var hh=b.memo(Ahe,nd);hh.displayName="Bar";var She=["option","isActive"];function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xf.apply(null,arguments)}function xhe(t,e){if(t==null)return{};var n,r,i=whe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function whe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ihe(t){var{option:e,isActive:n}=t,r=xhe(t,She);return typeof e=="string"?b.createElement(uh,xf({option:b.createElement(Yy,xf({type:e},r)),isActive:n,shapeType:"symbols"},r)):b.createElement(uh,xf({option:e,isActive:n,shapeType:"symbols"},r))}var Che=(t,e,n,r,i,a,o)=>ti(t,"xAxis",e,o),Phe=(t,e,n,r,i,a,o)=>ei(t,"xAxis",e,o),Rhe=(t,e,n,r,i,a,o)=>ti(t,"yAxis",n,o),Nhe=(t,e,n,r,i,a,o)=>ei(t,"yAxis",n,o),Ohe=(t,e,n,r)=>ore(t,"zAxis",r,!1),Mhe=(t,e,n,r,i)=>i,Dhe=(t,e,n,r,i,a)=>a,khe=(t,e,n,r,i,a,o)=>A0(t,void 0,void 0,o),Lhe=U([qc,Mhe],(t,e)=>t.filter(n=>n.type==="scatter").find(n=>n.id===e)),Vhe=U([khe,Che,Phe,Rhe,Nhe,Ohe,Lhe,Dhe],(t,e,n,r,i,a,o,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=t;if(o!=null){var d;if((o==null?void 0:o.data)!=null&&o.data.length>0?d=o.data:d=l==null?void 0:l.slice(u,c+1),!(d==null||e==null||r==null||n==null||i==null||(n==null?void 0:n.length)===0||(i==null?void 0:i.length)===0))return Jhe({displayedData:d,xAxis:e,yAxis:r,zAxis:a,scatterSettings:o,xAxisTicks:n,yAxisTicks:i,cells:s})}}),Uhe=["id"],Bhe=["onMouseEnter","onClick","onMouseLeave"],zhe=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function wA(t,e){if(t==null)return{};var n,r,i=Fhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(null,arguments)}function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jhe(t,e,n){return(e=$he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $he(t){var e=qhe(t,"string");return typeof e=="symbol"?e:e+""}function qhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ghe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:ai(n,e),payload:t}]},Hhe=b.memo(t=>{var{dataKey:e,points:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,tooltipType:l,id:u}=t,c={dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),getPosition:d=>{var f;return n==null||(f=n[Number(d)])===null||f===void 0?void 0:f.tooltipPosition},settings:{stroke:r,strokeWidth:i,fill:a,nameKey:void 0,dataKey:e,name:ai(o,e),hide:s,type:l,color:a,unit:"",graphicalItemId:u}};return b.createElement(ed,{tooltipEntrySettings:c})});function Khe(t){var{points:e,props:n}=t,{line:r,lineType:i,lineJointType:a}=n;if(!r)return null;var o=it(n),s=$i(r),l,u;if(i==="joint")l=e.map(y=>{var _,T;return{x:(_=y.cx)!==null&&_!==void 0?_:null,y:(T=y.cy)!==null&&T!==void 0?T:null}});else if(i==="fitting"){var{xmin:c,xmax:d,a:f,b:p}=NW(e),v=y=>f*y+p;l=[{x:c,y:v(c)},{x:d,y:v(d)}]}var E=or(or(or({},o),{},{fill:"none",stroke:o&&o.fill},s),{},{points:l});return b.isValidElement(r)?u=b.cloneElement(r,E):typeof r=="function"?u=r(E):u=b.createElement(al,xl({},E,{type:a})),b.createElement(De,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function Whe(t){var{showLabels:e,points:n,children:r}=t,i=Wh(),a=b.useMemo(()=>n==null?void 0:n.map(o=>{var s,l,u={x:(s=o.x)!==null&&s!==void 0?s:0,y:(l=o.y)!==null&&l!==void 0?l:0,width:o.width,height:o.height,lowerWidth:o.width,upperWidth:o.width};return or(or({},u),{},{value:void 0,payload:o.payload,viewBox:u,parentViewBox:i,fill:void 0})}),[i,n]);return b.createElement(fp,{value:e?a:void 0},r)}function Yhe(t){var{points:e,allOtherScatterProps:n}=t,{shape:r,activeShape:i,dataKey:a}=n,{id:o}=n,s=wA(n,Uhe),l=ee(ja),{onMouseEnter:u,onClick:c,onMouseLeave:d}=n,f=wA(n,Bhe),p=J0(u,a,o),v=X0(d),E=Z0(c,a,o);if(!$W(e))return null;var y=it(s);return b.createElement(b.Fragment,null,b.createElement(Khe,{points:e,props:s}),e.map((_,T)=>{var S=i!=null&&i!==!1,w=S&&l===String(T),N=S&&w?i:r,O=or(or(or({},y),_),{},{index:T,[Jx]:String(o)});return b.createElement(jt,{key:"symbol-".concat(_==null?void 0:_.cx,"-").concat(_==null?void 0:_.cy,"-").concat(_==null?void 0:_.size,"-").concat(T),zIndex:w?st.activeDot:void 0},b.createElement(De,xl({className:"recharts-scatter-symbol"},vs(f,_,T),{onMouseEnter:p(_,T),onMouseLeave:v(_,T),onClick:E(_,T)}),b.createElement(Ihe,xl({option:N,isActive:w},O))))}))}function Qhe(t){var{previousPointsRef:e,props:n}=t,{points:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:s}=n,l=e.current,u=bs(n,"recharts-scatter-"),[c,d]=b.useState(!1),f=b.useCallback(()=>{d(!1)},[]),p=b.useCallback(()=>{d(!0)},[]),v=!c;return b.createElement(Whe,{showLabels:v,points:r},n.children,b.createElement(_s,{animationId:u,begin:a,duration:o,isActive:i,easing:s,onAnimationEnd:f,onAnimationStart:p,key:u},E=>{var y=E===1?r:r==null?void 0:r.map((_,T)=>{var S=l&&l[T];return S?or(or({},_),{},{cx:_.cx==null?void 0:xe(S.cx,_.cx,E),cy:_.cy==null?void 0:xe(S.cy,_.cy,E),size:xe(S.size,_.size,E)}):or(or({},_),{},{size:xe(0,_.size,E)})});return E>0&&(e.current=y),b.createElement(De,null,b.createElement(Yhe,{points:y,allOtherScatterProps:n,showLabels:v}))}),b.createElement(Jc,{label:n.label}))}function Jhe(t){var{displayedData:e,xAxis:n,yAxis:r,zAxis:i,scatterSettings:a,xAxisTicks:o,yAxisTicks:s,cells:l}=t,u=Fe(n.dataKey)?a.dataKey:n.dataKey,c=Fe(r.dataKey)?a.dataKey:r.dataKey,d=i&&i.dataKey,f=i?i.range:_a.range,p=f&&f[0],v=n.scale.bandwidth?n.scale.bandwidth():0,E=r.scale.bandwidth?r.scale.bandwidth():0;return e.map((y,_)=>{var T=Oe(y,u),S=Oe(y,c),w=!Fe(d)&&Oe(y,d)||"-",N=[{name:Fe(n.dataKey)?a.name:n.name||String(n.dataKey),unit:n.unit||"",value:T,payload:y,dataKey:u,type:a.tooltipType},{name:Fe(r.dataKey)?a.name:r.name||String(r.dataKey),unit:r.unit||"",value:S,payload:y,dataKey:c,type:a.tooltipType}];w!=="-"&&i!=null&&N.push({name:i.name||i.dataKey,unit:i.unit||"",value:w,payload:y,dataKey:d,type:a.tooltipType});var O=cc({axis:n,ticks:o,bandSize:v,entry:y,index:_,dataKey:u}),I=cc({axis:r,ticks:s,bandSize:E,entry:y,index:_,dataKey:c}),P=w!=="-"&&i!=null?i.scale.map(w):p,R=P==null?0:Math.sqrt(Math.max(P,0)/Math.PI);return or(or({},y),{},{cx:O,cy:I,x:O==null?void 0:O-R,y:I==null?void 0:I-R,width:2*R,height:2*R,size:P,node:{x:T,y:S,z:w},tooltipPayload:N,tooltipPosition:{x:O,y:I},payload:y},l&&l[_]&&l[_].props)})}var Xhe=(t,e,n)=>({x:t.cx,y:t.cy,value:Number(n==="x"?t.node.x:t.node.y),errorVal:Oe(t,e)});function Zhe(t){var{hide:e,points:n,className:r,needClip:i,xAxisId:a,yAxisId:o,id:s}=t,l=b.useRef(null);if(e)return null;var u=be("recharts-scatter",r),c=s;return b.createElement(jt,{zIndex:t.zIndex},b.createElement(De,{className:u,clipPath:i?"url(#clipPath-".concat(c,")"):void 0,id:s},i&&b.createElement("defs",null,b.createElement(i_,{clipPathId:c,xAxisId:a,yAxisId:o})),b.createElement(II,{xAxisId:a,yAxisId:o,data:n,dataPointFormatter:Xhe,errorBarOffset:0},b.createElement(De,{key:"recharts-scatter-symbols"},b.createElement(Qhe,{props:t,previousPointsRef:l})))))}var F3={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:st.scatter};function epe(t){var e=We(t,F3),{animationBegin:n,animationDuration:r,animationEasing:i,hide:a,isAnimationActive:o,legendType:s,lineJointType:l,lineType:u,shape:c,xAxisId:d,yAxisId:f,zAxisId:p}=e,v=wA(e,zhe),{needClip:E}=pp(d,f),y=b.useMemo(()=>Q0(t.children,Ai),[t.children]),_=Dt(),T=ee(S=>Vhe(S,d,f,p,t.id,y,_));return E==null||T==null?null:b.createElement(b.Fragment,null,b.createElement(Hhe,{dataKey:t.dataKey,points:T,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:t.id}),b.createElement(Zhe,xl({},v,{xAxisId:d,yAxisId:f,zAxisId:p,lineType:u,lineJointType:l,legendType:s,shape:c,hide:a,isAnimationActive:o,animationBegin:n,animationDuration:r,animationEasing:i,points:T,needClip:E})))}function tpe(t){var e=We(t,F3),n=Dt();return b.createElement(td,{id:e.id,type:"scatter"},r=>b.createElement(b.Fragment,null,b.createElement(e_,{legendPayload:Ghe(e)}),b.createElement(t_,{type:"scatter",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:n}),b.createElement(epe,xl({},e,{id:r}))))}var j3=b.memo(tpe,nd);j3.displayName="Scatter";var npe=["domain","range"],rpe=["domain","range"];function cD(t,e){if(t==null)return{};var n,r,i=ipe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ipe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function $3(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=cD(t,npe),{domain:a,range:o}=e,s=cD(e,rpe);return!dD(n,a)||!dD(r,o)?!1:nd(i,s)}var ape=["type"],ope=["dangerouslySetInnerHTML","ticks","scale"],spe=["id","scale"];function IA(){return IA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IA.apply(null,arguments)}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){lpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lpe(t,e,n){return(e=upe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function upe(t){var e=cpe(t,"string");return typeof e=="symbol"?e:e+""}function cpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CA(t,e){if(t==null)return{};var n,r,i=dpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fpe(t){var e=Ze(),n=b.useRef(null),r=rw(),{type:i}=t,a=CA(t,ape),o=zc(r,"xAxis",i),s=b.useMemo(()=>{if(o!=null)return hD(hD({},a),{},{type:o})},[a,o]);return b.useLayoutEffect(()=>{s!=null&&(n.current===null?e(iue(s)):n.current!==s&&e(aue({prev:n.current,next:s})),n.current=s)},[s,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(oue(n.current)),n.current=null)},[e]),null}var hpe=t=>{var{xAxisId:e,className:n}=t,r=ee(Xx),i=Dt(),a="xAxis",o=ee(_=>Hj(_,a,e,i)),s=ee(_=>jj(_,e)),l=ee(_=>nre(_,e)),u=ee(_=>Aj(_,e));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:f}=t,p=CA(t,ope),{id:v,scale:E}=u,y=CA(u,spe);return b.createElement(wI,IA({},p,y,{x:l.x,y:l.y,width:s.width,height:s.height,className:be("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},ppe={allowDataOverflow:on.allowDataOverflow,allowDecimals:on.allowDecimals,allowDuplicatedCategory:on.allowDuplicatedCategory,angle:on.angle,axisLine:Pa.axisLine,height:on.height,hide:!1,includeHidden:on.includeHidden,interval:on.interval,label:!1,minTickGap:on.minTickGap,mirror:on.mirror,orientation:on.orientation,padding:on.padding,reversed:on.reversed,scale:on.scale,tick:on.tick,tickCount:on.tickCount,tickLine:Pa.tickLine,tickSize:Pa.tickSize,type:on.type,xAxisId:0},mpe=t=>{var e=We(t,ppe);return b.createElement(b.Fragment,null,b.createElement(fpe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),b.createElement(hpe,e))},us=b.memo(mpe,$3);us.displayName="XAxis";var gpe=["type"],vpe=["dangerouslySetInnerHTML","ticks","scale"],ype=["id","scale"];function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PA.apply(null,arguments)}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){_pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _pe(t,e,n){return(e=bpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bpe(t){var e=Epe(t,"string");return typeof e=="symbol"?e:e+""}function Epe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RA(t,e){if(t==null)return{};var n,r,i=Tpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ape(t){var e=Ze(),n=b.useRef(null),r=rw(),{type:i}=t,a=RA(t,gpe),o=zc(r,"yAxis",i),s=b.useMemo(()=>{if(o!=null)return mD(mD({},a),{},{type:o})},[o,a]);return b.useLayoutEffect(()=>{s!=null&&(n.current===null?e(sue(s)):n.current!==s&&e(lue({prev:n.current,next:s})),n.current=s)},[s,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(uue(n.current)),n.current=null)},[e]),null}function Spe(t){var{yAxisId:e,className:n,width:r,label:i}=t,a=b.useRef(null),o=b.useRef(null),s=ee(Xx),l=Dt(),u=Ze(),c="yAxis",d=ee(O=>$j(O,e)),f=ee(O=>ire(O,e)),p=ee(O=>Hj(O,c,e,l)),v=ee(O=>Sj(O,e));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!d||fI(i)||b.isValidElement(i)||v==null)){var O=a.current;if(O){var I=O.getCalculatedWidth();Math.round(d.width)!==Math.round(I)&&u(hue({id:e,width:I}))}}},[p,d,u,i,e,r,v]),d==null||f==null||v==null)return null;var{dangerouslySetInnerHTML:E,ticks:y,scale:_}=t,T=RA(t,vpe),{id:S,scale:w}=v,N=RA(v,ype);return b.createElement(wI,PA({},T,N,{ref:a,labelRef:o,x:f.x,y:f.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:d.width,height:d.height,className:be("recharts-".concat(c," ").concat(c),n),viewBox:s,ticks:p,axisType:c}))}var xpe={allowDataOverflow:sn.allowDataOverflow,allowDecimals:sn.allowDecimals,allowDuplicatedCategory:sn.allowDuplicatedCategory,angle:sn.angle,axisLine:Pa.axisLine,hide:!1,includeHidden:sn.includeHidden,interval:sn.interval,label:!1,minTickGap:sn.minTickGap,mirror:sn.mirror,orientation:sn.orientation,padding:sn.padding,reversed:sn.reversed,scale:sn.scale,tick:sn.tick,tickCount:sn.tickCount,tickLine:Pa.tickLine,tickSize:Pa.tickSize,type:sn.type,width:sn.width,yAxisId:0},wpe=t=>{var e=We(t,xpe);return b.createElement(b.Fragment,null,b.createElement(Ape,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),b.createElement(Spe,e))},cs=b.memo(wpe,$3);cs.displayName="YAxis";function Ipe(t){var e=Ze(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(cue(t)):n.current!==t&&e(due({prev:n.current,next:t})),n.current=t},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(fue(n.current)),n.current=null)},[e]),null}var Cpe={zAxisId:0,range:_a.range,scale:_a.scale,type:_a.type};function q3(t){var e=We(t,Cpe);return b.createElement(Ipe,{domain:e.domain,id:e.zAxisId,dataKey:e.dataKey,name:e.name,unit:e.unit,range:e.range,scale:e.scale,type:e.type,allowDuplicatedCategory:_a.allowDuplicatedCategory,allowDataOverflow:_a.allowDataOverflow,reversed:_a.reversed,includeHidden:_a.includeHidden})}q3.displayName="ZAxis";var Ppe=(t,e)=>e,RI=U([Ppe,Se,jc,mn,c$,no,yie,tn],xie),NI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},G3=Xr("mouseClick"),H3=Hh();H3.startListening({actionCreator:G3,effect:(t,e)=>{var n=t.payload,r=RI(e.getState(),NI(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(vre({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var NA=Xr("mouseMove"),K3=Hh(),Am=null;K3.startListening({actionCreator:NA,effect:(t,e)=>{var n=t.payload;Am!==null&&cancelAnimationFrame(Am);var r=NI(n);Am=requestAnimationFrame(()=>{var i=e.getState(),a=tI(i,i.tooltip.settings.shared);if(a==="axis"){var o=RI(i,r);(o==null?void 0:o.activeIndex)!=null?e.dispatch(t$({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(e$())}Am=null})}});function Rpe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var gD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},W3=fr({name:"rootProps",initialState:gD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:gD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Npe=W3.reducer,{updateOptions:Ope}=W3.actions,Mpe=null,Dpe={updatePolarOptions:(t,e)=>e.payload},Y3=fr({name:"polarOptions",initialState:Mpe,reducers:Dpe}),{updatePolarOptions:kpe}=Y3.actions,Lpe=Y3.reducer,Q3=Xr("keyDown"),J3=Xr("focus"),OI=Hh();OI.startListening({actionCreator:Q3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=nI(i,Wc(n),sp(n),cp(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=no(n);if(a==="Enter"){var u=Uv(n,"axis","hover",String(i.index));e.dispatch(yA({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=sre(n),d=c==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,p=s+f*d;if(!(l==null||p>=l.length||p<0)){var v=Uv(n,"axis","hover",String(p));e.dispatch(yA({active:!0,activeIndex:p.toString(),activeCoordinate:v}))}}}}}});OI.startListening({actionCreator:J3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Uv(n,"axis","hover",String(a));e.dispatch(yA({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Dr=Xr("externalEvent"),X3=Hh(),cE=new Map;X3.startListening({actionCreator:Dr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=cE.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=e.getState(),l={activeCoordinate:rie(s),activeDataKey:sI(s),activeIndex:ja(s),activeLabel:h$(s),activeTooltipIndex:ja(s),isTooltipActive:iie(s)};n(l,r)}finally{cE.delete(i)}});cE.set(i,o)}}});var Vpe=U([Hc],t=>t.tooltipItemPayloads),Upe=U([Vpe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),Z3=Xr("touchMove"),e5=Hh();e5.startListening({actionCreator:Z3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=tI(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var o=RI(r,NI({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(t$({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute($4),d=(s=u.getAttribute(Jx))!==null&&s!==void 0?s:void 0,f=Kc(r).find(E=>E.id===d);if(c==null||f==null||d==null)return;var{dataKey:p}=f,v=Upe(r,c,d);e.dispatch(Zj({activeDataKey:p,activeIndex:c,activeCoordinate:v,activeGraphicalItemId:d}))}}}});var Bpe=c4({brush:sce,cartesianAxis:pue,chartData:tae,errorBars:tde,graphicalItems:ble,layout:BQ,legend:FJ,options:Qie,polarAxis:ase,polarOptions:Lpe,referenceElements:dce,rootProps:Npe,tooltip:yre,zIndex:Bie}),zpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return cQ({reducer:Bpe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([H3.middleware,K3.middleware,OI.middleware,X3.middleware,e5.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(x4({type:"raf"}))},devTools:{serialize:{replacer:Rpe},name:"recharts-".concat(n)}})};function t5(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Dt(),a=b.useRef(null);if(i)return n;a.current==null&&(a.current=zpe(e,r));var o=jx;return b.createElement(Mde,{context:o,store:a.current},n)}function Fpe(t){var{layout:e,margin:n}=t,r=Ze(),i=Dt();return b.useEffect(()=>{i||(r(LQ(e)),r(kQ(n)))},[r,i,e,n]),null}var n5=b.memo(Fpe,nd);function r5(t){var e=Ze();return b.useEffect(()=>{e(Ope(t))},[e,t]),null}function vD(t){var{zIndex:e,isPanorama:n}=t,r=b.useRef(null),i=Ze();return b.useLayoutEffect(()=>(r.current&&i(Vie({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Uie({zIndex:e,isPanorama:n}))}),[i,e,n]),b.createElement("g",{tabIndex:-1,ref:r})}function yD(t){var{children:e,isPanorama:n}=t,r=ee(Iie);if(!r||r.length===0)return e;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return b.createElement(b.Fragment,null,i.map(o=>b.createElement(vD,{key:o,zIndex:o,isPanorama:n})),e,a.map(o=>b.createElement(vD,{key:o,zIndex:o,isPanorama:n})))}var jpe=["children"];function $pe(t,e){if(t==null)return{};var n,r,i=qpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(null,arguments)}var Gpe={width:"100%",height:"100%",display:"block"},Hpe=b.forwardRef((t,e)=>{var n=tw(),r=nw(),i=lF();if(!Gi(n)||!Gi(r))return null;var{children:a,otherAttributes:o,title:s,desc:l}=t,u,c;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?c=o.role:c=i?"application":void 0),b.createElement(Px,Yv({},o,{title:s,desc:l,role:c,tabIndex:u,width:n,height:r,style:Gpe,ref:e}),a)}),Kpe=t=>{var{children:e}=t,n=ee(h0);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return b.createElement(Px,{width:r,height:i,x:o,y:a},e)},_D=b.forwardRef((t,e)=>{var{children:n}=t,r=$pe(t,jpe),i=Dt();return i?b.createElement(Kpe,null,b.createElement(yD,{isPanorama:!0},n)):b.createElement(Hpe,Yv({ref:e},r),b.createElement(yD,{isPanorama:!1},n))});function Wpe(){var t=Ze(),[e,n]=b.useState(null),r=ee(tJ);return b.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Ae(a)&&a!==r&&t(UQ(a))}},[e,t,r]),n}function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ype(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){Qpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qpe(t,e,n){return(e=Jpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jpe(t){var e=Xpe(t,"string");return typeof e=="symbol"?e:e+""}function Xpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(null,arguments)}var Zpe=()=>(cae(),null);function Qv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var eme=b.forwardRef((t,e)=>{var n,r,i=b.useRef(null),[a,o]=b.useState({containerWidth:Qv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Qv((r=t.style)===null||r===void 0?void 0:r.height)}),s=b.useCallback((u,c)=>{o(d=>{var f=Math.round(u),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),l=b.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();s(c,d);var f=v=>{var E=v[0];if(E!=null){var{width:y,height:_}=E.contentRect;s(y,_)}},p=new ResizeObserver(f);p.observe(u),i.current=p}},[e,s]);return b.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),b.createElement(b.Fragment,null,b.createElement(Yh,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",Yo({ref:l},t)))}),tme=b.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=b.useState({containerWidth:Qv(n),containerHeight:Qv(r)}),o=b.useCallback((l,u)=>{a(c=>{var d=Math.round(l),f=Math.round(u);return c.containerWidth===d&&c.containerHeight===f?c:{containerWidth:d,containerHeight:f}})},[]),s=b.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();o(u,c)}},[e,o]);return b.createElement(b.Fragment,null,b.createElement(Yh,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",Yo({ref:s},t)))}),nme=b.forwardRef((t,e)=>{var{width:n,height:r}=t;return b.createElement(b.Fragment,null,b.createElement(Yh,{width:n,height:r}),b.createElement("div",Yo({ref:e},t)))}),rme=b.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?b.createElement(tme,Yo({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?b.createElement(nme,Yo({},t,{width:n,height:r,ref:e})):b.createElement(b.Fragment,null,b.createElement(Yh,{width:n,height:r}),b.createElement("div",Yo({ref:e},t)))});function ime(t){return t?eme:rme}var ame=b.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:f,onTouchEnd:p,onTouchMove:v,onTouchStart:E,style:y,width:_,responsive:T,dispatchTouchEvents:S=!0}=t,w=b.useRef(null),N=Ze(),[O,I]=b.useState(null),[P,R]=b.useState(null),M=Wpe(),V=Zx(),D=(V==null?void 0:V.width)>0?V.width:_,k=(V==null?void 0:V.height)>0?V.height:i,Q=b.useCallback(Y=>{M(Y),typeof e=="function"&&e(Y),I(Y),R(Y),Y!=null&&(w.current=Y)},[M,e,I,R]),ae=b.useCallback(Y=>{N(G3(Y)),N(Dr({handler:a,reactEvent:Y}))},[N,a]),H=b.useCallback(Y=>{N(NA(Y)),N(Dr({handler:u,reactEvent:Y}))},[N,u]),W=b.useCallback(Y=>{N(e$()),N(Dr({handler:c,reactEvent:Y}))},[N,c]),J=b.useCallback(Y=>{N(NA(Y)),N(Dr({handler:d,reactEvent:Y}))},[N,d]),te=b.useCallback(()=>{N(J3())},[N]),ce=b.useCallback(Y=>{N(Q3(Y.key))},[N]),Ge=b.useCallback(Y=>{N(Dr({handler:o,reactEvent:Y}))},[N,o]),ke=b.useCallback(Y=>{N(Dr({handler:s,reactEvent:Y}))},[N,s]),Le=b.useCallback(Y=>{N(Dr({handler:l,reactEvent:Y}))},[N,l]),ct=b.useCallback(Y=>{N(Dr({handler:f,reactEvent:Y}))},[N,f]),$t=b.useCallback(Y=>{N(Dr({handler:E,reactEvent:Y}))},[N,E]),ea=b.useCallback(Y=>{S&&N(Z3(Y)),N(Dr({handler:v,reactEvent:Y}))},[N,S,v]),Lt=b.useCallback(Y=>{N(Dr({handler:p,reactEvent:Y}))},[N,p]),Ci=ime(T);return b.createElement(E$.Provider,{value:O},b.createElement(cz.Provider,{value:P},b.createElement(Ci,{width:D??(y==null?void 0:y.width),height:k??(y==null?void 0:y.height),className:be("recharts-wrapper",r),style:Ype({position:"relative",cursor:"default",width:D,height:k},y),onClick:ae,onContextMenu:Ge,onDoubleClick:ke,onFocus:te,onKeyDown:ce,onMouseDown:Le,onMouseEnter:H,onMouseLeave:W,onMouseMove:J,onMouseUp:ct,onTouchEnd:Lt,onTouchMove:ea,onTouchStart:$t,ref:Q},b.createElement(Zpe,null),n)))}),ome=["width","height","responsive","children","className","style","compact","title","desc"];function sme(t,e){if(t==null)return{};var n,r,i=lme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var i5=b.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:s,compact:l,title:u,desc:c}=t,d=sme(t,ome),f=it(d);return l?b.createElement(b.Fragment,null,b.createElement(Yh,{width:n,height:r}),b.createElement(_D,{otherAttributes:f,title:u,desc:c},a)):b.createElement(ame,{className:o,style:s,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement(_D,{otherAttributes:f,title:u,desc:c,ref:e},b.createElement(hce,null,a)))});function OA(){return OA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OA.apply(null,arguments)}var ume={top:5,right:5,bottom:5,left:5},cme={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ume,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},a_=b.forwardRef(function(e,n){var r,i=We(e.categoricalChartProps,cme),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,c={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return b.createElement(t5,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},b.createElement(m3,{chartData:u.data}),b.createElement(n5,{layout:i.layout,margin:i.margin}),b.createElement(r5,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(i5,OA({},i,{ref:n})))}),dme=["axis"],a5=b.forwardRef((t,e)=>b.createElement(a_,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dme,tooltipPayloadSearcher:Yc,categoricalChartProps:t,ref:e})),fme=["axis","item"],MI=b.forwardRef((t,e)=>b.createElement(a_,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fme,tooltipPayloadSearcher:Yc,categoricalChartProps:t,ref:e}));function hme(t){var e=Ze();return b.useEffect(()=>{e(kpe(t))},[e,t]),null}var pme=["layout"];function MA(){return MA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MA.apply(null,arguments)}function mme(t,e){if(t==null)return{};var n,r,i=gme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vme={top:5,right:5,bottom:5,left:5},DI={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vme,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},o5=b.forwardRef(function(e,n){var r,i=We(e.categoricalChartProps,DI),{layout:a}=i,o=mme(i,pme),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=e,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return b.createElement(t5,{preloadedState:{options:d},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:s},b.createElement(m3,{chartData:i.data}),b.createElement(n5,{layout:a,margin:i.margin}),b.createElement(r5,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(hme,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(i5,MA({},o,{ref:n})))});function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yme(t,e,n){return(e=_me(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _me(t){var e=bme(t,"string");return typeof e=="symbol"?e:e+""}function bme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eme=["item"],Tme=TD(TD({},DI),{},{layout:"centric",startAngle:0,endAngle:360}),o_=b.forwardRef((t,e)=>{var n=We(t,Tme);return b.createElement(o5,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Eme,tooltipPayloadSearcher:Yc,categoricalChartProps:n,ref:e})});function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){Ame(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ame(t,e,n){return(e=Sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sme(t){var e=xme(t,"string");return typeof e=="symbol"?e:e+""}function xme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wme=["axis"],Ime=SD(SD({},DI),{},{layout:"centric",startAngle:90,endAngle:-270}),Cme=b.forwardRef((t,e)=>{var n=We(t,Ime);return b.createElement(o5,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wme,tooltipPayloadSearcher:Yc,categoricalChartProps:n,ref:e})}),Pme=["item"],Rme=b.forwardRef((t,e)=>b.createElement(a_,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Pme,tooltipPayloadSearcher:Yc,categoricalChartProps:t,ref:e})),Nme=["axis"],Ome=b.forwardRef((t,e)=>b.createElement(a_,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nme,tooltipPayloadSearcher:Yc,categoricalChartProps:t,ref:e})),Mme={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Dme,kme;function Lme(){return{geminiUrl:Dme,vertexUrl:kme}}function Vme(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const o=Lme();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ro{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];g(c,e.slice(a+1),n[u])}else for(const u of l)g(u,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];g(l[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const o=t[a];return Array.isArray(o)?o.map(s=>h(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Ume(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),o=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&a.length>s)for(let l=s;l<a.length;l++){const u=a[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}DA(t,i,a,0,o)}}function DA(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const o=a.slice(0,-2),s=t;if(o in s&&Array.isArray(s[o]))for(const l of s[o])DA(l,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,s=Object.keys(o).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=o[u];for(const[u,c]of Object.entries(l)){const d=[];for(const f of n.slice(r))f==="*"?d.push(u):d.push(f);g(o,d,c)}for(const u of s)delete o[u]}}else{const o=t;a in o&&DA(o[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kI(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bme(t){const e={},n=h(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=h(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function zme(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const o=h(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],jme(o)),e}function Fme(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const o=h(t,["response"]);return o!=null&&g(e,["response"],$me(o)),e}function jme(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>qme(o))),g(e,["generatedVideos"],a)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function $me(t){const e={},n=h(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Gme(o))),g(e,["generatedVideos"],a)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function qme(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],Jme(n)),e}function Gme(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],Xme(n)),e}function Hme(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function Kme(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function Wme(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const o=h(t,["response"]);return o!=null&&g(e,["response"],Yme(o)),e}function Yme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&g(e,["parent"],r);const i=h(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function s5(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const o=h(t,["response"]);return o!=null&&g(e,["response"],Qme(o)),e}function Qme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&g(e,["parent"],r);const i=h(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function Jme(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const r=h(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],kI(r));const i=h(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function Xme(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],kI(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xD;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(xD||(xD={}));var wD;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(wD||(wD={}));var ID;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ID||(ID={}));var Vo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Vo||(Vo={}));var CD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(CD||(CD={}));var PD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(PD||(PD={}));var RD;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(RD||(RD={}));var ND;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ND||(ND={}));var OD;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(OD||(OD={}));var MD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(MD||(MD={}));var DD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(DD||(DD={}));var kD;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(kD||(kD={}));var LD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(LD||(LD={}));var VD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(VD||(VD={}));var UD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(UD||(UD={}));var BD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(BD||(BD={}));var zD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(zD||(zD={}));var FD;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(FD||(FD={}));var jD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(jD||(jD={}));var $D;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})($D||($D={}));var qD;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(qD||(qD={}));var Jv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Jv||(Jv={}));var GD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(GD||(GD={}));var HD;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(HD||(HD={}));var KD;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(KD||(KD={}));var kA;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(kA||(kA={}));var WD;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(WD||(WD={}));var YD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(YD||(YD={}));var LA;(function(t){t.COLLECTION="COLLECTION"})(LA||(LA={}));var QD;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(QD||(QD={}));var JD;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(JD||(JD={}));var XD;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(XD||(XD={}));var ZD;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ZD||(ZD={}));var ek;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ek||(ek={}));var tk;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(tk||(tk={}));var nk;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(nk||(nk={}));var rk;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(rk||(rk={}));var ik;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ik||(ik={}));var ak;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(ak||(ak={}));var ok;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(ok||(ok={}));var sk;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(sk||(sk={}));var lk;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(lk||(lk={}));var uk;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(uk||(uk={}));var ck;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(ck||(ck={}));var dk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(dk||(dk={}));var fk;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(fk||(fk={}));var hk;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(hk||(hk={}));var pk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(pk||(pk={}));var mk;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(mk||(mk={}));var gk;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(gk||(gk={}));var vk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vk||(vk={}));var yk;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yk||(yk={}));var _k;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(_k||(_k={}));var bk;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(bk||(bk={}));var Ek;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ek||(Ek={}));var Tk;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Tk||(Tk={}));var Mu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Mu||(Mu={}));class VA{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class jd{get text(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const f of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(f))p!=="text"&&p!=="thought"&&p!=="thoughtSignature"&&(v!==null||v!==void 0)&&d.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;c=!0,u+=f.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[f,p]of Object.entries(d))f!=="inlineData"&&(p!==null||p!==void 0)&&c.push(f);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class Ak{}class Sk{}class Zme{}class ege{}class tge{}class nge{}class xk{}class wk{}class Ik{}class rge{}class Xv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Xv;let i;const a=e;return n?i=Fme(a):i=zme(a),Object.assign(r,i),r}}class Ck{}class Pk{}class Rk{}class Nk{}class ige{}class age{}class oge{}class LI{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new LI,a=Wme(e);return Object.assign(r,a),r}}class sge{}class lge{}class uge{}class Ok{}class cge{get text(){var e,n,r;let i="",a=!1;const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&o.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;a=!0,i+=s.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(o))s!=="inlineData"&&l!==null&&a.push(s);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class dge{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class VI{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new VI,a=s5(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function l5(t,e){const n=ze(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function u5(t){return Array.isArray(t)?t.map(e=>Zv(e)):[Zv(t)]}function Zv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function c5(t){const e=Zv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function d5(t){const e=Zv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Mk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function f5(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Mk(e)):[Mk(t)]}function UA(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Dk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function kk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Vn(t){if(t==null)throw new Error("ContentUnion is required");return UA(t)?t:{role:"user",parts:f5(t)}}function UI(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Vn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Vn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Vn(n)):[Vn(e)]}function Yr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Dk(t)||kk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Vn(t)]}const e=[],n=[],r=UA(t[0]);for(const i of t){const a=UA(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(Dk(i)||kk(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:f5(n)}),e}function fge(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Vo).includes(n[0].toUpperCase())?n[0].toUpperCase():Vo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Vo).includes(r.toUpperCase())?r.toUpperCase():Vo.TYPE_UNSPECIFIED})}}function Gu(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&fge(t.type,e);for(const[o,s]of Object.entries(t))if(s!=null)if(o=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(Vo).includes(s.toUpperCase())?s.toUpperCase():Vo.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Gu(s);else if(r.includes(o)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(Gu(u))}e[o]=l}else if(i.includes(o)){const l={};for(const[u,c]of Object.entries(s))l[u]=Gu(c);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=s}return e}function BI(t){return Gu(t)}function zI(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function FI(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function rd(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Gu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Gu(e.response));return t}function id(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function hge(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function io(t,e){if(typeof e!="string")throw new Error("name must be a string");return hge(t,e,"cachedContents")}function h5(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function As(t){return kI(t)}function pge(t){return t!=null&&typeof t=="object"&&"name"in t}function mge(t){return t!=null&&typeof t=="object"&&"video"in t}function gge(t){return t!=null&&typeof t=="object"&&"uri"in t}function p5(t){var e;let n;if(pge(t)&&(n=t.name),!(gge(t)&&(n=t.uri,n===void 0))&&!(mge(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function m5(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function g5(t){for(const e of["models","tunedModels","publisherModels"])if(vge(t,e))return t[e];return[]}function vge(t,e){return t!==null&&typeof t=="object"&&e in t}function yge(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function _ge(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=yge(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function v5(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function bge(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function y5(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ad(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function _5(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ege(t){const e={},n=h(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=h(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>tve(o))),g(e,["inlinedResponses"],a)}const i=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),g(e,["inlinedEmbedContentResponses"],a)}return e}function Tge(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=h(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=h(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function Age(t){const e={},n=h(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=h(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=h(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function og(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=h(t,["metadata","state"]);i!=null&&g(e,["state"],_5(i));const a=h(t,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const o=h(t,["metadata","endTime"]);o!=null&&g(e,["endTime"],o);const s=h(t,["metadata","updateTime"]);s!=null&&g(e,["updateTime"],s);const l=h(t,["metadata","model"]);l!=null&&g(e,["model"],l);const u=h(t,["metadata","output"]);return u!=null&&g(e,["dest"],Ege(y5(u))),e}function BA(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=h(t,["state"]);i!=null&&g(e,["state"],_5(i));const a=h(t,["error"]);a!=null&&g(e,["error"],a);const o=h(t,["createTime"]);o!=null&&g(e,["createTime"],o);const s=h(t,["startTime"]);s!=null&&g(e,["startTime"],s);const l=h(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=h(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const c=h(t,["model"]);c!=null&&g(e,["model"],c);const d=h(t,["inputConfig"]);d!=null&&g(e,["src"],Sge(d));const f=h(t,["outputConfig"]);f!=null&&g(e,["dest"],Tge(y5(f)));const p=h(t,["completionStats"]);return p!=null&&g(e,["completionStats"],p),e}function Sge(t){const e={},n=h(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=h(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=h(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function xge(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=h(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=h(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>eve(t,o))),g(n,["requests","requests"],a)}return n}function wge(t){const e={},n=h(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=h(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=h(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ige(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Cge(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],ad(t,r)),n}function Pge(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],ad(t,r)),n}function Rge(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const r=h(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Nge(r));const i=h(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const a=h(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const o=h(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const s=h(t,["groundingMetadata"]);s!=null&&g(e,["groundingMetadata"],s);const l=h(t,["index"]);l!=null&&g(e,["index"],l);const u=h(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=h(t,["safetyRatings"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>p)),g(e,["safetyRatings"],f)}const d=h(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function Nge(t){const e={},n=h(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function b5(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>lve(a))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function Oge(t,e){const n={},r=h(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Mge(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=h(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],Age(bge(i))),n}function Lk(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["src"]);i!=null&&g(n,["batch","inputConfig"],xge(t,v5(t,i)));const a=h(e,["config"]);return a!=null&&Oge(a,n),n}function Dge(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["model"],ze(t,r));const i=h(e,["src"]);i!=null&&g(n,["inputConfig"],wge(v5(t,i)));const a=h(e,["config"]);return a!=null&&Mge(a,n),n}function kge(t,e){const n={},r=h(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function Lge(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["src"]);i!=null&&g(n,["batch","inputConfig"],$ge(t,i));const a=h(e,["config"]);return a!=null&&kge(a,n),n}function Vge(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],ad(t,r)),n}function Uge(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],ad(t,r)),n}function Bge(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const a=h(t,["error"]);return a!=null&&g(e,["error"],a),e}function zge(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const a=h(t,["error"]);return a!=null&&g(e,["error"],a),e}function Fge(t,e){const n={},r=h(e,["contents"]);if(r!=null){let a=UI(t,r);Array.isArray(a)&&(a=a.map(o=>o)),g(n,["requests[]","request","content"],a)}const i=h(e,["config"]);return i!=null&&(g(n,["_self"],jge(i,n)),Ume(n,{"requests[].*":"requests[].request.*"})),n}function jge(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const a=h(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function $ge(t,e){const n={},r=h(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=h(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],Fge(t,i)),n}function qge(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Gge(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hge(t){const e={},n=h(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=h(t,["mode"]);if(r!=null&&g(e,["mode"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Kge(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],b5(Vn(i)));const a=h(e,["temperature"]);a!=null&&g(r,["temperature"],a);const o=h(e,["topP"]);o!=null&&g(r,["topP"],o);const s=h(e,["topK"]);s!=null&&g(r,["topK"],s);const l=h(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=h(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=h(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=h(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const f=h(e,["logprobs"]);f!=null&&g(r,["logprobs"],f);const p=h(e,["presencePenalty"]);p!=null&&g(r,["presencePenalty"],p);const v=h(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const E=h(e,["seed"]);E!=null&&g(r,["seed"],E);const y=h(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const _=h(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],BI(_));const T=h(e,["responseJsonSchema"]);if(T!=null&&g(r,["responseJsonSchema"],T),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=h(e,["safetySettings"]);if(n!==void 0&&S!=null){let k=S;Array.isArray(k)&&(k=k.map(Q=>uve(Q))),g(n,["safetySettings"],k)}const w=h(e,["tools"]);if(n!==void 0&&w!=null){let k=id(w);Array.isArray(k)&&(k=k.map(Q=>dve(rd(Q)))),g(n,["tools"],k)}const N=h(e,["toolConfig"]);if(n!==void 0&&N!=null&&g(n,["toolConfig"],cve(N)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=h(e,["cachedContent"]);n!==void 0&&O!=null&&g(n,["cachedContent"],io(t,O));const I=h(e,["responseModalities"]);I!=null&&g(r,["responseModalities"],I);const P=h(e,["mediaResolution"]);P!=null&&g(r,["mediaResolution"],P);const R=h(e,["speechConfig"]);if(R!=null&&g(r,["speechConfig"],zI(R)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=h(e,["thinkingConfig"]);M!=null&&g(r,["thinkingConfig"],M);const V=h(e,["imageConfig"]);V!=null&&g(r,["imageConfig"],Zge(V));const D=h(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),h(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Wge(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Rge(u))),g(e,["candidates"],l)}const i=h(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const a=h(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const o=h(t,["responseId"]);o!=null&&g(e,["responseId"],o);const s=h(t,["usageMetadata"]);return s!=null&&g(e,["usageMetadata"],s),e}function Yge(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],ad(t,r)),n}function Qge(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],ad(t,r)),n}function Jge(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Xge(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Zge(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=h(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),h(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function eve(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["request","model"],ze(t,r));const i=h(e,["contents"]);if(i!=null){let s=Yr(i);Array.isArray(s)&&(s=s.map(l=>b5(l))),g(n,["request","contents"],s)}const a=h(e,["metadata"]);a!=null&&g(n,["metadata"],a);const o=h(e,["config"]);return o!=null&&g(n,["request","generationConfig"],Kge(t,o,h(n,["request"],{}))),n}function tve(t){const e={},n=h(t,["response"]);n!=null&&g(e,["response"],Wge(n));const r=h(t,["error"]);return r!=null&&g(e,["error"],r),e}function nve(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function rve(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const a=h(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function ive(t){const e={},n=h(t,["config"]);return n!=null&&nve(n,e),e}function ave(t){const e={},n=h(t,["config"]);return n!=null&&rve(n,e),e}function ove(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>og(o))),g(e,["batchJobs"],a)}return e}function sve(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>BA(o))),g(e,["batchJobs"],a)}return e}function lve(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],qge(a));const o=h(t,["functionCall"]);o!=null&&g(e,["functionCall"],Gge(o));const s=h(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],Ige(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function uve(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function cve(t){const e={},n=h(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=h(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Hge(r)),e}function dve(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=h(t,["functionDeclarations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const o=h(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],Jge(o));const s=h(t,["googleSearch"]);s!=null&&g(e,["googleSearch"],Xge(s));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qa;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(qa||(qa={}));class $l{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fve extends ro{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $l(qa.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Lk(this.apiClient,e),r=n._url,i=re("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const f=d.systemInstruction;delete d.systemInstruction;const p=d.request;p.systemInstruction=f,d.request=p}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Dge(this.apiClient,e);return s=re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>BA(c))}else{const u=Lk(this.apiClient,e);return s=re("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>og(c))}}async createEmbeddingsInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Lge(this.apiClient,e);return a=re("{model}:asyncBatchEmbedContent",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>og(l))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Qge(this.apiClient,e);return s=re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>BA(c))}else{const u=Yge(this.apiClient,e);return s=re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>og(c))}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=Pge(this.apiClient,e);o=re("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Cge(this.apiClient,e);o=re("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=ave(e);return s=re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=sve(c),f=new Ok;return Object.assign(f,d),f})}else{const u=ive(e);return s=re("batches",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=ove(c),f=new Ok;return Object.assign(f,d),f})}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Uge(this.apiClient,e);return s=re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>zge(c))}else{const u=Vge(this.apiClient,e);return s=re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>Bge(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hve(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Vk(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Lve(a))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function pve(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=h(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const a=h(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const o=h(t,["contents"]);if(e!==void 0&&o!=null){let c=Yr(o);Array.isArray(c)&&(c=c.map(d=>Vk(d))),g(e,["contents"],c)}const s=h(t,["systemInstruction"]);e!==void 0&&s!=null&&g(e,["systemInstruction"],Vk(Vn(s)));const l=h(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Uve(d))),g(e,["tools"],c)}const u=h(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],Vve(u)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function mve(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=h(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const a=h(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const o=h(t,["contents"]);if(e!==void 0&&o!=null){let d=Yr(o);Array.isArray(d)&&(d=d.map(f=>f)),g(e,["contents"],d)}const s=h(t,["systemInstruction"]);e!==void 0&&s!=null&&g(e,["systemInstruction"],Vn(s));const l=h(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>Bve(f))),g(e,["tools"],d)}const u=h(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const c=h(t,["kmsKeyName"]);return e!==void 0&&c!=null&&g(e,["encryption_spec","kmsKeyName"],c),n}function gve(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["model"],l5(t,r));const i=h(e,["config"]);return i!=null&&pve(i,n),n}function vve(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["model"],l5(t,r));const i=h(e,["config"]);return i!=null&&mve(i,n),n}function yve(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],io(t,r)),n}function _ve(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],io(t,r)),n}function bve(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Eve(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Tve(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Ave(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Sve(t){const e={},n=h(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=h(t,["mode"]);if(r!=null&&g(e,["mode"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xve(t){const e={},n=h(t,["description"]);n!=null&&g(e,["description"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["parameters"]);i!=null&&g(e,["parameters"],i);const a=h(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const o=h(t,["response"]);o!=null&&g(e,["response"],o);const s=h(t,["responseJsonSchema"]);if(s!=null&&g(e,["responseJsonSchema"],s),h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function wve(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],io(t,r)),n}function Ive(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],io(t,r)),n}function Cve(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Pve(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Rve(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Nve(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Ove(t){const e={},n=h(t,["config"]);return n!=null&&Rve(n,e),e}function Mve(t){const e={},n=h(t,["config"]);return n!=null&&Nve(n,e),e}function Dve(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),g(e,["cachedContents"],a)}return e}function kve(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),g(e,["cachedContents"],a)}return e}function Lve(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],Tve(a));const o=h(t,["functionCall"]);o!=null&&g(e,["functionCall"],Ave(o));const s=h(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],hve(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function Vve(t){const e={},n=h(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=h(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Sve(r)),e}function Uve(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=h(t,["functionDeclarations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const o=h(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],Cve(o));const s=h(t,["googleSearch"]);s!=null&&g(e,["googleSearch"],Pve(s));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function Bve(t){const e={},n=h(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=h(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=h(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const a=h(t,["enterpriseWebSearch"]);a!=null&&g(e,["enterpriseWebSearch"],a);const o=h(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>xve(f))),g(e,["functionDeclarations"],d)}const s=h(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],s);const l=h(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=h(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function zve(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=h(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function Fve(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=h(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function jve(t,e){const n={},r=h(e,["name"]);r!=null&&g(n,["_url","name"],io(t,r));const i=h(e,["config"]);return i!=null&&zve(i,n),n}function $ve(t,e){const n={},r=h(e,["name"]);r!=null&&g(n,["_url","name"],io(t,r));const i=h(e,["config"]);return i!=null&&Fve(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qve extends ro{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $l(qa.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=vve(this.apiClient,e);return s=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}else{const u=gve(this.apiClient,e);return s=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Ive(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}else{const u=wve(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=_ve(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=Eve(c),f=new Rk;return Object.assign(f,d),f})}else{const u=yve(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=bve(c),f=new Rk;return Object.assign(f,d),f})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=$ve(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}else{const u=jve(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Mve(e);return s=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=kve(c),f=new Nk;return Object.assign(f,d),f})}else{const u=Ove(e);return s=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=Dve(c),f=new Nk;return Object.assign(f,d),f})}}}function ey(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Uk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(t){return this instanceof me?(this.v=t,this):new me(t)}function _i(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(v){return Promise.resolve(v).then(p,d)}}function s(p,v){r[p]&&(i[p]=function(E){return new Promise(function(y,_){a.push([p,E,y,_])>1||l(p,E)})},v&&(i[p]=v(i[p])))}function l(p,v){try{u(r[p](v))}catch(E){f(a[0][3],E)}}function u(p){p.value instanceof me?Promise.resolve(p.value.v).then(c,d):f(a[0][2],p)}function c(p){l("next",p)}function d(p){l("throw",p)}function f(p,v){p(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function bi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Uk=="function"?Uk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gve(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:E5(n)}function E5(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Hve(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Bk(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!E5(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Kve{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Wve(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Wve{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Hve(a)}async sendMessage(e){var n;await this.sendPromise;const r=Vn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,s;const l=await i,u=(o=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let f=[];c!=null&&(f=(s=c.slice(d))!==null&&s!==void 0?s:[]);const p=u?[u]:[];this.recordHistory(r,p,f)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Vn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?Bk(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return _i(this,arguments,function*(){var i,a,o,s,l,u;const c=[];try{for(var d=!0,f=bi(e),p;p=yield me(f.next()),i=p.done,!i;d=!0){s=p.value,d=!1;const v=s;if(Gve(v)){const E=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;E!==void 0&&c.push(E)}yield yield me(v)}}catch(v){a={error:v}}finally{try{!d&&!i&&(o=f.return)&&(yield me(o.call(f)))}finally{if(a)throw a.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Bk(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ph extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ph.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yve(t){const e={},n=h(t,["file"]);return n!=null&&g(e,["file"],n),e}function Qve(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Jve(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],p5(n)),e}function Xve(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Zve(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],p5(n)),e}function eye(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function tye(t){const e={},n=h(t,["config"]);return n!=null&&eye(n,e),e}function nye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),g(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rye extends ro{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $l(qa.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=tye(e);return a=re("files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=nye(l),c=new sge;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Yve(e);return a=re("upload/v1beta/files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Qve(l),c=new lge;return Object.assign(c,u),c})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zve(e);return a=re("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jve(e);return a=re("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Xve(l),c=new uge;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sg(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function iye(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>bye(a))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function aye(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function oye(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sye(t){const e={},n=h(t,["description"]);n!=null&&g(e,["description"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["parameters"]);i!=null&&g(e,["parameters"],i);const a=h(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const o=h(t,["response"]);o!=null&&g(e,["response"],o);const s=h(t,["responseJsonSchema"]);if(s!=null&&g(e,["responseJsonSchema"],s),h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function lye(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=h(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=h(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const a=h(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const o=h(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const s=h(t,["frequencyPenalty"]);s!=null&&g(e,["frequencyPenalty"],s);const l=h(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=h(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=h(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=h(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const f=h(t,["responseLogprobs"]);f!=null&&g(e,["responseLogprobs"],f);const p=h(t,["responseMimeType"]);p!=null&&g(e,["responseMimeType"],p);const v=h(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const E=h(t,["responseSchema"]);E!=null&&g(e,["responseSchema"],E);const y=h(t,["routingConfig"]);y!=null&&g(e,["routingConfig"],y);const _=h(t,["seed"]);_!=null&&g(e,["seed"],_);const T=h(t,["speechConfig"]);T!=null&&g(e,["speechConfig"],T);const S=h(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const w=h(t,["temperature"]);w!=null&&g(e,["temperature"],w);const N=h(t,["thinkingConfig"]);N!=null&&g(e,["thinkingConfig"],N);const O=h(t,["topK"]);O!=null&&g(e,["topK"],O);const I=h(t,["topP"]);if(I!=null&&g(e,["topP"],I),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function uye(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function cye(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function dye(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const a=h(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const o=h(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const s=h(t,["topK"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topK"],s);const l=h(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=h(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=h(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],FI(d));const f=h(t,["thinkingConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","thinkingConfig"],f);const p=h(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],p);const v=h(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],iye(Vn(v)));const E=h(t,["tools"]);if(e!==void 0&&E!=null){let O=id(E);Array.isArray(O)&&(O=O.map(I=>Tye(rd(I)))),g(e,["setup","tools"],O)}const y=h(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],Eye(y));const _=h(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const T=h(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&g(e,["setup","outputAudioTranscription"],T);const S=h(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const w=h(t,["contextWindowCompression"]);e!==void 0&&w!=null&&g(e,["setup","contextWindowCompression"],w);const N=h(t,["proactivity"]);if(e!==void 0&&N!=null&&g(e,["setup","proactivity"],N),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function fye(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],lye(r));const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const a=h(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const o=h(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const s=h(t,["topK"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topK"],s);const l=h(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=h(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=h(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],FI(d));const f=h(t,["thinkingConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","thinkingConfig"],f);const p=h(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],p);const v=h(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],Vn(v));const E=h(t,["tools"]);if(e!==void 0&&E!=null){let I=id(E);Array.isArray(I)&&(I=I.map(P=>Aye(rd(P)))),g(e,["setup","tools"],I)}const y=h(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],y);const _=h(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const T=h(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&g(e,["setup","outputAudioTranscription"],T);const S=h(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const w=h(t,["contextWindowCompression"]);e!==void 0&&w!=null&&g(e,["setup","contextWindowCompression"],w);const N=h(t,["proactivity"]);e!==void 0&&N!=null&&g(e,["setup","proactivity"],N);const O=h(t,["explicitVadSignal"]);return e!==void 0&&O!=null&&g(e,["setup","explicitVadSignal"],O),n}function hye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["setup","model"],ze(t,r));const i=h(e,["config"]);return i!=null&&g(n,["config"],dye(i,n)),n}function pye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["setup","model"],ze(t,r));const i=h(e,["config"]);return i!=null&&g(n,["config"],fye(i,n)),n}function mye(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function gye(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function vye(t){const e={},n=h(t,["media"]);if(n!=null){let u=u5(n);Array.isArray(u)&&(u=u.map(c=>sg(c))),g(e,["mediaChunks"],u)}const r=h(t,["audio"]);r!=null&&g(e,["audio"],sg(d5(r)));const i=h(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const a=h(t,["video"]);a!=null&&g(e,["video"],sg(c5(a)));const o=h(t,["text"]);o!=null&&g(e,["text"],o);const s=h(t,["activityStart"]);s!=null&&g(e,["activityStart"],s);const l=h(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function yye(t){const e={},n=h(t,["media"]);if(n!=null){let u=u5(n);Array.isArray(u)&&(u=u.map(c=>c)),g(e,["mediaChunks"],u)}const r=h(t,["audio"]);r!=null&&g(e,["audio"],d5(r));const i=h(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const a=h(t,["video"]);a!=null&&g(e,["video"],c5(a));const o=h(t,["text"]);o!=null&&g(e,["text"],o);const s=h(t,["activityStart"]);s!=null&&g(e,["activityStart"],s);const l=h(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function _ye(t){const e={},n=h(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=h(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=h(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const a=h(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],a);const o=h(t,["usageMetadata"]);o!=null&&g(e,["usageMetadata"],Sye(o));const s=h(t,["goAway"]);s!=null&&g(e,["goAway"],s);const l=h(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const u=h(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const c=h(t,["voiceActivity"]);return c!=null&&g(e,["voiceActivity"],xye(c)),e}function bye(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],aye(a));const o=h(t,["functionCall"]);o!=null&&g(e,["functionCall"],oye(o));const s=h(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],sg(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function Eye(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Tye(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=h(t,["functionDeclarations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const o=h(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],uye(o));const s=h(t,["googleSearch"]);s!=null&&g(e,["googleSearch"],cye(s));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function Aye(t){const e={},n=h(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=h(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=h(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const a=h(t,["enterpriseWebSearch"]);a!=null&&g(e,["enterpriseWebSearch"],a);const o=h(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>sye(f))),g(e,["functionDeclarations"],d)}const s=h(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],s);const l=h(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=h(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function Sye(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=h(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=h(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const a=h(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const o=h(t,["thoughtsTokenCount"]);o!=null&&g(e,["thoughtsTokenCount"],o);const s=h(t,["totalTokenCount"]);s!=null&&g(e,["totalTokenCount"],s);const l=h(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>v)),g(e,["promptTokensDetails"],p)}const u=h(t,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>v)),g(e,["cacheTokensDetails"],p)}const c=h(t,["candidatesTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>v)),g(e,["responseTokensDetails"],p)}const d=h(t,["toolUsePromptTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(v=>v)),g(e,["toolUsePromptTokensDetails"],p)}const f=h(t,["trafficType"]);return f!=null&&g(e,["trafficType"],f),e}function xye(t){const e={},n=h(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wye(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Iye(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const r=h(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Cye(r));const i=h(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const a=h(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const o=h(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const s=h(t,["groundingMetadata"]);s!=null&&g(e,["groundingMetadata"],s);const l=h(t,["index"]);l!=null&&g(e,["index"],l);const u=h(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=h(t,["safetyRatings"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>p)),g(e,["safetyRatings"],f)}const d=h(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function Cye(t){const e={},n=h(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function Pye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["contents"]);if(i!=null){let a=Yr(i);Array.isArray(a)&&(a=a.map(o=>o)),g(n,["contents"],a)}return n}function Rye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),g(e,["tokensInfo"],i)}return e}function Nye(t){const e={},n=h(t,["values"]);n!=null&&g(e,["values"],n);const r=h(t,["statistics"]);return r!=null&&g(e,["statistics"],Oye(r)),e}function Oye(t){const e={},n=h(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=h(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function s_(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>F0e(a))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function Mye(t){const e={},n=h(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=h(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function Dye(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function kye(t,e){const n={},r=h(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],Vn(r));const i=h(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>x5(s))),g(e,["tools"],o)}const a=h(t,["generationConfig"]);return e!==void 0&&a!=null&&g(e,["generationConfig"],w0e(a)),n}function Lye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["contents"]);if(i!=null){let o=Yr(i);Array.isArray(o)&&(o=o.map(s=>s_(s))),g(n,["contents"],o)}const a=h(e,["config"]);return a!=null&&Dye(a),n}function Vye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["contents"]);if(i!=null){let o=Yr(i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["contents"],o)}const a=h(e,["config"]);return a!=null&&kye(a,n),n}function Uye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=h(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function Bye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function zye(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],ze(t,r)),n}function Fye(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],ze(t,r)),n}function jye(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function $ye(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function qye(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=h(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const a=h(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const o=h(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=h(t,["guidanceScale"]);e!==void 0&&s!=null&&g(e,["parameters","guidanceScale"],s);const l=h(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=h(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const f=h(t,["includeRaiReason"]);e!==void 0&&f!=null&&g(e,["parameters","includeRaiReason"],f);const p=h(t,["language"]);e!==void 0&&p!=null&&g(e,["parameters","language"],p);const v=h(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const E=h(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&g(e,["parameters","outputOptions","compressionQuality"],E);const y=h(t,["addWatermark"]);e!==void 0&&y!=null&&g(e,["parameters","addWatermark"],y);const _=h(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const T=h(t,["editMode"]);e!==void 0&&T!=null&&g(e,["parameters","editMode"],T);const S=h(t,["baseSteps"]);return e!==void 0&&S!=null&&g(e,["parameters","editConfig","baseSteps"],S),n}function Gye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=h(e,["referenceImages"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>K0e(l))),g(n,["instances[0]","referenceImages"],s)}const o=h(e,["config"]);return o!=null&&qye(o,n),n}function Hye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>l_(a))),g(e,["generatedImages"],i)}return e}function Kye(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const a=h(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Wye(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const a=h(t,["outputDimensionality"]);e!==void 0&&a!=null&&g(e,["parameters","outputDimensionality"],a);const o=h(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["instances[]","mimeType"],o);const s=h(t,["autoTruncate"]);return e!==void 0&&s!=null&&g(e,["parameters","autoTruncate"],s),n}function Yye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["contents"]);if(i!=null){let s=UI(t,i);Array.isArray(s)&&(s=s.map(l=>l)),g(n,["requests[]","content"],s)}const a=h(e,["config"]);a!=null&&Kye(a,n);const o=h(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],ze(t,o)),n}function Qye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["contents"]);if(i!=null){let o=UI(t,i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["instances[]","content"],o)}const a=h(e,["config"]);return a!=null&&Wye(a,n),n}function Jye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),g(e,["embeddings"],a)}const i=h(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function Xye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Nye(o))),g(e,["embeddings"],a)}const i=h(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function Zye(t){const e={},n=h(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=h(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function e0e(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function t0e(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function n0e(t){const e={},n=h(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=h(t,["mode"]);if(r!=null&&g(e,["mode"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function r0e(t){const e={},n=h(t,["description"]);n!=null&&g(e,["description"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["parameters"]);i!=null&&g(e,["parameters"],i);const a=h(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const o=h(t,["response"]);o!=null&&g(e,["response"],o);const s=h(t,["responseJsonSchema"]);if(s!=null&&g(e,["responseJsonSchema"],s),h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function i0e(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],s_(Vn(i)));const a=h(e,["temperature"]);a!=null&&g(r,["temperature"],a);const o=h(e,["topP"]);o!=null&&g(r,["topP"],o);const s=h(e,["topK"]);s!=null&&g(r,["topK"],s);const l=h(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=h(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=h(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=h(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const f=h(e,["logprobs"]);f!=null&&g(r,["logprobs"],f);const p=h(e,["presencePenalty"]);p!=null&&g(r,["presencePenalty"],p);const v=h(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const E=h(e,["seed"]);E!=null&&g(r,["seed"],E);const y=h(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const _=h(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],BI(_));const T=h(e,["responseJsonSchema"]);if(T!=null&&g(r,["responseJsonSchema"],T),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=h(e,["safetySettings"]);if(n!==void 0&&S!=null){let k=S;Array.isArray(k)&&(k=k.map(Q=>W0e(Q))),g(n,["safetySettings"],k)}const w=h(e,["tools"]);if(n!==void 0&&w!=null){let k=id(w);Array.isArray(k)&&(k=k.map(Q=>t_e(rd(Q)))),g(n,["tools"],k)}const N=h(e,["toolConfig"]);if(n!==void 0&&N!=null&&g(n,["toolConfig"],e_e(N)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=h(e,["cachedContent"]);n!==void 0&&O!=null&&g(n,["cachedContent"],io(t,O));const I=h(e,["responseModalities"]);I!=null&&g(r,["responseModalities"],I);const P=h(e,["mediaResolution"]);P!=null&&g(r,["mediaResolution"],P);const R=h(e,["speechConfig"]);if(R!=null&&g(r,["speechConfig"],zI(R)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=h(e,["thinkingConfig"]);M!=null&&g(r,["thinkingConfig"],M);const V=h(e,["imageConfig"]);V!=null&&g(r,["imageConfig"],N0e(V));const D=h(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),h(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function a0e(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],Vn(i));const a=h(e,["temperature"]);a!=null&&g(r,["temperature"],a);const o=h(e,["topP"]);o!=null&&g(r,["topP"],o);const s=h(e,["topK"]);s!=null&&g(r,["topK"],s);const l=h(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=h(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=h(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=h(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const f=h(e,["logprobs"]);f!=null&&g(r,["logprobs"],f);const p=h(e,["presencePenalty"]);p!=null&&g(r,["presencePenalty"],p);const v=h(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const E=h(e,["seed"]);E!=null&&g(r,["seed"],E);const y=h(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const _=h(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],BI(_));const T=h(e,["responseJsonSchema"]);T!=null&&g(r,["responseJsonSchema"],T);const S=h(e,["routingConfig"]);S!=null&&g(r,["routingConfig"],S);const w=h(e,["modelSelectionConfig"]);w!=null&&g(r,["modelConfig"],w);const N=h(e,["safetySettings"]);if(n!==void 0&&N!=null){let W=N;Array.isArray(W)&&(W=W.map(J=>J)),g(n,["safetySettings"],W)}const O=h(e,["tools"]);if(n!==void 0&&O!=null){let W=id(O);Array.isArray(W)&&(W=W.map(J=>x5(rd(J)))),g(n,["tools"],W)}const I=h(e,["toolConfig"]);n!==void 0&&I!=null&&g(n,["toolConfig"],I);const P=h(e,["labels"]);n!==void 0&&P!=null&&g(n,["labels"],P);const R=h(e,["cachedContent"]);n!==void 0&&R!=null&&g(n,["cachedContent"],io(t,R));const M=h(e,["responseModalities"]);M!=null&&g(r,["responseModalities"],M);const V=h(e,["mediaResolution"]);V!=null&&g(r,["mediaResolution"],V);const D=h(e,["speechConfig"]);D!=null&&g(r,["speechConfig"],zI(D));const k=h(e,["audioTimestamp"]);k!=null&&g(r,["audioTimestamp"],k);const Q=h(e,["thinkingConfig"]);Q!=null&&g(r,["thinkingConfig"],Q);const ae=h(e,["imageConfig"]);if(ae!=null&&g(r,["imageConfig"],O0e(ae)),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const H=h(e,["modelArmorConfig"]);return n!==void 0&&H!=null&&g(n,["modelArmorConfig"],H),r}function zk(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["contents"]);if(i!=null){let o=Yr(i);Array.isArray(o)&&(o=o.map(s=>s_(s))),g(n,["contents"],o)}const a=h(e,["config"]);return a!=null&&g(n,["generationConfig"],i0e(t,a,n)),n}function Fk(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["contents"]);if(i!=null){let o=Yr(i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["contents"],o)}const a=h(e,["config"]);return a!=null&&g(n,["generationConfig"],a0e(t,a,n)),n}function jk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Iye(u))),g(e,["candidates"],l)}const i=h(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const a=h(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const o=h(t,["responseId"]);o!=null&&g(e,["responseId"],o);const s=h(t,["usageMetadata"]);return s!=null&&g(e,["usageMetadata"],s),e}function $k(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["candidates"],u)}const i=h(t,["createTime"]);i!=null&&g(e,["createTime"],i);const a=h(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const o=h(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=h(t,["responseId"]);s!=null&&g(e,["responseId"],s);const l=h(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function o0e(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=h(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const a=h(t,["guidanceScale"]);if(e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=h(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const s=h(t,["personGeneration"]);e!==void 0&&s!=null&&g(e,["parameters","personGeneration"],s);const l=h(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const u=h(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=h(t,["language"]);e!==void 0&&c!=null&&g(e,["parameters","language"],c);const d=h(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=h(t,["outputCompressionQuality"]);if(e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const p=h(t,["imageSize"]);if(e!==void 0&&p!=null&&g(e,["parameters","sampleImageSize"],p),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function s0e(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=h(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const a=h(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const o=h(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=h(t,["guidanceScale"]);e!==void 0&&s!=null&&g(e,["parameters","guidanceScale"],s);const l=h(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=h(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const f=h(t,["includeRaiReason"]);e!==void 0&&f!=null&&g(e,["parameters","includeRaiReason"],f);const p=h(t,["language"]);e!==void 0&&p!=null&&g(e,["parameters","language"],p);const v=h(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const E=h(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&g(e,["parameters","outputOptions","compressionQuality"],E);const y=h(t,["addWatermark"]);e!==void 0&&y!=null&&g(e,["parameters","addWatermark"],y);const _=h(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const T=h(t,["imageSize"]);e!==void 0&&T!=null&&g(e,["parameters","sampleImageSize"],T);const S=h(t,["enhancePrompt"]);return e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S),n}function l0e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=h(e,["config"]);return a!=null&&o0e(a,n),n}function u0e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=h(e,["config"]);return a!=null&&s0e(a,n),n}function c0e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>T0e(o))),g(e,["generatedImages"],a)}const i=h(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],A5(i)),e}function d0e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>l_(o))),g(e,["generatedImages"],a)}const i=h(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],S5(i)),e}function f0e(t,e){const n={},r=h(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=h(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=h(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const o=h(t,["resolution"]);e!==void 0&&o!=null&&g(e,["parameters","resolution"],o);const s=h(t,["personGeneration"]);if(e!==void 0&&s!=null&&g(e,["parameters","personGeneration"],s),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=h(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=h(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=h(t,["lastFrame"]);e!==void 0&&c!=null&&g(e,["instances[0]","lastFrame"],u_(c));const d=h(t,["referenceImages"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>p_e(p))),g(e,["instances[0]","referenceImages"],f)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function h0e(t,e){const n={},r=h(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const a=h(t,["fps"]);e!==void 0&&a!=null&&g(e,["parameters","fps"],a);const o=h(t,["durationSeconds"]);e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o);const s=h(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const l=h(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=h(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=h(t,["pubsubTopic"]);e!==void 0&&d!=null&&g(e,["parameters","pubsubTopic"],d);const f=h(t,["negativePrompt"]);e!==void 0&&f!=null&&g(e,["parameters","negativePrompt"],f);const p=h(t,["enhancePrompt"]);e!==void 0&&p!=null&&g(e,["parameters","enhancePrompt"],p);const v=h(t,["generateAudio"]);e!==void 0&&v!=null&&g(e,["parameters","generateAudio"],v);const E=h(t,["lastFrame"]);e!==void 0&&E!=null&&g(e,["instances[0]","lastFrame"],Ii(E));const y=h(t,["referenceImages"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(w=>m_e(w))),g(e,["instances[0]","referenceImages"],S)}const _=h(t,["mask"]);e!==void 0&&_!=null&&g(e,["instances[0]","mask"],h_e(_));const T=h(t,["compressionQuality"]);return e!==void 0&&T!=null&&g(e,["parameters","compressionQuality"],T),n}function p0e(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const o=h(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],y0e(o)),e}function m0e(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const o=h(t,["response"]);return o!=null&&g(e,["response"],_0e(o)),e}function g0e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=h(e,["image"]);a!=null&&g(n,["instances[0]","image"],u_(a));const o=h(e,["video"]);o!=null&&g(n,["instances[0]","video"],w5(o));const s=h(e,["source"]);s!=null&&b0e(s,n);const l=h(e,["config"]);return l!=null&&f0e(l,n),n}function v0e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=h(e,["image"]);a!=null&&g(n,["instances[0]","image"],Ii(a));const o=h(e,["video"]);o!=null&&g(n,["instances[0]","video"],I5(o));const s=h(e,["source"]);s!=null&&E0e(s,n);const l=h(e,["config"]);return l!=null&&h0e(l,n),n}function y0e(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>S0e(o))),g(e,["generatedVideos"],a)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function _0e(t){const e={},n=h(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>x0e(o))),g(e,["generatedVideos"],a)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function b0e(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=h(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],u_(i));const a=h(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],w5(a)),n}function E0e(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=h(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Ii(i));const a=h(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],I5(a)),n}function T0e(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],M0e(n));const r=h(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=h(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],A5(i)),e}function l_(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],T5(n));const r=h(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=h(t,["_self"]);i!=null&&g(e,["safetyAttributes"],S5(i));const a=h(t,["prompt"]);return a!=null&&g(e,["enhancedPrompt"],a),e}function A0e(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["mask"],T5(n));const r=h(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),g(e,["labels"],i)}return e}function S0e(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],d_e(n)),e}function x0e(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],f_e(n)),e}function w0e(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=h(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=h(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const a=h(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const o=h(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const s=h(t,["frequencyPenalty"]);s!=null&&g(e,["frequencyPenalty"],s);const l=h(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=h(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=h(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=h(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const f=h(t,["responseLogprobs"]);f!=null&&g(e,["responseLogprobs"],f);const p=h(t,["responseMimeType"]);p!=null&&g(e,["responseMimeType"],p);const v=h(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const E=h(t,["responseSchema"]);E!=null&&g(e,["responseSchema"],E);const y=h(t,["routingConfig"]);y!=null&&g(e,["routingConfig"],y);const _=h(t,["seed"]);_!=null&&g(e,["seed"],_);const T=h(t,["speechConfig"]);T!=null&&g(e,["speechConfig"],T);const S=h(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const w=h(t,["temperature"]);w!=null&&g(e,["temperature"],w);const N=h(t,["thinkingConfig"]);N!=null&&g(e,["thinkingConfig"],N);const O=h(t,["topK"]);O!=null&&g(e,["topK"],O);const I=h(t,["topP"]);if(I!=null&&g(e,["topP"],I),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function I0e(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],ze(t,r)),n}function C0e(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],ze(t,r)),n}function P0e(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function R0e(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function N0e(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=h(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),h(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function O0e(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=h(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=h(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const a=h(t,["outputMimeType"]);a!=null&&g(e,["imageOutputOptions","mimeType"],a);const o=h(t,["outputCompressionQuality"]);return o!=null&&g(e,["imageOutputOptions","compressionQuality"],o),e}function M0e(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],As(n));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function T5(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],As(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function u_(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],As(n));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Ii(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=h(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],As(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function D0e(t,e,n){const r={},i=h(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=h(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=h(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const s=h(e,["queryBase"]);return n!==void 0&&s!=null&&g(n,["_url","models_url"],m5(t,s)),r}function k0e(t,e,n){const r={},i=h(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=h(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=h(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const s=h(e,["queryBase"]);return n!==void 0&&s!=null&&g(n,["_url","models_url"],m5(t,s)),r}function L0e(t,e){const n={},r=h(e,["config"]);return r!=null&&D0e(t,r,n),n}function V0e(t,e){const n={},r=h(e,["config"]);return r!=null&&k0e(t,r,n),n}function U0e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["_self"]);if(i!=null){let a=g5(i);Array.isArray(a)&&(a=a.map(o=>zA(o))),g(e,["models"],a)}return e}function B0e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["_self"]);if(i!=null){let a=g5(i);Array.isArray(a)&&(a=a.map(o=>FA(o))),g(e,["models"],a)}return e}function z0e(t){const e={},n=h(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=h(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=h(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function zA(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=h(t,["description"]);i!=null&&g(e,["description"],i);const a=h(t,["version"]);a!=null&&g(e,["version"],a);const o=h(t,["_self"]);o!=null&&g(e,["tunedModelInfo"],n_e(o));const s=h(t,["inputTokenLimit"]);s!=null&&g(e,["inputTokenLimit"],s);const l=h(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const u=h(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const c=h(t,["temperature"]);c!=null&&g(e,["temperature"],c);const d=h(t,["maxTemperature"]);d!=null&&g(e,["maxTemperature"],d);const f=h(t,["topP"]);f!=null&&g(e,["topP"],f);const p=h(t,["topK"]);p!=null&&g(e,["topK"],p);const v=h(t,["thinking"]);return v!=null&&g(e,["thinking"],v),e}function FA(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=h(t,["description"]);i!=null&&g(e,["description"],i);const a=h(t,["versionId"]);a!=null&&g(e,["version"],a);const o=h(t,["deployedModels"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>Zye(f))),g(e,["endpoints"],d)}const s=h(t,["labels"]);s!=null&&g(e,["labels"],s);const l=h(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],r_e(l));const u=h(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const c=h(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["checkpoints"],d)}return e}function F0e(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],e0e(a));const o=h(t,["functionCall"]);o!=null&&g(e,["functionCall"],t0e(o));const s=h(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],wye(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function j0e(t){const e={},n=h(t,["productImage"]);return n!=null&&g(e,["image"],Ii(n)),e}function $0e(t,e){const n={},r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=h(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const a=h(t,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const o=h(t,["seed"]);e!==void 0&&o!=null&&g(e,["parameters","seed"],o);const s=h(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const l=h(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=h(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const c=h(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const d=h(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","compressionQuality"],d);const f=h(t,["enhancePrompt"]);e!==void 0&&f!=null&&g(e,["parameters","enhancePrompt"],f);const p=h(t,["labels"]);return e!==void 0&&p!=null&&g(e,["labels"],p),n}function q0e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["source"]);i!=null&&H0e(i,n);const a=h(e,["config"]);return a!=null&&$0e(a,n),n}function G0e(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>l_(i))),g(e,["generatedImages"],r)}return e}function H0e(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=h(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Ii(i));const a=h(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>j0e(s))),g(e,["instances[0]","productImages"],o)}return n}function K0e(t){const e={},n=h(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Ii(n));const r=h(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=h(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const a=h(t,["maskImageConfig"]);a!=null&&g(e,["maskImageConfig"],z0e(a));const o=h(t,["controlImageConfig"]);o!=null&&g(e,["controlImageConfig"],Mye(o));const s=h(t,["styleImageConfig"]);s!=null&&g(e,["styleImageConfig"],s);const l=h(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function A5(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=h(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function S5(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=h(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function W0e(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function Y0e(t){const e={},n=h(t,["image"]);return n!=null&&g(e,["image"],Ii(n)),e}function Q0e(t,e){const n={},r=h(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=h(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const a=h(t,["confidenceThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","confidenceThreshold"],a);const o=h(t,["maskDilation"]);e!==void 0&&o!=null&&g(e,["parameters","maskDilation"],o);const s=h(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&g(e,["parameters","binaryColorThreshold"],s);const l=h(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function J0e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["source"]);i!=null&&Z0e(i,n);const a=h(e,["config"]);return a!=null&&Q0e(a,n),n}function X0e(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>A0e(i))),g(e,["generatedMasks"],r)}return e}function Z0e(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=h(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Ii(i));const a=h(t,["scribbleImage"]);return e!==void 0&&a!=null&&g(e,["instances[0]","scribble"],Y0e(a)),n}function e_e(t){const e={},n=h(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=h(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],n0e(r)),e}function t_e(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=h(t,["functionDeclarations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const o=h(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],P0e(o));const s=h(t,["googleSearch"]);s!=null&&g(e,["googleSearch"],R0e(s));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function x5(t){const e={},n=h(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=h(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=h(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const a=h(t,["enterpriseWebSearch"]);a!=null&&g(e,["enterpriseWebSearch"],a);const o=h(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>r0e(f))),g(e,["functionDeclarations"],d)}const s=h(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],s);const l=h(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=h(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function n_e(t){const e={},n=h(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=h(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function r_e(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=h(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function i_e(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=h(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const a=h(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function a_e(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=h(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const a=h(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function o_e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","name"],ze(t,r));const i=h(e,["config"]);return i!=null&&i_e(i,n),n}function s_e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["config"]);return i!=null&&a_e(i,n),n}function l_e(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=h(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const a=h(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const o=h(t,["includeRaiReason"]);e!==void 0&&o!=null&&g(e,["parameters","includeRaiReason"],o);const s=h(t,["outputMimeType"]);e!==void 0&&s!=null&&g(e,["parameters","outputOptions","mimeType"],s);const l=h(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const u=h(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=h(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=h(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const f=h(t,["numberOfImages"]);e!==void 0&&f!=null&&g(e,["parameters","sampleCount"],f);const p=h(t,["mode"]);return e!==void 0&&p!=null&&g(e,["parameters","mode"],p),n}function u_e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=h(e,["image"]);i!=null&&g(n,["instances[0]","image"],Ii(i));const a=h(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=h(e,["config"]);return o!=null&&l_e(o,n),n}function c_e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>l_(a))),g(e,["generatedImages"],i)}return e}function d_e(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const r=h(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],As(r));const i=h(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function f_e(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],As(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function h_e(t){const e={},n=h(t,["image"]);n!=null&&g(e,["_self"],Ii(n));const r=h(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function p_e(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],u_(n));const r=h(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function m_e(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],Ii(n));const r=h(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function w5(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const r=h(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],As(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function I5(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=h(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],As(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g_e(t,e){const n={},r=h(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function v_e(t){const e={},n=h(t,["config"]);return n!=null&&g_e(n,e),e}function y_e(t,e){const n={},r=h(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function __e(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&y_e(r,e),e}function b_e(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function E_e(t,e){const n={},r=h(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),g(e,["customMetadata"],a)}const i=h(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function T_e(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const o=h(t,["response"]);return o!=null&&g(e,["response"],S_e(o)),e}function A_e(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=h(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=h(t,["config"]);return i!=null&&E_e(i,e),e}function S_e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&g(e,["parent"],r);const i=h(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function x_e(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function w_e(t){const e={},n=h(t,["config"]);return n!=null&&x_e(n,e),e}function I_e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),g(e,["fileSearchStores"],a)}return e}function C5(t,e){const n={},r=h(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=h(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const a=h(t,["customMetadata"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["customMetadata"],s)}const o=h(t,["chunkingConfig"]);return e!==void 0&&o!=null&&g(e,["chunkingConfig"],o),n}function C_e(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=h(t,["config"]);return r!=null&&C5(r,e),e}function P_e(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R_e="Content-Type",N_e="X-Server-Timeout",O_e="User-Agent",jA="x-goog-api-client",M_e="1.38.0",D_e=`google-genai-sdk/${M_e}`,k_e="v1beta1",L_e="v1beta";class V_e{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const s=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!s?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:k_e}else{if(!this.clientOptions.apiKey)throw new ph({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:L_e,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===LA.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,s]of Object.entries(e.queryParams))i.searchParams.append(o,String(s));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,o=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>a.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=o}return n&&n.extraBody!==null&&U_e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await qk(i),new VA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await qk(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return _i(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield me(i.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(c,{stream:!0});try{const v=JSON.parse(d);if("error"in v){const E=JSON.parse(JSON.stringify(v.error)),y=E.status,_=E.code,T=`got status: ${y}. ${JSON.stringify(v)}`;if(_>=400&&_<600)throw new ph({message:T,status:_})}}catch(v){if(v.name==="ApiError")throw v}o+=d;let f=-1,p=0;for(;;){f=-1,p=0;for(const y of l){const _=o.indexOf(y);_!==-1&&(f===-1||_<f)&&(f=_,p=y.length)}if(f===-1)break;const v=o.substring(0,f);o=o.substring(f+p);const E=v.trim();if(E.startsWith(s)){const y=E.substring(s.length).trim();try{const _=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield me(new VA(_))}catch(_){throw new Error(`exception parsing stream chunk ${y}. ${_}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=D_e+" "+this.clientOptions.userAgentExtra;return e[O_e]=n,e[jA]=n,e[R_e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(N_e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=re("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return a.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,o=await a.stat(n),s=String(o.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&C5(r,d);const f=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,o){var s;let l={};o?l=o:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function qk(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ph({message:i,status:n}):new Error(i)}}function U_e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const s=Object.assign({},a);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const u=o[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B_e="mcp_used/unknown";let z_e=!1;function P5(t){for(const e of t)if(F_e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return z_e}function R5(t){var e;const n=(e=t[jA])!==null&&e!==void 0?e:"";t[jA]=(n+` ${B_e}`).trimStart()}function F_e(t){return t!==null&&typeof t=="object"&&t instanceof jI}function j_e(t){return _i(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const o=yield me(n.listTools({cursor:i}));for(const s of o.tools)yield yield me(s),a++;if(!o.nextCursor)break;i=o.nextCursor}})}class jI{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new jI(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,bi(j_e(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;o.push(d);const f=d.name;if(a[f])throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a[f]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),_ge(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $_e(t,e,n){const r=new dge;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class q_e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=K_e(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(S=>{u=S}),d=e.callbacks,f=function(){u({})},p=this.apiClient,v={onopen:f,onmessage:S=>{$_e(p,d.onmessage,S)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(S){}},E=this.webSocketFactory.create(l,H_e(o),v);E.connect(),await c;const T={setup:{model:ze(this.apiClient,e.model)}};return E.send(JSON.stringify(T)),new G_e(E,this.apiClient)}}class G_e{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=gye(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=mye(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Mu.PLAY)}pause(){this.sendPlaybackControl(Mu.PAUSE)}stop(){this.sendPlaybackControl(Mu.STOP)}resetContext(){this.sendPlaybackControl(Mu.RESET_CONTEXT)}close(){this.conn.close()}}function H_e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function K_e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W_e="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Y_e(t,e,n){const r=new cge;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=_ye(a);Object.assign(r,o)}else Object.assign(r,a);e(r)}class Q_e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new q_e(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&P5(e.config.tools)&&R5(d);const f=ebe(d);if(this.apiClient.isVertexAI()){const R=this.apiClient.getProject(),M=this.apiClient.getLocation(),V=this.apiClient.getApiKey(),D=!!R&&!!M||!!V;this.apiClient.getCustomBaseUrl()&&!D?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f,c))}else{const R=this.apiClient.getApiKey();let M="BidiGenerateContent",V="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",V="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${M}?${V}=${R}`}let p=()=>{};const v=new Promise(R=>{p=R}),E=e.callbacks,y=function(){var R;(R=E==null?void 0:E.onopen)===null||R===void 0||R.call(E),p({})},_=this.apiClient,T={onopen:y,onmessage:R=>{Y_e(_,E.onmessage,R)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(R){}},S=this.webSocketFactory.create(c,Z_e(f),T);S.connect(),await v;let w=ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){const R=this.apiClient.getProject(),M=this.apiClient.getLocation();R&&M&&(w=`projects/${R}/locations/${M}/`+w)}let N={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Jv.AUDIO]}:e.config.responseModalities=[Jv.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[],I=[];for(const R of O)if(this.isCallableTool(R)){const M=R;I.push(await M.tool())}else I.push(R);I.length>0&&(e.config.tools=I);const P={model:w,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?N=pye(this.apiClient,P):N=hye(this.apiClient,P),delete N.config,S.send(JSON.stringify(N)),new X_e(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const J_e={turnComplete:!0};class X_e{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Yr(n.turns),e.isVertexAI()||(r=r.map(i=>s_(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(W_e)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},J_e),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:yye(e)}:n={realtimeInput:vye(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Z_e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ebe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gk=10;function Hk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Hu(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Hu(t){return"callTool"in t&&typeof t.callTool=="function"}function tbe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Hu(i)))!==null&&r!==void 0?r:!1}function Kk(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Hu(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function Wk(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nbe extends ro{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tbe(n)||Hk(n.config))return await this.generateContentInternal(l);const u=Kk(n);if(u.length>0){const E=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let c,d;const f=Yr(l.contents),p=(a=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:Gk;let v=0;for(;v<p&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const E=c.candidates[0].content,y=[];for(const _ of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Hu(_)){const S=await _.callTool(c.functionCalls);y.push(...S)}v++,d={role:"user",parts:y},l.contents=Yr(l.contents),l.contents.push(E),l.contents.push(d),Wk(l.config)&&(f.push(E),f.push(d))}return Wk(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async n=>{var r,i,a,o,s;if(this.maybeMoveToResponseJsonSchem(n),Hk(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=Kk(n);if(l.length>0){const d=l.map(f=>`tools[${f}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,c=(s=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:o.push(l);let s;return a?s={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new $l(qa.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,o,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(a=n.source)===null||a===void 0?void 0:a.video)===null||o===void 0)&&o.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async l=>Hu(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(s.config.tools=o,e.config&&e.config.tools&&P5(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),R5(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Hu(o)){const s=o,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,s)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Gk;let o=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return _i(this,arguments,function*(){for(var f,p,v,E,y,_;s<a;){o&&(s++,o=!1);const N=yield me(u.processParamsMaybeAddMcpUsage(d)),O=yield me(u.generateContentStreamInternal(N)),I=[],P=[];try{for(var T=!0,S=(p=void 0,bi(O)),w;w=yield me(S.next()),f=w.done,!f;T=!0){E=w.value,T=!1;const R=E;if(yield yield me(R),R.candidates&&(!((y=R.candidates[0])===null||y===void 0)&&y.content)){P.push(R.candidates[0].content);for(const M of(_=R.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(s<a&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(M.functionCall.name)){const V=yield me(c.get(M.functionCall.name).callTool([M.functionCall]));I.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(R){p={error:R}}finally{try{!T&&!f&&(v=S.return)&&(yield me(v.call(S)))}finally{if(p)throw p.error}}if(I.length>0){o=!0;const R=new jd;R.candidates=[{content:{role:"user",parts:I}}],yield yield me(R);const M=[];M.push(...P),M.push({role:"user",parts:I});const V=Yr(d.contents).concat(M);d.contents=V}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Fk(this.apiClient,e);return s=re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=$k(c),f=new jd;return Object.assign(f,d),f})}else{const u=zk(this.apiClient,e);return s=re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=jk(c),f=new jd;return Object.assign(f,d),f})}}async generateContentStreamInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Fk(this.apiClient,e);return s=re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(d){return _i(this,arguments,function*(){var f,p,v,E;try{for(var y=!0,_=bi(d),T;T=yield me(_.next()),f=T.done,!f;y=!0){E=T.value,y=!1;const S=E,w=$k(yield me(S.json()));w.sdkHttpResponse={headers:S.headers};const N=new jd;Object.assign(N,w),yield yield me(N)}}catch(S){p={error:S}}finally{try{!y&&!f&&(v=_.return)&&(yield me(v.call(_)))}finally{if(p)throw p.error}}})})}else{const u=zk(this.apiClient,e);return s=re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(d){return _i(this,arguments,function*(){var f,p,v,E;try{for(var y=!0,_=bi(d),T;T=yield me(_.next()),f=T.done,!f;y=!0){E=T.value,y=!1;const S=E,w=jk(yield me(S.json()));w.sdkHttpResponse={headers:S.headers};const N=new jd;Object.assign(N,w),yield yield me(N)}}catch(S){p={error:S}}finally{try{!y&&!f&&(v=_.return)&&(yield me(v.call(_)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Qye(this.apiClient,e);return s=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=Xye(c),f=new Ak;return Object.assign(f,d),f})}else{const u=Yye(this.apiClient,e);return s=re("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=Jye(c),f=new Ak;return Object.assign(f,d),f})}}async generateImagesInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=u0e(this.apiClient,e);return s=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=d0e(c),f=new Sk;return Object.assign(f,d),f})}else{const u=l0e(this.apiClient,e);return s=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=c0e(c),f=new Sk;return Object.assign(f,d),f})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=Gye(this.apiClient,e);return a=re("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Hye(l),c=new Zme;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=u_e(this.apiClient,e);return a=re("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=c_e(l),c=new ege;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=q0e(this.apiClient,e);return a=re("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=G0e(l),c=new tge;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=J0e(this.apiClient,e);return a=re("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=X0e(l),c=new nge;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=C0e(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>FA(c))}else{const u=I0e(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>zA(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=V0e(this.apiClient,e);return s=re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=B0e(c),f=new xk;return Object.assign(f,d),f})}else{const u=L0e(this.apiClient,e);return s=re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=U0e(c),f=new xk;return Object.assign(f,d),f})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=s_e(this.apiClient,e);return s=re("{model}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>FA(c))}else{const u=o_e(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>zA(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Fye(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=$ye(c),f=new wk;return Object.assign(f,d),f})}else{const u=zye(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=jye(c),f=new wk;return Object.assign(f,d),f})}}async countTokens(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Vye(this.apiClient,e);return s=re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=Bye(c),f=new Ik;return Object.assign(f,d),f})}else{const u=Lye(this.apiClient,e);return s=re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=Uye(c),f=new Ik;return Object.assign(f,d),f})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=Pye(this.apiClient,e);return a=re("{model}:computeTokens",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Rye(l),c=new rge;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=v0e(this.apiClient,e);return s=re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const d=m0e(c),f=new Xv;return Object.assign(f,d),f})}else{const u=g0e(this.apiClient,e);return s=re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>{const d=p0e(c),f=new Xv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rbe extends ro{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Kme(e);return s=re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else{const u=Hme(e);return s=re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=Bme(e);return a=re("{resourceName}:fetchPredictOperation",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ibe(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function abe(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>pbe(a))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function obe(t,e,n){const r={},i=h(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const a=h(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const o=h(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const s=h(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&g(n,["bidiGenerateContentSetup"],hbe(t,s));const l=h(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function sbe(t,e){const n={},r=h(e,["config"]);return r!=null&&g(n,["config"],obe(t,r,n)),n}function lbe(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ube(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cbe(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function dbe(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function fbe(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const a=h(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const o=h(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const s=h(t,["topK"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topK"],s);const l=h(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=h(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=h(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],FI(d));const f=h(t,["thinkingConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","thinkingConfig"],f);const p=h(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],p);const v=h(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],abe(Vn(v)));const E=h(t,["tools"]);if(e!==void 0&&E!=null){let O=id(E);Array.isArray(O)&&(O=O.map(I=>gbe(rd(I)))),g(e,["setup","tools"],O)}const y=h(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],mbe(y));const _=h(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const T=h(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&g(e,["setup","outputAudioTranscription"],T);const S=h(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const w=h(t,["contextWindowCompression"]);e!==void 0&&w!=null&&g(e,["setup","contextWindowCompression"],w);const N=h(t,["proactivity"]);if(e!==void 0&&N!=null&&g(e,["setup","proactivity"],N),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function hbe(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["setup","model"],ze(t,r));const i=h(e,["config"]);return i!=null&&g(n,["config"],fbe(i,n)),n}function pbe(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],lbe(a));const o=h(t,["functionCall"]);o!=null&&g(e,["functionCall"],ube(o));const s=h(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],ibe(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function mbe(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gbe(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=h(t,["functionDeclarations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const o=h(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],cbe(o));const s=h(t,["googleSearch"]);s!=null&&g(e,["googleSearch"],dbe(s));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vbe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function ybe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=vbe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const l=[];a&&l.push(a),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class _be extends ro{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=sbe(this.apiClient,e);a=re("auth_tokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const l=ybe(s,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bbe(t,e){const n={},r=h(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function Ebe(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&bbe(r,e),e}function Tbe(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function Abe(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Sbe(t){const e={},n=h(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=h(t,["config"]);return r!=null&&Abe(r,e),e}function xbe(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),g(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wbe extends ro{constructor(e){super(),this.apiClient=e,this.list=async n=>new $l(qa.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Tbe(e);return a=re("{name}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ebe(e);i=re("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Sbe(e);return a=re("{parent}/documents",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=xbe(l),c=new ige;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ibe extends ro{constructor(e,n=new wbe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new $l(qa.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=v_e(e);return a=re("fileSearchStores",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=b_e(e);return a=re("{name}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=__e(e);i=re("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=w_e(e);return a=re("fileSearchStores",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=I_e(l),c=new age;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=C_e(e);return a=re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=P_e(l),c=new oge;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=A_e(e);return a=re("{file_search_store_name}:importFile",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=T_e(l),c=new LI;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let N5=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return N5=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Cbe=()=>N5();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $A(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const qA=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ni extends Error{}class Qn extends ni{constructor(e,n,r,i){super(`${Qn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new c_({message:r,cause:qA(n)});const a=n;return e===400?new M5(e,a,r,i):e===401?new D5(e,a,r,i):e===403?new k5(e,a,r,i):e===404?new L5(e,a,r,i):e===409?new V5(e,a,r,i):e===422?new U5(e,a,r,i):e===429?new B5(e,a,r,i):e>=500?new z5(e,a,r,i):new Qn(e,a,r,i)}}class GA extends Qn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class c_ extends Qn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class O5 extends c_{constructor({message:e}={}){super({message:e??"Request timed out."})}}class M5 extends Qn{}class D5 extends Qn{}class k5 extends Qn{}class L5 extends Qn{}class V5 extends Qn{}class U5 extends Qn{}class B5 extends Qn{}class z5 extends Qn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pbe=/^[a-z][a-z0-9+.-]*:/i,Rbe=t=>Pbe.test(t);let HA=t=>(HA=Array.isArray,HA(t));const Nbe=HA;let Obe=Nbe;const Yk=Obe;function Mbe(t){if(!t)return!0;for(const e in t)return!1;return!0}function Dbe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const kbe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ni(`${t} must be an integer`);if(e<0)throw new ni(`${t} must be a positive integer`);return e},Lbe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vbe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const du="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ube(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Bbe=()=>{var t,e,n,r,i;const a=Ube();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":du,"X-Stainless-OS":Jk(Deno.build.os),"X-Stainless-Arch":Qk(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":du,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":du,"X-Stainless-OS":Jk((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Qk((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=zbe();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":du,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":du,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function zbe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${a}.${o}`}}}return null}const Qk=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Jk=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Sm;const Fbe=()=>Sm??(Sm=Bbe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jbe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function F5(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function $be(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return F5({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function j5(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function qbe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gbe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $5=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function dE(t,e,n){return $5(),new File(t,e??"unknown_file",n)}function Hbe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Kbe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q5=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Wbe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&q5(t),Ybe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Qbe(t,e,n){if($5(),t=await t,Wbe(t))return t instanceof File?t:dE([await t.arrayBuffer()],t.name);if(Ybe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),dE(await KA(i),e,n)}const r=await KA(t);if(e||(e=Hbe(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return dE(r,e,n)}async function KA(t){var e,n,r,i,a;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(q5(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(Kbe(t))try{for(var s=!0,l=bi(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const c=i;o.push(...await KA(c))}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${Jbe(t)}`)}return o}function Jbe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G5{constructor(e){this._client=e}}G5._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H5(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Xk=Object.freeze(Object.create(null)),Xbe=(t=H5)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],o=n.reduce((c,d,f)=>{var p,v,E;/[?#]/.test(d)&&(i=!0);const y=r[f];let _=(i?encodeURIComponent:t)(""+y);return f!==r.length&&(y==null||typeof y=="object"&&y.toString===((E=Object.getPrototypeOf((v=Object.getPrototypeOf((p=y.hasOwnProperty)!==null&&p!==void 0?p:Xk))!==null&&v!==void 0?v:Xk))===null||E===void 0?void 0:E.toString))&&(_=y+"",a.push({start:c.length+d.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),c+d+(f===r.length?"":_)},""),s=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((c,d)=>c.start-d.start),a.length>0){let c=0;const d=a.reduce((f,p)=>{const v=" ".repeat(p.start-c),E="^".repeat(p.length);return c=p.start+p.length,f+v+E},"");throw new ni(`Path parameters result in path with invalid segments:
${a.map(f=>f.error).join(`
`)}
${o}
${d}`)}return o},xm=Xbe(H5);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K5 extends G5{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=ey(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new ni("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new ni("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xm`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(xm`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(xm`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:o=this._client.apiVersion}=a,s=ey(a,["api_version"]);return this._client.get(xm`/${o}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}K5._key=Object.freeze(["interactions"]);class W5 extends K5{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zbe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let wm;function $I(t){let e;return(wm??(e=new globalThis.TextEncoder,wm=e.encode.bind(e)))(t)}let Im;function Zk(t){let e;return(Im??(e=new globalThis.TextDecoder,Im=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d_{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?$I(e):e;this.buffer=Zbe([this.buffer,n]);const r=[];let i;for(;(i=eEe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Zk(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=Zk(this.buffer.subarray(0,a));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}d_.NEWLINE_CHARS=new Set([`
`,"\r"]);d_.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eEe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function tEe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ty={off:0,error:200,warn:300,info:400,debug:500},e2=(t,e,n)=>{if(t){if(Dbe(ty,t))return t;jn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ty))}`)}};function rf(){}function Cm(t,e,n){return!e||ty[t]>ty[n]?rf:e[t].bind(e)}const nEe={error:rf,warn:rf,info:rf,debug:rf};let t2=new WeakMap;function jn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return nEe;const i=t2.get(n);if(i&&i[0]===r)return i[1];const a={error:Cm("error",n,r),warn:Cm("warn",n,r),info:Cm("info",n,r),debug:Cm("debug",n,r)};return t2.set(n,[r,a]),a}const js=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Du{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?jn(r):console;function o(){return _i(this,arguments,function*(){var l,u,c,d;if(i)throw new ni("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var p=!0,v=bi(rEe(e,n)),E;E=yield me(v.next()),l=E.done,!l;p=!0){d=E.value,p=!1;const y=d;if(!f)if(y.data.startsWith("[DONE]")){f=!0;continue}else try{yield yield me(JSON.parse(y.data))}catch(_){throw a.error("Could not parse message into JSON:",y.data),a.error("From chunk:",y.raw),_}}}catch(y){u={error:y}}finally{try{!p&&!l&&(c=v.return)&&(yield me(c.call(v)))}finally{if(u)throw u.error}}f=!0}catch(y){if($A(y))return yield me(void 0);throw y}finally{f||n.abort()}})}return new Du(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return _i(this,arguments,function*(){var l,u,c,d;const f=new d_,p=j5(e);try{for(var v=!0,E=bi(p),y;y=yield me(E.next()),l=y.done,!l;v=!0){d=y.value,v=!1;const _=d;for(const T of f.decode(_))yield yield me(T)}}catch(_){u={error:_}}finally{try{!v&&!l&&(c=E.return)&&(yield me(c.call(E)))}finally{if(u)throw u.error}}for(const _ of f.flush())yield yield me(_)})}function o(){return _i(this,arguments,function*(){var l,u,c,d;if(i)throw new ni("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var p=!0,v=bi(a()),E;E=yield me(v.next()),l=E.done,!l;p=!0){d=E.value,p=!1;const y=d;f||y&&(yield yield me(JSON.parse(y)))}}catch(y){u={error:y}}finally{try{!p&&!l&&(c=v.return)&&(yield me(c.call(v)))}finally{if(u)throw u.error}}f=!0}catch(y){if($A(y))return yield me(void 0);throw y}finally{f||n.abort()}})}return new Du(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const o=r.next();e.push(o),n.push(o)}return a.shift()}});return[new Du(()=>i(e),this.controller,this.client),new Du(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return F5({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const o=$I(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function rEe(t,e){return _i(this,arguments,function*(){var r,i,a,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ni("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ni("Attempted to iterate over a response with no body");const s=new aEe,l=new d_,u=j5(t.body);try{for(var c=!0,d=bi(iEe(u)),f;f=yield me(d.next()),r=f.done,!r;c=!0){o=f.value,c=!1;const p=o;for(const v of l.decode(p)){const E=s.decode(v);E&&(yield yield me(E))}}}catch(p){i={error:p}}finally{try{!c&&!r&&(a=d.return)&&(yield me(a.call(d)))}finally{if(i)throw i.error}}for(const p of l.flush()){const v=s.decode(p);v&&(yield yield me(v))}})}function iEe(t){return _i(this,arguments,function*(){var n,r,i,a;let o=new Uint8Array;try{for(var s=!0,l=bi(t),u;u=yield me(l.next()),n=u.done,!n;s=!0){a=u.value,s=!1;const c=a;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?$I(c):c;let f=new Uint8Array(o.length+d.length);f.set(o),f.set(d,o.length),o=f;let p;for(;(p=tEe(o))!==-1;)yield yield me(o.slice(0,p)),o=o.slice(p)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield me(i.call(l)))}finally{if(r)throw r.error}}o.length>0&&(yield yield me(o))})}class aEe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=oEe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function oEe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sEe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,o=await(async()=>{var s;if(e.options.stream)return jn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Du.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return jn(t).debug(`[${r}] response parsed`,js({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-a})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qI extends Promise{constructor(e,n,r=sEe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new qI(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y5=Symbol("brand.privateNullableHeaders");function*lEe(t){if(!t)return;if(Y5 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Yk(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=Yk(r[1])?r[1]:[r[1]];let o=!1;for(const s of a)s!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,s])}}const $d=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,o]of lEe(r)){const s=a.toLowerCase();i.has(s)||(e.delete(a),i.add(s)),o===null?(e.delete(a),n.add(s)):(e.append(a,o),n.delete(s))}}return{[Y5]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fE=t=>{var e,n,r,i,a,o;if(typeof globalThis.process<"u")return(r=(n=(e=Mme)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Q5;class f_{constructor(e){var n,r,i,a,o,s,l,{baseURL:u=fE("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=fE("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,f=ey(e,["baseURL","apiKey","apiVersion"]);const p=Object.assign(Object.assign({apiKey:c,apiVersion:d},f),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=p.baseURL,this.timeout=(r=p.timeout)!==null&&r!==void 0?r:f_.DEFAULT_TIMEOUT,this.logger=(i=p.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(o=(a=e2(p.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:e2(fE("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:v,this.fetchOptions=p.fetchOptions,this.maxRetries=(s=p.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=p.fetch)!==null&&l!==void 0?l:jbe(),this.encoder=Gbe,this._options=p,this.apiKey=c,this.apiVersion=d,this.clientAdapter=p.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=$d([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return $d([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return $d([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ni(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${du}`}defaultIdempotencyKey(){return`stainless-node-retry-${Cbe()}`}makeStatusError(e,n,r,i){return Qn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=Rbe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return Mbe(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new qI(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,o;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:d}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(jn(this).debug(`[${f}] sending request`,js({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((a=s.signal)===null||a===void 0)&&a.aborted)throw new GA;const E=new AbortController,y=await this.fetchWithTimeout(c,u,d,E).catch(qA),_=Date.now();if(y instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((o=s.signal)===null||o===void 0)&&o.aborted)throw new GA;const w=$A(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return jn(this).info(`[${f}] connection ${w?"timed out":"failed"} - ${S}`),jn(this).debug(`[${f}] connection ${w?"timed out":"failed"} (${S})`,js({retryOfRequestLogID:r,url:c,durationMs:_-v,message:y.message})),this.retryRequest(s,n,r??f);throw jn(this).info(`[${f}] connection ${w?"timed out":"failed"} - error; no more retries left`),jn(this).debug(`[${f}] connection ${w?"timed out":"failed"} (error; no more retries left)`,js({retryOfRequestLogID:r,url:c,durationMs:_-v,message:y.message})),w?new O5:new c_({cause:y})}const T=`[${f}${p}] ${u.method} ${c} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${_-v}ms`;if(!y.ok){const S=await this.shouldRetry(y);if(n&&S){const R=`retrying, ${n} attempts remaining`;return await qbe(y.body),jn(this).info(`${T} - ${R}`),jn(this).debug(`[${f}] response error (${R})`,js({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:_-v})),this.retryRequest(s,n,r??f,y.headers)}const w=S?"error; no more retries left":"error; not retryable";jn(this).info(`${T} - ${w}`);const N=await y.text().catch(R=>qA(R).message),O=Lbe(N),I=O?void 0:N;throw jn(this).debug(`[${f}] response error (${w})`,js({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:I,durationMs:Date.now()-v})),this.makeStatusError(y.status,O,I,y.headers)}return jn(this).info(T),jn(this).debug(`[${f}] response start`,js({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:_-v})),{response:y,options:s,controller:E,requestLogID:f,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:o,method:s}=a,l=ey(a,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);s&&(d.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let o;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(o=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!o){const u=parseFloat(l);Number.isNaN(u)?o=Date.parse(l)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Vbe(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,o=Math.min(.5*Math.pow(2,a),8),s=1-Math.random()*.25;return o*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const o=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:c}=o,d=this.buildURL(l,u,c);"timeout"in o&&kbe("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:f,body:p}=this.buildBody({options:o}),v=await this.buildHeaders({options:e,method:s,bodyHeaders:f,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:v},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"}),p&&{body:p}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=o.fetchOptions)!==null&&a!==void 0?a:{}),url:d,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let s=$d([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Fbe()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=$d([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:$be(e)}:this.encoder({body:e,headers:r})}}f_.DEFAULT_TIMEOUT=6e4;class gn extends f_{constructor(){super(...arguments),this.interactions=new W5(this)}}Q5=gn;gn.GeminiNextGenAPIClient=Q5;gn.GeminiNextGenAPIClientError=ni;gn.APIError=Qn;gn.APIConnectionError=c_;gn.APIConnectionTimeoutError=O5;gn.APIUserAbortError=GA;gn.NotFoundError=L5;gn.ConflictError=V5;gn.RateLimitError=B5;gn.BadRequestError=M5;gn.AuthenticationError=D5;gn.InternalServerError=z5;gn.PermissionDeniedError=k5;gn.UnprocessableEntityError=U5;gn.toFile=Qbe;gn.Interactions=W5;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uEe(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function cEe(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function dEe(t,e){const n={},r=h(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function fEe(t,e){const n={},r=h(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function hEe(t,e,n){const r={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=h(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=h(t,["epochCount"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","epochCount"],a);const o=h(t,["learningRateMultiplier"]);if(o!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=h(t,["batchSize"]);e!==void 0&&s!=null&&g(e,["tuningTask","hyperparameters","batchSize"],s);const l=h(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function pEe(t,e,n){const r={};let i=h(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const p=h(t,["validationDataset"]);e!==void 0&&p!=null&&g(e,["supervisedTuningSpec"],n2(p))}else if(i==="PREFERENCE_TUNING"){const p=h(t,["validationDataset"]);e!==void 0&&p!=null&&g(e,["preferenceOptimizationSpec"],n2(p))}const a=h(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&g(e,["tunedModelDisplayName"],a);const o=h(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);let s=h(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const p=h(t,["epochCount"]);e!==void 0&&p!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],p)}else if(s==="PREFERENCE_TUNING"){const p=h(t,["epochCount"]);e!==void 0&&p!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],p)}let l=h(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const p=h(t,["learningRateMultiplier"]);e!==void 0&&p!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],p)}else if(l==="PREFERENCE_TUNING"){const p=h(t,["learningRateMultiplier"]);e!==void 0&&p!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],p)}let u=h(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const p=h(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p)}else if(u==="PREFERENCE_TUNING"){const p=h(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],p)}let c=h(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const p=h(t,["adapterSize"]);e!==void 0&&p!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p)}else if(c==="PREFERENCE_TUNING"){const p=h(t,["adapterSize"]);e!==void 0&&p!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],p)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=h(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const f=h(t,["beta"]);return e!==void 0&&f!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],f),r}function mEe(t,e){const n={},r=h(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=h(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const a=h(t,["trainingDataset"]);a!=null&&wEe(a);const o=h(t,["config"]);return o!=null&&hEe(o,n),n}function gEe(t,e){const n={},r=h(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=h(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const a=h(t,["trainingDataset"]);a!=null&&IEe(a,n,e);const o=h(t,["config"]);return o!=null&&pEe(o,n,e),n}function vEe(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function yEe(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function _Ee(t,e,n){const r={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const a=h(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const o=h(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function bEe(t,e,n){const r={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const a=h(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const o=h(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function EEe(t,e){const n={},r=h(t,["config"]);return r!=null&&_Ee(r,n),n}function TEe(t,e){const n={},r=h(t,["config"]);return r!=null&&bEe(r,n),n}function AEe(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const a=h(t,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>J5(s))),g(n,["tuningJobs"],o)}return n}function SEe(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const a=h(t,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>WA(s))),g(n,["tuningJobs"],o)}return n}function xEe(t,e){const n={},r=h(t,["name"]);r!=null&&g(n,["model"],r);const i=h(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function wEe(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=h(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),g(n,["examples","examples"],i)}return n}function IEe(t,e,n){const r={};let i=h(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=h(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=h(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let a=h(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=h(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=h(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function J5(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["name"]);i!=null&&g(n,["name"],i);const a=h(t,["state"]);a!=null&&g(n,["state"],h5(a));const o=h(t,["createTime"]);o!=null&&g(n,["createTime"],o);const s=h(t,["tuningTask","startTime"]);s!=null&&g(n,["startTime"],s);const l=h(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const u=h(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=h(t,["description"]);c!=null&&g(n,["description"],c);const d=h(t,["baseModel"]);d!=null&&g(n,["baseModel"],d);const f=h(t,["_self"]);return f!=null&&g(n,["tunedModel"],xEe(f)),n}function WA(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["name"]);i!=null&&g(n,["name"],i);const a=h(t,["state"]);a!=null&&g(n,["state"],h5(a));const o=h(t,["createTime"]);o!=null&&g(n,["createTime"],o);const s=h(t,["startTime"]);s!=null&&g(n,["startTime"],s);const l=h(t,["endTime"]);l!=null&&g(n,["endTime"],l);const u=h(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=h(t,["error"]);c!=null&&g(n,["error"],c);const d=h(t,["description"]);d!=null&&g(n,["description"],d);const f=h(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const p=h(t,["tunedModel"]);p!=null&&g(n,["tunedModel"],p);const v=h(t,["preTunedModel"]);v!=null&&g(n,["preTunedModel"],v);const E=h(t,["supervisedTuningSpec"]);E!=null&&g(n,["supervisedTuningSpec"],E);const y=h(t,["preferenceOptimizationSpec"]);y!=null&&g(n,["preferenceOptimizationSpec"],y);const _=h(t,["tuningDataStats"]);_!=null&&g(n,["tuningDataStats"],_);const T=h(t,["encryptionSpec"]);T!=null&&g(n,["encryptionSpec"],T);const S=h(t,["partnerModelTuningSpec"]);S!=null&&g(n,["partnerModelTuningSpec"],S);const w=h(t,["customBaseModel"]);w!=null&&g(n,["customBaseModel"],w);const N=h(t,["experiment"]);N!=null&&g(n,["experiment"],N);const O=h(t,["labels"]);O!=null&&g(n,["labels"],O);const I=h(t,["outputUri"]);I!=null&&g(n,["outputUri"],I);const P=h(t,["pipelineJob"]);P!=null&&g(n,["pipelineJob"],P);const R=h(t,["serviceAccount"]);R!=null&&g(n,["serviceAccount"],R);const M=h(t,["tunedModelDisplayName"]);M!=null&&g(n,["tunedModelDisplayName"],M);const V=h(t,["veoTuningSpec"]);return V!=null&&g(n,["veoTuningSpec"],V),n}function CEe(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["name"]);i!=null&&g(n,["name"],i);const a=h(t,["metadata"]);a!=null&&g(n,["metadata"],a);const o=h(t,["done"]);o!=null&&g(n,["done"],o);const s=h(t,["error"]);return s!=null&&g(n,["error"],s),n}function n2(t,e){const n={},r=h(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=h(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PEe extends ro{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $l(qa.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:kA.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=yEe(e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>WA(c))}else{const u=vEe(e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>J5(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=TEe(e);return s=re("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=SEe(c),f=new Ck;return Object.assign(f,d),f})}else{const u=EEe(e);return s=re("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=AEe(c),f=new Ck;return Object.assign(f,d),f})}}async cancel(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=cEe(e);return s=re("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=fEe(c),f=new Pk;return Object.assign(f,d),f})}else{const u=uEe(e);return s=re("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{const d=dEe(c),f=new Pk;return Object.assign(f,d),f})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=gEe(e,e);return a=re("tuningJobs",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>WA(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mEe(e);return a=re("tunedModels",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>CEe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class REe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const NEe=1024*1024*8,OEe=3,MEe=1e3,DEe=2,ny="x-goog-upload-status";async function kEe(t,e,n){var r;const i=await X5(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[ny])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function LEe(t,e,n){var r;const i=await X5(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[ny])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=s5(a),s=new VI;return Object.assign(s,o),s}async function X5(t,e,n){var r,i;let a=0,o=0,s=new VA(new Response),l="upload";for(a=t.size;o<a;){const u=Math.min(NEe,a-o),c=t.slice(o,o+u);o+u>=a&&(l+=", finalize");let d=0,f=MEe;for(;d<OEe&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[ny]));)d++,await UEe(f),f=f*DEe;if(o+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[ny])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function VEe(t){return{size:t.size,type:t.type}}function UEe(t){return new Promise(e=>setTimeout(e,t))}class BEe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kEe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await LEe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await VEe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zEe{create(e,n,r){return new FEe(e,n,r)}}class FEe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r2="x-goog-api-key";class jEe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(r2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(r2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $Ee="gl-node/";class Z5{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new gn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Vme(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new jEe(this.apiKey);this.apiClient=new V_e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:$Ee+"web",uploader:new BEe,downloader:new REe}),this.models=new nbe(this.apiClient),this.live=new Q_e(this.apiClient,i,new zEe),this.batches=new fve(this.apiClient),this.chats=new Kve(this.models,this.apiClient),this.caches=new qve(this.apiClient),this.files=new rye(this.apiClient),this.operations=new rbe(this.apiClient),this.authTokens=new _be(this.apiClient),this.tunings=new PEe(this.apiClient),this.fileSearchStores=new Ibe(this.apiClient)}}const e6=async(t,e)=>{var n,r,i,a,o;try{const s=new Z5({apiKey:void 0}),l=`
      Voc  um especialista em anlise regulatria e mercadolgica do Banco Central do Brasil (BACEN) para o setor de consrcios.
      Analise os dados fornecidos considerando as Circulares (ex: Circular 3.679/14) e os documentos padres (2080, 4010).

      Contexto: ${t}
      Dados do App (JSON): ${JSON.stringify(e)}

      Foque sua anlise em:
      1. Variao de adeses vs. desistncias (Churn da carteira).
      2. Correlao com Selic e inflao (IPCA) para os Segmentos 1 a 6.
      3. Oportunidades regionais baseadas nos "Dados por UF".

      Use o Google Search para validar o cenrio macroeconmico atual.
    `,u=await s.models.generateContent({model:"gemini-3-pro-preview",contents:l,config:{tools:[{googleSearch:{}}]}}),c=((o=(a=(i=(r=(n=u.candidates)==null?void 0:n[0])==null?void 0:r.groundingMetadata)==null?void 0:i.groundingChunks)==null?void 0:a.filter(d=>d.web))==null?void 0:o.map(d=>{var f,p;return{uri:((f=d.web)==null?void 0:f.uri)||"",title:((p=d.web)==null?void 0:p.title)||"Fonte externa"}}))||[];return{text:u.text||"No foi possvel gerar insights no momento.",sources:c.length>0?c:void 0}}catch(s){return console.error("Erro ao gerar insights:",s),{text:"Ocorreu um erro ao processar a anlise inteligente."}}},qEe=async(t,e)=>{try{const n=new Z5({apiKey:void 0}),r=`
      Analise a srie histrica do segmento oficial BACEN: ${t}.
      Projete a demanda para os prximos 12 meses.
      
      Considere:
      - Sazonalidade tpica deste segmento.
      - Impacto da poltica monetria atual no crdito vs. consrcio.
      - Dados Histricos: ${JSON.stringify(e.slice(-8))}
      
      Retorne estritamente um JSON no formato:
      {
        "prediction": "Frase curta da tendncia (ex: Crescimento Moderado em Veculos Pesados)",
        "rationale": "Explicao tcnica baseada em fundamentos econmicos."
      }
    `,a=(await n.models.generateContent({model:"gemini-3-pro-preview",contents:r,config:{responseMimeType:"application/json"}})).text;if(!a)throw new Error("Resposta vazia");return JSON.parse(a)}catch(n){return console.error("Erro na predio:",n),{prediction:"Tendncia de Estabilidade",rationale:"No foi possvel realizar a predio avanada por limitaes tcnicas temporrias."}}},GI=({value:t,onChange:e,options:n=["1q","1y","all"]})=>{const r={"1q":"ltimo Trimestre","1y":"ltimo Ano",all:"Todo o Perodo"};return x.jsxs("div",{className:"flex items-center gap-2 bg-white border border-slate-200 rounded-lg px-3 py-2 shadow-sm",children:[x.jsx(FK,{size:16,className:"text-slate-500"}),x.jsx("select",{value:t,onChange:i=>e(i.target.value),className:"bg-transparent text-sm font-medium text-slate-700 focus:outline-none cursor-pointer",children:n.map(i=>x.jsx("option",{value:i,children:r[i]},i))})]})},GEe=({data:t})=>{const e=[...t.realEstateGroups,...t.movableGroups].slice(0,10);return x.jsxs("div",{className:"mt-8 p-4 bg-red-50 border-2 border-red-200 rounded-xl overflow-x-auto",children:[x.jsx("h3",{className:"text-red-700 font-bold mb-2 flex items-center gap-2",children:" MODO DEBUG: Inspeo de Dados Brutos (Primeiros 10 Registros de Grupos)"}),x.jsx("p",{className:"text-sm text-red-600 mb-4",children:'Se "Saldo (Calc)" estiver 0, verifique se "Vl. Mdio" e "Ativas" foram importados corretamente. Se esta tabela estiver vazia, faa o upload dos arquivos novamente.'}),x.jsxs("table",{className:"w-full text-xs text-left border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-red-100/50",children:[x.jsx("th",{className:"p-2 border-b border-red-200",children:"Perodo"}),x.jsx("th",{className:"p-2 border-b border-red-200",children:"Admin"}),x.jsx("th",{className:"p-2 border-b border-red-200",children:"Seg."}),x.jsx("th",{className:"p-2 border-b border-red-200 text-right",children:"Cotas Ativas"}),x.jsx("th",{className:"p-2 border-b border-red-200 text-right",children:"Vl. Mdio (R$)"}),x.jsx("th",{className:"p-2 border-b border-red-200 text-right font-bold",children:"Saldo (Calc)"}),x.jsx("th",{className:"p-2 border-b border-red-200 text-right text-gray-400",children:"Saldo (Bruto/FB)"})]})}),x.jsxs("tbody",{children:[e.map((n,r)=>{var i;return x.jsxs("tr",{className:"border-b border-red-100 hover:bg-red-50/80",children:[x.jsx("td",{className:"p-2",children:n.period}),x.jsx("td",{className:"p-2 font-medium",children:n.adminName}),x.jsx("td",{className:"p-2",children:n.segment}),x.jsx("td",{className:"p-2 text-right",children:n.activeQuotas.toLocaleString()}),x.jsx("td",{className:"p-2 text-right",children:(i=n.valorMedioBem)==null?void 0:i.toLocaleString()}),x.jsx("td",{className:"p-2 text-right font-bold text-red-700",children:(n.balance||0).toLocaleString()}),x.jsx("td",{className:"p-2 text-right text-gray-500",children:(n.revenue||0).toLocaleString()})]},r)}),e.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:7,className:"p-8 text-center text-red-400 font-bold",children:"NENHUM DADO DE GRUPO ENCONTRADO NO BANCO DE DADOS."})})]})]})]})};var Jt=(t=>(t[t.IMOVEIS=1]="IMOVEIS",t[t.VEICULOS_PESADOS=2]="VEICULOS_PESADOS",t[t.VEICULOS_LEVES=3]="VEICULOS_LEVES",t[t.MOTOCICLETAS=4]="MOTOCICLETAS",t[t.OUTROS_BENS=5]="OUTROS_BENS",t[t.SERVICOS=6]="SERVICOS",t))(Jt||{});const HEe={[Jt.IMOVEIS]:"#2563eb",[Jt.VEICULOS_LEVES]:"#10b981",[Jt.VEICULOS_PESADOS]:"#f59e0b",[Jt.MOTOCICLETAS]:"#ef4444",[Jt.SERVICOS]:"#8b5cf6",[Jt.OUTROS_BENS]:"#64748b"},KEe=({data:t})=>{const[e,n]=b.useState(null),[r,i]=b.useState(!1),[a,o]=b.useState("1y"),s=b.useMemo(()=>{if(!t)return[];const v=new Set;t.detailedGroups.forEach(_=>v.add(`${_.codigo_segmento}-${_.data_base}`));const E=t.consolidated.map(_=>({period:_.data_base,segment:String(_.codigo_segmento),volume:0,activeQuotas:_.indicadores_calculados.cotas_ativas_total,defaultQuotas:_.metricas_brutas.quantidade_de_cotas_ativas_contempladas_inadimplentes+_.metricas_brutas.quantidade_de_cotas_ativas_nao_contempladas_inadimplentes,dropouts:_.metricas_brutas.quantidade_de_cotas_excluidas,quitadas:_.metricas_brutas.quantidade_de_cotas_ativas_quitadas,taxaAdmin:_.metricas_brutas.taxa_de_administracao,contemplated:_.metricas_brutas.quantidade_de_cotas_ativas_contempladas_no_mes,source:"segment"})),y=t.detailedGroups.map(_=>{const T=_.metricas_cotas.ativas_em_dia+_.metricas_cotas.contempladas_inadimplentes+_.metricas_cotas.nao_contempladas_inadimplentes,S=T*_.caracteristicas.valor_medio_do_bem;return{period:_.data_base,segment:String(_.codigo_segmento),volume:S,activeQuotas:T,defaultQuotas:_.metricas_cotas.contempladas_inadimplentes+_.metricas_cotas.nao_contempladas_inadimplentes,dropouts:_.metricas_cotas.excluidas,quitadas:_.metricas_cotas.quitadas,taxaAdmin:_.caracteristicas.taxa_de_administracao,contemplated:_.metricas_cotas.contempladas_no_mes,source:"group"}});return[...E,...y]},[t]),l=t&&s.length>0,u=b.useMemo(()=>{if(!s.length)return[];const v=s.reduce((E,y)=>{const _=y.period;return E[_]||(E[_]={name:_,volume:0,participants:0,defaultAmount:0,quitadas:0,dropouts:0}),E[_].volume+=y.volume,E[_].participants+=y.activeQuotas,E[_].defaultAmount+=y.defaultQuotas,E[_].quitadas+=y.quitadas,E[_].dropouts+=y.dropouts,E},{});return Object.values(v).sort((E,y)=>E.name.localeCompare(y.name))},[s]),c=b.useMemo(()=>{switch(a){case"1q":return u.slice(-3);case"1y":return u.slice(-12);case"all":return u;default:return u}},[a,u]),d=b.useMemo(()=>{var _;const v=new Map,E=(_=u[u.length-1])==null?void 0:_.name;return s.filter(T=>T.period===E).forEach(T=>{const S=T.segment||"Outros";v.has(S)||v.set(S,{name:S,volume:0,quotas:0,defaults:0,dropouts:0,feesSum:0,records:0});const w=v.get(S);w.volume+=T.volume,w.quotas+=T.activeQuotas,w.defaults+=T.defaultQuotas,w.dropouts+=T.dropouts,T.taxaAdmin>0&&(w.feesSum+=T.taxaAdmin,w.records+=1)}),Array.from(v.values()).map(T=>({...T,avgFee:T.records>0?T.feesSum/T.records:0,defaultRate:T.quotas>0?T.defaults/T.quotas*100:0,dropoutRate:T.quotas>0?T.dropouts/T.quotas*100:0})).sort((T,S)=>S.volume-T.volume)},[s,u]),f=b.useMemo(()=>{const v=c[c.length-1]||{name:"",volume:0,participants:0,defaultAmount:0,quitadas:0,dropouts:0},E=c.length>1?c[c.length-2]:null,y=v.participants,_=y>0?v.defaultAmount/y*100:0,T=y+v.dropouts,S=T>0?v.dropouts/T*100:0,w=y>0?v.quitadas/y*100:0,N=s.filter(D=>D.volume>0&&D.period===v.name),O=N.reduce((D,k)=>D+k.volume,0),I=N.reduce((D,k)=>D+k.activeQuotas,0),P=I>0?O/I:0,R=E&&E.volume>0?(v.volume-E.volume)/E.volume*100:0,M=E&&E.participants>0?E.defaultAmount/E.participants*100:0,V=_-M;return{balanceVolume:v.volume,activeQuotas:y,avgTicket:P,defaultRate:_,defaultTrend:V,volumeTrend:R,dropoutRate:S,quitationRate:w}},[c,s]);if(!l)return x.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] space-y-4 text-center",children:[x.jsx("div",{className:"p-6 bg-slate-100 rounded-full",children:x.jsx(Ix,{size:48,className:"text-slate-400"})}),x.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Nenhum dado encontrado"}),x.jsx("p",{className:"text-slate-500 max-w-md",children:"Importe os arquivos CSV do BACEN (Segmentos, Imveis ou Mveis) para visualizar os indicadores de mercado."})]});const p=async()=>{var y,_;i(!0);const v=`
      Cenrio Atual de Mercado (Consrcio):
      - Volume Financeiro Total: R$ ${(f.balanceVolume/1e6).toFixed(1)} Milhes
      - Cotas Ativas: ${f.activeQuotas.toLocaleString()}
      - Segmento Lder (Volume): ${(y=d[0])==null?void 0:y.name} (R$ ${(((_=d[0])==null?void 0:_.volume)/1e6).toFixed(1)}M)
      - Inadimplncia Mdia: ${f.defaultRate.toFixed(2)}%
      - Taxa de Quitao: ${f.quitationRate.toFixed(2)}%
      - Rotatividade (Excluso): ${f.dropoutRate.toFixed(2)}%
      - Ticket Mdio: R$ ${f.avgTicket.toFixed(0)}
    `,E=await e6(v,{history:c.slice(-6)});n(E),i(!1)};return x.jsxs("div",{className:"space-y-6 pb-12",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Painel Executivo"}),x.jsx("p",{className:"text-slate-500",children:"Indicadores financeiros e operacionais do Sistema de Consrcios."})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[x.jsx(GI,{value:a,onChange:o}),x.jsxs("button",{onClick:p,disabled:r,className:"flex items-center gap-2 bg-slate-900 hover:bg-slate-800 text-white px-6 py-3 rounded-xl font-bold shadow-lg transition-all disabled:opacity-50",children:[r?x.jsx(Kf,{className:"animate-spin",size:18}):x.jsx(Qg,{size:18}),"Insights IA"]})]})]}),e&&x.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 rounded-2xl p-6 shadow-sm animate-fade-in relative",children:x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("div",{className:"p-3 bg-blue-100 rounded-lg text-blue-600",children:x.jsx(Qg,{size:24})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-blue-900 font-bold text-lg mb-2",children:"Anlise de Inteligncia de Mercado"}),x.jsx("div",{className:"prose prose-sm text-slate-700 max-w-none",children:e.text})]})]})}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsx(Xl,{title:"Volume Financeiro (Carteira)",value:`R$ ${(f.balanceVolume/1e6).toFixed(1)}M`,trend:Number(f.volumeTrend.toFixed(1)),trendLabel:"vs. anterior",color:"blue"}),x.jsx(Xl,{title:"Cotas Ativas",value:f.activeQuotas.toLocaleString(),color:"emerald"}),x.jsx(Xl,{title:"Ticket Mdio",value:`R$ ${f.avgTicket.toLocaleString(void 0,{maximumFractionDigits:0})}`,color:"violet"}),x.jsx(Xl,{title:"Taxa de Inadimplncia",value:`${f.defaultRate.toFixed(2)}%`,trend:Number(f.defaultTrend.toFixed(2)),trendLabel:"vs. anterior",inverseTrend:!0,color:"rose"}),x.jsx(Xl,{title:"Taxa de Quitao",value:`${f.quitationRate.toFixed(2)}%`,color:"indigo"}),x.jsx(Xl,{title:"Taxa de Excluso (Rotatividade)",value:`${f.dropoutRate.toFixed(2)}%`,color:"orange",inverseTrend:!0})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[x.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[x.jsx(tz,{className:"text-slate-400",size:20}),"Composio por Segmento"]}),x.jsx("div",{className:"h-[300px]",children:x.jsx(Kr,{width:"100%",height:"100%",children:x.jsxs(o_,{children:[x.jsx(hp,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"volume",children:d.map((v,E)=>x.jsx(Ai,{fill:HEe[v.name]||"#94a3b8"},`cell-${E}`))}),x.jsx(Wr,{formatter:v=>`R$ ${(v/1e6).toFixed(1)}M`}),x.jsx(os,{})]})})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[x.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[x.jsx(ez,{className:"text-slate-400",size:20}),"Evoluo do Volume"]}),x.jsx("div",{className:"h-[300px]",children:x.jsx(Kr,{width:"100%",height:"100%",children:x.jsxs(Ome,{data:c,children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"colorVolume",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.1}),x.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]})}),x.jsx(ls,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),x.jsx(us,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),x.jsx(cs,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},tickFormatter:v=>`R$${(v/1e6).toFixed(0)}M`}),x.jsx(Wr,{formatter:v=>[`R$ ${(v/1e6).toFixed(2)}M`,"Volume"],contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),x.jsx(L3,{type:"monotone",dataKey:"volume",stroke:"#2563eb",strokeWidth:3,fillOpacity:1,fill:"url(#colorVolume)"})]})})})]})]}),x.jsx(GEe,{data:t})]})},i2=["#0f172a","#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],WEe=({data:t})=>{const[e,n]=b.useState("ranking"),[r,i]=b.useState(""),[a,o]=b.useState(null),[s,l]=b.useState(!1);b.useEffect(()=>{if(r&&e==="detail"){const y=localStorage.getItem(`admin_analysis_${r}`);o(y)}else o(null)},[r,e]);const u=b.useMemo(()=>[...t.administrators].sort((y,_)=>y.name.localeCompare(_.name)),[t.administrators]),c=(y,_)=>{var ge;const T=y.replace(/\D/g,""),S=t.detailedGroups.filter(j=>j.cnpj_raiz===T),w=new Set;S.forEach(j=>w.add(`${j.codigo_segmento}-${j.data_base}`));const N=t.consolidated.filter(j=>j.cnpj_raiz===T).filter(j=>!w.has(`${j.codigo_segmento}-${j.data_base}`)),O=S.map(j=>{const $=j.metricas_cotas.ativas_em_dia+j.metricas_cotas.contempladas_inadimplentes+j.metricas_cotas.nao_contempladas_inadimplentes,et=$*j.caracteristicas.valor_medio_do_bem;return{period:j.data_base,activeQuotas:$,balance:et,newSales:0,dropouts:j.metricas_cotas.excluidas,defaultCount:j.metricas_cotas.contempladas_inadimplentes+j.metricas_cotas.nao_contempladas_inadimplentes,taxaAdmin:j.caracteristicas.taxa_de_administracao,prazo:j.caracteristicas.prazo_do_grupo_em_meses,activeGroups:1,segment:String(j.codigo_segmento)}}),I=N.map(j=>({period:j.data_base,activeQuotas:j.indicadores_calculados.cotas_ativas_total,balance:0,newSales:j.metricas_brutas.quantidade_de_cotas_comercializadas_no_mes,dropouts:j.metricas_brutas.quantidade_de_cotas_excluidas,defaultCount:j.metricas_brutas.quantidade_de_cotas_ativas_contempladas_inadimplentes+j.metricas_brutas.quantidade_de_cotas_ativas_nao_contempladas_inadimplentes,taxaAdmin:j.metricas_brutas.taxa_de_administracao,prazo:0,activeGroups:j.metricas_brutas.quantidade_de_grupos_ativos,segment:String(j.codigo_segmento)})),P=[...O,...I];if(P.length===0)return null;const R=P.reduce((j,$)=>j+$.activeQuotas,0),M=P.reduce((j,$)=>j+$.balance,0),V=t.consolidated.filter(j=>j.cnpj_raiz===T).reduce((j,$)=>j+$.metricas_brutas.quantidade_de_cotas_comercializadas_no_mes,0),D=P.reduce((j,$)=>j+$.dropouts,0),k=P.reduce((j,$)=>j+$.defaultCount,0),Q=new Map;P.forEach(j=>{const $=j.segment||"Outros";Q.has($)||Q.set($,{name:$,active:0,balance:0,defaultCount:0,fees:[],dropouts:0});const et=Q.get($);et.active+=j.activeQuotas,et.balance+=j.balance,et.defaultCount+=j.defaultCount,et.dropouts+=j.dropouts,j.taxaAdmin>0&&et.fees.push(j.taxaAdmin)});const ae=Array.from(Q.values()).map(j=>({name:j.name,active:j.active,balance:j.balance,defaultRate:j.active>0?j.defaultCount/j.active*100:0,dropoutRate:j.active>0?j.dropouts/j.active*100:0,avgFee:j.fees.length>0?j.fees.reduce(($,et)=>$+et,0)/j.fees.length:0})).sort((j,$)=>$.balance-j.balance);let H=0,W=0,J=0,te=0,ce=0;P.forEach(j=>{const $=j.balance||1;H+=j.taxaAdmin*$,j.prazo>0&&(W+=j.prazo*$),J+=$,j.activeGroups>0&&j.newSales>0&&(te+=j.newSales/j.activeGroups,ce++)});const Ge=J>0?H/J:0,ke=J>0?W/J:0,Le=ce>0?te/ce:0,ct=R>0?D/R*100:0,$t=R>0?k/R*100:0,ea=R>0?M/R:0,Lt=ae.map(j=>({name:j.name,value:j.balance})),Ci=new Map;P.forEach(j=>{Ci.has(j.period)||Ci.set(j.period,{period:j.period,balance:0,active:0});const $=Ci.get(j.period);$.balance+=j.balance,$.active+=j.activeQuotas});const Y=Array.from(Ci.values()).sort((j,$)=>j.period.localeCompare($.period)).slice(-12);return{name:_,cnpj:y,totalActive:R,totalBalance:M,totalSales:V,avgAdminFee:Ge,avgTerm:ke,salesPerGroup:Le,churnRate:ct,defaultRate:$t,avgTicket:ea,segmentsData:Lt,segmentBreakdown:ae,history:Y,mainSegment:((ge=ae[0])==null?void 0:ge.name)||"Diversos"}},d=b.useMemo(()=>{if(!r)return null;const y=t.administrators.find(_=>_.cnpj===r);return y?c(y.cnpj,y.name):null},[r,t]),f=b.useMemo(()=>t.administrators.map(y=>c(y.cnpj,y.name)).filter(y=>y!==null&&y.totalActive>0).sort((y,_)=>_.totalBalance-y.totalBalance),[t.administrators,t.segments,t.realEstateGroups,t.movableGroups]),p=async()=>{if(!d)return;l(!0);const y=`
      Relatrio Adm: ${d.name}.
      - Saldo Carteira: R$ ${(d.totalBalance/1e6).toFixed(1)}M
      - Prazo Mdio Ponderado: ${d.avgTerm.toFixed(0)} meses
      - Vendas/Grupo: ${d.salesPerGroup.toFixed(1)} (Eficincia)
      - Taxa Adm: ${d.avgAdminFee.toFixed(2)}%
      - Inadimplncia: ${d.defaultRate.toFixed(2)}%
    `,_=await e6(y,{});o(_.text),localStorage.setItem(`admin_analysis_${r}`,_.text),l(!1)},v=()=>x.jsxs("div",{className:"animate-fade-in bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[x.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2",children:[x.jsx(P7,{className:"text-amber-500",size:20}),"Ranking Geral de Administradoras"]}),x.jsx("p",{className:"text-sm text-slate-500",children:"Consolidado Financeiro (Volume de Crdito e Cotas)"})]}),x.jsxs("div",{className:"text-xs font-medium bg-white border border-slate-200 px-3 py-1 rounded-full text-slate-600",children:[f.length," players listados"]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left",children:[x.jsx("thead",{className:"bg-slate-50 text-xs uppercase font-semibold text-slate-500",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-4 text-center w-16",children:"Rank"}),x.jsx("th",{className:"px-6 py-4",children:"Administradora"}),x.jsx("th",{className:"px-6 py-4 text-right",children:"Volume Carteira (R$)"}),x.jsx("th",{className:"px-6 py-4 text-right",children:"Cotas Ativas"}),x.jsx("th",{className:"px-6 py-4 text-right",children:"Ticket Mdio"}),x.jsx("th",{className:"px-6 py-4 text-center",children:"Inadimplncia"}),x.jsx("th",{className:"px-6 py-4",children:"Principal Segmento"}),x.jsx("th",{className:"px-6 py-4"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-100",children:[f.map((y,_)=>x.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[x.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-400",children:_+1}),x.jsx("td",{className:"px-6 py-4 font-bold text-slate-800",children:y.name}),x.jsxs("td",{className:"px-6 py-4 text-right font-medium text-blue-700 bg-blue-50/30",children:["R$ ",(y.totalBalance/1e6).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})," M"]}),x.jsx("td",{className:"px-6 py-4 text-right text-slate-700",children:y.totalActive.toLocaleString()}),x.jsxs("td",{className:"px-6 py-4 text-right text-slate-500",children:["R$ ",y.avgTicket.toLocaleString(void 0,{maximumFractionDigits:0})]}),x.jsx("td",{className:"px-6 py-4 text-center",children:x.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${y.defaultRate>5?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:[y.defaultRate.toFixed(2),"%"]})}),x.jsx("td",{className:"px-6 py-4 text-xs text-slate-500 uppercase font-medium",children:y.mainSegment}),x.jsx("td",{className:"px-6 py-4 text-right",children:x.jsx("button",{onClick:()=>{i(y.cnpj),n("detail")},className:"text-blue-600 hover:text-blue-800 p-2 rounded-full hover:bg-blue-50 opacity-0 group-hover:opacity-100 transition-all",title:"Ver Detalhes",children:x.jsx(KK,{size:18})})})]},y.cnpj)),f.length===0&&x.jsx("tr",{children:x.jsxs("td",{colSpan:8,className:"text-center py-12 text-slate-400",children:[x.jsx("p",{className:"mb-2",children:"Nenhum dado financeiro encontrado."}),x.jsx("p",{className:"text-xs",children:'Certifique-se de importar arquivos de "Bens Imveis" ou "Mveis" que contenham o campo "Valor Mdio do Bem".'})]})})]})]})})]}),E=()=>d?x.jsxs("div",{className:"space-y-6 animate-fade-in",children:[x.jsx("button",{onClick:()=>n("ranking"),className:"flex items-center gap-1 text-sm font-medium text-slate-500 hover:text-slate-800 mb-2",children:" Voltar para Ranking"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:x.jsx(O7,{size:40})}),x.jsx("p",{className:"text-sm text-slate-500 font-medium uppercase tracking-wider",children:"Saldo de Carteira"}),x.jsxs("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:["R$ ",(d.totalBalance/1e6).toFixed(1)," M"]}),x.jsxs("div",{className:"mt-2 text-xs flex items-center gap-1 text-slate-400 font-medium",children:[x.jsx(oz,{size:12})," ",d.totalActive.toLocaleString()," cotas ativas"]})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:x.jsx(ZK,{size:40})}),x.jsx("p",{className:"text-sm text-slate-500 font-medium uppercase tracking-wider",children:"Prazo Mdio"}),x.jsxs("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:[d.avgTerm.toFixed(0)," meses"]}),x.jsx("div",{className:"mt-2 text-xs text-slate-400",children:"Ponderado por volume"})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:x.jsx(tz,{size:40})}),x.jsx("p",{className:"text-sm text-slate-500 font-medium uppercase tracking-wider",children:"Taxa Adm. Mdia"}),x.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:[d.avgAdminFee.toFixed(2),"%"]}),x.jsx("div",{className:"mt-2 text-xs text-slate-400",children:"Ponderada"})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:x.jsx(az,{size:40})}),x.jsx("p",{className:"text-sm text-slate-500 font-medium uppercase tracking-wider",children:"Inadimplncia"}),x.jsxs("p",{className:`text-2xl font-bold mt-1 ${d.defaultRate>5?"text-red-600":"text-emerald-600"}`,children:[d.defaultRate.toFixed(2),"%"]}),x.jsx("div",{className:"mt-2 text-xs text-slate-400",children:"Sobre total ativo"})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[x.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50 flex items-center gap-2",children:[x.jsx(c7,{size:18,className:"text-slate-500"}),x.jsx("h3",{className:"font-bold text-slate-800",children:"Deep Dive: Performance por Segmento"})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left",children:[x.jsx("thead",{className:"bg-slate-50 text-xs uppercase font-semibold text-slate-500",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3",children:"Segmento"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Volume (R$)"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Cotas"}),x.jsx("th",{className:"px-6 py-3 text-center",children:"Taxa Adm"}),x.jsx("th",{className:"px-6 py-3 text-center",children:"Inadimplncia"}),x.jsx("th",{className:"px-6 py-3 text-center",children:"Evaso"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-100",children:[d.segmentBreakdown.map(y=>x.jsxs("tr",{className:"hover:bg-slate-50",children:[x.jsx("td",{className:"px-6 py-3 font-medium text-slate-900",children:y.name}),x.jsx("td",{className:"px-6 py-3 text-right text-blue-700 font-bold bg-blue-50/20",children:y.balance>0?`R$ ${(y.balance/1e6).toFixed(1)}M`:"-"}),x.jsx("td",{className:"px-6 py-3 text-right",children:y.active.toLocaleString()}),x.jsx("td",{className:"px-6 py-3 text-center",children:y.avgFee>0?`${y.avgFee.toFixed(2)}%`:"-"}),x.jsx("td",{className:"px-6 py-3 text-center",children:x.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${y.defaultRate>5?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:[y.defaultRate.toFixed(2),"%"]})}),x.jsxs("td",{className:"px-6 py-3 text-center text-slate-500",children:[y.dropoutRate.toFixed(2),"%"]})]},y.name)),d.segmentBreakdown.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:6,className:"text-center py-4 text-slate-400",children:"Sem dados segmentados."})})]})]})})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Mix Financeiro"}),x.jsx("div",{className:"h-64",children:d.segmentsData.length>0?x.jsx(Kr,{width:"100%",height:"100%",children:x.jsxs(o_,{children:[x.jsx(hp,{data:d.segmentsData,innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",children:d.segmentsData.map((y,_)=>x.jsx(Ai,{fill:i2[_%i2.length]},`cell-${_}`))}),x.jsx(Wr,{formatter:y=>`R$ ${(y/1e6).toFixed(1)}M`}),x.jsx(os,{verticalAlign:"bottom"})]})}):x.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:"Sem dados financeiros"})})]}),x.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Evoluo do Saldo"}),x.jsx("div",{className:"h-64",children:x.jsx(Kr,{width:"100%",height:"100%",children:x.jsxs(a5,{data:d.history,children:[x.jsx(ls,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),x.jsx(us,{dataKey:"period",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#94a3b8"}}),x.jsx(cs,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#94a3b8"},tickFormatter:y=>`R$${(y/1e6).toFixed(0)}M`}),x.jsx(Wr,{formatter:y=>[`R$ ${(y/1e6).toFixed(2)}M`,"Saldo"]}),x.jsx(PI,{type:"monotone",dataKey:"balance",stroke:"#3b82f6",strokeWidth:3,dot:{r:4}})]})})})]})]})]}):null;return x.jsxs("div",{className:"space-y-6 pb-12",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Anlise por Administradora"}),x.jsx("p",{className:"text-slate-500",children:"Raio-X financeiro e operacional consolidado."})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[e==="detail"&&x.jsxs("div",{className:"relative w-full md:min-w-[300px]",children:[x.jsx(rz,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),x.jsxs("select",{value:r,onChange:y=>i(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 shadow-sm appearance-none outline-none transition-all",children:[x.jsx("option",{value:"",children:"Trocar Administradora..."}),u.map(y=>x.jsx("option",{value:y.cnpj,children:y.name},y.cnpj))]})]}),e==="detail"&&d&&x.jsxs("button",{onClick:p,disabled:s,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-3 rounded-xl font-bold shadow-lg transition-all disabled:opacity-50 whitespace-nowrap",children:[s?x.jsx(Kf,{className:"animate-spin",size:18}):x.jsx(Qg,{size:18}),"Anlise AI"]})]})]}),a&&e==="detail"&&x.jsx("div",{className:"bg-indigo-50 border border-indigo-100 rounded-2xl p-6 shadow-sm animate-fade-in relative",children:x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg text-indigo-600",children:x.jsx(Qg,{size:24})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-indigo-900 font-bold text-lg mb-2",children:"Insight Estratgico Gemini"}),x.jsx("div",{className:"prose prose-sm text-slate-700 max-w-none",children:a})]})]})}),e==="ranking"?v():E()]})},YEe=({data:t})=>{const[e,n]=b.useState(""),r=b.useMemo(()=>{const o=new Set(t.regional.map(s=>{var l;return(l=s.adminName)==null?void 0:l.trim()}));return t.administrators.filter(s=>{var l;return o.has((l=s.name)==null?void 0:l.trim())}).sort((s,l)=>s.name.localeCompare(l.name))},[t]),i=b.useMemo(()=>{const o=new Map;return t.regional.forEach(s=>{var c;const l=(c=s.adminName)==null?void 0:c.trim();if(!l)return;o.has(l)||o.set(l,{name:l,adhesions:0,dropouts:0,totalActive:0});const u=o.get(l);u.adhesions+=s.newAdhesionsQuarter||0,u.dropouts+=s.dropoutNonContemplated||0,u.totalActive+=s.totalActive||0}),Array.from(o.values()).filter(s=>s.totalActive>500).map(s=>({name:s.name,churnRate:s.totalActive>0?s.dropouts/s.totalActive*100:0,growthRate:s.totalActive>0?s.adhesions/s.totalActive*100:0,replacementRatio:s.dropouts>0?s.adhesions/s.dropouts:0,size:s.totalActive}))},[t.regional]),a=b.useMemo(()=>{if(!e)return null;const o=t.administrators.find(T=>T.cnpj===e);if(!o)return null;const s=t.regional.filter(T=>{var S,w;return((S=T.adminName)==null?void 0:S.trim())===((w=o.name)==null?void 0:w.trim())}),l=s.reduce((T,S)=>T+(S.newAdhesionsQuarter||0),0),u=s.reduce((T,S)=>T+(S.dropoutNonContemplated||0),0),c=s.reduce((T,S)=>T+(S.totalActive||0),0),d=s.reduce((T,S)=>T+(S.activeContemplatedBid||0),0),f=s.reduce((T,S)=>T+(S.activeContemplatedLottery||0),0),p=u>0?l/u:0,v=Math.max(0,100-u/(c||1)*400),E=Math.min(100,p*50),y=v*.6+E*.4,_=s.reduce((T,S)=>{const w=S.region||"Outra",N=T.find(O=>O.region===w);return N?(N.adhesions+=S.newAdhesionsQuarter||0,N.dropouts+=S.dropoutNonContemplated||0):T.push({region:w,adhesions:S.newAdhesionsQuarter||0,dropouts:S.dropoutNonContemplated||0}),T},[]);return{name:o.name,totalActive:c,replacementRatio:p,churnRate:c>0?u/c*100:0,contemplationMix:[{name:"Sorteio",value:f,color:"#10b981"},{name:"Lance",value:d,color:"#3b82f6"}],regionChartData:_,healthScore:y}},[e,t]);return x.jsxs("div",{className:"space-y-8 animate-fade-in",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[x.jsx(ZB,{className:"text-blue-600"}),"Performance Operacional"]}),x.jsx("p",{className:"text-slate-500",children:"Benchmark de eficincia, churn e sade da carteira das administradoras."})]}),x.jsxs("div",{className:"w-full md:w-80 relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:x.jsx(rz,{className:"h-5 w-5 text-slate-400"})}),x.jsxs("select",{value:e,onChange:o=>n(o.target.value),className:"block w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 shadow-sm appearance-none cursor-pointer",children:[x.jsx("option",{value:"",children:"Viso Geral do Mercado (Scatter)"}),r.map(o=>x.jsx("option",{value:o.cnpj,children:o.name},o.cnpj))]})]})]}),e?a&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-100 shadow-sm relative overflow-hidden",children:[x.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 rounded-bl-full opacity-10 ${a.healthScore>60?"bg-green-500":"bg-red-500"}`}),x.jsx("h3",{className:"text-sm font-medium text-slate-500 mb-1",children:"Score Operacional"}),x.jsx("div",{className:"text-3xl font-bold text-slate-900",children:a.healthScore.toFixed(0)}),x.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"ndice de sade da carteira"})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-100 shadow-sm",children:[x.jsxs("h3",{className:"text-sm font-medium text-slate-500 mb-1 flex items-center gap-1",children:[x.jsx(NK,{size:14})," Reposio"]}),x.jsxs("div",{className:`text-3xl font-bold ${a.replacementRatio>=1?"text-emerald-600":"text-red-600"}`,children:[a.replacementRatio.toFixed(2),"x"]}),x.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Novas vendas vs. Sadas"})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-100 shadow-sm",children:[x.jsxs("h3",{className:"text-sm font-medium text-slate-500 mb-1 flex items-center gap-1",children:[x.jsx(x7,{size:14})," Churn Rate"]}),x.jsxs("div",{className:"text-3xl font-bold text-amber-600",children:[a.churnRate.toFixed(2),"%"]}),x.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Desistncia sobre ativo"})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-100 shadow-sm",children:[x.jsxs("h3",{className:"text-sm font-medium text-slate-500 mb-1 flex items-center gap-1",children:[x.jsx(v7,{size:14})," Mix Contemplao"]}),x.jsxs("div",{className:"text-lg font-bold text-blue-600 mt-1",children:[(a.contemplationMix[1].value/(a.contemplationMix[0].value+a.contemplationMix[1].value||1)*100).toFixed(0),"% Lance"]}),x.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"vs. Sorteio"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"font-bold text-slate-800 mb-6",children:"Fluxo Lquido por Regio"}),x.jsx("div",{className:"h-80 w-full",children:x.jsx(Kr,{width:"100%",height:"100%",children:x.jsxs(MI,{data:a.regionChartData,layout:"vertical",margin:{left:20},children:[x.jsx(ls,{strokeDasharray:"3 3",horizontal:!1}),x.jsx(us,{type:"number"}),x.jsx(cs,{dataKey:"region",type:"category",width:100,tick:{fontSize:12}}),x.jsx(Wr,{cursor:{fill:"transparent"}}),x.jsx(os,{}),x.jsx(hh,{dataKey:"adhesions",name:"Entradas (Vendas)",fill:"#10b981",barSize:20,radius:[0,4,4,0]}),x.jsx(hh,{dataKey:"dropouts",name:"Sadas (Desistncias)",fill:"#ef4444",barSize:20,radius:[0,4,4,0]})]})})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"font-bold text-slate-800 mb-2",children:"Perfil de Contemplao"}),x.jsx("div",{className:"h-64 w-full relative",children:x.jsx(Kr,{width:"100%",height:"100%",children:x.jsxs(o_,{children:[x.jsx(hp,{data:a.contemplationMix,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:a.contemplationMix.map((o,s)=>x.jsx(Ai,{fill:o.color},`cell-${s}`))}),x.jsx(Wr,{}),x.jsx(os,{verticalAlign:"bottom"})]})})})]})]})]}):x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("div",{className:"mb-6 flex justify-between items-end",children:x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Matriz de Eficincia (Vendas vs Evaso)"}),x.jsx("p",{className:"text-sm text-slate-500",children:"Comparativo de todas as administradoras importadas."})]})}),x.jsx("div",{className:"h-[500px] w-full",children:x.jsx(Kr,{width:"100%",height:"100%",children:x.jsxs(Rme,{margin:{top:20,right:20,bottom:20,left:20},children:[x.jsx(ls,{strokeDasharray:"3 3"}),x.jsx(us,{type:"number",dataKey:"churnRate",name:"Churn %",unit:"%",label:{value:"Taxa de Evaso (Churn)",position:"bottom",offset:0}}),x.jsx(cs,{type:"number",dataKey:"growthRate",name:"Vendas %",unit:"%",label:{value:"Taxa de Novas Vendas",angle:-90,position:"left"}}),x.jsx(q3,{type:"number",dataKey:"size",range:[50,400],name:"Cotas Ativas"}),x.jsx(Wr,{cursor:{strokeDasharray:"3 3"},content:({active:o,payload:s})=>{if(o&&s&&s.length){const l=s[0].payload;return x.jsxs("div",{className:"bg-white p-3 border border-slate-200 shadow-xl rounded-lg text-xs z-50",children:[x.jsx("p",{className:"font-bold text-slate-900 mb-1",children:l.name}),x.jsxs("p",{className:"text-emerald-600",children:["Vendas: ",l.growthRate.toFixed(2),"%"]}),x.jsxs("p",{className:"text-red-500",children:["Evaso: ",l.churnRate.toFixed(2),"%"]}),x.jsxs("p",{className:"text-slate-500 mt-1",children:["Cotas Ativas: ",l.size.toLocaleString()]})]})}return null}}),x.jsx(j3,{name:"Administradoras",data:i,fill:"#3b82f6",children:i.map((o,s)=>x.jsx(Ai,{fill:o.growthRate>o.churnRate?"#10b981":"#ef4444",fillOpacity:.6},`cell-${s}`))})]})})}),x.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-xs text-slate-500",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full opacity-60"})," Carteira em Expanso (Vendas ",">"," Churn)"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full opacity-60"})," Carteira em Contrao (Churn ",">"," Vendas)"]})]})]})]})},QEe=({data:t})=>{var s;const[e,n]=b.useState("1y"),r=b.useMemo(()=>[...t.consolidated.map(l=>({adminName:l.cnpj_raiz,volume:0,activeQuotas:l.indicadores_calculados.cotas_ativas_total})),...t.detailedGroups.map(l=>{const u=l.metricas_cotas.ativas_em_dia+l.metricas_cotas.contempladas_inadimplentes+l.metricas_cotas.nao_contempladas_inadimplentes;return{adminName:l.cnpj_raiz,volume:u*l.caracteristicas.valor_medio_do_bem,activeQuotas:u}})],[t]),i=b.useMemo(()=>{if(r.length===0)return[];const l=r,u=new Map;let c=0;return l.forEach(f=>{var E;const p=((E=f.adminName)==null?void 0:E.trim())||"Outros";u.has(p)||u.set(p,{volume:0,active:0});const v=u.get(p);v.volume+=f.volume,v.active+=f.activeQuotas,c+=f.volume}),Array.from(u.entries()).map(([f,p])=>({name:f,volume:p.volume,share:c>0?p.volume/c*100:0})).sort((f,p)=>p.volume-f.volume)},[r,e]),a=b.useMemo(()=>{const l=i.map(d=>d.share),u=l.slice(0,4).reduce((d,f)=>d+f,0),c=l.reduce((d,f)=>d+f*f,0);return{cr4:u,hhi:c}},[i]),o=b.useMemo(()=>{var p;if(i.length<2)return[];const l=i[0],u=i.slice(0,5),c=u.reduce((v,E)=>v+E.share,0)/u.length,d=u.reduce((v,E)=>v+E.volume,0)/u.length,f=l.volume||1;return[{subject:"Market Share",A:l.share,B:c,fullMark:100},{subject:"Volume (Relativo)",A:100,B:d/f*100,fullMark:100},{subject:"Dominncia",A:l.share/(((p=i[1])==null?void 0:p.share)||1)*50,B:50,fullMark:100}]},[i]);return i.length===0?x.jsx("div",{className:"p-8 text-center text-slate-400",children:"Dados insuficientes para anlise competitiva."}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Posicionamento Competitivo"}),x.jsx("p",{className:"text-slate-500",children:"Benchmark real baseado no volume de crdito importado."})]}),x.jsx(GI,{value:e,onChange:n,options:["all"]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:"Lder vs. Mdia do Top 5"}),x.jsx("p",{className:"text-xs text-slate-400 mb-6",children:"Comparativo de performance relativa"}),x.jsx("div",{className:"h-80 w-full",children:x.jsx(Kr,{width:"100%",height:"100%",children:x.jsxs(Cme,{cx:"50%",cy:"50%",outerRadius:"80%",data:o,children:[x.jsx(Y$,{stroke:"#e2e8f0"}),x.jsx(n3,{dataKey:"subject",tick:{fill:"#64748b",fontSize:11}}),x.jsx(t3,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),x.jsx(AA,{name:(s=i[0])==null?void 0:s.name,dataKey:"A",stroke:"#4f46e5",fill:"#4f46e5",fillOpacity:.4}),x.jsx(AA,{name:"Mdia Top 5",dataKey:"B",stroke:"#94a3b8",fill:"#94a3b8",fillOpacity:.2}),x.jsx(os,{iconType:"circle",wrapperStyle:{paddingTop:"20px"}}),x.jsx(Wr,{})]})})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:"Market Share Real (%)"}),x.jsx("p",{className:"text-xs text-slate-400 mb-6",children:"Baseado no Volume de Crdito Total"}),x.jsx("div",{className:"h-80 w-full",children:x.jsx(Kr,{width:"100%",height:"100%",children:x.jsxs(MI,{data:i.slice(0,8),layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[x.jsx(ls,{strokeDasharray:"3 3",horizontal:!0,vertical:!1}),x.jsx(us,{type:"number",hide:!0}),x.jsx(cs,{dataKey:"name",type:"category",width:120,tick:{fontSize:11,fill:"#475569"}}),x.jsx(Wr,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"8px",border:"none"},formatter:l=>[`${l.toFixed(2)}%`,"Share"]}),x.jsx(hh,{dataKey:"share",name:"Market Share %",fill:"#3b82f6",radius:[0,4,4,0],barSize:20})]})})})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[x.jsx("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50",children:x.jsx("h3",{className:"font-semibold text-slate-800",children:"Indicadores de Concentrao de Mercado"})}),x.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"ndice HHI (Herfindahl)"}),x.jsx("div",{className:"text-3xl font-bold text-slate-800",children:a.hhi.toFixed(0)}),x.jsx("div",{className:`text-xs mt-1 font-bold ${a.hhi>2500?"text-red-500":a.hhi>1500?"text-amber-500":"text-green-500"}`,children:a.hhi>2500?"Alta Concentrao":a.hhi>1500?"Moderada":"Baixa Concentrao"})]}),x.jsxs("div",{className:"text-center border-l border-r border-slate-100",children:[x.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"CR4 (Share Top 4)"}),x.jsxs("div",{className:"text-3xl font-bold text-slate-800",children:[a.cr4.toFixed(1),"%"]}),x.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Poder de mercado dos 4 maiores players"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Players Analisados"}),x.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i.length}),x.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Administradoras na base"})]})]})]})]})},JEe={[Jt.IMOVEIS]:"#2563eb",[Jt.VEICULOS_LEVES]:"#10b981",[Jt.VEICULOS_PESADOS]:"#f59e0b",[Jt.MOTOCICLETAS]:"#ef4444",[Jt.SERVICOS]:"#8b5cf6",[Jt.OUTROS_BENS]:"#64748b"},XEe=({data:t})=>{const[e,n]=b.useState(""),[r,i]=b.useState(null),[a,o]=b.useState(!1),[s,l]=b.useState("all"),[u,c]=b.useState("volume"),d=b.useMemo(()=>{const y=S=>{let w=0;if(u==="volume"){const N=S.valorMedioBem||0;w=S.activeQuotas||S.cotasAtivas||0,w=w*N}else u==="quotas"?w=S.activeQuotas||S.cotasAtivas||0:w=S.valorMedioBem||0;return{period:S.period,segment:S.segment,value:w}},_=[...t.segments.map(S=>y(S)),...t.realEstateGroups.map(S=>y(S)),...t.movableGroups.map(S=>y(S))].filter(S=>S.value>0);if(_.length===0)return[];const T=new Map;return _.forEach(S=>{const w=S.period;T.has(w)||T.set(w,{period:w});const N=T.get(w),O=S.segment||"Outros";if(u==="ticket"){const I=N[`${O}_sum`]||0,P=N[`${O}_count`]||0;N[`${O}_sum`]=I+S.value,N[`${O}_count`]=P+1,N[O]=N[`${O}_sum`]/N[`${O}_count`]}else N[O]=(N[O]||0)+S.value}),Array.from(T.values()).sort((S,w)=>S.period.localeCompare(w.period))},[t,u]),f=b.useMemo(()=>{const y=new Set;return t.segments.forEach(_=>y.add(_.segment)),t.realEstateGroups.forEach(_=>y.add(_.segment)),t.movableGroups.forEach(_=>y.add(_.segment)),Array.from(y)},[t]),p=b.useMemo(()=>{let y=d;return s==="1q"?y=d.slice(-3):s==="1y"&&(y=d.slice(-12)),y},[s,d]),v=b.useMemo(()=>e?p.map(y=>({period:y.period,value:y[e]||0})):[],[p,e]),E=async()=>{if(!e)return;o(!0);const y=await qEe(e,v);i(y),o(!1)};return d.length===0?x.jsx("div",{className:"p-8 text-center text-slate-400",children:"Dados histricos insuficientes para anlise de tendncia."}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Tendncias de Mercado"}),x.jsx("p",{className:"text-slate-500",children:"Evoluo histrica por segmento e indicador."})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto items-center",children:[x.jsxs("div",{className:"flex bg-white rounded-lg p-1 border border-slate-200 shadow-sm",children:[x.jsx("button",{onClick:()=>c("volume"),className:`p-2 rounded-md transition-all ${u==="volume"?"bg-slate-100 text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"Volume Financeiro",children:x.jsx(i7,{size:18})}),x.jsx("button",{onClick:()=>c("quotas"),className:`p-2 rounded-md transition-all ${u==="quotas"?"bg-slate-100 text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"Cotas Ativas",children:x.jsx(oz,{size:18})}),x.jsx("button",{onClick:()=>c("ticket"),className:`p-2 rounded-md transition-all ${u==="ticket"?"bg-slate-100 text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"Ticket Mdio",children:x.jsx($K,{size:18})})]}),x.jsx(GI,{value:s,onChange:l,options:["1q","1y","all"]}),x.jsxs("div",{className:"relative",children:[x.jsx(o7,{size:16,className:"absolute left-3 top-3 text-slate-400"}),x.jsxs("select",{className:"bg-white border border-slate-300 text-slate-700 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block pl-10 p-2.5 shadow-sm min-w-[200px]",value:e,onChange:y=>{n(y.target.value),i(null)},children:[x.jsx("option",{value:"",children:"Selecione para IA..."}),f.map(y=>x.jsx("option",{value:y,children:y},y))]})]})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsxs("h3",{className:"font-semibold text-slate-800 mb-6 flex items-center gap-2",children:[u==="volume"&&"Volume de Crdito (Saldo R$)",u==="quotas"&&"Estoque de Cotas Ativas (Qtd)",u==="ticket"&&"Ticket Mdio por Grupo (R$)"]}),x.jsx("div",{className:"h-96 w-full",children:x.jsx(Kr,{width:"100%",height:"100%",children:x.jsxs(a5,{data:p,children:[x.jsx(ls,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),x.jsx(us,{dataKey:"period",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),x.jsx(cs,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:y=>u!=="quotas"?`${(y/1e3).toFixed(0)}k`:y}),x.jsx(Wr,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:y=>u!=="quotas"?`R$ ${y.toLocaleString()}`:y.toLocaleString()}),x.jsx(os,{}),f.map((y,_)=>x.jsx(PI,{name:y,type:"monotone",dataKey:y,stroke:JEe[y]||"#94a3b8",strokeWidth:3,dot:{r:4}},y))]})})})]}),x.jsxs("div",{className:"bg-slate-900 rounded-xl p-6 text-white shadow-lg border border-slate-800",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx("div",{className:"p-2 bg-indigo-500/20 rounded-lg",children:x.jsx(VK,{className:"text-indigo-400",size:24})}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-lg",children:"Predio Estratgica Gemini"}),x.jsx("p",{className:"text-slate-400 text-sm",children:"Anlise baseada nos ciclos histricos reais e variveis macro."})]})]}),e?r?x.jsxs("div",{className:"space-y-4 animate-fade-in",children:[x.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[x.jsx("span",{className:"text-xs uppercase tracking-wider text-indigo-300 font-semibold",children:"Cenrio Projetado"}),x.jsx("p",{className:"text-xl font-bold mt-1 text-white",children:r.prediction})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-xs uppercase tracking-wider text-slate-400 font-semibold",children:"Fundamentao Tcnica"}),x.jsx("p",{className:"text-slate-300 text-sm mt-2 leading-relaxed",children:r.rationale})]}),x.jsx("button",{onClick:()=>i(null),className:"text-xs text-slate-500 hover:text-white underline mt-2 transition-colors",children:"Reiniciar Anlise"})]}):x.jsxs("div",{className:"flex flex-col items-start gap-4",children:[x.jsxs("p",{className:"text-slate-300 text-sm max-w-2xl",children:["Gerar projeo para ",x.jsx("span",{className:"font-semibold text-white",children:e}),". O modelo processar ",v.length," pontos de dados histricos (",u,")."]}),x.jsx("button",{onClick:E,disabled:a,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-5 py-2.5 rounded-lg font-medium transition-colors disabled:opacity-50 shadow-lg shadow-indigo-900/20",children:a?x.jsx(x.Fragment,{children:"Analisando srie histrica..."}):x.jsxs(x.Fragment,{children:[x.jsx(iz,{size:18}),"Processar Predio"]})})]}):x.jsx("p",{className:"text-slate-500 text-sm",children:"Selecione um segmento no filtro acima para habilitar a predio."})]})]})},ZEe=({data:t})=>{const e=b.useMemo(()=>{if(!t.quarterly)return[];const a=new Map;return t.quarterly.forEach(o=>{const s=o.uf.trim().toUpperCase();a.has(s)||a.set(s,{uf:s,region:"BR",activeContemplatedBid:0,activeContemplatedLottery:0,activeNonContemplated:0,dropoutContemplated:0,dropoutNonContemplated:0,newAdhesionsQuarter:0,totalActive:0});const l=a.get(s);l.activeContemplatedBid+=o.totais.contemplados_lance||0,l.activeContemplatedLottery+=o.totais.contemplados_sorteio||0,l.activeNonContemplated+=o.totais.ativos_nao_contemplados||0,l.dropoutContemplated+=o.totais.excluidos_contemplados||0,l.dropoutNonContemplated+=0,l.newAdhesionsQuarter+=o.totais.adesoes||0,l.totalActive+=o.totais.total_ativos||0}),Array.from(a.values()).sort((o,s)=>s.totalActive-o.totalActive)},[t]);if(e.length===0)return x.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-slate-400",children:[x.jsx(nz,{size:48,className:"mb-4 opacity-50"}),x.jsx("p",{children:"Dados regionais no disponveis."}),x.jsx("p",{className:"text-sm",children:'Importe arquivos "Dados por UF" do BACEN na aba Importar.'})]});const n=e.reduce((a,o)=>a+o.activeContemplatedBid,0),r=e.reduce((a,o)=>a+o.activeContemplatedLottery,0),i=[{name:"Sorteio",value:r,color:"#10b981"},{name:"Lance",value:n,color:"#3b82f6"}];return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Anlise Regional"}),x.jsx("p",{className:"text-slate-500",children:"Distribuio geogrfica de cotas e perfil de contemplao."})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"font-bold text-slate-800 mb-4",children:"Top 10 Estados em Volume (Cotas Ativas)"}),x.jsx("div",{className:"h-80",children:x.jsx(Kr,{width:"100%",height:"100%",children:x.jsxs(MI,{data:e.slice(0,10),layout:"vertical",margin:{left:0},children:[x.jsx(ls,{strokeDasharray:"3 3",horizontal:!1}),x.jsx(us,{type:"number",hide:!0}),x.jsx(cs,{dataKey:"uf",type:"category",width:40,tick:{fontWeight:"bold"}}),x.jsx(Wr,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none"}}),x.jsx(hh,{dataKey:"totalActive",fill:"#3b82f6",radius:[0,4,4,0],barSize:24,name:"Total Cotistas",children:e.slice(0,10).map((a,o)=>x.jsx(Ai,{fillOpacity:1-o*.05,fill:"#3b82f6"},`cell-${o}`))})]})})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"font-bold text-slate-800 mb-2",children:"Perfil de Contemplao (Nacional)"}),x.jsxs("div",{className:"h-64 relative",children:[x.jsx(Kr,{width:"100%",height:"100%",children:x.jsxs(o_,{children:[x.jsx(hp,{data:i,innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:i.map((a,o)=>x.jsx(Ai,{fill:a.color},`cell-${o}`))}),x.jsx(Wr,{}),x.jsx(os,{verticalAlign:"bottom"})]})}),x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[x.jsxs("span",{className:"text-2xl font-bold text-slate-800",children:[(n/(n+r)*100).toFixed(0),"%"]}),x.jsx("span",{className:"text-xs text-slate-500",children:"Lance"})]})]}),x.jsxs("div",{className:"mt-4 space-y-2",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-slate-500",children:"Total Sorteio"}),x.jsx("span",{className:"font-bold text-emerald-600",children:r.toLocaleString()})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-slate-500",children:"Total Lance"}),x.jsx("span",{className:"font-bold text-blue-600",children:n.toLocaleString()})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[x.jsx("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50",children:x.jsx("h3",{className:"font-bold text-slate-800",children:"Detalhamento por Estado"})}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left text-slate-600",children:[x.jsx("thead",{className:"bg-slate-50 text-xs uppercase font-semibold text-slate-500",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3",children:"UF"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Cotas Ativas"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Novas Vendas"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Desistncias"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Evaso %"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(a=>{const o=a.totalActive>0?a.dropoutNonContemplated/a.totalActive*100:0;return x.jsxs("tr",{className:"hover:bg-slate-50",children:[x.jsx("td",{className:"px-6 py-3 font-bold text-slate-900",children:a.uf}),x.jsx("td",{className:"px-6 py-3 text-right",children:a.totalActive.toLocaleString()}),x.jsxs("td",{className:"px-6 py-3 text-right text-emerald-600",children:["+",a.newAdhesionsQuarter.toLocaleString()]}),x.jsxs("td",{className:"px-6 py-3 text-right text-red-500",children:["-",a.dropoutNonContemplated.toLocaleString()]}),x.jsx("td",{className:"px-6 py-3 text-right",children:x.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${o>5?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:[o.toFixed(2),"%"]})})]},a.uf)})})]})})]})]})};var a2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eTe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},n6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,d=(a&3)<<4|s>>4;let f=(s&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eTe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new tTe;const f=a<<2|s>>4;if(r.push(f),u!==64){const p=s<<4&240|u>>2;if(r.push(p),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tTe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nTe=function(t){const e=t6(t);return n6.encodeByteArray(e,!0)},r6=function(t){return nTe(t).replace(/\./g,"")},i6=function(t){try{return n6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rTe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iTe=()=>rTe().__FIREBASE_DEFAULTS__,aTe=()=>{if(typeof process>"u"||typeof a2>"u")return;const t=a2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oTe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&i6(t[1]);return e&&JSON.parse(e)},h_=()=>{try{return iTe()||aTe()||oTe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sTe=t=>{var e,n;return(n=(e=h_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},a6=()=>{var t;return(t=h_())===null||t===void 0?void 0:t.config},o6=t=>{var e;return(e=h_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lTe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uTe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function cTe(){var t;const e=(t=h_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dTe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fTe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hTe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pTe(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s6(){return!cTe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l6(){try{return typeof indexedDB=="object"}catch{return!1}}function mTe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gTe="FirebaseError";class ao extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gTe,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vp.prototype.create)}}class vp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?vTe(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ao(i,s,r)}}function vTe(t,e){return t.replace(yTe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yTe=/\{\$([^}]+)}/g;function _Te(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(o2(a)&&o2(o)){if(!mh(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function o2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bTe(t,e){const n=new ETe(t,e);return n.subscribe.bind(n)}class ETe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TTe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hE),i.error===void 0&&(i.error=hE),i.complete===void 0&&(i.complete=hE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TTe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t){return t&&t._delegate?t._delegate:t}class wl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ATe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lTe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xTe(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:STe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function STe(t){return t===$s?void 0:t}function xTe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wTe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ATe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const ITe={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},CTe=Pe.INFO,PTe={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},RTe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PTe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class HI{constructor(e){this.name=e,this._logLevel=CTe,this._logHandler=RTe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ITe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const NTe=(t,e)=>e.some(n=>t instanceof n);let s2,l2;function OTe(){return s2||(s2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MTe(){return l2||(l2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u6=new WeakMap,YA=new WeakMap,c6=new WeakMap,pE=new WeakMap,KI=new WeakMap;function DTe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Qo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&u6.set(n,t)}).catch(()=>{}),KI.set(e,t),e}function kTe(t){if(YA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});YA.set(t,e)}let QA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return YA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LTe(t){QA=t(QA)}function VTe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mE(this),e,...n);return c6.set(r,e.sort?e.sort():[e]),Qo(r)}:MTe().includes(t)?function(...e){return t.apply(mE(this),e),Qo(u6.get(this))}:function(...e){return Qo(t.apply(mE(this),e))}}function UTe(t){return typeof t=="function"?VTe(t):(t instanceof IDBTransaction&&kTe(t),NTe(t,OTe())?new Proxy(t,QA):t)}function Qo(t){if(t instanceof IDBRequest)return DTe(t);if(pE.has(t))return pE.get(t);const e=UTe(t);return e!==t&&(pE.set(t,e),KI.set(e,t)),e}const mE=t=>KI.get(t);function BTe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Qo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qo(o.result),l.oldVersion,l.newVersion,Qo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const zTe=["get","getKey","getAll","getAllKeys","count"],FTe=["put","add","delete","clear"],gE=new Map;function u2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gE.get(e))return gE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FTe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zTe.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return gE.set(e,a),a}LTe(t=>({...t,get:(e,n,r)=>u2(e,n)||t.get(e,n,r),has:(e,n)=>!!u2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jTe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($Te(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $Te(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const JA="@firebase/app",c2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new HI("@firebase/app"),qTe="@firebase/app-compat",GTe="@firebase/analytics-compat",HTe="@firebase/analytics",KTe="@firebase/app-check-compat",WTe="@firebase/app-check",YTe="@firebase/auth",QTe="@firebase/auth-compat",JTe="@firebase/database",XTe="@firebase/data-connect",ZTe="@firebase/database-compat",eAe="@firebase/functions",tAe="@firebase/functions-compat",nAe="@firebase/installations",rAe="@firebase/installations-compat",iAe="@firebase/messaging",aAe="@firebase/messaging-compat",oAe="@firebase/performance",sAe="@firebase/performance-compat",lAe="@firebase/remote-config",uAe="@firebase/remote-config-compat",cAe="@firebase/storage",dAe="@firebase/storage-compat",fAe="@firebase/firestore",hAe="@firebase/vertexai-preview",pAe="@firebase/firestore-compat",mAe="firebase",gAe="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="[DEFAULT]",vAe={[JA]:"fire-core",[qTe]:"fire-core-compat",[HTe]:"fire-analytics",[GTe]:"fire-analytics-compat",[WTe]:"fire-app-check",[KTe]:"fire-app-check-compat",[YTe]:"fire-auth",[QTe]:"fire-auth-compat",[JTe]:"fire-rtdb",[XTe]:"fire-data-connect",[ZTe]:"fire-rtdb-compat",[eAe]:"fire-fn",[tAe]:"fire-fn-compat",[nAe]:"fire-iid",[rAe]:"fire-iid-compat",[iAe]:"fire-fcm",[aAe]:"fire-fcm-compat",[oAe]:"fire-perf",[sAe]:"fire-perf-compat",[lAe]:"fire-rc",[uAe]:"fire-rc-compat",[cAe]:"fire-gcs",[dAe]:"fire-gcs-compat",[fAe]:"fire-fst",[pAe]:"fire-fst-compat",[hAe]:"fire-vertex","fire-js":"fire-js",[mAe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=new Map,yAe=new Map,ZA=new Map;function d2(t,e){try{t.container.addComponent(e)}catch(n){Ga.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gc(t){const e=t.name;if(ZA.has(e))return Ga.debug(`There were multiple attempts to register component ${e}.`),!1;ZA.set(e,t);for(const n of ry.values())d2(n,t);for(const n of yAe.values())d2(n,t);return!0}function WI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ba(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Ae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new vp("app","Firebase",_Ae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bAe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=gAe;function d6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:XA,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jo.create("bad-app-name",{appName:String(i)});if(n||(n=a6()),!n)throw Jo.create("no-options");const a=ry.get(i);if(a){if(mh(n,a.options)&&mh(r,a.config))return a;throw Jo.create("duplicate-app",{appName:i})}const o=new wTe(i);for(const l of ZA.values())o.addComponent(l);const s=new bAe(n,r,o);return ry.set(i,s),s}function EAe(t=XA){const e=ry.get(t);if(!e&&t===XA&&a6())return d6();if(!e)throw Jo.create("no-app",{appName:t});return e}function Xo(t,e,n){var r;let i=(r=vAe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ga.warn(s.join(" "));return}gc(new wl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TAe="firebase-heartbeat-database",AAe=1,gh="firebase-heartbeat-store";let vE=null;function f6(){return vE||(vE=BTe(TAe,AAe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),vE}async function SAe(t){try{const n=(await f6()).transaction(gh),r=await n.objectStore(gh).get(h6(t));return await n.done,r}catch(e){if(e instanceof ao)Ga.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ga.warn(n.message)}}}async function f2(t,e){try{const r=(await f6()).transaction(gh,"readwrite");await r.objectStore(gh).put(e,h6(t)),await r.done}catch(n){if(n instanceof ao)Ga.warn(n.message);else{const r=Jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ga.warn(r.message)}}}function h6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xAe=1024,wAe=30*24*60*60*1e3;class IAe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PAe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=h2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=wAe}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ga.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h2(),{heartbeatsToSend:r,unsentEntries:i}=CAe(this._heartbeatsCache.heartbeats),a=r6(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ga.warn(n),""}}}function h2(){return new Date().toISOString().substring(0,10)}function CAe(t,e=xAe){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),p2(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),p2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PAe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l6()?mTe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SAe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return f2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return f2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function p2(t){return r6(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RAe(t){gc(new wl("platform-logger",e=>new jTe(e),"PRIVATE")),gc(new wl("heartbeat",e=>new IAe(e),"PRIVATE")),Xo(JA,c2,t),Xo(JA,c2,"esm2017"),Xo("fire-js","")}RAe("");var NAe="firebase",OAe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo(NAe,OAe,"app");function YI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function p6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MAe=p6,m6=new vp("auth","Firebase",p6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new HI("@firebase/auth");function DAe(t,...e){iy.logLevel<=Pe.WARN&&iy.warn(`Auth (${od}): ${t}`,...e)}function lg(t,...e){iy.logLevel<=Pe.ERROR&&iy.error(`Auth (${od}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t,...e){throw QI(t,...e)}function Fi(t,...e){return QI(t,...e)}function g6(t,e,n){const r=Object.assign(Object.assign({},MAe()),{[e]:n});return new vp("auth","Firebase",r).create(e,{appName:t.name})}function Zo(t){return g6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return m6.create(t,...e)}function pe(t,e,...n){if(!t)throw QI(e,...n)}function Ea(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lg(e),new Error(e)}function Ka(t,e){t||Ea(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kAe(){return m2()==="http:"||m2()==="https:"}function m2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LAe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kAe()||fTe()||"connection"in navigator)?navigator.onLine:!0}function VAe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ka(n>e,"Short delay should be less than long delay!"),this.isMobile=uTe()||hTe()}get(){return LAe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e){Ka(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UAe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BAe=new _p(3e4,6e4);function p_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sd(t,e,n,r,i={}){return y6(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=yp(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return dTe()||(u.referrerPolicy="no-referrer"),v6.fetch()(b6(t,t.config.apiHost,n,s),u)})}async function y6(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},UAe),e);try{const i=new zAe(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Pm(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pm(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pm(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pm(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw g6(t,c,u);Ha(t,c)}}catch(i){if(i instanceof ao)throw i;Ha(t,"network-request-failed",{message:String(i)})}}async function _6(t,e,n,r,i={}){const a=await sd(t,e,n,r,i);return"mfaPendingCredential"in a&&Ha(t,"multi-factor-auth-required",{_serverResponse:a}),a}function b6(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?JI(t.config,i):`${t.config.apiScheme}://${i}`}class zAe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fi(this.auth,"network-request-failed")),BAe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FAe(t,e){return sd(t,"POST","/v1/accounts:delete",e)}async function E6(t,e){return sd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jAe(t,e=!1){const n=In(t),r=await n.getIdToken(e),i=XI(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:wf(yE(i.auth_time)),issuedAtTime:wf(yE(i.iat)),expirationTime:wf(yE(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yE(t){return Number(t)*1e3}function XI(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=i6(n);return i?JSON.parse(i):(lg("Failed to decode base64 JWT payload"),null)}catch(i){return lg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function g2(t){const e=XI(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ao&&$Ae(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $Ae({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qAe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wf(this.lastLoginAt),this.creationTime=wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ay(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vh(t,E6(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?T6(a.providerUserInfo):[],s=HAe(t.providerData,o),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new tS(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function GAe(t){const e=In(t);await ay(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HAe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function T6(t){return t.map(e=>{var{providerId:n}=e,r=YI(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KAe(t,e){const n=await y6(t,{},async()=>{const r=yp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=b6(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",v6.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WAe(t,e){return sd(t,"POST","/v2/accounts:revokeToken",p_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=g2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await KAe(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Ku;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(pe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ku,this.toJSON())}_performRefresh(){return Ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ta{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=YI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qAe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new tS(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await vh(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jAe(this,e)}reload(){return GAe(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ay(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ba(this.auth.app))return Promise.reject(Zo(this.auth));const e=await this.getIdToken();return await vh(this,FAe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(s=n.tenantId)!==null&&s!==void 0?s:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,T=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:w,isAnonymous:N,providerData:O,stsTokenManager:I}=n;pe(S&&I,e,"internal-error");const P=Ku.fromJSON(this.name,I);pe(typeof S=="string",e,"internal-error"),fo(d,e.name),fo(f,e.name),pe(typeof w=="boolean",e,"internal-error"),pe(typeof N=="boolean",e,"internal-error"),fo(p,e.name),fo(v,e.name),fo(E,e.name),fo(y,e.name),fo(_,e.name),fo(T,e.name);const R=new Ta({uid:S,auth:e,email:f,emailVerified:w,displayName:d,isAnonymous:N,photoURL:v,phoneNumber:p,tenantId:E,stsTokenManager:P,createdAt:_,lastLoginAt:T});return O&&Array.isArray(O)&&(R.providerData=O.map(M=>Object.assign({},M))),y&&(R._redirectEventId=y),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ku;i.updateFromServerResponse(n);const a=new Ta({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ay(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?T6(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Ku;s.updateFromIdToken(r);const l=new Ta({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new tS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Map;function Aa(t){Ka(t instanceof Function,"Expected a class definition");let e=v2.get(t);return e?(Ka(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A6.type="NONE";const y2=A6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e,n){return`firebase:${t}:${e}:${n}`}class Wu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ug(this.userKey,i.apiKey,a),this.fullPersistenceKey=ug("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ta._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wu(Aa(y2),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Aa(y2);const o=ug(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ta._fromJSON(e,c);u!==a&&(s=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Wu(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Wu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P6(e))return"Blackberry";if(R6(e))return"Webos";if(x6(e))return"Safari";if((e.includes("chrome/")||w6(e))&&!e.includes("edge/"))return"Chrome";if(C6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function S6(t=en()){return/firefox\//i.test(t)}function x6(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w6(t=en()){return/crios\//i.test(t)}function I6(t=en()){return/iemobile/i.test(t)}function C6(t=en()){return/android/i.test(t)}function P6(t=en()){return/blackberry/i.test(t)}function R6(t=en()){return/webos/i.test(t)}function ZI(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YAe(t=en()){var e;return ZI(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QAe(){return pTe()&&document.documentMode===10}function N6(t=en()){return ZI(t)||C6(t)||R6(t)||P6(t)||/windows phone/i.test(t)||I6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t,e=[]){let n;switch(t){case"Browser":n=_2(en());break;case"Worker":n=`${_2(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${od}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JAe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XAe(t,e={}){return sd(t,"GET","/v2/passwordPolicy",p_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZAe=6;class eSe{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ZAe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tSe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b2(this),this.idTokenSubscription=new b2(this),this.beforeStateQueue=new JAe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Aa(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Wu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await E6(this,{idToken:e}),r=await Ta._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ba(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ay(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VAe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ba(this.app))return Promise.reject(Zo(this));const n=e?In(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ba(this.app)?Promise.reject(Zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ba(this.app)?Promise.reject(Zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Aa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XAe(this),n=new eSe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WAe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Aa(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Wu.create(this,[Aa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&DAe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function m_(t){return In(t)}class b2{constructor(e){this.auth=e,this.observer=null,this.addObserver=bTe(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nSe(t){eC=t}function rSe(t){return eC.loadJS(t)}function iSe(){return eC.gapiScript}function aSe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oSe(t,e){const n=WI(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(mh(a,e??{}))return i;Ha(i,"already-initialized")}return n.initialize({options:e})}function sSe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Aa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lSe(t,e,n){const r=m_(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=M6(e),{host:o,port:s}=uSe(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${a}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),cSe()}function M6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uSe(t){const e=M6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:E2(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:E2(o)}}}function E2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cSe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ea("not implemented")}_getIdTokenResponse(e){return Ea("not implemented")}_linkToIdToken(e,n){return Ea("not implemented")}_getReauthenticationResolver(e){return Ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(t,e){return _6(t,"POST","/v1/accounts:signInWithIdp",p_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dSe="http://localhost";class Il extends D6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Il(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ha("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=YI(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Il(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yu(e,n)}buildRequest(){const e={requestUri:dSe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends k6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends bp{constructor(){super("facebook.com")}static credential(e){return Il._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends bp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Il._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Io.credential(n,r)}catch{return null}}}Io.GOOGLE_SIGN_IN_METHOD="google.com";Io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends bp{constructor(){super("github.com")}static credential(e){return Il._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Co.credential(e.oauthAccessToken)}catch{return null}}}Co.GITHUB_SIGN_IN_METHOD="github.com";Co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends bp{constructor(){super("twitter.com")}static credential(e,n){return Il._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Po.credential(n,r)}catch{return null}}}Po.TWITTER_SIGN_IN_METHOD="twitter.com";Po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fSe(t,e){return _6(t,"POST","/v1/accounts:signUp",p_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ta._fromIdTokenResponse(e,r,i),o=T2(r);return new ds({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=T2(r);return new ds({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function T2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hSe(t){var e;if(ba(t.app))return Promise.reject(Zo(t));const n=m_(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ds({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await fSe(n,{returnSecureToken:!0}),i=await ds._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends ao{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,oy.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new oy(e,n,r,i)}}function L6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?oy._fromErrorAndOperation(t,a,e,r):a})}async function pSe(t,e,n=!1){const r=await vh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ds._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mSe(t,e,n=!1){const{auth:r}=t;if(ba(r.app))return Promise.reject(Zo(r));const i="reauthenticate";try{const a=await vh(t,L6(r,i,e,t),n);pe(a.idToken,r,"internal-error");const o=XI(a.idToken);pe(o,r,"internal-error");const{sub:s}=o;return pe(t.uid===s,r,"user-mismatch"),ds._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ha(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gSe(t,e,n=!1){if(ba(t.app))return Promise.reject(Zo(t));const r="signIn",i=await L6(t,r,e),a=await ds._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function vSe(t,e,n,r){return In(t).onIdTokenChanged(e,n,r)}function ySe(t,e,n){return In(t).beforeAuthStateChanged(e,n)}function _Se(t,e,n,r){return In(t).onAuthStateChanged(e,n,r)}const sy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sy,"1"),this.storage.removeItem(sy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bSe=1e3,ESe=10;class U6 extends V6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);QAe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ESe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bSe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}U6.type="LOCAL";const TSe=U6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6 extends V6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}B6.type="SESSION";const z6=B6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ASe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new g_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),l=await ASe(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}g_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SSe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=tC("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(f.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function xSe(t){ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function wSe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ISe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CSe(){return F6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="firebaseLocalStorageDb",PSe=1,ly="firebaseLocalStorage",$6="fbase_key";class Ep{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function v_(t,e){return t.transaction([ly],e?"readwrite":"readonly").objectStore(ly)}function RSe(){const t=indexedDB.deleteDatabase(j6);return new Ep(t).toPromise()}function nS(){const t=indexedDB.open(j6,PSe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ly,{keyPath:$6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ly)?e(r):(r.close(),await RSe(),e(await nS()))})})}async function A2(t,e,n){const r=v_(t,!0).put({[$6]:e,value:n});return new Ep(r).toPromise()}async function NSe(t,e){const n=v_(t,!1).get(e),r=await new Ep(n).toPromise();return r===void 0?null:r.value}function S2(t,e){const n=v_(t,!0).delete(e);return new Ep(n).toPromise()}const OSe=800,MSe=3;class q6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>MSe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=g_._getInstance(CSe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wSe(),!this.activeServiceWorker)return;this.sender=new SSe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ISe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nS();return await A2(e,sy,"1"),await S2(e,sy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NSe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=v_(i,!1).getAll();return new Ep(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OSe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q6.type="LOCAL";const DSe=q6;new _p(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kSe(t,e){return e?Aa(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC extends D6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LSe(t){return gSe(t.auth,new nC(t),t.bypassAuthState)}function VSe(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),mSe(n,new nC(t),t.bypassAuthState)}async function USe(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),pSe(n,new nC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LSe;case"linkViaPopup":case"linkViaRedirect":return USe;case"reauthViaPopup":case"reauthViaRedirect":return VSe;default:Ha(this.auth,"internal-error")}}resolve(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BSe=new _p(2e3,1e4);class ku extends G6{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ku.currentPopupAction&&ku.currentPopupAction.cancel(),ku.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Ka(this.filter.length===1,"Popup operations only handle one event");const e=tC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ku.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BSe.get())};e()}}ku.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zSe="pendingRedirect",cg=new Map;class FSe extends G6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cg.get(this.auth._key());if(!e){try{const r=await jSe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cg.set(this.auth._key(),e)}return this.bypassAuthState||cg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jSe(t,e){const n=GSe(e),r=qSe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $Se(t,e){cg.set(t._key(),e)}function qSe(t){return Aa(t._redirectPersistence)}function GSe(t){return ug(zSe,t.config.apiKey,t.name)}async function HSe(t,e,n=!1){if(ba(t.app))return Promise.reject(Zo(t));const r=m_(t),i=kSe(r,e),o=await new FSe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KSe=10*60*1e3;class WSe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YSe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!H6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KSe&&this.cachedEventUids.clear(),this.cachedEventUids.has(x2(e))}saveEventToCache(e){this.cachedEventUids.add(x2(e)),this.lastProcessedEventTime=Date.now()}}function x2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function H6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YSe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QSe(t,e={}){return sd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JSe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XSe=/^https?/;async function ZSe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QSe(t);for(const n of e)try{if(exe(n))return}catch{}Ha(t,"unauthorized-domain")}function exe(t){const e=eS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!XSe.test(n))return!1;if(JSe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const txe=new _p(3e4,6e4);function w2(){const t=ji().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nxe(t){return new Promise((e,n)=>{var r,i,a;function o(){w2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w2(),n(Fi(t,"network-request-failed"))},timeout:txe.get()})}if(!((i=(r=ji().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ji().gapi)===null||a===void 0)&&a.load)o();else{const s=aSe("iframefcb");return ji()[s]=()=>{gapi.load?o():n(Fi(t,"network-request-failed"))},rSe(`${iSe()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw dg=null,e})}let dg=null;function rxe(t){return dg=dg||nxe(t),dg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ixe=new _p(5e3,15e3),axe="__/auth/iframe",oxe="emulator/auth/iframe",sxe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lxe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uxe(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?JI(e,oxe):`https://${t.config.authDomain}/${axe}`,r={apiKey:e.apiKey,appName:t.name,v:od},i=lxe.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${yp(r).slice(1)}`}async function cxe(t){const e=await rxe(t),n=ji().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:uxe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sxe,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Fi(t,"network-request-failed"),s=ji().setTimeout(()=>{a(o)},ixe.get());function l(){ji().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dxe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fxe=500,hxe=600,pxe="_blank",mxe="http://localhost";class I2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gxe(t,e,n,r=fxe,i=hxe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},dxe),{width:r.toString(),height:i.toString(),top:a,left:o}),u=en().toLowerCase();n&&(s=w6(u)?pxe:n),S6(u)&&(e=e||mxe,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(YAe(u)&&s!=="_self")return vxe(e||"",s),new I2(null);const d=window.open(e||"",s,c);pe(d,t,"popup-blocked");try{d.focus()}catch{}return new I2(d)}function vxe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yxe="__/auth/handler",_xe="emulator/auth/handler",bxe=encodeURIComponent("fac");async function C2(t,e,n,r,i,a){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:od,eventId:i};if(e instanceof k6){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_Te(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof bp){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${bxe}=${encodeURIComponent(l)}`:"";return`${Exe(t)}?${yp(s).slice(1)}${u}`}function Exe({config:t}){return t.emulator?JI(t,_xe):`https://${t.authDomain}/${yxe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="webStorageSupport";class Txe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z6,this._completeRedirectFn=HSe,this._overrideRedirectResult=$Se}async _openPopup(e,n,r,i){var a;Ka((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await C2(e,n,r,eS(),i);return gxe(e,o,tC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await C2(e,n,r,eS(),i);return xSe(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ka(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cxe(e),r=new WSe(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_E,{type:_E},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[_E];o!==void 0&&n(!!o),Ha(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZSe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return N6()||x6()||ZI()}}const Axe=Txe;var P2="@firebase/auth",R2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sxe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xxe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wxe(t){gc(new wl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O6(t)},u=new tSe(r,i,a,l);return sSe(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gc(new wl("auth-internal",e=>{const n=m_(e.getProvider("auth").getImmediate());return(r=>new Sxe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(P2,R2,xxe(t)),Xo(P2,R2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ixe=5*60,Cxe=o6("authIdTokenMaxAge")||Ixe;let N2=null;const Pxe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Cxe)return;const i=n==null?void 0:n.token;N2!==i&&(N2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Rxe(t=EAe()){const e=WI(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oSe(t,{popupRedirectResolver:Axe,persistence:[DSe,TSe,z6]}),r=o6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=Pxe(a.toString());ySe(n,o,()=>o(n.currentUser)),vSe(n,s=>o(s))}}const i=sTe("auth");return i&&lSe(n,`http://${i}`),n}function Nxe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nSe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Fi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Nxe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wxe("Browser");var O2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ul,K6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,P){function R(){}R.prototype=P.prototype,I.D=P.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(M,V,D){for(var k=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)k[Q-2]=arguments[Q];return P.prototype[V].apply(M,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,P,R){R||(R=0);var M=Array(16);if(typeof P=="string")for(var V=0;16>V;++V)M[V]=P.charCodeAt(R++)|P.charCodeAt(R++)<<8|P.charCodeAt(R++)<<16|P.charCodeAt(R++)<<24;else for(V=0;16>V;++V)M[V]=P[R++]|P[R++]<<8|P[R++]<<16|P[R++]<<24;P=I.g[0],R=I.g[1],V=I.g[2];var D=I.g[3],k=P+(D^R&(V^D))+M[0]+3614090360&4294967295;P=R+(k<<7&4294967295|k>>>25),k=D+(V^P&(R^V))+M[1]+3905402710&4294967295,D=P+(k<<12&4294967295|k>>>20),k=V+(R^D&(P^R))+M[2]+606105819&4294967295,V=D+(k<<17&4294967295|k>>>15),k=R+(P^V&(D^P))+M[3]+3250441966&4294967295,R=V+(k<<22&4294967295|k>>>10),k=P+(D^R&(V^D))+M[4]+4118548399&4294967295,P=R+(k<<7&4294967295|k>>>25),k=D+(V^P&(R^V))+M[5]+1200080426&4294967295,D=P+(k<<12&4294967295|k>>>20),k=V+(R^D&(P^R))+M[6]+2821735955&4294967295,V=D+(k<<17&4294967295|k>>>15),k=R+(P^V&(D^P))+M[7]+4249261313&4294967295,R=V+(k<<22&4294967295|k>>>10),k=P+(D^R&(V^D))+M[8]+1770035416&4294967295,P=R+(k<<7&4294967295|k>>>25),k=D+(V^P&(R^V))+M[9]+2336552879&4294967295,D=P+(k<<12&4294967295|k>>>20),k=V+(R^D&(P^R))+M[10]+4294925233&4294967295,V=D+(k<<17&4294967295|k>>>15),k=R+(P^V&(D^P))+M[11]+2304563134&4294967295,R=V+(k<<22&4294967295|k>>>10),k=P+(D^R&(V^D))+M[12]+1804603682&4294967295,P=R+(k<<7&4294967295|k>>>25),k=D+(V^P&(R^V))+M[13]+4254626195&4294967295,D=P+(k<<12&4294967295|k>>>20),k=V+(R^D&(P^R))+M[14]+2792965006&4294967295,V=D+(k<<17&4294967295|k>>>15),k=R+(P^V&(D^P))+M[15]+1236535329&4294967295,R=V+(k<<22&4294967295|k>>>10),k=P+(V^D&(R^V))+M[1]+4129170786&4294967295,P=R+(k<<5&4294967295|k>>>27),k=D+(R^V&(P^R))+M[6]+3225465664&4294967295,D=P+(k<<9&4294967295|k>>>23),k=V+(P^R&(D^P))+M[11]+643717713&4294967295,V=D+(k<<14&4294967295|k>>>18),k=R+(D^P&(V^D))+M[0]+3921069994&4294967295,R=V+(k<<20&4294967295|k>>>12),k=P+(V^D&(R^V))+M[5]+3593408605&4294967295,P=R+(k<<5&4294967295|k>>>27),k=D+(R^V&(P^R))+M[10]+38016083&4294967295,D=P+(k<<9&4294967295|k>>>23),k=V+(P^R&(D^P))+M[15]+3634488961&4294967295,V=D+(k<<14&4294967295|k>>>18),k=R+(D^P&(V^D))+M[4]+3889429448&4294967295,R=V+(k<<20&4294967295|k>>>12),k=P+(V^D&(R^V))+M[9]+568446438&4294967295,P=R+(k<<5&4294967295|k>>>27),k=D+(R^V&(P^R))+M[14]+3275163606&4294967295,D=P+(k<<9&4294967295|k>>>23),k=V+(P^R&(D^P))+M[3]+4107603335&4294967295,V=D+(k<<14&4294967295|k>>>18),k=R+(D^P&(V^D))+M[8]+1163531501&4294967295,R=V+(k<<20&4294967295|k>>>12),k=P+(V^D&(R^V))+M[13]+2850285829&4294967295,P=R+(k<<5&4294967295|k>>>27),k=D+(R^V&(P^R))+M[2]+4243563512&4294967295,D=P+(k<<9&4294967295|k>>>23),k=V+(P^R&(D^P))+M[7]+1735328473&4294967295,V=D+(k<<14&4294967295|k>>>18),k=R+(D^P&(V^D))+M[12]+2368359562&4294967295,R=V+(k<<20&4294967295|k>>>12),k=P+(R^V^D)+M[5]+4294588738&4294967295,P=R+(k<<4&4294967295|k>>>28),k=D+(P^R^V)+M[8]+2272392833&4294967295,D=P+(k<<11&4294967295|k>>>21),k=V+(D^P^R)+M[11]+1839030562&4294967295,V=D+(k<<16&4294967295|k>>>16),k=R+(V^D^P)+M[14]+4259657740&4294967295,R=V+(k<<23&4294967295|k>>>9),k=P+(R^V^D)+M[1]+2763975236&4294967295,P=R+(k<<4&4294967295|k>>>28),k=D+(P^R^V)+M[4]+1272893353&4294967295,D=P+(k<<11&4294967295|k>>>21),k=V+(D^P^R)+M[7]+4139469664&4294967295,V=D+(k<<16&4294967295|k>>>16),k=R+(V^D^P)+M[10]+3200236656&4294967295,R=V+(k<<23&4294967295|k>>>9),k=P+(R^V^D)+M[13]+681279174&4294967295,P=R+(k<<4&4294967295|k>>>28),k=D+(P^R^V)+M[0]+3936430074&4294967295,D=P+(k<<11&4294967295|k>>>21),k=V+(D^P^R)+M[3]+3572445317&4294967295,V=D+(k<<16&4294967295|k>>>16),k=R+(V^D^P)+M[6]+76029189&4294967295,R=V+(k<<23&4294967295|k>>>9),k=P+(R^V^D)+M[9]+3654602809&4294967295,P=R+(k<<4&4294967295|k>>>28),k=D+(P^R^V)+M[12]+3873151461&4294967295,D=P+(k<<11&4294967295|k>>>21),k=V+(D^P^R)+M[15]+530742520&4294967295,V=D+(k<<16&4294967295|k>>>16),k=R+(V^D^P)+M[2]+3299628645&4294967295,R=V+(k<<23&4294967295|k>>>9),k=P+(V^(R|~D))+M[0]+4096336452&4294967295,P=R+(k<<6&4294967295|k>>>26),k=D+(R^(P|~V))+M[7]+1126891415&4294967295,D=P+(k<<10&4294967295|k>>>22),k=V+(P^(D|~R))+M[14]+2878612391&4294967295,V=D+(k<<15&4294967295|k>>>17),k=R+(D^(V|~P))+M[5]+4237533241&4294967295,R=V+(k<<21&4294967295|k>>>11),k=P+(V^(R|~D))+M[12]+1700485571&4294967295,P=R+(k<<6&4294967295|k>>>26),k=D+(R^(P|~V))+M[3]+2399980690&4294967295,D=P+(k<<10&4294967295|k>>>22),k=V+(P^(D|~R))+M[10]+4293915773&4294967295,V=D+(k<<15&4294967295|k>>>17),k=R+(D^(V|~P))+M[1]+2240044497&4294967295,R=V+(k<<21&4294967295|k>>>11),k=P+(V^(R|~D))+M[8]+1873313359&4294967295,P=R+(k<<6&4294967295|k>>>26),k=D+(R^(P|~V))+M[15]+4264355552&4294967295,D=P+(k<<10&4294967295|k>>>22),k=V+(P^(D|~R))+M[6]+2734768916&4294967295,V=D+(k<<15&4294967295|k>>>17),k=R+(D^(V|~P))+M[13]+1309151649&4294967295,R=V+(k<<21&4294967295|k>>>11),k=P+(V^(R|~D))+M[4]+4149444226&4294967295,P=R+(k<<6&4294967295|k>>>26),k=D+(R^(P|~V))+M[11]+3174756917&4294967295,D=P+(k<<10&4294967295|k>>>22),k=V+(P^(D|~R))+M[2]+718787259&4294967295,V=D+(k<<15&4294967295|k>>>17),k=R+(D^(V|~P))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+P&4294967295,I.g[1]=I.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,P){P===void 0&&(P=I.length);for(var R=P-this.blockSize,M=this.B,V=this.h,D=0;D<P;){if(V==0)for(;D<=R;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<P;)if(M[V++]=I.charCodeAt(D++),V==this.blockSize){i(this,M),V=0;break}}else for(;D<P;)if(M[V++]=I[D++],V==this.blockSize){i(this,M),V=0;break}}this.h=V,this.o+=P},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var P=1;P<I.length-8;++P)I[P]=0;var R=8*this.o;for(P=I.length-8;P<I.length;++P)I[P]=R&255,R/=256;for(this.u(I),I=Array(16),P=R=0;4>P;++P)for(var M=0;32>M;M+=8)I[R++]=this.g[P]>>>M&255;return I};function a(I,P){var R=s;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=P(I)}function o(I,P){this.h=P;for(var R=[],M=!0,V=I.length-1;0<=V;V--){var D=I[V]|0;M&&D==P||(R[V]=D,M=!1)}this.g=R}var s={};function l(I){return-128<=I&&128>I?a(I,function(P){return new o([P|0],0>P?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return y(u(-I));for(var P=[],R=1,M=0;I>=R;M++)P[M]=I/R|0,R*=4294967296;return new o(P,0)}function c(I,P){if(I.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(I.charAt(0)=="-")return y(c(I.substring(1),P));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(P,8)),M=d,V=0;V<I.length;V+=8){var D=Math.min(8,I.length-V),k=parseInt(I.substring(V,V+D),P);8>D?(D=u(Math.pow(P,D)),M=M.j(D).add(u(k))):(M=M.j(R),M=M.add(u(k)))}return M}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-y(this).m();for(var I=0,P=1,R=0;R<this.g.length;R++){var M=this.i(R);I+=(0<=M?M:4294967296+M)*P,P*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(E(this))return"-"+y(this).toString(I);for(var P=u(Math.pow(I,6)),R=this,M="";;){var V=w(R,P).g;R=_(R,V.j(P));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=V,v(R))return D+M;for(;6>D.length;)D="0"+D;M=D+M}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var P=0;P<I.g.length;P++)if(I.g[P]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=_(this,I),E(I)?-1:v(I)?0:1};function y(I){for(var P=I.g.length,R=[],M=0;M<P;M++)R[M]=~I.g[M];return new o(R,~I.h).add(f)}t.abs=function(){return E(this)?y(this):this},t.add=function(I){for(var P=Math.max(this.g.length,I.g.length),R=[],M=0,V=0;V<=P;V++){var D=M+(this.i(V)&65535)+(I.i(V)&65535),k=(D>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);M=k>>>16,D&=65535,k&=65535,R[V]=k<<16|D}return new o(R,R[R.length-1]&-2147483648?-1:0)};function _(I,P){return I.add(y(P))}t.j=function(I){if(v(this)||v(I))return d;if(E(this))return E(I)?y(this).j(y(I)):y(y(this).j(I));if(E(I))return y(this.j(y(I)));if(0>this.l(p)&&0>I.l(p))return u(this.m()*I.m());for(var P=this.g.length+I.g.length,R=[],M=0;M<2*P;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<I.g.length;V++){var D=this.i(M)>>>16,k=this.i(M)&65535,Q=I.i(V)>>>16,ae=I.i(V)&65535;R[2*M+2*V]+=k*ae,T(R,2*M+2*V),R[2*M+2*V+1]+=D*ae,T(R,2*M+2*V+1),R[2*M+2*V+1]+=k*Q,T(R,2*M+2*V+1),R[2*M+2*V+2]+=D*Q,T(R,2*M+2*V+2)}for(M=0;M<P;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=P;M<2*P;M++)R[M]=0;return new o(R,0)};function T(I,P){for(;(I[P]&65535)!=I[P];)I[P+1]+=I[P]>>>16,I[P]&=65535,P++}function S(I,P){this.g=I,this.h=P}function w(I,P){if(v(P))throw Error("division by zero");if(v(I))return new S(d,d);if(E(I))return P=w(y(I),P),new S(y(P.g),y(P.h));if(E(P))return P=w(I,y(P)),new S(y(P.g),P.h);if(30<I.g.length){if(E(I)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var R=f,M=P;0>=M.l(I);)R=N(R),M=N(M);var V=O(R,1),D=O(M,1);for(M=O(M,2),R=O(R,2);!v(M);){var k=D.add(M);0>=k.l(I)&&(V=V.add(R),D=k),M=O(M,1),R=O(R,1)}return P=_(I,V.j(P)),new S(V,P)}for(V=d;0<=I.l(P);){for(R=Math.max(1,Math.floor(I.m()/P.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),D=u(R),k=D.j(P);E(k)||0<k.l(I);)R-=M,D=u(R),k=D.j(P);v(D)&&(D=f),V=V.add(D),I=_(I,k)}return new S(V,I)}t.A=function(I){return w(this,I).h},t.and=function(I){for(var P=Math.max(this.g.length,I.g.length),R=[],M=0;M<P;M++)R[M]=this.i(M)&I.i(M);return new o(R,this.h&I.h)},t.or=function(I){for(var P=Math.max(this.g.length,I.g.length),R=[],M=0;M<P;M++)R[M]=this.i(M)|I.i(M);return new o(R,this.h|I.h)},t.xor=function(I){for(var P=Math.max(this.g.length,I.g.length),R=[],M=0;M<P;M++)R[M]=this.i(M)^I.i(M);return new o(R,this.h^I.h)};function N(I){for(var P=I.g.length+1,R=[],M=0;M<P;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new o(R,I.h)}function O(I,P){var R=P>>5;P%=32;for(var M=I.g.length-R,V=[],D=0;D<M;D++)V[D]=0<P?I.i(D+R)>>>P|I.i(D+R+1)<<32-P:I.i(D+R);return new o(V,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,K6=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,ul=o}).apply(typeof O2<"u"?O2:typeof self<"u"?self:typeof window<"u"?window:{});var Rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W6,af,Y6,fg,rS,Q6,J6,X6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,C){return m==Array.prototype||m==Object.prototype||(m[A]=C.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rm=="object"&&Rm];for(var A=0;A<m.length;++A){var C=m[A];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(m,A){if(A)e:{var C=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var B=m[L];if(!(B in C))break e;C=C[B]}m=m[m.length-1],L=C[m],A=A(L),A!=L&&A!=null&&e(C,m,{configurable:!0,writable:!0,value:A})}}function a(m,A){m instanceof String&&(m+="");var C=0,L=!1,B={next:function(){if(!L&&C<m.length){var F=C++;return{value:A(F,m[F]),done:!1}}return L=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(m){return m||function(){return a(this,function(A,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function u(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function c(m,A,C){return m.call.apply(m.bind,arguments)}function d(m,A,C){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,L),m.apply(A,B)}}return function(){return m.apply(A,arguments)}}function f(m,A,C){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function p(m,A){var C=Array.prototype.slice.call(arguments,1);return function(){var L=C.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function v(m,A){function C(){}C.prototype=A.prototype,m.aa=A.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(L,B,F){for(var Z=Array(arguments.length-2),at=2;at<arguments.length;at++)Z[at-2]=arguments[at];return A.prototype[B].apply(L,Z)}}function E(m){const A=m.length;if(0<A){const C=Array(A);for(let L=0;L<A;L++)C[L]=m[L];return C}return[]}function y(m,A){for(let C=1;C<arguments.length;C++){const L=arguments[C];if(l(L)){const B=m.length||0,F=L.length||0;m.length=B+F;for(let Z=0;Z<F;Z++)m[B+Z]=L[Z]}else m.push(L)}}class _{constructor(A,C){this.i=A,this.j=C,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function T(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=s.navigator;return m&&(m=m.userAgent)?m:""}function w(m){return w[" "](m),m}w[" "]=function(){};var N=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(m,A,C){for(const L in m)A.call(C,m[L],L,m)}function I(m,A){for(const C in m)A.call(void 0,m[C],C,m)}function P(m){const A={};for(const C in m)A[C]=m[C];return A}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,A){let C,L;for(let B=1;B<arguments.length;B++){L=arguments[B];for(C in L)m[C]=L[C];for(let F=0;F<R.length;F++)C=R[F],Object.prototype.hasOwnProperty.call(L,C)&&(m[C]=L[C])}}function V(m){var A=1;m=m.split(":");const C=[];for(;0<A&&m.length;)C.push(m.shift()),A--;return m.length&&C.push(m.join(":")),C}function D(m){s.setTimeout(()=>{throw m},0)}function k(){var m=te;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class Q{constructor(){this.h=this.g=null}add(A,C){const L=ae.get();L.set(A,C),this.h?this.h.next=L:this.g=L,this.h=L}}var ae=new _(()=>new H,m=>m.reset());class H{constructor(){this.next=this.g=this.h=null}set(A,C){this.h=A,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let W,J=!1,te=new Q,ce=()=>{const m=s.Promise.resolve(void 0);W=()=>{m.then(Ge)}};var Ge=()=>{for(var m;m=k();){try{m.h.call(m.g)}catch(C){D(C)}var A=ae;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}J=!1};function ke(){this.s=this.s,this.C=this.C}ke.prototype.s=!1,ke.prototype.ma=function(){this.s||(this.s=!0,this.N())},ke.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};s.addEventListener("test",C,A),s.removeEventListener("test",C,A)}catch{}return m}();function $t(m,A){if(Le.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(N){e:{try{w(A.nodeName);var B=!0;break e}catch{}B=!1}B||(A=null)}}else C=="mouseover"?A=m.fromElement:C=="mouseout"&&(A=m.toElement);this.relatedTarget=A,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ea[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&$t.aa.h.call(this)}}v($t,Le);var ea={2:"touch",3:"pen",4:"mouse"};$t.prototype.h=function(){$t.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),Ci=0;function Y(m,A,C,L,B){this.listener=m,this.proxy=null,this.src=A,this.type=C,this.capture=!!L,this.ha=B,this.key=++Ci,this.da=this.fa=!1}function ge(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function j(m){this.src=m,this.g={},this.h=0}j.prototype.add=function(m,A,C,L,B){var F=m.toString();m=this.g[F],m||(m=this.g[F]=[],this.h++);var Z=et(m,A,L,B);return-1<Z?(A=m[Z],C||(A.fa=!1)):(A=new Y(A,this.src,F,!!L,B),A.fa=C,m.push(A)),A};function $(m,A){var C=A.type;if(C in m.g){var L=m.g[C],B=Array.prototype.indexOf.call(L,A,void 0),F;(F=0<=B)&&Array.prototype.splice.call(L,B,1),F&&(ge(A),m.g[C].length==0&&(delete m.g[C],m.h--))}}function et(m,A,C,L){for(var B=0;B<m.length;++B){var F=m[B];if(!F.da&&F.listener==A&&F.capture==!!C&&F.ha==L)return B}return-1}var He="closure_lm_"+(1e6*Math.random()|0),vn={};function Cn(m,A,C,L,B){if(Array.isArray(A)){for(var F=0;F<A.length;F++)Cn(m,A[F],C,L,B);return null}return C=JC(C),m&&m[Lt]?m.K(A,C,u(L)?!!L.capture:!1,B):ta(m,A,C,!1,L,B)}function ta(m,A,C,L,B,F){if(!A)throw Error("Invalid event type");var Z=u(B)?!!B.capture:!!B,at=U_(m);if(at||(m[He]=at=new j(m)),C=at.add(A,C,L,Z,F),C.proxy)return C;if(L=Cp(),C.proxy=L,L.src=m,L.listener=C,m.addEventListener)ct||(B=Z),B===void 0&&(B=!1),m.addEventListener(A.toString(),L,B);else if(m.attachEvent)m.attachEvent(QC(A.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Cp(){function m(C){return A.call(m.src,m.listener,C)}const A=WG;return m}function YC(m,A,C,L,B){if(Array.isArray(A))for(var F=0;F<A.length;F++)YC(m,A[F],C,L,B);else L=u(L)?!!L.capture:!!L,C=JC(C),m&&m[Lt]?(m=m.i,A=String(A).toString(),A in m.g&&(F=m.g[A],C=et(F,C,L,B),-1<C&&(ge(F[C]),Array.prototype.splice.call(F,C,1),F.length==0&&(delete m.g[A],m.h--)))):m&&(m=U_(m))&&(A=m.g[A.toString()],m=-1,A&&(m=et(A,C,L,B)),(C=-1<m?A[m]:null)&&V_(C))}function V_(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[Lt])$(A.i,m);else{var C=m.type,L=m.proxy;A.removeEventListener?A.removeEventListener(C,L,m.capture):A.detachEvent?A.detachEvent(QC(C),L):A.addListener&&A.removeListener&&A.removeListener(L),(C=U_(A))?($(C,m),C.h==0&&(C.src=null,A[He]=null)):ge(m)}}}function QC(m){return m in vn?vn[m]:vn[m]="on"+m}function WG(m,A){if(m.da)m=!0;else{A=new $t(A,this);var C=m.listener,L=m.ha||m.src;m.fa&&V_(m),m=C.call(L,A)}return m}function U_(m){return m=m[He],m instanceof j?m:null}var B_="__closure_events_fn_"+(1e9*Math.random()>>>0);function JC(m){return typeof m=="function"?m:(m[B_]||(m[B_]=function(A){return m.handleEvent(A)}),m[B_])}function Pn(){ke.call(this),this.i=new j(this),this.M=this,this.F=null}v(Pn,ke),Pn.prototype[Lt]=!0,Pn.prototype.removeEventListener=function(m,A,C,L){YC(this,m,A,C,L)};function Bn(m,A){var C,L=m.F;if(L)for(C=[];L;L=L.F)C.push(L);if(m=m.M,L=A.type||A,typeof A=="string")A=new Le(A,m);else if(A instanceof Le)A.target=A.target||m;else{var B=A;A=new Le(L,m),M(A,B)}if(B=!0,C)for(var F=C.length-1;0<=F;F--){var Z=A.g=C[F];B=Pp(Z,L,!0,A)&&B}if(Z=A.g=m,B=Pp(Z,L,!0,A)&&B,B=Pp(Z,L,!1,A)&&B,C)for(F=0;F<C.length;F++)Z=A.g=C[F],B=Pp(Z,L,!1,A)&&B}Pn.prototype.N=function(){if(Pn.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var C=m.g[A],L=0;L<C.length;L++)ge(C[L]);delete m.g[A],m.h--}}this.F=null},Pn.prototype.K=function(m,A,C,L){return this.i.add(String(m),A,!1,C,L)},Pn.prototype.L=function(m,A,C,L){return this.i.add(String(m),A,!0,C,L)};function Pp(m,A,C,L){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var B=!0,F=0;F<A.length;++F){var Z=A[F];if(Z&&!Z.da&&Z.capture==C){var at=Z.listener,yn=Z.ha||Z.src;Z.fa&&$(m.i,Z),B=at.call(yn,L)!==!1&&B}}return B&&!L.defaultPrevented}function XC(m,A,C){if(typeof m=="function")C&&(m=f(m,C));else if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:s.setTimeout(m,A||0)}function ZC(m){m.g=XC(()=>{m.g=null,m.i&&(m.i=!1,ZC(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class YG extends ke{constructor(A,C){super(),this.m=A,this.l=C,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:ZC(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hd(m){ke.call(this),this.h=m,this.g={}}v(hd,ke);var eP=[];function tP(m){O(m.g,function(A,C){this.g.hasOwnProperty(C)&&V_(A)},m),m.g={}}hd.prototype.N=function(){hd.aa.N.call(this),tP(this)},hd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var z_=s.JSON.stringify,QG=s.JSON.parse,JG=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function F_(){}F_.prototype.h=null;function nP(m){return m.h||(m.h=m.i())}function rP(){}var pd={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function j_(){Le.call(this,"d")}v(j_,Le);function $_(){Le.call(this,"c")}v($_,Le);var Ps={},iP=null;function Rp(){return iP=iP||new Pn}Ps.La="serverreachability";function aP(m){Le.call(this,Ps.La,m)}v(aP,Le);function md(m){const A=Rp();Bn(A,new aP(A))}Ps.STAT_EVENT="statevent";function oP(m,A){Le.call(this,Ps.STAT_EVENT,m),this.stat=A}v(oP,Le);function zn(m){const A=Rp();Bn(A,new oP(A,m))}Ps.Ma="timingevent";function sP(m,A){Le.call(this,Ps.Ma,m),this.size=A}v(sP,Le);function gd(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},A)}function vd(){this.g=!0}vd.prototype.xa=function(){this.g=!1};function XG(m,A,C,L,B,F){m.info(function(){if(m.g)if(F)for(var Z="",at=F.split("&"),yn=0;yn<at.length;yn++){var Ue=at[yn].split("=");if(1<Ue.length){var Rn=Ue[0];Ue=Ue[1];var Nn=Rn.split("_");Z=2<=Nn.length&&Nn[1]=="type"?Z+(Rn+"="+Ue+"&"):Z+(Rn+"=redacted&")}}else Z=null;else Z=F;return"XMLHTTP REQ ("+L+") [attempt "+B+"]: "+A+`
`+C+`
`+Z})}function ZG(m,A,C,L,B,F,Z){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+B+"]: "+A+`
`+C+`
`+F+" "+Z})}function Hl(m,A,C,L){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+tH(m,C)+(L?" "+L:"")})}function eH(m,A){m.info(function(){return"TIMEOUT: "+A})}vd.prototype.info=function(){};function tH(m,A){if(!m.g)return A;if(!A)return null;try{var C=JSON.parse(A);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var L=C[m];if(!(2>L.length)){var B=L[1];if(Array.isArray(B)&&!(1>B.length)){var F=B[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Z=1;Z<B.length;Z++)B[Z]=""}}}}return z_(C)}catch{return A}}var Np={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lP={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},q_;function Op(){}v(Op,F_),Op.prototype.g=function(){return new XMLHttpRequest},Op.prototype.i=function(){return{}},q_=new Op;function so(m,A,C,L){this.j=m,this.i=A,this.l=C,this.R=L||1,this.U=new hd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uP}function uP(){this.i=null,this.g="",this.h=!1}var cP={},G_={};function H_(m,A,C){m.L=1,m.v=Lp(na(A)),m.m=C,m.P=!0,dP(m,null)}function dP(m,A){m.F=Date.now(),Mp(m),m.A=na(m.v);var C=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),xP(C.i,"t",L),m.C=0,C=m.j.J,m.h=new uP,m.g=$P(m.j,C?A:null,!m.m),0<m.O&&(m.M=new YG(f(m.Y,m,m.g),m.O)),A=m.U,C=m.g,L=m.ca;var B="readystatechange";Array.isArray(B)||(B&&(eP[0]=B.toString()),B=eP);for(var F=0;F<B.length;F++){var Z=Cn(C,B[F],L||A.handleEvent,!1,A.h||A);if(!Z)break;A.g[Z.key]=Z}A=m.H?P(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),md(),XG(m.i,m.u,m.A,m.l,m.R,m.m)}so.prototype.ca=function(m){m=m.target;const A=this.M;A&&ra(m)==3?A.j():this.Y(m)},so.prototype.Y=function(m){try{if(m==this.g)e:{const Nn=ra(this.g);var A=this.g.Ba();const Yl=this.g.Z();if(!(3>Nn)&&(Nn!=3||this.g&&(this.h.h||this.g.oa()||OP(this.g)))){this.J||Nn!=4||A==7||(A==8||0>=Yl?md(3):md(2)),K_(this);var C=this.g.Z();this.X=C;t:if(fP(this)){var L=OP(this.g);m="";var B=L.length,F=ra(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rs(this),yd(this);var Z="";break t}this.h.i=new s.TextDecoder}for(A=0;A<B;A++)this.h.h=!0,m+=this.h.i.decode(L[A],{stream:!(F&&A==B-1)});L.length=0,this.h.g+=m,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=C==200,ZG(this.i,this.u,this.A,this.l,this.R,Nn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var at,yn=this.g;if((at=yn.g?yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(at)){var Ue=at;break t}}Ue=null}if(C=Ue)Hl(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,W_(this,C);else{this.o=!1,this.s=3,zn(12),Rs(this),yd(this);break e}}if(this.P){C=!0;let li;for(;!this.J&&this.C<Z.length;)if(li=nH(this,Z),li==G_){Nn==4&&(this.s=4,zn(14),C=!1),Hl(this.i,this.l,null,"[Incomplete Response]");break}else if(li==cP){this.s=4,zn(15),Hl(this.i,this.l,Z,"[Invalid Chunk]"),C=!1;break}else Hl(this.i,this.l,li,null),W_(this,li);if(fP(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nn!=4||Z.length!=0||this.h.h||(this.s=1,zn(16),C=!1),this.o=this.o&&C,!C)Hl(this.i,this.l,Z,"[Invalid Chunked Response]"),Rs(this),yd(this);else if(0<Z.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),eb(Rn),Rn.M=!0,zn(11))}}else Hl(this.i,this.l,Z,null),W_(this,Z);Nn==4&&Rs(this),this.o&&!this.J&&(Nn==4?BP(this.j,this):(this.o=!1,Mp(this)))}else _H(this.g),C==400&&0<Z.indexOf("Unknown SID")?(this.s=3,zn(12)):(this.s=0,zn(13)),Rs(this),yd(this)}}}catch{}finally{}};function fP(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function nH(m,A){var C=m.C,L=A.indexOf(`
`,C);return L==-1?G_:(C=Number(A.substring(C,L)),isNaN(C)?cP:(L+=1,L+C>A.length?G_:(A=A.slice(L,L+C),m.C=L+C,A)))}so.prototype.cancel=function(){this.J=!0,Rs(this)};function Mp(m){m.S=Date.now()+m.I,hP(m,m.I)}function hP(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=gd(f(m.ba,m),A)}function K_(m){m.B&&(s.clearTimeout(m.B),m.B=null)}so.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(eH(this.i,this.A),this.L!=2&&(md(),zn(17)),Rs(this),this.s=2,yd(this)):hP(this,this.S-m)};function yd(m){m.j.G==0||m.J||BP(m.j,m)}function Rs(m){K_(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,tP(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function W_(m,A){try{var C=m.j;if(C.G!=0&&(C.g==m||Y_(C.h,m))){if(!m.K&&Y_(C.h,m)&&C.G==3){try{var L=C.Da.g.parse(A)}catch{L=null}if(Array.isArray(L)&&L.length==3){var B=L;if(B[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)jp(C),zp(C);else break e;Z_(C),zn(18)}}else C.za=B[1],0<C.za-C.T&&37500>B[2]&&C.F&&C.v==0&&!C.C&&(C.C=gd(f(C.Za,C),6e3));if(1>=gP(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Os(C,11)}else if((m.K||C.g==m)&&jp(C),!T(A))for(B=C.Da.g.parse(A),A=0;A<B.length;A++){let Ue=B[A];if(C.T=Ue[0],Ue=Ue[1],C.G==2)if(Ue[0]=="c"){C.K=Ue[1],C.ia=Ue[2];const Rn=Ue[3];Rn!=null&&(C.la=Rn,C.j.info("VER="+C.la));const Nn=Ue[4];Nn!=null&&(C.Aa=Nn,C.j.info("SVER="+C.Aa));const Yl=Ue[5];Yl!=null&&typeof Yl=="number"&&0<Yl&&(L=1.5*Yl,C.L=L,C.j.info("backChannelRequestTimeoutMs_="+L)),L=C;const li=m.g;if(li){const qp=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qp){var F=L.h;F.g||qp.indexOf("spdy")==-1&&qp.indexOf("quic")==-1&&qp.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Q_(F,F.h),F.h=null))}if(L.D){const tb=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;tb&&(L.ya=tb,mt(L.I,L.D,tb))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),L=C;var Z=m;if(L.qa=jP(L,L.J?L.ia:null,L.W),Z.K){vP(L.h,Z);var at=Z,yn=L.L;yn&&(at.I=yn),at.B&&(K_(at),Mp(at)),L.g=Z}else VP(L);0<C.i.length&&Fp(C)}else Ue[0]!="stop"&&Ue[0]!="close"||Os(C,7);else C.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Os(C,7):X_(C):Ue[0]!="noop"&&C.l&&C.l.ta(Ue),C.v=0)}}md(4)}catch{}}var rH=class{constructor(m,A){this.g=m,this.map=A}};function pP(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mP(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function gP(m){return m.h?1:m.g?m.g.size:0}function Y_(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function Q_(m,A){m.g?m.g.add(A):m.h=A}function vP(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}pP.prototype.cancel=function(){if(this.i=yP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function yP(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const C of m.g.values())A=A.concat(C.D);return A}return E(m.i)}function iH(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var A=[],C=m.length,L=0;L<C;L++)A.push(m[L]);return A}A=[],C=0;for(L in m)A[C++]=m[L];return A}function aH(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var A=[];m=m.length;for(var C=0;C<m;C++)A.push(C);return A}A=[],C=0;for(const L in m)A[C++]=L;return A}}}function _P(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var C=aH(m),L=iH(m),B=L.length,F=0;F<B;F++)A.call(void 0,L[F],C&&C[F],m)}var bP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oH(m,A){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var L=m[C].indexOf("="),B=null;if(0<=L){var F=m[C].substring(0,L);B=m[C].substring(L+1)}else F=m[C];A(F,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ns(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ns){this.h=m.h,Dp(this,m.j),this.o=m.o,this.g=m.g,kp(this,m.s),this.l=m.l;var A=m.i,C=new Ed;C.i=A.i,A.g&&(C.g=new Map(A.g),C.h=A.h),EP(this,C),this.m=m.m}else m&&(A=String(m).match(bP))?(this.h=!1,Dp(this,A[1]||"",!0),this.o=_d(A[2]||""),this.g=_d(A[3]||"",!0),kp(this,A[4]),this.l=_d(A[5]||"",!0),EP(this,A[6]||"",!0),this.m=_d(A[7]||"")):(this.h=!1,this.i=new Ed(null,this.h))}Ns.prototype.toString=function(){var m=[],A=this.j;A&&m.push(bd(A,TP,!0),":");var C=this.g;return(C||A=="file")&&(m.push("//"),(A=this.o)&&m.push(bd(A,TP,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(bd(C,C.charAt(0)=="/"?uH:lH,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",bd(C,dH)),m.join("")};function na(m){return new Ns(m)}function Dp(m,A,C){m.j=C?_d(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function kp(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function EP(m,A,C){A instanceof Ed?(m.i=A,fH(m.i,m.h)):(C||(A=bd(A,cH)),m.i=new Ed(A,m.h))}function mt(m,A,C){m.i.set(A,C)}function Lp(m){return mt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function _d(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function bd(m,A,C){return typeof m=="string"?(m=encodeURI(m).replace(A,sH),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function sH(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var TP=/[#\/\?@]/g,lH=/[#\?:]/g,uH=/[#\?]/g,cH=/[#\?@]/g,dH=/#/g;function Ed(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function lo(m){m.g||(m.g=new Map,m.h=0,m.i&&oH(m.i,function(A,C){m.add(decodeURIComponent(A.replace(/\+/g," ")),C)}))}t=Ed.prototype,t.add=function(m,A){lo(this),this.i=null,m=Kl(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(A),this.h+=1,this};function AP(m,A){lo(m),A=Kl(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function SP(m,A){return lo(m),A=Kl(m,A),m.g.has(A)}t.forEach=function(m,A){lo(this),this.g.forEach(function(C,L){C.forEach(function(B){m.call(A,B,L,this)},this)},this)},t.na=function(){lo(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),C=[];for(let L=0;L<A.length;L++){const B=m[L];for(let F=0;F<B.length;F++)C.push(A[L])}return C},t.V=function(m){lo(this);let A=[];if(typeof m=="string")SP(this,m)&&(A=A.concat(this.g.get(Kl(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)A=A.concat(m[C])}return A},t.set=function(m,A){return lo(this),this.i=null,m=Kl(this,m),SP(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},t.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function xP(m,A,C){AP(m,A),0<C.length&&(m.i=null,m.g.set(Kl(m,A),E(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var C=0;C<A.length;C++){var L=A[C];const F=encodeURIComponent(String(L)),Z=this.V(L);for(L=0;L<Z.length;L++){var B=F;Z[L]!==""&&(B+="="+encodeURIComponent(String(Z[L]))),m.push(B)}}return this.i=m.join("&")};function Kl(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function fH(m,A){A&&!m.j&&(lo(m),m.i=null,m.g.forEach(function(C,L){var B=L.toLowerCase();L!=B&&(AP(this,L),xP(this,B,C))},m)),m.j=A}function hH(m,A){const C=new vd;if(s.Image){const L=new Image;L.onload=p(uo,C,"TestLoadImage: loaded",!0,A,L),L.onerror=p(uo,C,"TestLoadImage: error",!1,A,L),L.onabort=p(uo,C,"TestLoadImage: abort",!1,A,L),L.ontimeout=p(uo,C,"TestLoadImage: timeout",!1,A,L),s.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else A(!1)}function pH(m,A){const C=new vd,L=new AbortController,B=setTimeout(()=>{L.abort(),uo(C,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:L.signal}).then(F=>{clearTimeout(B),F.ok?uo(C,"TestPingServer: ok",!0,A):uo(C,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(B),uo(C,"TestPingServer: error",!1,A)})}function uo(m,A,C,L,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),L(C)}catch{}}function mH(){this.g=new JG}function gH(m,A,C){const L=C||"";try{_P(m,function(B,F){let Z=B;u(B)&&(Z=z_(B)),A.push(L+F+"="+encodeURIComponent(Z))})}catch(B){throw A.push(L+"type="+encodeURIComponent("_badmap")),B}}function Vp(m){this.l=m.Ub||null,this.j=m.eb||!1}v(Vp,F_),Vp.prototype.g=function(){return new Up(this.l,this.j)},Vp.prototype.i=function(m){return function(){return m}}({});function Up(m,A){Pn.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Up,Pn),t=Up.prototype,t.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,Ad(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||s).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Td(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ad(this)),this.g&&(this.readyState=3,Ad(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wP(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function wP(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?Td(this):Ad(this),this.readyState==3&&wP(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Td(this))},t.Qa=function(m){this.g&&(this.response=m,Td(this))},t.ga=function(){this.g&&Td(this)};function Td(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ad(m)}t.setRequestHeader=function(m,A){this.u.append(m,A)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var C=A.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=A.next();return m.join(`\r
`)};function Ad(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Up.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function IP(m){let A="";return O(m,function(C,L){A+=L,A+=":",A+=C,A+=`\r
`}),A}function J_(m,A,C){e:{for(L in C){var L=!1;break e}L=!0}L||(C=IP(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):mt(m,A,C))}function Ct(m){Pn.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ct,Pn);var vH=/^https?$/i,yH=["POST","PUT"];t=Ct.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,A,C,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():q_.g(),this.v=this.o?nP(this.o):nP(q_),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(F){CP(this,F);return}if(m=C||"",C=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var B in L)C.set(B,L[B]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const F of L.keys())C.set(F,L.get(F));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(C.keys()).find(F=>F.toLowerCase()=="content-type"),B=s.FormData&&m instanceof s.FormData,!(0<=Array.prototype.indexOf.call(yH,A,void 0))||L||B||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Z]of C)this.g.setRequestHeader(F,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{NP(this),this.u=!0,this.g.send(m),this.u=!1}catch(F){CP(this,F)}};function CP(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,PP(m),Bp(m)}function PP(m){m.A||(m.A=!0,Bn(m,"complete"),Bn(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Bn(this,"complete"),Bn(this,"abort"),Bp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bp(this,!0)),Ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?RP(this):this.bb())},t.bb=function(){RP(this)};function RP(m){if(m.h&&typeof o<"u"&&(!m.v[1]||ra(m)!=4||m.Z()!=2)){if(m.u&&ra(m)==4)XC(m.Ea,0,m);else if(Bn(m,"readystatechange"),ra(m)==4){m.h=!1;try{const Z=m.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var C;if(!(C=A)){var L;if(L=Z===0){var B=String(m.D).match(bP)[1]||null;!B&&s.self&&s.self.location&&(B=s.self.location.protocol.slice(0,-1)),L=!vH.test(B?B.toLowerCase():"")}C=L}if(C)Bn(m,"complete"),Bn(m,"success");else{m.m=6;try{var F=2<ra(m)?m.g.statusText:""}catch{F=""}m.l=F+" ["+m.Z()+"]",PP(m)}}finally{Bp(m)}}}}function Bp(m,A){if(m.g){NP(m);const C=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||Bn(m,"ready");try{C.onreadystatechange=L}catch{}}}function NP(m){m.I&&(s.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ra(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ra(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),QG(A)}};function OP(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function _H(m){const A={};m=(m.g&&2<=ra(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(T(m[L]))continue;var C=V(m[L]);const B=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const F=A[B]||[];A[B]=F,F.push(C)}I(A,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sd(m,A,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||A}function MP(m){this.Aa=0,this.i=[],this.j=new vd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sd("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sd("baseRetryDelayMs",5e3,m),this.cb=Sd("retryDelaySeedMs",1e4,m),this.Wa=Sd("forwardChannelMaxRetries",2,m),this.wa=Sd("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new pP(m&&m.concurrentRequestLimit),this.Da=new mH,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=MP.prototype,t.la=8,t.G=1,t.connect=function(m,A,C,L){zn(0),this.W=m,this.H=A||{},C&&L!==void 0&&(this.H.OSID=C,this.H.OAID=L),this.F=this.X,this.I=jP(this,null,this.W),Fp(this)};function X_(m){if(DP(m),m.G==3){var A=m.U++,C=na(m.I);if(mt(C,"SID",m.K),mt(C,"RID",A),mt(C,"TYPE","terminate"),xd(m,C),A=new so(m,m.j,A),A.L=2,A.v=Lp(na(C)),C=!1,s.navigator&&s.navigator.sendBeacon)try{C=s.navigator.sendBeacon(A.v.toString(),"")}catch{}!C&&s.Image&&(new Image().src=A.v,C=!0),C||(A.g=$P(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Mp(A)}FP(m)}function zp(m){m.g&&(eb(m),m.g.cancel(),m.g=null)}function DP(m){zp(m),m.u&&(s.clearTimeout(m.u),m.u=null),jp(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&s.clearTimeout(m.s),m.s=null)}function Fp(m){if(!mP(m.h)&&!m.s){m.s=!0;var A=m.Ga;W||ce(),J||(W(),J=!0),te.add(A,m),m.B=0}}function bH(m,A){return gP(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=gd(f(m.Ga,m,A),zP(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const B=new so(this,this.j,m);let F=this.o;if(this.S&&(F?(F=P(F),M(F,this.S)):F=this.S),this.m!==null||this.O||(B.H=F,F=null),this.P)e:{for(var A=0,C=0;C<this.i.length;C++){t:{var L=this.i[C];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(A+=L,4096<A){A=C;break e}if(A===4096||C===this.i.length-1){A=C+1;break e}}A=1e3}else A=1e3;A=LP(this,B,A),C=na(this.I),mt(C,"RID",m),mt(C,"CVER",22),this.D&&mt(C,"X-HTTP-Session-Id",this.D),xd(this,C),F&&(this.O?A="headers="+encodeURIComponent(String(IP(F)))+"&"+A:this.m&&J_(C,this.m,F)),Q_(this.h,B),this.Ua&&mt(C,"TYPE","init"),this.P?(mt(C,"$req",A),mt(C,"SID","null"),B.T=!0,H_(B,C,null)):H_(B,C,A),this.G=2}}else this.G==3&&(m?kP(this,m):this.i.length==0||mP(this.h)||kP(this))};function kP(m,A){var C;A?C=A.l:C=m.U++;const L=na(m.I);mt(L,"SID",m.K),mt(L,"RID",C),mt(L,"AID",m.T),xd(m,L),m.m&&m.o&&J_(L,m.m,m.o),C=new so(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),A&&(m.i=A.D.concat(m.i)),A=LP(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Q_(m.h,C),H_(C,L,A)}function xd(m,A){m.H&&O(m.H,function(C,L){mt(A,L,C)}),m.l&&_P({},function(C,L){mt(A,L,C)})}function LP(m,A,C){C=Math.min(m.i.length,C);var L=m.l?f(m.l.Na,m.l,m):null;e:{var B=m.i;let F=-1;for(;;){const Z=["count="+C];F==-1?0<C?(F=B[0].g,Z.push("ofs="+F)):F=0:Z.push("ofs="+F);let at=!0;for(let yn=0;yn<C;yn++){let Ue=B[yn].g;const Rn=B[yn].map;if(Ue-=F,0>Ue)F=Math.max(0,B[yn].g-100),at=!1;else try{gH(Rn,Z,"req"+Ue+"_")}catch{L&&L(Rn)}}if(at){L=Z.join("&");break e}}}return m=m.i.splice(0,C),A.D=m,L}function VP(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;W||ce(),J||(W(),J=!0),te.add(A,m),m.v=0}}function Z_(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=gd(f(m.Fa,m),zP(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,UP(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=gd(f(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zn(10),zp(this),UP(this))};function eb(m){m.A!=null&&(s.clearTimeout(m.A),m.A=null)}function UP(m){m.g=new so(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=na(m.qa);mt(A,"RID","rpc"),mt(A,"SID",m.K),mt(A,"AID",m.T),mt(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&mt(A,"TO",m.ja),mt(A,"TYPE","xmlhttp"),xd(m,A),m.m&&m.o&&J_(A,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=Lp(na(A)),C.m=null,C.P=!0,dP(C,m)}t.Za=function(){this.C!=null&&(this.C=null,zp(this),Z_(this),zn(19))};function jp(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function BP(m,A){var C=null;if(m.g==A){jp(m),eb(m),m.g=null;var L=2}else if(Y_(m.h,A))C=A.D,vP(m.h,A),L=1;else return;if(m.G!=0){if(A.o)if(L==1){C=A.m?A.m.length:0,A=Date.now()-A.F;var B=m.B;L=Rp(),Bn(L,new sP(L,C)),Fp(m)}else VP(m);else if(B=A.s,B==3||B==0&&0<A.X||!(L==1&&bH(m,A)||L==2&&Z_(m)))switch(C&&0<C.length&&(A=m.h,A.i=A.i.concat(C)),B){case 1:Os(m,5);break;case 4:Os(m,10);break;case 3:Os(m,6);break;default:Os(m,2)}}}function zP(m,A){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*A}function Os(m,A){if(m.j.info("Error code "+A),A==2){var C=f(m.fb,m),L=m.Xa;const B=!L;L=new Ns(L||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Dp(L,"https"),Lp(L),B?hH(L.toString(),C):pH(L.toString(),C)}else zn(2);m.G=0,m.l&&m.l.sa(A),FP(m),DP(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),zn(2)):(this.j.info("Failed to ping google.com"),zn(1))};function FP(m){if(m.G=0,m.ka=[],m.l){const A=yP(m.h);(A.length!=0||m.i.length!=0)&&(y(m.ka,A),y(m.ka,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.ra()}}function jP(m,A,C){var L=C instanceof Ns?na(C):new Ns(C);if(L.g!="")A&&(L.g=A+"."+L.g),kp(L,L.s);else{var B=s.location;L=B.protocol,A=A?A+"."+B.hostname:B.hostname,B=+B.port;var F=new Ns(null);L&&Dp(F,L),A&&(F.g=A),B&&kp(F,B),C&&(F.l=C),L=F}return C=m.D,A=m.ya,C&&A&&mt(L,C,A),mt(L,"VER",m.la),xd(m,L),L}function $P(m,A,C){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new Ct(new Vp({eb:C})):new Ct(m.pa),A.Ha(m.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qP(){}t=qP.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $p(){}$p.prototype.g=function(m,A){return new hr(m,A)};function hr(m,A){Pn.call(this),this.g=new MP(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!T(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!T(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new Wl(this)}v(hr,Pn),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){X_(this.g)},hr.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=z_(m),m=C);A.i.push(new rH(A.Ya++,m)),A.G==3&&Fp(A)},hr.prototype.N=function(){this.g.l=null,delete this.j,X_(this.g),delete this.g,hr.aa.N.call(this)};function GP(m){j_.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const C in A){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}v(GP,j_);function HP(){$_.call(this),this.status=1}v(HP,$_);function Wl(m){this.g=m}v(Wl,qP),Wl.prototype.ua=function(){Bn(this.g,"a")},Wl.prototype.ta=function(m){Bn(this.g,new GP(m))},Wl.prototype.sa=function(m){Bn(this.g,new HP)},Wl.prototype.ra=function(){Bn(this.g,"b")},$p.prototype.createWebChannel=$p.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,X6=function(){return new $p},J6=function(){return Rp()},Q6=Ps,rS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Np.NO_ERROR=0,Np.TIMEOUT=8,Np.HTTP_ERROR=6,fg=Np,lP.COMPLETE="complete",Y6=lP,rP.EventType=pd,pd.OPEN="a",pd.CLOSE="b",pd.ERROR="c",pd.MESSAGE="d",Pn.prototype.listen=Pn.prototype.K,af=rP,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,W6=Ct}).apply(typeof Rm<"u"?Rm:typeof self<"u"?self:typeof window<"u"?window:{});const M2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new HI("@firebase/firestore");function fu(){return Cl.logLevel}function K(t,...e){if(Cl.logLevel<=Pe.DEBUG){const n=e.map(rC);Cl.debug(`Firestore (${ld}): ${t}`,...n)}}function Ut(t,...e){if(Cl.logLevel<=Pe.ERROR){const n=e.map(rC);Cl.error(`Firestore (${ld}): ${t}`,...n)}}function yh(t,...e){if(Cl.logLevel<=Pe.WARN){const n=e.map(rC);Cl.warn(`Firestore (${ld}): ${t}`,...n)}}function rC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${ld}) INTERNAL ASSERTION FAILED: `+t;throw Ut(e),new Error(e)}function ue(t,e){t||se()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends ao{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oxe{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mxe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class Dxe{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Ra;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ra,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ra)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string"),new Oxe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new Dn(e)}}class kxe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Lxe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new kxe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vxe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uxe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ue(this.o===void 0);const r=a=>{a.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new Vxe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bxe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Bxe(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function vc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function eq(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new bt(0,0))}static max(){return new de(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _h.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _h?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),o=n.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends _h{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const zxe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends _h{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return zxe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new X(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new X(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new X(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ke.fromString(e))}static fromName(e){return new ne(Ke.fromString(e).popFirst(5))}static empty(){return new ne(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function iS(t){return t.fields.find(e=>e.kind===2)}function qs(t){return t.fields.filter(e=>e.kind!==2)}uy.UNKNOWN_ID=-1;class hg{constructor(e,n){this.fieldPath=e,this.kind=n}}class bh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new bh(0,Nr.min())}}function tq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Nr(i,ne.empty(),e)}function nq(t){return new Nr(t.readTime,t.key,-1)}class Nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Nr(de.min(),ne.empty(),-1)}static max(){return new Nr(de.max(),ne.empty(),-1)}}function iC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==rq)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++s,s===a&&r(o)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ra,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new If(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=aC(r.target.error);this.V.reject(new If(e,i))}}static open(e,n,r,i){try{return new y_(n,e.transaction(i,r))}catch(a){throw new If(n,a)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new jxe(n)}}class es{constructor(e,n,r){this.name=e,this.version=n,this.p=r,es.S(en())===12.2&&Ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),Gs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!l6())return!1;if(es.v())return!0;const e=en(),n=es.S(e),r=0<n&&n<10,i=aq(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const o=a.target.result;n(o)},i.onblocked=()=>{r(new If(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const o=a.target.error;o.name==="VersionError"?r(new X(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new X(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new If(e,o))},i.onupgradeneeded=a=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const o=a.target.result;this.p.O(o,i.transaction,a.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const s=y_.open(this.db,e,a?"readonly":"readwrite",r),l=i(s).next(u=>(s.g(),u)).catch(u=>(s.abort(u),z.reject(u))).toPromise();return l.catch(()=>{}),await s.m,l}catch(s){const l=s,u=l.name!=="FirebaseError"&&o<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function aq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Fxe{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Gs(this.B.delete())}}class If extends X{constructor(e,n){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xs(t){return t.name==="IndexedDbTransactionError"}class jxe{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gs(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),Gs(this.store.add(e))}get(e){return Gs(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),Gs(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),Gs(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new z((o,s)=>{a.onerror=l=>{s(l.target.error)},a.onsuccess=l=>{o(l.target.result)}})}{const a=this.cursor(r),o=[];return this.W(a,(s,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,a)=>{r.onerror=o=>{a(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(a,o,s)=>s.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=a=>{const o=aC(a.target.error);i(o)},n.onsuccess=a=>{const o=a.target.result;o?e(o.primaryKey,o.value).next(s=>{s?o.continue():r()}):r()}})}W(e,n){const r=[];return new z((i,a)=>{e.onerror=o=>{a(o.target.error)},e.onsuccess=o=>{const s=o.target.result;if(!s)return void i();const l=new Fxe(s),u=n(s.primaryKey,s.value,l);if(u instanceof z){const c=u.catch(d=>(l.done(),z.reject(d)));r.push(c)}l.isDone?i():l.K===null?s.continue():s.continue(l.K)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Gs(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=aC(r.target.error);n(i)}})}let D2=!1;function aC(t){const e=es.S(en());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return D2||(D2=!0,setTimeout(()=>{throw r},0)),r}}return t}class $xe{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){K("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{K("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){xs(n)?K("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ss(n)}await this.X(6e4)})}}class qxe{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,a=!0;return z.doWhile(()=>a===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return K("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(s=>{i-=s,r.add(o)});a=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(a=>{const o=a.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,a)).next(s=>(K("IndexBackfiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,a)=>{const o=nq(a);iC(o,r)>0&&(r=o)}),new Nr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}sr.oe=-1;function __(t){return t==null}function Eh(t){return t===0&&1/t==-1/0}function oq(t){return typeof t=="number"&&Number.isInteger(t)&&!Eh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=k2(e)),e=Gxe(t.get(n),e);return k2(e)}function Gxe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function k2(t){return t+""}function Vi(t){const e=t.length;if(ue(e>=2),e===2)return ue(t.charAt(0)===""&&t.charAt(1)===""),Ke.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const o=t.indexOf("",a);switch((o<0||o>n)&&se(),t.charAt(o+1)){case"":const s=t.substring(a,o);let l;i.length===0?l=s:(i+=s,l=i,i=""),r.push(l);break;case"":i+=t.substring(a,o),i+="\0";break;case"":i+=t.substring(a,o+1);break;default:se()}a=o+2}return new Ke(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e){return[t,Kn(e)]}function sq(t,e,n){return[t,Kn(e),n]}const Hxe={},Kxe=["prefixPath","collectionGroup","readTime","documentId"],Wxe=["prefixPath","collectionGroup","documentId"],Yxe=["collectionGroup","readTime","prefixPath","documentId"],Qxe=["canonicalId","targetId"],Jxe=["targetId","path"],Xxe=["path","targetId"],Zxe=["collectionId","parent"],ewe=["indexId","uid"],twe=["uid","sequenceNumber"],nwe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rwe=["indexId","uid","orderedDocumentKey"],iwe=["userId","collectionPath","documentId"],awe=["userId","collectionPath","largestBatchId"],owe=["userId","collectionGroup","largestBatchId"],lq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],swe=[...lq,"documentOverlays"],uq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cq=uq,oC=[...cq,"indexConfiguration","indexState","indexEntries"],lwe=oC,uwe=[...oC,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS extends iq{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function an(t,e){const n=le(t);return es.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ql(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nm(this.root,e,this.comparator,!0)}}class Nm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=a??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Tn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new U2(this.data.getIterator())}getIteratorFrom(e){return new U2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class U2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ru(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new lr([])}unionWith(e){let n=new rt(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fq("Invalid base64 string: "+a):a}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const cwe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(t){if(ue(!!t),typeof t=="string"){let e=0;const n=cwe.exec(t);if(ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fs(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lC(t){const e=t.mapValue.fields.__previous_value__;return sC(e)?lC(e):e}function Th(t){const e=Wa(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dwe{constructor(e,n,r,i,a,o,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Pl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mg={nullValue:"NULL_VALUE"};function Rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sC(t)?4:hq(t)?9007199254740991:b_(t)?10:11:se()}function Wi(t,e){if(t===e)return!0;const n=Rl(t);if(n!==Rl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Th(t).isEqual(Th(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Wa(i.timestampValue),s=Wa(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return fs(i.bytesValue).isEqual(fs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return St(i.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return St(i.integerValue)===St(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=St(i.doubleValue),s=St(a.doubleValue);return o===s?Eh(o)===Eh(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return vc(t.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(V2(o)!==V2(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Wi(o[l],s[l])))return!1;return!0}(t,e);default:return se()}}function Ah(t,e){return(t.values||[]).find(n=>Wi(n,e))!==void 0}function hs(t,e){if(t===e)return 0;const n=Rl(t),r=Rl(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=St(a.integerValue||a.doubleValue),l=St(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return B2(t.timestampValue,e.timestampValue);case 4:return B2(Th(t),Th(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(a,o){const s=fs(a),l=fs(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=ve(s[u],l[u]);if(c!==0)return c}return ve(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=ve(St(a.latitude),St(o.latitude));return s!==0?s:ve(St(a.longitude),St(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return z2(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,c;const d=a.fields||{},f=o.fields||{},p=(s=d.value)===null||s===void 0?void 0:s.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,E=ve(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return E!==0?E:z2(p,v)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Uo.mapValue&&o===Uo.mapValue)return 0;if(a===Uo.mapValue)return 1;if(o===Uo.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=ve(l[d],c[d]);if(f!==0)return f;const p=hs(s[l[d]],u[c[d]]);if(p!==0)return p}return ve(l.length,c.length)}(t.mapValue,e.mapValue);default:throw se()}}function B2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Wa(t),r=Wa(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function z2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=hs(n[i],r[i]);if(a)return a}return ve(n.length,r.length)}function yc(t){return oS(t)}function oS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=oS(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${oS(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function Sh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sS(t){return!!t&&"integerValue"in t}function xh(t){return!!t&&"arrayValue"in t}function F2(t){return!!t&&"nullValue"in t}function j2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gg(t){return!!t&&"mapValue"in t}function b_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Cf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ql(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const pq={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function fwe(t){return"nullValue"in t?mg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Sh(Pl.empty(),ne.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?b_(t)?pq:{mapValue:{}}:se()}function hwe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Sh(Pl.empty(),ne.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?pq:"mapValue"in t?b_(t)?{mapValue:{}}:Uo:se()}function $2(t,e){const n=hs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function q2(t,e){const n=hs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cf(n)}setAll(e){let n=It.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=Cf(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());gg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ql(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Ln(Cf(this.value))}}function mq(t){const e=[];return ql(t.fields,(n,r)=>{const i=new It([n]);if(gg(r)){const a=mq(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Mt(e,0,de.min(),de.min(),de.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,de.min(),de.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,de.min(),de.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.position=e,this.inclusive=n}}function G2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=hs(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function H2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function pwe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{}class Ne extends gq{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mwe(e,n,r):n==="array-contains"?new ywe(e,r):n==="in"?new Tq(e,r):n==="not-in"?new _we(e,r):n==="array-contains-any"?new bwe(e,r):new Ne(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gwe(e,r):new vwe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hs(n,this.value)):n!==null&&Rl(this.value)===Rl(n)&&this.matchesComparison(hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xe extends gq{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xe(e,n)}matches(e){return bc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bc(t){return t.op==="and"}function lS(t){return t.op==="or"}function uC(t){return vq(t)&&bc(t)}function vq(t){for(const e of t.filters)if(e instanceof Xe)return!1;return!0}function uS(t){if(t instanceof Ne)return t.field.canonicalString()+t.op.toString()+yc(t.value);if(uC(t))return t.filters.map(e=>uS(e)).join(",");{const e=t.filters.map(n=>uS(n)).join(",");return`${t.op}(${e})`}}function yq(t,e){return t instanceof Ne?function(r,i){return i instanceof Ne&&r.op===i.op&&r.field.isEqual(i.field)&&Wi(r.value,i.value)}(t,e):t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&yq(o,i.filters[s]),!0):!1}(t,e):void se()}function _q(t,e){const n=t.filters.concat(e);return Xe.create(n,t.op)}function bq(t){return t instanceof Ne?function(n){return`${n.field.canonicalString()} ${n.op} ${yc(n.value)}`}(t):t instanceof Xe?function(n){return n.op.toString()+" {"+n.getFilters().map(bq).join(" ,")+"}"}(t):"Filter"}class mwe extends Ne{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class gwe extends Ne{constructor(e,n){super(e,"in",n),this.keys=Eq("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vwe extends Ne{constructor(e,n){super(e,"not-in",n),this.keys=Eq("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Eq(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class ywe extends Ne{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xh(n)&&Ah(n.arrayValue,this.value)}}class Tq extends Ne{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ah(this.value.arrayValue,n)}}class _we extends Ne{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ah(this.value.arrayValue,n)}}class bwe extends Ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ah(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ewe{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function cS(t,e=null,n=[],r=[],i=null,a=null,o=null){return new Ewe(t,e,n,r,i,a,o)}function Nl(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),__(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yc(r)).join(",")),e.ue=n}return e.ue}function Tp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pwe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yq(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H2(t.startAt,e.startAt)&&H2(t.endAt,e.endAt)}function cy(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function dy(t,e){return t.filters.filter(n=>n instanceof Ne&&n.field.isEqual(e))}function K2(t,e,n){let r=mg,i=!0;for(const a of dy(t,e)){let o=mg,s=!0;switch(a.op){case"<":case"<=":o=fwe(a.value);break;case"==":case"in":case">=":o=a.value;break;case">":o=a.value,s=!1;break;case"!=":case"not-in":o=mg}$2({value:r,inclusive:i},{value:o,inclusive:s})<0&&(r=o,i=s)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=n.position[a];$2({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function W2(t,e,n){let r=Uo,i=!0;for(const a of dy(t,e)){let o=Uo,s=!0;switch(a.op){case">=":case">":o=hwe(a.value),s=!1;break;case"==":case"in":case"<=":o=a.value;break;case"<":o=a.value,s=!1;break;case"!=":case"not-in":o=Uo}q2({value:r,inclusive:i},{value:o,inclusive:s})>0&&(r=o,i=s)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=n.position[a];q2({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Aq(t,e,n,r,i,a,o,s){return new ud(t,e,n,r,i,a,o,s)}function cC(t){return new ud(t)}function Y2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Sq(t){return t.collectionGroup!==null}function Pf(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new rt(It.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new wh(a,r))}),n.has(It.keyField().canonicalString())||e.ce.push(new wh(It.keyField(),r))}return e.ce}function Ir(t){const e=le(t);return e.le||(e.le=Twe(e,Pf(t))),e.le}function Twe(t,e){if(t.limitType==="F")return cS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new wh(i.field,a)});const n=t.endAt?new _c(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _c(t.startAt.position,t.startAt.inclusive):null;return cS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dS(t,e){const n=t.filters.concat([e]);return new ud(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fy(t,e,n){return new ud(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function E_(t,e){return Tp(Ir(t),Ir(e))&&t.limitType===e.limitType}function xq(t){return`${Nl(Ir(t))}|lt:${t.limitType}`}function hu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bq(i)).join(", ")}]`),__(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yc(i)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function Ap(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ne.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Pf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=G2(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,Pf(r),i)||r.endAt&&!function(o,s,l){const u=G2(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,Pf(r),i))}(t,e)}function wq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Iq(t){return(e,n)=>{let r=!1;for(const i of Pf(t)){const a=Awe(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Awe(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?hs(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ql(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return dq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Swe=new ht(ne.comparator);function Er(){return Swe}const Cq=new ht(ne.comparator);function of(...t){let e=Cq;for(const n of t)e=e.insert(n.key,n);return e}function Pq(t){let e=Cq;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ui(){return Rf()}function Rq(){return Rf()}function Rf(){return new ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const xwe=new ht(ne.comparator),wwe=new rt(ne.comparator);function Te(...t){let e=wwe;for(const n of t)e=e.add(n);return e}const Iwe=new rt(ve);function dC(){return Iwe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function Nq(t){return{integerValue:""+t}}function Cwe(t,e){return oq(e)?Nq(e):fC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this._=void 0}}function Pwe(t,e,n){return t instanceof Ih?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&sC(a)&&(a=lC(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof Ec?Mq(t,e):t instanceof Tc?Dq(t,e):function(i,a){const o=Oq(i,a),s=Q2(o)+Q2(i.Pe);return sS(o)&&sS(i.Pe)?Nq(s):fC(i.serializer,s)}(t,e)}function Rwe(t,e,n){return t instanceof Ec?Mq(t,e):t instanceof Tc?Dq(t,e):n}function Oq(t,e){return t instanceof Ch?function(r){return sS(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ih extends T_{}class Ec extends T_{constructor(e){super(),this.elements=e}}function Mq(t,e){const n=kq(e);for(const r of t.elements)n.some(i=>Wi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Tc extends T_{constructor(e){super(),this.elements=e}}function Dq(t,e){let n=kq(e);for(const r of t.elements)n=n.filter(i=>!Wi(i,r));return{arrayValue:{values:n}}}class Ch extends T_{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Q2(t){return St(t.integerValue||t.doubleValue)}function kq(t){return xh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nwe{constructor(e,n){this.field=e,this.transform=n}}function Owe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ec&&i instanceof Ec||r instanceof Tc&&i instanceof Tc?vc(r.elements,i.elements,Wi):r instanceof Ch&&i instanceof Ch?Wi(r.Pe,i.Pe):r instanceof Ih&&i instanceof Ih}(t.transform,e.transform)}class Mwe{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class A_{}function Lq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S_(t.key,Hn.none()):new cd(t.key,t.data,Hn.none());{const n=t.data,r=Ln.empty();let i=new rt(It.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new oo(t.key,r,new lr(i.toArray()),Hn.none())}}function Dwe(t,e,n){t instanceof cd?function(i,a,o){const s=i.value.clone(),l=X2(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof oo?function(i,a,o){if(!vg(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=X2(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(Vq(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Nf(t,e,n,r){return t instanceof cd?function(a,o,s,l){if(!vg(a.precondition,o))return s;const u=a.value.clone(),c=Z2(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof oo?function(a,o,s,l){if(!vg(a.precondition,o))return s;const u=Z2(a.fieldTransforms,l,o),c=o.data;return c.setAll(Vq(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,o,s){return vg(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function kwe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=Oq(r.transform,i||null);a!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,a))}return n||null}function J2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vc(r,i,(a,o)=>Owe(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cd extends A_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class oo extends A_{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Vq(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function X2(t,e,n){const r=new Map;ue(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,Rwe(o,s,n[i]))}return r}function Z2(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,Pwe(a,o,e))}return r}class S_ extends A_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uq extends A_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Dwe(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Rq();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=Lq(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&vc(this.mutations,e.mutations,(n,r)=>J2(n,r))&&vc(this.baseMutations,e.baseMutations,(n,r)=>J2(n,r))}}class pC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length);let i=function(){return xwe}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new pC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lwe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Ve;function Vwe(t){switch(t){default:return se();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function Bq(t){if(t===void 0)return Ut("GRPC error has no .code"),q.UNKNOWN;switch(t){case qt.OK:return q.OK;case qt.CANCELLED:return q.CANCELLED;case qt.UNKNOWN:return q.UNKNOWN;case qt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case qt.INTERNAL:return q.INTERNAL;case qt.UNAVAILABLE:return q.UNAVAILABLE;case qt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case qt.NOT_FOUND:return q.NOT_FOUND;case qt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case qt.ABORTED:return q.ABORTED;case qt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case qt.DATA_LOSS:return q.DATA_LOSS;default:return se()}}(Ve=qt||(qt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uwe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bwe=new ul([4294967295,4294967295],0);function eL(t){const e=Uwe().encode(t),n=new K6;return n.update(e),new Uint8Array(n.digest())}function tL(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ul([n,r],0),new ul([i,a],0)]}class gC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sf(`Invalid padding: ${n}`);if(r<0)throw new sf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sf(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ul.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ul.fromNumber(r)));return i.compare(Bwe)===1&&(i=new ul([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=eL(e),[r,i]=tL(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new gC(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const n=eL(e),[r,i]=tL(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sp(de.min(),i,new ht(ve),Er(),Te())}}class xp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xp(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class zq{constructor(e,n){this.targetId=e,this.me=n}}class Fq{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nL{constructor(){this.fe=0,this.ge=iL(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),n=Te(),r=Te();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new xp(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=iL()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zwe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Er(),this.qe=rL(),this.Qe=new ht(ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(cy(a))if(r===0){const o=new ne(a.path);this.Ue(n,o,Mt.newNoDocument(o,de.min()))}else ue(r===1);else{const o=this.Ye(n);if(o!==r){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=fs(r).toUint8Array()}catch(l){if(l instanceof fq)return yh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new gC(o,i,a)}catch(l){return yh(l instanceof sf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&cy(s.target)){const l=new ne(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Mt.newNoDocument(l,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let r=Te();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Sp(e,n,this.Qe,this.ke,r);return this.ke=Er(),this.qe=rL(),this.Qe=new ht(ve),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new nL,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rt(ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nL),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function rL(){return new ht(ne.comparator)}function iL(){return new ht(ne.comparator)}const Fwe={asc:"ASCENDING",desc:"DESCENDING"},jwe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$we={and:"AND",or:"OR"};class qwe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fS(t,e){return t.useProto3Json||__(e)?e:{value:e}}function Ac(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gwe(t,e){return Ac(t,e.toTimestamp())}function Wn(t){return ue(!!t),de.fromTimestamp(function(n){const r=Wa(n);return new bt(r.seconds,r.nanos)}(t))}function vC(t,e){return hS(t,e).canonicalString()}function hS(t,e){const n=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $q(t){const e=Ke.fromString(t);return ue(Xq(e)),e}function hy(t,e){return vC(t.databaseId,e.path)}function cl(t,e){const n=$q(e);if(n.get(1)!==t.databaseId.projectId)throw new X(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(Hq(n))}function qq(t,e){return vC(t.databaseId,e)}function Gq(t){const e=$q(t);return e.length===4?Ke.emptyPath():Hq(e)}function pS(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hq(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aL(t,e,n){return{name:hy(t,e),fields:n.value.mapValue.fields}}function Hwe(t,e,n){const r=cl(t,e.name),i=Wn(e.updateTime),a=e.createTime?Wn(e.createTime):de.min(),o=new Ln({mapValue:{fields:e.fields}}),s=Mt.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Kwe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(ue(c===void 0||typeof c=="string"),Ft.fromBase64String(c||"")):(ue(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Ft.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?q.UNKNOWN:Bq(u.code);return new X(c,u.message||"")}(o);n=new Fq(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cl(t,r.document.name),a=Wn(r.document.updateTime),o=r.document.createTime?Wn(r.document.createTime):de.min(),s=new Ln({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(i,a,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new yg(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cl(t,r.document),a=r.readTime?Wn(r.readTime):de.min(),o=Mt.newNoDocument(i,a),s=r.removedTargetIds||[];n=new yg([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cl(t,r.document),a=r.removedTargetIds||[];n=new yg([],a,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new Lwe(i,a),s=r.targetId;n=new zq(s,o)}}return n}function py(t,e){let n;if(e instanceof cd)n={update:aL(t,e.key,e.value)};else if(e instanceof S_)n={delete:hy(t,e.key)};else if(e instanceof oo)n={update:aL(t,e.key,e.data),updateMask:Zwe(e.fieldMask)};else{if(!(e instanceof Uq))return se();n={verify:hy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Ih)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ec)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Ch)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Gwe(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:se()}(t,e.precondition)),n}function mS(t,e){const n=e.currentDocument?function(a){return a.updateTime!==void 0?Hn.updateTime(Wn(a.updateTime)):a.exists!==void 0?Hn.exists(a.exists):Hn.none()}(e.currentDocument):Hn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,s){let l=null;if("setToServerValue"in s)ue(s.setToServerValue==="REQUEST_TIME"),l=new Ih;else if("appendMissingElements"in s){const c=s.appendMissingElements.values||[];l=new Ec(c)}else if("removeAllFromArray"in s){const c=s.removeAllFromArray.values||[];l=new Tc(c)}else"increment"in s?l=new Ch(o,s.increment):se();const u=It.fromServerFormat(s.fieldPath);return new Nwe(u,l)}(t,i)):[];if(e.update){e.update.name;const i=cl(t,e.update.name),a=new Ln({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new lr(u.map(c=>It.fromServerFormat(c)))}(e.updateMask);return new oo(i,a,o,n,r)}return new cd(i,a,n,r)}if(e.delete){const i=cl(t,e.delete);return new S_(i,n)}if(e.verify){const i=cl(t,e.verify);return new Uq(i,n)}return se()}function Wwe(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(i,a){let o=i.updateTime?Wn(i.updateTime):Wn(a);return o.isEqual(de.min())&&(o=Wn(a)),new Mwe(o,i.transformResults||[])}(n,e))):[]}function Kq(t,e){return{documents:[qq(t,e.path)]}}function Wq(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qq(t,i);const a=function(u){if(u.length!==0)return Jq(Xe.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:pu(f.field),direction:Qwe(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=fS(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Yq(t){let e=Gq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ue(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(d){const f=Qq(d);return f instanceof Xe&&uC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(v){return new wh(mu(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let s=null;n.limit&&(s=function(d){let f;return f=typeof d=="object"?d.value:d,__(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new _c(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new _c(p,f)}(n.endAt)),Aq(e,i,o,a,s,"F",l,u)}function Ywe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qq(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mu(n.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mu(n.unaryFilter.field);return Ne.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=mu(n.unaryFilter.field);return Ne.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mu(n.unaryFilter.field);return Ne.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return Ne.create(mu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xe.create(n.compositeFilter.filters.map(r=>Qq(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function Qwe(t){return Fwe[t]}function Jwe(t){return jwe[t]}function Xwe(t){return $we[t]}function pu(t){return{fieldPath:t.canonicalString()}}function mu(t){return It.fromServerFormat(t.fieldPath)}function Jq(t){return t instanceof Ne?function(n){if(n.op==="=="){if(j2(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NAN"}};if(F2(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j2(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NAN"}};if(F2(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pu(n.field),op:Jwe(n.op),value:n.value}}}(t):t instanceof Xe?function(n){const r=n.getFilters().map(i=>Jq(i));return r.length===1?r[0]:{compositeFilter:{op:Xwe(n.op),filters:r}}}(t):se()}function Zwe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Xq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n,r,i,a=de.min(),o=de.min(),s=Ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e){this.ct=e}}function eIe(t,e){let n;if(e.document)n=Hwe(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ne.fromSegments(e.noDocument.path),i=Ml(e.noDocument.readTime);n=Mt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return se();{const r=ne.fromSegments(e.unknownDocument.path),i=Ml(e.unknownDocument.version);n=Mt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const a=new bt(i[0],i[1]);return de.fromTimestamp(a)}(e.readTime)),n}function oL(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:my(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(a,o){return{name:hy(a,o.key),fields:o.data.value.mapValue.fields,updateTime:Ac(a,o.version.toTimestamp()),createTime:Ac(a,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ol(e.version)};else{if(!e.isUnknownDocument())return se();r.unknownDocument={path:n.path.toArray(),version:Ol(e.version)}}return r}function my(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ol(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ml(t){const e=new bt(t.seconds,t.nanoseconds);return de.fromTimestamp(e)}function Hs(t,e){const n=(e.baseMutations||[]).map(a=>mS(t.ct,a));for(let a=0;a<e.mutations.length-1;++a){const o=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const s=e.mutations[a+1];o.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map(a=>mS(t.ct,a)),i=bt.fromMillis(e.localWriteTimeMs);return new hC(e.batchId,i,n,r)}function lf(t){const e=Ml(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ml(t.lastLimboFreeSnapshotVersion):de.min();let r;return r=function(a){return a.documents!==void 0}(t.query)?function(a){return ue(a.documents.length===1),Ir(cC(Gq(a.documents[0])))}(t.query):function(a){return Ir(Yq(a))}(t.query),new Sa(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ft.fromBase64String(t.resumeToken))}function eG(t,e){const n=Ol(e.snapshotVersion),r=Ol(e.lastLimboFreeSnapshotVersion);let i;i=cy(e.target)?Kq(t.ct,e.target):Wq(t.ct,e.target)._t;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Nl(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function tG(t){const e=Yq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fy(e,e.limit,"L"):e}function bE(t,e){return new mC(e.largestBatchId,mS(t.ct,e.overlayMutation))}function sL(t,e){const n=e.path.lastSegment();return[t,Kn(e.path.popLast()),n]}function lL(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ol(r.readTime),documentKey:Kn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tIe{getBundleMetadata(e,n){return uL(e).get(n).next(r=>{if(r)return function(a){return{id:a.bundleId,createTime:Ml(a.createTime),version:a.version}}(r)})}saveBundleMetadata(e,n){return uL(e).put(function(i){return{bundleId:i.id,createTime:Ol(Wn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return cL(e).get(n).next(r=>{if(r)return function(a){return{name:a.name,query:tG(a.bundledQuery),readTime:Ml(a.readTime)}}(r)})}saveNamedQuery(e,n){return cL(e).put(function(i){return{name:i.name,readTime:Ol(Wn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function uL(t){return an(t,"bundles")}function cL(t){return an(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new x_(e,r)}getOverlay(e,n){return qd(e).get(sL(this.userId,n)).next(r=>r?bE(this.serializer,r):null)}getOverlays(e,n){const r=Ui();return z.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((a,o)=>{const s=new mC(n,o);i.push(this.ht(e,s))}),z.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Kn(o.getCollectionPath())));const a=[];return i.forEach(o=>{const s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);a.push(qd(e).j("collectionPathOverlayIndex",s))}),z.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Ui(),a=Kn(n),o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return qd(e).U("collectionPathOverlayIndex",o).next(s=>{for(const l of s){const u=bE(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const a=Ui();let o;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return qd(e).J({index:"collectionGroupOverlayIndex",range:s},(l,u,c)=>{const d=bE(this.serializer,u);a.size()<i||d.largestBatchId===o?(a.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>a)}ht(e,n){return qd(e).put(function(i,a,o){const[s,l,u]=sL(a,o.mutation.key);return{userId:a,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:py(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function qd(t){return an(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nIe{Pt(e){return an(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Ft.fromUint8Array(r):Ft.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(St(e.integerValue));else if("doubleValue"in e){const r=St(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Eh(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Wa(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(fs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?hq(e)?this.dt(n,Number.MAX_SAFE_INTEGER):b_(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):se()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const a=e.fields||{};this.dt(n,53);const o="value",s=((i=(r=a[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(St(s)),this.Vt(o,n),this.Tt(a[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Ks.vt=new Ks;function rIe(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function dL(t){const e=64-function(r){let i=0;for(let a=0;a<8;++a){const o=rIe(255&r[a]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class iIe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=dL(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=dL(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(a){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,a,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class aIe{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class oIe{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Gd{constructor(){this.jt=new iIe,this.Ht=new aIe(this.jt),this.Jt=new oIe(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ws(this.indexId,this.documentKey,this.arrayValue,r)}}function ho(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=fL(t.arrayValue,e.arrayValue),n!==0?n:(n=fL(t.directionalValue,e.directionalValue),n!==0?n:ne.comparator(t.documentKey,e.documentKey)))}function fL(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.Xt=new rt((n,r)=>It.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(ue(e.collectionGroup===this.collectionId),this.nn)return!1;const n=iS(e);if(n!==void 0&&!this.sn(n))return!1;const r=qs(e);let i=new Set,a=0,o=0;for(;a<r.length&&this.sn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.Xt.size>0){const s=this.Xt.getIterator().getNext();if(!i.has(s.field.canonicalString())){const l=r[a];if(!this.on(s,l)||!this._n(this.en[o++],l))return!1}++a}for(;a<r.length;++a){const s=r[a];if(o>=this.en.length||!this._n(this.en[o++],s))return!1}return!0}an(){if(this.nn)return null;let e=new rt(It.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new hg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new hg(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new hg(r.field,r.dir==="asc"?0:1)));return new uy(uy.UNKNOWN_ID,this.collectionId,n,bh.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t){var e,n;if(ue(t instanceof Ne||t instanceof Xe),t instanceof Ne){if(t instanceof Tq){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(a=>Ne.create(t.field,"==",a)))||[];return Xe.create(i,"or")}return t}const r=t.filters.map(i=>nG(i));return Xe.create(r,t.op)}function sIe(t){if(t.getFilters().length===0)return[];const e=yS(nG(t));return ue(rG(e)),gS(e)||vS(e)?[e]:e.getFilters()}function gS(t){return t instanceof Ne}function vS(t){return t instanceof Xe&&uC(t)}function rG(t){return gS(t)||vS(t)||function(n){if(n instanceof Xe&&lS(n)){for(const r of n.getFilters())if(!gS(r)&&!vS(r))return!1;return!0}return!1}(t)}function yS(t){if(ue(t instanceof Ne||t instanceof Xe),t instanceof Ne)return t;if(t.filters.length===1)return yS(t.filters[0]);const e=t.filters.map(r=>yS(r));let n=Xe.create(e,t.op);return n=gy(n),rG(n)?n:(ue(n instanceof Xe),ue(bc(n)),ue(n.filters.length>1),n.filters.reduce((r,i)=>yC(r,i)))}function yC(t,e){let n;return ue(t instanceof Ne||t instanceof Xe),ue(e instanceof Ne||e instanceof Xe),n=t instanceof Ne?e instanceof Ne?function(i,a){return Xe.create([i,a],"and")}(t,e):pL(t,e):e instanceof Ne?pL(e,t):function(i,a){if(ue(i.filters.length>0&&a.filters.length>0),bc(i)&&bc(a))return _q(i,a.getFilters());const o=lS(i)?i:a,s=lS(i)?a:i,l=o.filters.map(u=>yC(u,s));return Xe.create(l,"or")}(t,e),gy(n)}function pL(t,e){if(bc(e))return _q(e,t.getFilters());{const n=e.filters.map(r=>yC(t,r));return Xe.create(n,"or")}}function gy(t){if(ue(t instanceof Ne||t instanceof Xe),t instanceof Ne)return t;const e=t.getFilters();if(e.length===1)return gy(e[0]);if(vq(t))return t;const n=e.map(i=>gy(i)),r=[];return n.forEach(i=>{i instanceof Ne?r.push(i):i instanceof Xe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Xe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lIe{constructor(){this.un=new _C}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Nr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Nr.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class _C{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rt(Ke.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new Uint8Array(0);class uIe{constructor(e,n){this.databaseId=n,this.cn=new _C,this.ln=new ws(r=>Nl(r),(r,i)=>Tp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const a={collectionId:r,parent:Kn(i)};return mL(e).put(a)}return z.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[eq(n),""],!1,!0);return mL(e).U(i).next(a=>{for(const o of a){if(o.collectionId!==n)break;r.push(Vi(o.parent))}return r})}addFieldIndex(e,n){const r=Hd(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const a=r.add(i);if(n.indexState){const o=au(e);return a.next(s=>{o.put(lL(s,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const r=Hd(e),i=au(e),a=iu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Hd(e),r=iu(e),i=au(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return z.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const a=new hL(r).an();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,n){const r=iu(e);let i=!0;const a=new Map;return z.forEach(this.hn(n),o=>this.Pn(e,o).next(s=>{i&&(i=!!s),a.set(o,s)})).next(()=>{if(i){let o=Te();const s=[];return z.forEach(a,(l,u)=>{K("IndexedDbIndexManager",`Using index ${function(S){return`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(l)} to execute ${Nl(n)}`);const c=function(S,w){const N=iS(w);if(N===void 0)return null;for(const O of dy(S,N.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(u,l),d=function(S,w){const N=new Map;for(const O of qs(w))for(const I of dy(S,O.fieldPath))switch(I.op){case"==":case"in":N.set(O.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return N.set(O.fieldPath.canonicalString(),I.value),Array.from(N.values())}return null}(u,l),f=function(S,w){const N=[];let O=!0;for(const I of qs(w)){const P=I.kind===0?K2(S,I.fieldPath,S.startAt):W2(S,I.fieldPath,S.startAt);N.push(P.value),O&&(O=P.inclusive)}return new _c(N,O)}(u,l),p=function(S,w){const N=[];let O=!0;for(const I of qs(w)){const P=I.kind===0?W2(S,I.fieldPath,S.endAt):K2(S,I.fieldPath,S.endAt);N.push(P.value),O&&(O=P.inclusive)}return new _c(N,O)}(u,l),v=this.In(l,u,f),E=this.In(l,u,p),y=this.Tn(l,u,d),_=this.En(l.indexId,c,v,f.inclusive,E,p.inclusive,y);return z.forEach(_,T=>r.G(T,n.limit).next(S=>{S.forEach(w=>{const N=ne.fromSegments(w.documentKey);o.has(N)||(o=o.add(N),s.push(N))})}))}).next(()=>s)}return z.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=sIe(Xe.create(e.filters,"and")).map(r=>cS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,a,o,s){const l=(n!=null?n.length:1)*Math.max(r.length,a.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const f=n?this.dn(n[d/u]):Om,p=this.An(e,f,r[d%u],i),v=this.Rn(e,f,a[d%u],o),E=s.map(y=>this.An(e,f,y,!0));c.push(...this.createRange(p,v,E))}return c}An(e,n,r,i){const a=new Ws(e,ne.empty(),n,r);return i?a:a.Zt()}Rn(e,n,r,i){const a=new Ws(e,ne.empty(),n,r);return i?a.Zt():a}Pn(e,n){const r=new hL(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let o=null;for(const s of a)r.rn(s)&&(!o||s.fields.length>o.fields.length)&&(o=s);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return z.forEach(i,a=>this.Pn(e,a).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new rt(It.comparator),c=!1;for(const d of l.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?c=!0:u=u.add(f.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(a)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Gd;for(const i of qs(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const o=r.Yt(i.kind);Ks.vt.It(a,o)}return r.zt()}dn(e){const n=new Gd;return Ks.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Gd;return Ks.vt.It(Sh(this.databaseId,n),r.Yt(function(a){const o=qs(a);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Gd);let a=0;for(const o of qs(e)){const s=r[a++];for(const l of i)if(this.fn(n,o.fieldPath)&&xh(s))i=this.gn(i,o,s);else{const u=l.Yt(o.kind);Ks.vt.It(s,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],a=[];for(const o of r.arrayValue.values||[])for(const s of i){const l=new Gd;l.seed(s.zt()),Ks.vt.It(o,l.Yt(n.kind)),a.push(l)}return a}fn(e,n){return!!e.filters.find(r=>r instanceof Ne&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Hd(e),i=au(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(a=>{const o=[];return z.forEach(a,s=>i.get([s.indexId,this.uid]).next(l=>{o.push(function(c,d){const f=d?new bh(d.sequenceNumber,new Nr(Ml(d.readTime),new ne(Vi(d.documentKey)),d.largestBatchId)):bh.empty(),p=c.fields.map(([v,E])=>new hg(It.fromServerFormat(v),E));return new uy(c.indexId,c.collectionGroup,p,f)}(s,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:ve(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Hd(e),a=au(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(s=>z.forEach(s,l=>a.put(lL(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return z.forEach(n,(i,a)=>{const o=r.get(i.collectionGroup);return(o?z.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),z.forEach(s,l=>this.wn(e,i,l).next(u=>{const c=this.Sn(a,l);return u.isEqual(c)?z.resolve():this.bn(e,a,l,u,c)}))))})}Dn(e,n,r,i){return iu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return iu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=iu(e);let a=new rt(ho);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,s)=>{a=a.add(new Ws(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>a)}Sn(e,n){let r=new rt(ho);const i=this.Vn(n,e);if(i==null)return r;const a=iS(n);if(a!=null){const o=e.data.field(a.fieldPath);if(xh(o))for(const s of o.arrayValue.values||[])r=r.add(new Ws(n.indexId,e.key,this.dn(s),i))}else r=r.add(new Ws(n.indexId,e.key,Om,i));return r}bn(e,n,r,i,a){K("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,f){const p=l.getIterator(),v=u.getIterator();let E=ru(p),y=ru(v);for(;E||y;){let _=!1,T=!1;if(E&&y){const S=c(E,y);S<0?T=!0:S>0&&(_=!0)}else E!=null?T=!0:_=!0;_?(d(y),y=ru(v)):T?(f(E),E=ru(p)):(E=ru(p),y=ru(v))}}(i,a,ho,s=>{o.push(this.Dn(e,n,r,s))},s=>{o.push(this.vn(e,n,r,s))}),z.waitFor(o)}yn(e){let n=1;return au(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,s)=>ho(o,s)).filter((o,s,l)=>!s||ho(o,l[s-1])!==0);const i=[];i.push(e);for(const o of r){const s=ho(o,e),l=ho(o,n);if(s===0)i[0]=e.Zt();else if(s>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(n);const a=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const s=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Om,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Om,[]];a.push(IDBKeyRange.bound(s,l))}return a}Cn(e,n){return ho(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(gL)}getMinOffset(e,n){return z.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||se())).next(gL)}}function mL(t){return an(t,"collectionParents")}function iu(t){return an(t,"indexEntries")}function Hd(t){return an(t,"indexConfiguration")}function au(t){return an(t,"indexState")}function gL(t){ue(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;iC(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Nr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class nr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId);let s=0;const l=r.J({range:o},(c,d,f)=>(s++,f.delete()));a.push(l.next(()=>{ue(s===1)}));const u=[];for(const c of n.mutations){const d=sq(e,c.key.path,n.batchId);a.push(i.delete(d)),u.push(c.key)}return z.waitFor(a).next(()=>u)}function vy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw se();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(41943040,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);class w_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){ue(e.uid!=="");const a=e.isAuthenticated()?e.uid:"";return new w_(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return po(e).J({index:"userMutationsIndex",range:r},(i,a,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const a=gu(e),o=po(e);return o.add({}).next(s=>{ue(typeof s=="number");const l=new hC(s,n,r,i),u=function(p,v,E){const y=E.baseMutations.map(T=>py(p.ct,T)),_=E.mutations.map(T=>py(p.ct,T));return{userId:v,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:y,mutations:_}}(this.serializer,this.userId,l),c=[];let d=new rt((f,p)=>ve(f.canonicalString(),p.canonicalString()));for(const f of i){const p=sq(this.userId,f.key.path,s);d=d.add(f.key.path.popLast()),c.push(o.put(u)),c.push(a.put(p,Hxe))}return d.forEach(f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[s]=l.keys()}),z.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return po(e).get(n).next(r=>r?(ue(r.userId===this.userId),Hs(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?z.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return po(e).J({index:"userMutationsIndex",range:i},(o,s,l)=>{s.userId===this.userId&&(ue(s.batchId>=r),a=Hs(this.serializer,s)),l.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return po(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,a,o)=>{r=a.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return po(e).U("userMutationsIndex",n).next(r=>r.map(i=>Hs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=pg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return gu(e).J({range:i},(o,s,l)=>{const[u,c,d]=o,f=Vi(c);if(u===this.userId&&n.path.isEqual(f))return po(e).get(d).next(p=>{if(!p)throw se();ue(p.userId===this.userId),a.push(Hs(this.serializer,p))});l.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(ve);const i=[];return n.forEach(a=>{const o=pg(this.userId,a.path),s=IDBKeyRange.lowerBound(o),l=gu(e).J({range:s},(u,c,d)=>{const[f,p,v]=u,E=Vi(p);f===this.userId&&a.path.isEqual(E)?r=r.add(v):d.done()});i.push(l)}),z.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=pg(this.userId,r),o=IDBKeyRange.lowerBound(a);let s=new rt(ve);return gu(e).J({range:o},(l,u,c)=>{const[d,f,p]=l,v=Vi(f);d===this.userId&&r.isPrefixOf(v)?v.length===i&&(s=s.add(p)):c.done()}).next(()=>this.xn(e,s))}xn(e,n){const r=[],i=[];return n.forEach(a=>{i.push(po(e).get(a).next(o=>{if(o===null)throw se();ue(o.userId===this.userId),r.push(Hs(this.serializer,o))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return iG(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return z.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return gu(e).J({range:r},(a,o,s)=>{if(a[0]===this.userId){const l=Vi(a[1]);i.push(l)}else s.done()}).next(()=>{ue(i.length===0)})})}containsKey(e,n){return aG(e,this.userId,n)}Nn(e){return oG(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function aG(t,e,n){const r=pg(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let o=!1;return gu(t).J({range:a,H:!0},(s,l,u)=>{const[c,d,f]=s;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function po(t){return an(t,"mutations")}function gu(t){return an(t,"documentMutations")}function oG(t){return an(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Dl(0)}static kn(){return new Dl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cIe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Dl(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>de.fromTimestamp(new bt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ou(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(ue(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const a=[];return ou(e).J((o,s)=>{const l=lf(s);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,a.push(this.removeTargetData(e,l)))}).next(()=>z.waitFor(a)).next(()=>i)}forEachTarget(e,n){return ou(e).J((r,i)=>{const a=lf(i);n(a)})}qn(e){return yL(e).get("targetGlobalKey").next(n=>(ue(n!==null),n))}Qn(e,n){return yL(e).put("targetGlobalKey",n)}Kn(e,n){return ou(e).put(eG(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Nl(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return ou(e).J({range:i,index:"queryTargetsIndex"},(o,s,l)=>{const u=lf(s);Tp(n,u.target)&&(a=u,l.done())}).next(()=>a)}addMatchingKeys(e,n,r){const i=[],a=Ro(e);return n.forEach(o=>{const s=Kn(o.path);i.push(a.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,o))}),z.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ro(e);return z.forEach(n,a=>{const o=Kn(a.path);return z.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,n){const r=Ro(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ro(e);let a=Te();return i.J({range:r,H:!0},(o,s,l)=>{const u=Vi(o[1]),c=new ne(u);a=a.add(c)}).next(()=>a)}containsKey(e,n){const r=Kn(n.path),i=IDBKeyRange.bound([r],[eq(r)],!1,!0);let a=0;return Ro(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,s],l,u)=>{o!==0&&(a++,u.done())}).next(()=>a>0)}ot(e,n){return ou(e).get(n).next(r=>r?lf(r):null)}}function ou(t){return an(t,"targets")}function yL(t){return an(t,"targetGlobal")}function Ro(t){return an(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L([t,e],[n,r]){const i=ve(t,n);return i===0?ve(e,r):i}class dIe{constructor(e){this.Un=e,this.buffer=new rt(_L),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_L(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fIe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){K("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xs(n)?K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ss(n)}await this.Hn(3e5)})}}class hIe{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(sr.oe);const r=new dIe(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(vL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vL):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,s=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),fu()<=Pe.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function pIe(t,e){return new hIe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mIe{constructor(e,n){this.db=e,this.garbageCollector=pIe(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Mm(e,r)}removeReference(e,n,r){return Mm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Mm(e,n)}nr(e,n){return function(i,a){let o=!1;return oG(i).Y(s=>aG(i,s,a).next(l=>(l&&(o=!0),z.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.tr(e,(o,s)=>{if(s<=n){const l=this.nr(e,o).next(u=>{if(!u)return a++,r.getEntry(e,o).next(()=>(r.removeEntry(o,de.min()),Ro(e).delete(function(d){return[0,Kn(d.path)]}(o))))});i.push(l)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Mm(e,n)}tr(e,n){const r=Ro(e);let i,a=sr.oe;return r.J({index:"documentTargetsIndex"},([o,s],{path:l,sequenceNumber:u})=>{o===0?(a!==sr.oe&&n(new ne(Vi(i)),a),a=u,i=l):a=sr.oe}).next(()=>{a!==sr.oe&&n(new ne(Vi(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mm(t,e){return Ro(t).put(function(r,i){return{targetId:0,path:Kn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(){this.changes=new ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gIe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ds(e).put(r)}removeEntry(e,n,r){return Ds(e).delete(function(a,o){const s=a.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],my(o),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=Mt.newInvalidDocument(n);return Ds(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kd(n))},(i,a)=>{r=this.ir(n,a)}).next(()=>r)}sr(e,n){let r={size:0,document:Mt.newInvalidDocument(n)};return Ds(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kd(n))},(i,a)=>{r={document:this.ir(n,a),size:vy(a)}}).next(()=>r)}getEntries(e,n){let r=Er();return this._r(e,n,(i,a)=>{const o=this.ir(i,a);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=Er(),i=new ht(ne.comparator);return this._r(e,n,(a,o)=>{const s=this.ir(a,o);r=r.insert(a,s),i=i.insert(a,vy(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return z.resolve();let i=new rt(TL);n.forEach(l=>i=i.add(l));const a=IDBKeyRange.bound(Kd(i.first()),Kd(i.last())),o=i.getIterator();let s=o.getNext();return Ds(e).J({index:"documentKeyIndex",range:a},(l,u,c)=>{const d=ne.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;s&&TL(s,d)<0;)r(s,null),s=o.getNext();s&&s.isEqual(d)&&(r(s,u),s=o.hasNext()?o.getNext():null),s?c.$(Kd(s)):c.done()}).next(()=>{for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,a){const o=n.path,s=[o.popLast().toArray(),o.lastSegment(),my(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ds(e).U(IDBKeyRange.bound(s,l,!0)).next(u=>{a==null||a.incrementDocumentReadCount(u.length);let c=Er();for(const d of u){const f=this.ir(ne.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(Ap(n,f)||i.has(f.key))&&(c=c.insert(f.key,f))}return c})}getAllFromCollectionGroup(e,n,r,i){let a=Er();const o=EL(n,r),s=EL(n,Nr.max());return Ds(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(l,u,c)=>{const d=this.ir(ne.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(d.key,d),a.size===i&&c.done()}).next(()=>a)}newChangeBuffer(e){return new vIe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return bL(e).get("remoteDocumentGlobalKey").next(n=>(ue(!!n),n))}rr(e,n){return bL(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=eIe(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(de.min())))return r}return Mt.newInvalidDocument(e)}}function lG(t){return new gIe(t)}class vIe extends sG{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new ws(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new rt((a,o)=>ve(a.canonicalString(),o.canonicalString()));return this.changes.forEach((a,o)=>{const s=this.lr.get(a);if(n.push(this.cr.removeEntry(e,a,s.readTime)),o.isValidDocument()){const l=oL(this.cr.serializer,o);i=i.add(a.path.popLast());const u=vy(l);r+=u-s.size,n.push(this.cr.addEntry(e,a,l))}else if(r-=s.size,this.trackRemovals){const l=oL(this.cr.serializer,o.convertToNoDocument(de.min()));n.push(this.cr.addEntry(e,a,l))}}),i.forEach(a=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.cr.updateMetadata(e,r)),z.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((a,o)=>{this.lr.set(a,{size:o,readTime:r.get(a).readTime})}),r))}}function bL(t){return an(t,"remoteDocumentGlobal")}function Ds(t){return an(t,"remoteDocumentsV14")}function Kd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function EL(t,e){const n=e.documentKey.path.toArray();return[t,my(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function TL(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=ve(n[a],r[a]),i)return i;return i=ve(n.length,r.length),i||(i=ve(n[n.length-2],r[r.length-2]),i||ve(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yIe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nf(r.mutation,i,lr.empty(),bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const i=Ui();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=of();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Er();const o=Rf(),s=function(){return Rf()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof oo)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Nf(c.mutation,u,c.mutation.getFieldMask(),bt.now())):o.set(u.key,lr.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return s.set(u,new yIe(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Rf();let i=new ht((o,s)=>o-s),a=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||lr.empty();c=s.applyToLocalView(u,c),r.set(l,c);const d=(i.get(s.batchId)||Te()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=Rq();c.forEach(f=>{if(!a.has(f)){const p=Lq(n.get(f),r.get(f));p!==null&&d.set(f,p),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):z.resolve(Ui());let s=-1,l=a;return o.next(u=>z.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Te())).next(c=>({batchId:s,changes:Pq(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=of();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=of();return this.indexManager.getCollectionParents(e,a).next(s=>z.forEach(s,l=>{const u=function(d,f){return new ud(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Mt.newInvalidDocument(c)))});let s=of();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Nf(c.mutation,u,lr.empty(),bt.now()),Ap(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Ie{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wn(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:tG(i.bundledQuery),readTime:Wn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bIe{constructor(){this.overlays=new ht(ne.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ui();return z.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Ui(),a=n.length+1,o=new ne(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ht((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=Ui(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Ui(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return z.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mC(n,r));let a=this.Ir.get(n);a===void 0&&(a=Te(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EIe{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.Tr=new rt(un.Er),this.dr=new rt(un.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new un(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new un(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ne(new Ke([])),r=new un(n,e),i=new un(n,e+1),a=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ne(new Ke([])),r=new un(n,e),i=new un(n,e+1);let a=Te();return this.dr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new un(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||ve(e.wr,n.wr)}static Ar(e,n){return ve(e.wr,n.wr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TIe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rt(un.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hC(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new un(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new un(n,0),i=new un(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],o=>{const s=this.Dr(o.wr);a.push(s)}),z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(ve);return n.forEach(i=>{const a=new un(i,0),o=new un(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{r=r.add(s.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ne.isDocumentKey(a)||(a=a.child(""));const o=new un(new ne(a),0);let s=new rt(ve);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),z.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,i=>{const a=new un(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new un(n,0),i=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AIe{constructor(e){this.Mr=e,this.docs=function(){return new ht(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Er();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Mt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Er();const o=n.path,s=new ne(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||iC(nq(c),r)<=0||(i.has(c.key)||Ap(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return z.resolve(a)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SIe(this)}getSize(e){return z.resolve(this.size)}}class SIe extends sG{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xIe{constructor(e){this.persistence=e,this.Nr=new ws(n=>Nl(n),Tp),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bC,this.targetCount=0,this.kr=Dl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),z.waitFor(a).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e,n){this.qr={},this.overlays={},this.Qr=new sr(0),this.Kr=!1,this.Kr=!0,this.$r=new EIe,this.referenceDelegate=e(this),this.Ur=new xIe(this),this.indexManager=new lIe,this.remoteDocumentCache=function(i){return new AIe(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Zq(n),this.Gr=new _Ie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bIe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new TIe(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new wIe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class wIe extends iq{constructor(e){super(),this.currentSequenceNumber=e}}class I_{constructor(e){this.persistence=e,this.Jr=new bC,this.Yr=null}static Zr(e){return new I_(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const i=ne.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IIe{constructor(e){this.serializer=e}O(e,n,r,i){const a=new y_("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",L2,{unique:!0}),l.createObjectStore("documentMutations")}(e),AL(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=z.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),AL(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:de.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(a))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",L2,{unique:!0});const d=u.store("mutations"),f=c.map(p=>d.put(p));return z.waitFor(f)})}(e,a))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(a))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(a)))),r<7&&i>=7&&(o=o.next(()=>this.ii(a))),r<8&&i>=8&&(o=o.next(()=>this.si(e,a))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(a))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:iwe});u.createIndex("collectionPathOverlayIndex",awe,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",owe,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:Kxe});u.createIndex("documentKeyIndex",Wxe),u.createIndex("collectionGroupIndex",Yxe)}(e)).next(()=>this._i(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,a))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:ewe}).createIndex("sequenceNumberIndex",twe,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:nwe}).createIndex("documentKeyIndex",rwe,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=vy(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>z.forEach(i,a=>{const o=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(s=>z.forEach(s,l=>{ue(l.userId===a.userId);const u=Hs(this.serializer,l);return iG(e,a.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.J((o,s)=>{const l=new Ke(o),u=function(d){return[0,Kn(d)]}(l);a.push(n.get(u).next(c=>c?z.resolve():(d=>n.put({targetId:0,path:Kn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>z.waitFor(a))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:Zxe});const r=n.store("collectionParents"),i=new _C,a=o=>{if(i.add(o)){const s=o.lastSegment(),l=o.popLast();return r.put({collectionId:s,parent:Kn(l)})}};return n.store("remoteDocuments").J({H:!0},(o,s)=>{const l=new Ke(o);return a(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,s,l],u)=>{const c=Vi(s);return a(c.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const a=lf(i),o=eG(this.serializer,a);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((a,o)=>{const s=n.store("remoteDocumentsV14"),l=function(d){return d.document?new ne(Ke.fromString(d.document.name).popFirst(5)):d.noDocument?ne.fromSegments(d.noDocument.path):d.unknownDocument?ne.fromSegments(d.unknownDocument.path):se()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(s.put(u))}).next(()=>z.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=lG(this.serializer),a=new cG(I_.Zr,this.serializer.ct);return r.U().next(o=>{const s=new Map;return o.forEach(l=>{var u;let c=(u=s.get(l.userId))!==null&&u!==void 0?u:Te();Hs(this.serializer,l).keys().forEach(d=>c=c.add(d)),s.set(l.userId,c)}),z.forEach(s,(l,u)=>{const c=new Dn(u),d=x_.lt(this.serializer,c),f=a.getIndexManager(c),p=w_.lt(c,this.serializer,f,a.referenceDelegate);return new uG(i,p,d,f).recalculateAndSaveOverlaysForDocumentKeys(new aS(n,sr.oe),l).next()})})}}function AL(t){t.createObjectStore("targetDocuments",{keyPath:Jxe}).createIndex("documentTargetsIndex",Xxe,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qxe,{unique:!0}),t.createObjectStore("targetGlobal")}const EE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class EC{constructor(e,n,r,i,a,o,s,l,u,c,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=a,this.window=o,this.document=s,this.ci=u,this.li=c,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!EC.D())throw new X(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mIe(this,i),this.Ai=n+"main",this.serializer=new Zq(l),this.Ri=new es(this.Ai,this.hi,new IIe(this.serializer)),this.$r=new nIe,this.Ur=new cIe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lG(this.serializer),this.Gr=new tIe,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&Ut("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new X(q.FAILED_PRECONDITION,EE);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new sr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Dm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(xs(e))return K("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Wd(e).get("owner").next(n=>z.resolve(this.vi(n)))}Ci(e){return Dm(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=an(n,"clientMetadata");return r.U().next(i=>{const a=this.xi(i,18e5),o=i.filter(s=>a.indexOf(s)===-1);return z.forEach(o,s=>r.delete(s.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?z.resolve(!0):Wd(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new X(q.FAILED_PRECONDITION,EE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dm(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(a||o&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&K("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new aS(e,sr.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Dm(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return w_.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new uIe(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return x_.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=function(l){return l===17?uwe:l===16?lwe:l===15?oC:l===14?cq:l===13?uq:l===12?swe:l===11?lq:void se()}(this.hi);let o;return this.Ri.runTransaction(e,i,a,s=>(o=new aS(s,this.Qr?this.Qr.next():sr.oe),n==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw Ut(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new X(q.FAILED_PRECONDITION,rq);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(s=>(o.raiseOnCommittedEvent(),s))}Ki(e){return Wd(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new X(q.FAILED_PRECONDITION,EE)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wd(e).put("owner",n)}static D(){return es.D()}bi(e){const n=Wd(e);return n.get("owner").next(r=>this.vi(r)?(K("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):z.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Ut(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;s6()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return K("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ut("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ut("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wd(t){return an(t,"owner")}function Dm(t){return an(t,"clientMetadata")}function dG(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Te(),i=Te();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new TC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CIe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return s6()?8:aq(en())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new CIe;return this.Xi(e,n,o).next(s=>{if(a.result=s,this.zi)return this.es(e,n,o,s.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(fu()<=Pe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(fu()<=Pe.DEBUG&&K("QueryEngine","Query:",hu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(fu()<=Pe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):z.resolve())}Yi(e,n){if(Y2(n))return z.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fy(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Te(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,o,l.readTime)?this.Yi(e,fy(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Y2(n)||i.isEqual(de.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const o=this.ts(n,a);return this.ns(n,o,r,i)?z.resolve(null):(fu()<=Pe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hu(n)),this.rs(e,o,n,tq(i,-1)).next(s=>s))})}ts(e,n){let r=new rt(Iq(e));return n.forEach((i,a)=>{Ap(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return fu()<=Pe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",hu(n)),this.Ji.getDocumentsMatchingQuery(e,n,Nr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PIe{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ht(ve),this._s=new ws(a=>Nl(a),Tp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uG(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function hG(t,e,n,r){return new PIe(t,e,n,r)}async function pG(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=Te();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function RIe(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,f=d.keys();let p=z.resolve();return f.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(E=>{const y=u.docVersions.get(v);ue(y!==null),E.version.compareTo(y)<0&&(d.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),c.addEntry(E)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Te();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mG(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function NIe(t,e){const n=le(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;s.push(n.Ur.removeMatchingKeys(a,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(a,c.addedDocuments,d)));let p=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Ft.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(E,y,_){return E.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,c)&&s.push(n.Ur.updateTargetData(a,p))});let l=Er(),u=Te();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(OIe(a,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(de.min())){const c=n.Ur.getLastRemoteSnapshotVersion(a).next(d=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(c)}return z.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.os=i,a))}function OIe(t,e,n){let r=Te(),i=Te();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Er();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):K("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function MIe(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yy(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,z.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Sa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Sc(t,e,n){const r=le(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xs(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function _S(t,e,n){const r=le(t);let i=de.min(),a=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=le(l),f=d._s.get(c);return f!==void 0?z.resolve(d.os.get(f)):d.Ur.getTargetData(u,c)}(r,o,Ir(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:de.min(),n?a:Te())).next(s=>(yG(r,wq(e),s),{documents:s,Ts:a})))}function gG(t,e){const n=le(t),r=le(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",a=>r.ot(a,e).next(o=>o?o.target:null))}function vG(t,e){const n=le(t),r=n.us.get(e)||de.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,tq(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(yG(n,e,i),i))}function yG(t,e,n){let r=t.us.get(e)||de.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}function SL(t,e){return`firestore_clients_${t}_${e}`}function xL(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function TE(t,e){return`firestore_targets_${t}_${e}`}class _y{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let a,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(a=new X(i.error.code,i.error.message))),o?new _y(e,n,i.state,a):(Ut("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Of{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new X(r.error.code,r.error.message))),a?new Of(e,r.state,i):(Ut("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class by{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=dC();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=oq(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new by(e,a):(Ut("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class AC{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new AC(n.clientId,n.onlineState):(Ut("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bS{constructor(){this.activeTargetIds=dC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AE{constructor(e,n,r,i,a){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ht(ve),this.started=!1,this.bs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Ds=SL(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new bS),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(SL(this.persistenceKey,r));if(i){const a=by.Rs(r,i);a&&(this.Ss=this.Ss.insert(a.clientId,a))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(TE(this.persistenceKey,e));if(i){const a=Of.Rs(e,i);a&&(r=a.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(TE(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return K("SharedClientState","READ",e,n),n}setItem(e,n){K("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){K("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(K("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void Ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(a){let o=sr.oe;if(a!=null)try{const s=JSON.parse(a);ue(typeof s=="number"),o=s}catch(s){Ut("SharedClientState","Failed to read sequence number from WebStorage",s)}return o}(n.newValue);r!==sr.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new _y(this.currentUser,e,n,r),a=xL(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Vs())}Qs(e){const n=xL(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=TE(this.persistenceKey,e),a=new Of(e,n,r);this.setItem(i,a.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return by.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return _y.Rs(new Dn(a),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return Of.Rs(i,n)}Ls(e){return AC.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);K("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),a=this.ks(r),o=[],s=[];return a.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{a.has(l)||s.push(l)}),this.syncEngine.io(o,s).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=dC();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class _G{constructor(){this.so=new bS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new bS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DIe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km=null;function SE(){return km===null?km=function(){return 268435456+Math.round(2147483648*Math.random())}():km++,"0x"+km.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kIe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LIe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class VIe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,o){const s=SE(),l=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(n,l,u,i).then(c=>(K("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw yh("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,a,o,s){return this.Mo(n,r,i,a,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ld}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),i&&i.headers.forEach((a,o)=>n[o]=a)}xo(n,r){const i=kIe[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=SE();return new Promise((o,s)=>{const l=new W6;l.setWithCredentials(!0),l.listenOnce(Y6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case fg.NO_ERROR:const c=l.getResponseJson();K(On,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),o(c);break;case fg.TIMEOUT:K(On,`RPC '${e}' ${a} timed out`),s(new X(q.DEADLINE_EXCEEDED,"Request time out"));break;case fg.HTTP_ERROR:const d=l.getStatus();if(K(On,`RPC '${e}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const v=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(_)>=0?_:q.UNKNOWN}(p.status);s(new X(v,p.message))}else s(new X(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new X(q.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{K(On,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);K(On,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=SE(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=X6(),s=J6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");K(On,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,p=!1;const v=new LIe({Io:y=>{p?K(On,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(K(On,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),K(On,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),E=(y,_,T)=>{y.listen(_,S=>{try{T(S)}catch(w){setTimeout(()=>{throw w},0)}})};return E(d,af.EventType.OPEN,()=>{p||(K(On,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),E(d,af.EventType.CLOSE,()=>{p||(p=!0,K(On,`RPC '${e}' stream ${i} transport closed`),v.So())}),E(d,af.EventType.ERROR,y=>{p||(p=!0,yh(On,`RPC '${e}' stream ${i} transport errored:`,y),v.So(new X(q.UNAVAILABLE,"The operation could not be completed")))}),E(d,af.EventType.MESSAGE,y=>{var _;if(!p){const T=y.data[0];ue(!!T);const S=T,w=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(w){K(On,`RPC '${e}' stream ${i} received error:`,w);const N=w.status;let O=function(R){const M=qt[R];if(M!==void 0)return Bq(M)}(N),I=w.message;O===void 0&&(O=q.INTERNAL,I="Unknown error status: "+N+" with message "+w.message),p=!0,v.So(new X(O,I)),d.close()}else K(On,`RPC '${e}' stream ${i} received:`,T),v.bo(T)}}),E(s,Q6.STAT_EVENT,y=>{y.stat===rS.PROXY?K(On,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===rS.NOPROXY&&K(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(){return typeof window<"u"?window:null}function _g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){return new qwe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,n,r,i,a,o,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new EG(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Ut(n.toString()),Ut("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new X(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UIe extends TG{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Kwe(this.serializer,e),r=function(a){if(!("targetChange"in a))return de.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Wn(o.readTime):de.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=pS(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=cy(l)?{documents:Kq(a,l)}:{query:Wq(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=jq(a,o.resumeToken);const u=fS(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(de.min())>0){s.readTime=Ac(a,o.snapshotVersion.toTimestamp());const u=fS(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=Ywe(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=pS(this.serializer),n.removeTarget=e,this.a_(n)}}class BIe extends TG{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ue(!!e.streamToken),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Wwe(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=pS(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>py(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zIe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,hS(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new X(q.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,hS(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class FIe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ut(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jIe{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{r.enqueueAndForget(async()=>{Gl(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=le(l);u.L_.add(4),await wp(u),u.q_.set("Unknown"),u.L_.delete(4),await P_(u)}(this))})}),this.q_=new FIe(r,i)}}async function P_(t){if(Gl(t))for(const e of t.B_)await e(!0)}async function wp(t){for(const e of t.B_)await e(!1)}function R_(t,e){const n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),wC(n)?xC(n):fd(n).r_()&&SC(n,e))}function xc(t,e){const n=le(t),r=fd(n);n.N_.delete(e),r.r_()&&AG(n,e),n.N_.size===0&&(r.r_()?r.o_():Gl(n)&&n.q_.set("Unknown"))}function SC(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fd(t).A_(e)}function AG(t,e){t.Q_.xe(e),fd(t).R_(e)}function xC(t){t.Q_=new zwe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fd(t).start(),t.q_.v_()}function wC(t){return Gl(t)&&!fd(t).n_()&&t.N_.size>0}function Gl(t){return le(t).L_.size===0}function SG(t){t.Q_=void 0}async function $Ie(t){t.q_.set("Online")}async function qIe(t){t.N_.forEach((e,n)=>{SC(t,e)})}async function GIe(t,e){SG(t),wC(t)?(t.q_.M_(e),xC(t)):t.q_.set("Unknown")}async function HIe(t,e,n){if(t.q_.set("Online"),e instanceof Fq&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ey(t,r)}else if(e instanceof yg?t.Q_.Ke(e):e instanceof zq?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{const r=await mG(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(Ft.EMPTY_BYTE_STRING,c.snapshotVersion)),AG(a,l);const d=new Sa(c.target,l,u,c.sequenceNumber);SC(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Ey(t,r)}}async function Ey(t,e,n){if(!xs(e))throw e;t.L_.add(1),await wp(t),t.q_.set("Offline"),n||(n=()=>mG(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await P_(t)})}function xG(t,e){return e().catch(n=>Ey(t,n,e))}async function dd(t){const e=le(t),n=ps(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;KIe(e);)try{const i=await MIe(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,WIe(e,i)}catch(i){await Ey(e,i)}wG(e)&&IG(e)}function KIe(t){return Gl(t)&&t.O_.length<10}function WIe(t,e){t.O_.push(e);const n=ps(t);n.r_()&&n.V_&&n.m_(e.mutations)}function wG(t){return Gl(t)&&!ps(t).n_()&&t.O_.length>0}function IG(t){ps(t).start()}async function YIe(t){ps(t).p_()}async function QIe(t){const e=ps(t);for(const n of t.O_)e.m_(n.mutations)}async function JIe(t,e,n){const r=t.O_.shift(),i=pC.from(r,e,n);await xG(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await dd(t)}async function XIe(t,e){e&&ps(t).V_&&await async function(r,i){if(function(o){return Vwe(o)&&o!==q.ABORTED}(i.code)){const a=r.O_.shift();ps(r).s_(),await xG(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await dd(r)}}(t,e),wG(t)&&IG(t)}async function IL(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Gl(n);n.L_.add(3),await wp(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await P_(n)}async function ES(t,e){const n=le(t);e?(n.L_.delete(2),await P_(n)):e||(n.L_.add(2),await wp(n),n.q_.set("Unknown"))}function fd(t){return t.K_||(t.K_=function(n,r,i){const a=le(n);return a.w_(),new UIe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:$Ie.bind(null,t),Ro:qIe.bind(null,t),mo:GIe.bind(null,t),d_:HIe.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),wC(t)?xC(t):t.q_.set("Unknown")):(await t.K_.stop(),SG(t))})),t.K_}function ps(t){return t.U_||(t.U_=function(n,r,i){const a=le(n);return a.w_(),new BIe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:YIe.bind(null,t),mo:XIe.bind(null,t),f_:QIe.bind(null,t),g_:JIe.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await dd(t)):(await t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new IC(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CC(t,e){if(Ut("AsyncQueue",`${e}: ${t}`),xs(t))return new X(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=of(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new Qu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.W_=new ht(ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wc{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new wc(e,n,Qu.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&E_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZIe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class eCe{constructor(){this.queries=PL(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=le(n),a=i.queries;i.queries=PL(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(r)})})(this,new X(q.ABORTED,"Firestore shutting down"))}}function PL(){return new ws(t=>xq(t),E_)}async function tCe(t,e){const n=le(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new ZIe,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=CC(o,`Initialization of query '${hu(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&PC(n)}async function nCe(t,e){const n=le(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rCe(t,e){const n=le(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(r=!0);o.z_=i}}r&&PC(n)}function iCe(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function PC(t){t.Y_.forEach(e=>{e.next()})}var TS,RL;(RL=TS||(TS={})).ea="default",RL.Cache="cache";class aCe{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==TS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e){this.key=e}}class PG{constructor(e){this.key=e}}class oCe{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=Iq(e),this.Ra=new Qu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new CL,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=Ap(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?v!==E&&(r.track({type:3,doc:p}),y=!0):this.ga(f,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(l||u)&&(s=!0)),y&&(p?(o=o.add(p),a=E?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:s,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,d)=>function(p,v){const E=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return E(p)-E(v)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new wc(this.query,e.Ra,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new CL,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new PG(r))}),this.da.forEach(r=>{e.has(r)||n.push(new CG(r))}),n}ba(e){this.Ta=e.Ts,this.da=Te();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return wc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class sCe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lCe{constructor(e){this.key=e,this.va=!1}}class uCe{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ws(s=>xq(s),E_),this.Ma=new Map,this.xa=new Set,this.Oa=new ht(ne.comparator),this.Na=new Map,this.La=new bC,this.Ba={},this.ka=new Map,this.qa=Dl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function cCe(t,e,n=!0){const r=N_(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await RG(r,e,n,!0),i}async function dCe(t,e){const n=N_(t);await RG(n,e,!0,!1)}async function RG(t,e,n,r){const i=await yy(t.localStore,Ir(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await RC(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&R_(t.remoteStore,i),s}async function RC(t,e,n,r,i){t.Ka=(d,f,p)=>async function(E,y,_,T){let S=y.view.ma(_);S.ns&&(S=await _S(E.localStore,y.query,!1).then(({documents:I})=>y.view.ma(I,S)));const w=T&&T.targetChanges.get(y.targetId),N=T&&T.targetMismatches.get(y.targetId)!=null,O=y.view.applyChanges(S,E.isPrimaryClient,w,N);return AS(E,y.targetId,O.wa),O.snapshot}(t,d,f,p);const a=await _S(t.localStore,e,!0),o=new oCe(e,a.Ts),s=o.ma(a.documents),l=xp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);AS(t,n,u.wa);const c=new sCe(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function fCe(t,e,n){const r=le(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(o=>!E_(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Sc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xc(r.remoteStore,i.targetId),Ic(r,i.targetId)}).catch(Ss)):(Ic(r,i.targetId),await Sc(r.localStore,i.targetId,!0))}async function hCe(t,e){const n=le(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xc(n.remoteStore,r.targetId))}async function pCe(t,e,n){const r=DC(t);try{const i=await function(o,s){const l=le(o),u=bt.now(),c=s.reduce((p,v)=>p.add(v.key),Te());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Er(),E=Te();return l.cs.getEntries(p,c).next(y=>{v=y,v.forEach((_,T)=>{T.isValidDocument()||(E=E.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(y=>{d=y;const _=[];for(const T of s){const S=kwe(T,d.get(T.key).overlayedDocument);S!=null&&_.push(new oo(T.key,S,mq(S.value.mapValue),Hn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,s)}).next(y=>{f=y;const _=y.applyToLocalDocumentSet(d,E);return l.documentOverlayCache.saveOverlays(p,y.batchId,_)})}).then(()=>({batchId:f.batchId,changes:Pq(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new ht(ve)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Is(r,i.changes),await dd(r.remoteStore)}catch(i){const a=CC(i,"Failed to persist write");n.reject(a)}}async function NG(t,e){const n=le(t);try{const r=await NIe(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Na.get(a);o&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ue(o.va):i.removedDocuments.size>0&&(ue(o.va),o.va=!1))}),await Is(n,r,e)}catch(r){await Ss(r)}}function NL(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=le(o);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.j_)f.Z_(s)&&(u=!0)}),u&&PC(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mCe(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let o=new ht(ne.comparator);o=o.insert(a,Mt.newNoDocument(a,de.min()));const s=Te().add(a),l=new Sp(de.min(),new Map,new ht(ve),o,s);await NG(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),MC(r)}else await Sc(r.localStore,e,!1).then(()=>Ic(r,e,n)).catch(Ss)}async function gCe(t,e){const n=le(t),r=e.batch.batchId;try{const i=await RIe(n.localStore,e);OC(n,r,null),NC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Is(n,i)}catch(i){await Ss(i)}}async function vCe(t,e,n){const r=le(t);try{const i=await function(o,s){const l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(ue(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);OC(r,e,n),NC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Is(r,i)}catch(i){await Ss(i)}}function NC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function OC(t,e,n){const r=le(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ic(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||OG(t,r)})}function OG(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(xc(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),MC(t))}function AS(t,e,n){for(const r of n)r instanceof CG?(t.La.addReference(r.key,e),yCe(t,r)):r instanceof PG?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||OG(t,r.key)):se()}function yCe(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),MC(t))}function MC(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ne(Ke.fromString(e)),r=t.qa.next();t.Na.set(r,new lCe(n)),t.Oa=t.Oa.insert(n,r),R_(t.remoteStore,new Sa(Ir(cC(n.path)),r,"TargetPurposeLimboResolution",sr.oe))}}async function Is(t,e,n){const r=le(t),i=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=TC.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=le(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(u,f=>z.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>z.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!xs(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=c.os.get(f),v=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(f,E)}}}(r.localStore,a))}async function _Ce(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await pG(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new X(q.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Is(n,r.hs)}}function bCe(t,e){const n=le(t),r=n.Na.get(e);if(r&&r.va)return Te().add(r.key);{let i=Te();const a=n.Ma.get(e);if(!a)return i;for(const o of a){const s=n.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}async function ECe(t,e){const n=le(t),r=await _S(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&AS(n,e.targetId,i.wa),i}async function TCe(t,e){const n=le(t);return vG(n.localStore,e).then(r=>Is(n,r))}async function ACe(t,e,n,r){const i=le(t),a=await function(s,l){const u=le(s),c=le(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Mn(d,l).next(f=>f?u.localDocuments.getDocuments(d,f):z.resolve(null)))}(i.localStore,e);a!==null?(n==="pending"?await dd(i.remoteStore):n==="acknowledged"||n==="rejected"?(OC(i,e,r||null),NC(i,e),function(s,l){le(le(s).mutationQueue).On(l)}(i.localStore,e)):se(),await Is(i,a)):K("SyncEngine","Cannot apply mutation batch with id: "+e)}async function SCe(t,e){const n=le(t);if(N_(n),DC(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await OL(n,r.toArray());n.Qa=!0,await ES(n.remoteStore,!0);for(const a of i)R_(n.remoteStore,a)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach((a,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Ic(n,o),Sc(n.localStore,o,!0))),xc(n.remoteStore,o)}),await i,await OL(n,r),function(o){const s=le(o);s.Na.forEach((l,u)=>{xc(s.remoteStore,u)}),s.La.pr(),s.Na=new Map,s.Oa=new ht(ne.comparator)}(n),n.Qa=!1,await ES(n.remoteStore,!1)}}async function OL(t,e,n){const r=le(t),i=[],a=[];for(const o of e){let s;const l=r.Ma.get(o);if(l&&l.length!==0){s=await yy(r.localStore,Ir(l[0]));for(const u of l){const c=r.Fa.get(u),d=await ECe(r,c);d.snapshot&&a.push(d.snapshot)}}else{const u=await gG(r.localStore,o);s=await yy(r.localStore,u),await RC(r,MG(u),o,!1,s.resumeToken)}i.push(s)}return r.Ca.d_(a),i}function MG(t){return Aq(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xCe(t){return function(n){return le(le(n).persistence).Qi()}(le(t).localStore)}async function wCe(t,e,n,r){const i=le(t);if(i.Qa)return void K("SyncEngine","Ignoring unexpected query state notification.");const a=i.Ma.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const o=await vG(i.localStore,wq(a[0])),s=Sp.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ft.EMPTY_BYTE_STRING);await Is(i,o,s);break}case"rejected":await Sc(i.localStore,e,!0),Ic(i,e,r);break;default:se()}}async function ICe(t,e,n){const r=N_(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){K("SyncEngine","Adding an already active target "+i);continue}const a=await gG(r.localStore,i),o=await yy(r.localStore,a);await RC(r,MG(a),o.targetId,!1,o.resumeToken),R_(r.remoteStore,o)}for(const i of n)r.Ma.has(i)&&await Sc(r.localStore,i,!1).then(()=>{xc(r.remoteStore,i),Ic(r,i)}).catch(Ss)}}function N_(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bCe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mCe.bind(null,e),e.Ca.d_=rCe.bind(null,e.eventManager),e.Ca.$a=iCe.bind(null,e.eventManager),e}function DC(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gCe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vCe.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=C_(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return hG(this.persistence,new fG,e.initialUser,this.serializer)}Ga(e){return new cG(I_.Zr,this.serializer)}Wa(e){return new _G}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class DG extends Ph{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await DC(this.Ja.syncEngine),await dd(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return hG(this.persistence,new fG,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new fIe(r,e.asyncQueue,n)}Ha(e,n){const r=new qxe(n,this.persistence);return new $xe(e.asyncQueue,r)}Ga(e){const n=dG(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new EC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,bG(),_g(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new _G}}class CCe extends DG{constructor(e,n){super(e,n,!1),this.Ja=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ja.syncEngine;this.sharedClientState instanceof AE&&(this.sharedClientState.syncEngine={no:ACe.bind(null,n),ro:wCe.bind(null,n),io:ICe.bind(null,n),Qi:xCe.bind(null,n),eo:TCe.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await SCe(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Wa(e){const n=bG();if(!AE.D(n))throw new X(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=dG(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new AE(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Rh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NL(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_Ce.bind(null,this.syncEngine),await ES(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eCe}()}createDatastore(e){const n=C_(e.databaseInfo.databaseId),r=function(a){return new VIe(a)}(e.databaseInfo);return function(a,o,s,l){return new zIe(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new jIe(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>NL(this.syncEngine,n,0),function(){return wL.D()?new wL:new DIe}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,c){const d=new uCe(i,a,o,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=le(i);K("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await wp(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rh.provider={build:()=>new Rh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PCe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ut("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RCe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=Z6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{K("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=CC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xE(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pG(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ML(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NCe(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>IL(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>IL(e.remoteStore,i)),t._onlineComponents=e}async function NCe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await xE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;yh("Error using user provided cache. Falling back to memory cache: "+n),await xE(t,new Ph)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await xE(t,new Ph);return t._offlineComponents}async function kG(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await ML(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await ML(t,new Rh))),t._onlineComponents}function OCe(t){return kG(t).then(e=>e.syncEngine)}async function MCe(t){const e=await kG(t),n=e.eventManager;return n.onListen=cCe.bind(null,e.syncEngine),n.onUnlisten=fCe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dCe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hCe.bind(null,e.syncEngine),n}function DCe(t,e,n={}){const r=new Ra;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new PCe({next:f=>{c.Za(),o.enqueueAndForget(()=>nCe(a,d)),f.fromCache&&l.source==="server"?u.reject(new X(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new aCe(s,c,{includeMetadataChanges:!0,_a:!0});return tCe(a,d)}(await MCe(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(t,e,n){if(!n)throw new X(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kCe(t,e,n,r){if(e===!0&&r===!0)throw new X(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kL(t){if(!ne.isDocumentKey(t))throw new X(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LL(t){if(ne.isDocumentKey(t))throw new X(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function O_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function SS(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=O_(t);throw new X(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function LCe(t,e){if(e<=0)throw new X(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kCe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LG((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new X(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new X(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new X(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kC{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VL({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VL(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Mxe;switch(r.type){case"firstParty":return new Lxe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DL.get(n);r&&(K("ComponentProvider","Removing Datastore"),DL.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Qr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qr(this.firestore,e,this._key)}}class ts extends Cs{constructor(e,n,r){super(e,n,cC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qr(this.firestore,null,new ne(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function la(t,e,...n){if(t=In(t),VG("collection","path",e),t instanceof kC){const r=Ke.fromString(e,...n);return LL(r),new ts(t,null,r)}{if(!(t instanceof Qr||t instanceof ts))throw new X(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return LL(r),new ts(t.firestore,null,r)}}function UL(t,e,...n){if(t=In(t),arguments.length===1&&(e=Z6.newId()),VG("doc","path",e),t instanceof kC){const r=Ke.fromString(e,...n);return kL(r),new Qr(t,null,new ne(r))}{if(!(t instanceof Qr||t instanceof ts))throw new X(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return kL(r),new Qr(t.firestore,t instanceof ts?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new EG(this,"async_queue_retry"),this.Vu=()=>{const r=_g();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=_g();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=_g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ra;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xs(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw Ut("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=IC.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class LC extends kC{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new BL,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BL(e),this._firestoreClient=void 0,await e}}}function VCe(t,e,n){n||(n="(default)");const r=WI(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(mh(a,e))return i;throw new X(q.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new X(q.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function VC(t){if(t._terminated)throw new X(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UCe(t),t._firestoreClient}function UCe(t){var e,n,r;const i=t._freezeSettings(),a=function(s,l,u,c){return new dwe(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,LG(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new RCe(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cc(Ft.fromBase64String(e))}catch(n){throw new X(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cc(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BCe=/^__.*__$/;class zCe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new cd(e,this.data,n,this.fieldTransforms)}}class UG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BG(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class FC{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new FC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ty(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(BG(this.Cu)&&BCe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class FCe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||C_(e)}Qu(e,n,r,i=!1){return new FC({Cu:e,methodName:n,qu:r,path:It.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zG(t){const e=t._freezeSettings(),n=C_(t._databaseId);return new FCe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jCe(t,e,n,r,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);jC("Data must be an object, but it was:",o,r);const s=FG(r,o);let l,u;if(a.merge)l=new lr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const f=xS(e,d,n);if(!o.contains(f))throw new X(q.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);$G(c,f)||c.push(f)}l=new lr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new zCe(new Ln(s),l,u)}class D_ extends UC{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D_}}function $Ce(t,e,n,r){const i=t.Qu(1,e,n);jC("Data must be an object, but it was:",i,r);const a=[],o=Ln.empty();ql(r,(l,u)=>{const c=$C(e,l,n);u=In(u);const d=i.Nu(c);if(u instanceof D_)a.push(c);else{const f=Ip(u,d);f!=null&&(a.push(c),o.set(c,f))}});const s=new lr(a);return new UG(o,s,i.fieldTransforms)}function qCe(t,e,n,r,i,a){const o=t.Qu(1,e,n),s=[xS(e,r,n)],l=[i];if(a.length%2!=0)throw new X(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)s.push(xS(e,a[f])),l.push(a[f+1]);const u=[],c=Ln.empty();for(let f=s.length-1;f>=0;--f)if(!$G(u,s[f])){const p=s[f];let v=l[f];v=In(v);const E=o.Nu(p);if(v instanceof D_)u.push(p);else{const y=Ip(v,E);y!=null&&(u.push(p),c.set(p,y))}}const d=new lr(u);return new UG(c,d,o.fieldTransforms)}function GCe(t,e,n,r=!1){return Ip(n,t.Qu(r?4:3,e))}function Ip(t,e){if(jG(t=In(t)))return jC("Unsupported field value:",e,t),FG(t,e);if(t instanceof UC)return function(r,i){if(!BG(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=Ip(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=In(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Cwe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=bt.fromDate(r);return{timestampValue:Ac(i.serializer,a)}}if(r instanceof bt){const a=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ac(i.serializer,a)}}if(r instanceof BC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cc)return{bytesValue:jq(i.serializer,r._byteString)};if(r instanceof Qr){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zC)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return fC(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${O_(r)}`)}(t,e)}function FG(t,e){const n={};return dq(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ql(t,(r,i)=>{const a=Ip(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function jG(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof BC||t instanceof Cc||t instanceof Qr||t instanceof UC||t instanceof zC)}function jC(t,e,n){if(!jG(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=O_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function xS(t,e,n){if((e=In(e))instanceof M_)return e._internalPath;if(typeof e=="string")return $C(t,e);throw Ty("Field path arguments must be of type string or ",t,!1,void 0,n)}const HCe=new RegExp("[~\\*/\\[\\]]");function $C(t,e,n){if(e.search(HCe)>=0)throw Ty(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new M_(...e.split("."))._internalPath}catch{throw Ty(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ty(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(q.INVALID_ARGUMENT,s+t+l)}function $G(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(k_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KCe extends qG{data(){return super.data()}}function k_(t,e){return typeof e=="string"?$C(t,e):e instanceof M_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WCe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qC{}class GC extends qC{}function wE(t,e,...n){let r=[];e instanceof qC&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof HC).length,s=a.filter(l=>l instanceof L_).length;if(o>1||o>0&&s>0)throw new X(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class L_ extends GC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new L_(e,n,r)}_apply(e){const n=this._parse(e);return GG(e._query,n),new Cs(e.firestore,e.converter,dS(e._query,n))}_parse(e){const n=zG(e.firestore);return function(a,o,s,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new X(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){jL(d,c);const p=[];for(const v of d)p.push(FL(l,a,v));f={arrayValue:{values:p}}}else f=FL(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||jL(d,c),f=GCe(s,o,d,c==="in"||c==="not-in");return Ne.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function YCe(t,e,n){const r=e,i=k_("where",t);return L_._create(i,r,n)}class HC extends qC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new HC(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)GG(o,l),o=dS(o,l)}(e._query,n),new Cs(e.firestore,e.converter,dS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class KC extends GC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new KC(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new X(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new X(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wh(a,o)}(e._query,this._field,this._direction);return new Cs(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new ud(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function QCe(t,e="asc"){const n=e,r=k_("orderBy",t);return KC._create(r,n)}class WC extends GC{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new WC(e,n,r)}_apply(e){return new Cs(e.firestore,e.converter,fy(e._query,this._limit,this._limitType))}}function zL(t){return LCe("limit",t),WC._create("limit",t,"F")}function FL(t,e,n){if(typeof(n=In(n))=="string"){if(n==="")throw new X(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sq(e)&&n.indexOf("/")!==-1)throw new X(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ke.fromString(n));if(!ne.isDocumentKey(r))throw new X(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sh(t,new ne(r))}if(n instanceof Qr)return Sh(t,n._key);throw new X(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${O_(n)}.`)}function jL(t,e){if(!Array.isArray(t)||t.length===0)throw new X(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GG(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JCe{convertValue(e,n="none"){switch(Rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ql(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>St(o.doubleValue));return new zC(a)}convertGeoPoint(e){return new BC(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Th(e));default:return null}}convertTimestamp(e){const n=Wa(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);ue(Xq(r));const i=new Pl(r.get(1),r.get(3)),a=new ne(r.popFirst(5));return i.isEqual(n)||Ut(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XCe(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZCe extends qG{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(k_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bg extends ZCe{data(e={}){return super.data(e)}}class ePe{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bg(this._firestore,this._userDataWriter,r.key,r,new Lm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new bg(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Lm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new bg(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Lm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:tPe(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tPe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}class nPe extends JCe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,n)}}function mo(t){t=SS(t,Cs);const e=SS(t.firestore,LC),n=VC(e),r=new nPe(e);return WCe(t._query),DCe(n,t._query).then(i=>new ePe(e,r,t,i))}function rPe(t,e){return function(r,i){const a=new Ra;return r.asyncQueue.enqueueAndForget(async()=>pCe(await OCe(r),i,a)),a.promise}(VC(t),e)}class iPe{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=lPe(),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function aPe(t){return new iPe(t)}class oPe{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Rh.provider,this._offlineComponentProvider={build:n=>new DG(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class sPe{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Rh.provider,this._offlineComponentProvider={build:n=>new CCe(n,e==null?void 0:e.cacheSizeBytes)}}}function lPe(t){return new oPe(void 0)}function uPe(){return new sPe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cPe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zG(e)}set(e,n,r){this._verifyNotCommitted();const i=IE(e,this._firestore),a=XCe(i.converter,n,r),o=jCe(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Hn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=IE(e,this._firestore);let o;return o=typeof(n=In(n))=="string"||n instanceof M_?qCe(this._dataReader,"WriteBatch.update",a._key,n,r,i):$Ce(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=IE(e,this._firestore);return this._mutations=this._mutations.concat(new S_(n._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new X(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function IE(t,e){if((t=In(t)).firestore!==e)throw new X(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){return VC(t=SS(t,LC)),new cPe(t,e=>rPe(t,e))}(function(e,n=!0){(function(i){ld=i})(od),gc(new wl("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new LC(new Dxe(r.getProvider("auth-internal")),new Uxe(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Xo(M2,"4.7.3",e),Xo(M2,"4.7.3","esm2017")})();const dPe={apiKey:"AIzaSyDb_17CJm3Ajbmwnt4q-Sc6KKimuOa3asA",authDomain:"consorcio-intel-app.firebaseapp.com",projectId:"consorcio-intel-app",storageBucket:"consorcio-intel-app.firebasestorage.app",messagingSenderId:"654186633996",appId:"1:654186633996:web:1feddb11c5238414844729",measurementId:"G-VQ5JTT3JQN"},HG=d6(dPe),Vm=Rxe(HG),pr=VCe(HG,{localCache:aPe({tabManager:uPe()})}),PE=async()=>{if(Vm.currentUser)return Vm.currentUser;const t=await new Promise(e=>{const n=_Se(Vm,r=>{n(),e(r)})});if(t)return t;try{return console.log("Iniciando nova sesso annima..."),(await hSe(Vm)).user}catch(e){return e.code!=="auth/configuration-not-found"&&e.code!=="auth/operation-not-allowed"&&console.error("Falha na autenticao annima:",e),null}},RE="series_consolidadas",NE="grupos_detalhados",OE="dados_trimestrais_uf",$L="indicadores_agregados",qL="administradoras",GL="imported_files_log",ME="staging_raw_data";Jt.IMOVEIS,Jt.VEICULOS_PESADOS,Jt.VEICULOS_LEVES,Jt.MOTOCICLETAS,Jt.OUTROS_BENS,Jt.SERVICOS;const DE=t=>t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g,""):"",fe=(t,e)=>{const r=Object.keys(t).map(i=>({key:i,norm:DE(i)}));for(const i of e)if(typeof i=="string"){const a=DE(i),o=r.find(s=>s.norm===a);if(o)return t[o.key]}else if(Array.isArray(i)){const a=i.map(DE),o=r.find(s=>a.every(l=>s.norm.includes(l)));if(o)return t[o.key]}},Ee=t=>{if(t==null)return 0;if(typeof t=="number")return t;const e=String(t).trim();if(e===""||e==="-")return 0;const n=e.replace(/[R$\s]/g,"");return n.includes(",")?Number(n.replace(/\./g,"").replace(",","."))||0:Number(n.replace(/\./g,""))||0},fPe=t=>{const e=String(fe(t,["CNPJ_da_Administradora"])||"").replace(/\D/g,"");if(!e)return null;const n=parseInt(String(fe(t,["Cdigo_do_segmento","Codigo"])||"0").replace(/\D/g,"")),r=String(fe(t,["Data_base"])||""),i=Ee(fe(t,["Quantidade_de_cotas_ativas_em_dia"])),a=Ee(fe(t,["Quantidade_de_cotas_ativas_contempladas_inadimplentes"])),o=Ee(fe(t,["Quantidade_de_cotas_ativas_no_contempladas_inadimplentes"])),s=Ee(fe(t,["Quantidade_acumulada_de_cotas_ativas_contempladas"])),l=Ee(fe(t,["Quantidade_de_cotas_ativas_no_contempladas"])),u=Ee(fe(t,["Quantidade_de_cotas_ativas_contempladas_no_ms"])),c=Ee(fe(t,["Quantidade_de_cotas_excludas"])),d=Ee(fe(t,["Quantidade_de_cotas_ativas_quitadas"])),f=Ee(fe(t,["Quantidade_de_cotas_ativas_com_crdito_pendente_de_utilizao"])),p=Ee(fe(t,["Quantidade_de_cotas_excludas_a_comercializar"])),v=i+a+o,E=v>0?(a+o)/v:0,y=v>0?u/v:0,_=v+c>0?c/(v+c):0,T=v>0?d/v:0,S=s>0?f/s:0,w=c>0?p/c:0;return{id:`${e}_${n}_${r}`,cnpj_raiz:e,codigo_segmento:n,data_base:r,tipo_segmento:n===1?"imoveis":"moveis",metricas_brutas:{taxa_de_administracao:Ee(fe(t,["Taxa_de_administrao"])),quantidade_de_grupos_ativos:Ee(fe(t,["Quantidade_de_grupos_ativos"])),quantidade_de_grupos_constituidos_no_mes:Ee(fe(t,["Quantidade_de_grupos_constitudos_no_ms"])),quantidade_de_grupos_encerrados_no_mes:Ee(fe(t,["Quantidade_de_grupos_encerrados_no_ms"])),quantidade_de_cotas_comercializadas_no_mes:Ee(fe(t,["Quantidade_de_cotas_comercializadas_no_ms"])),quantidade_de_cotas_excluidas_a_comercializar:p,quantidade_acumulada_de_cotas_ativas_contempladas:s,quantidade_de_cotas_ativas_nao_contempladas:l,quantidade_de_cotas_ativas_contempladas_no_mes:u,quantidade_de_cotas_ativas_em_dia:i,quantidade_de_cotas_ativas_contempladas_inadimplentes:a,quantidade_de_cotas_ativas_nao_contempladas_inadimplentes:o,quantidade_de_cotas_excluidas:c,quantidade_de_cotas_ativas_quitadas:d,quantidade_de_cotas_ativas_com_credito_pendente_de_utilizacao:f},indicadores_calculados:{cotas_ativas_total:v,taxa_inadimplencia_total:E,taxa_inadimplencia_contemplados:0,taxa_inadimplencia_nao_contemplados:0,taxa_contemplacao_mensal:y,taxa_exclusao:_,taxa_quitacao:T,taxa_credito_pendente:S,taxa_substituicao_titularidade:w},_fonte:{arquivo_origem:"Segmentos_Consolidados",linha_no_csv:0,hash_validacao:"",importado_em:bt.now(),versao_layout:"3.1"}}},HL=(t,e)=>{const n=String(fe(t,["CNPJ_da_Administradora"])||"").replace(/\D/g,""),r=String(fe(t,["Cdigo_do_grupo","Codigo"])||""),i=String(fe(t,["Data_base"])||"");if(!n||!r)return null;let a=1;if(e==="imoveis")a=1;else{const d=String(fe(t,["Cdigo_do_segmento","Codigo"])||"0").replace(/\D/g,"");a=parseInt(d.substring(0,1)),d.length===2&&parseInt(d)>10&&(a=Math.floor(parseInt(d)/10))}const o=e==="imoveis"?`${n}_${r}_${i}`:`${n}_${r}_${a}_${i}`,s=Ee(fe(t,["Quantidade_de_cotas_ativas_em_dia"])),l=Ee(fe(t,["Quantidade_de_cotas_ativas_contempladas_inadimplentes"])),u=Ee(fe(t,["Quantidade_de_cotas_ativas_no_contempladas_inadimplentes"]));let c=Ee(fe(t,["Nmero_da_assemblia_geral_ordinria","Assembleia"]));return{id:o,cnpj_raiz:n,codigo_grupo:r,data_base:i,codigo_segmento:a,caracteristicas:{numero_assembleias_geral_ordinaria:c,valor_medio_do_bem:Ee(fe(t,["Valor_mdio_do_bem","Valor do Bem"])),indice_correcao:String(fe(t,["ndice_de_correo"])||""),taxa_de_administracao:Ee(fe(t,["Taxa_de_administrao"])),prazo_do_grupo_em_meses:Ee(fe(t,["Prazo_do_grupo_em_meses"]))},metricas_cotas:{ativas_em_dia:s,contempladas_inadimplentes:l,nao_contempladas_inadimplentes:u,contempladas_no_mes:Ee(fe(t,["Quantidade_de_cotas_ativas_contempladas_no_ms"])),contempladas_acumulado:Ee(fe(t,["Quantidade_acumulada_de_cotas_ativas_contempladas"])),excluidas:Ee(fe(t,["Quantidade_de_cotas_excludas"])),quitadas:Ee(fe(t,["Quantidade_de_cotas_ativas_quitadas"])),credito_pendente:Ee(fe(t,["Quantidade_de_cotas_ativas_com_crdito_pendente_de_utilizao"])),excluidas_a_comercializar:Ee(fe(t,["Quantidade_de_cotas_excludas_a_comercializar"]))},analise_risco:{status:"normal",motivo:"",percentual_grupo_concluido:0}}},hPe=t=>{const e=String(fe(t,["CNPJ_da_Administradora"])||"").replace(/\D/g,""),n=String(fe(t,["Unidade_da_Federao_do_consorciado","UF"])||"").toUpperCase(),r=String(fe(t,["Data_base"])||""),i=parseInt(String(fe(t,["Cdigo_do_segmento","Codigo"])||"0"));if(!e||!n)return null;const a=Ee(fe(t,["Quantidade_de_consorciados_excludos_contemplados_no_ trimestre","Quantidade_de_consorciados_excludos_contemplados_no_trimestre"])),o=Ee(fe(t,["Quantidade_de_adeses_no_trimestre"])),s=Ee(fe(t,["Quantidade_de_consorciados_ativos_contemplados_por_lance"])),l=Ee(fe(t,["Quantidade_de_consorciados_ativos_contemplados_por_sorteio"])),u=Ee(fe(t,["Quantidade_de_consorciados_ativos_no_contemplados"])),c=s+l+u,d=Ee(fe(t,["Quantidade_de_consorciados_ativos_contemplados_por_lance_no_trimestre"]))+Ee(fe(t,["Quantidade_de_consorciados_ativos_contemplados_por_sorteio_no_trimestre"]));return{id:`${e}_${n}_${i}_${r}`,cnpj_raiz:e,uf:n,codigo_segmento:i,data_base:r,acumulados:{contemplados_lance:s,contemplados_sorteio:l,ativos_nao_contemplados:u,excluidos_contemplados:Ee(fe(t,["Quantidade_de_consorciados_excludos_contemplados"])),excluidos_nao_contemplados:Ee(fe(t,["Quantidade_de_consorciados_excludos_no_contemplados"]))},trimestre:{contemplados_lance:Ee(fe(t,["Quantidade_de_consorciados_ativos_contemplados_por_lance_no_trimestre"])),contemplados_sorteio:Ee(fe(t,["Quantidade_de_consorciados_ativos_contemplados_por_sorteio_no_trimestre"])),excluidos_contemplados:a,adesoes:o},totais:{ativos_total:c,contemplados_trimestre_total:d,taxa_contemplacao_trimestral:c>0?d/c:0,taxa_adesao:u>0?o/u:0}}},Um=t=>new Promise(e=>setTimeout(e,t)),mi={fetchData:async()=>{try{const[t,e,n,r,i,a]=await Promise.all([mo(la(pr,RE)),mo(la(pr,NE)),mo(la(pr,OE)),mo(la(pr,$L)),mo(la(pr,qL)),mo(wE(la(pr,GL),QCe("importDate","desc"),zL(20)))]);return{consolidated:t.docs.map(o=>o.data()),detailedGroups:e.docs.map(o=>o.data()),quarterly:n.docs.map(o=>o.data()),aggregated:r.docs.map(o=>o.data()),administrators:i.docs.map(o=>o.data()),importedFiles:a.docs.map(o=>o.data()),lastUpdated:new Date().toISOString()}}catch(t){return console.error("Error fetching data",t),{consolidated:[],detailedGroups:[],quarterly:[],aggregated:[],administrators:[],importedFiles:[],lastUpdated:null}}},checkConnection:async()=>{try{return!!await PE()}catch{return!1}},clearAllData:async()=>{if(!await PE())throw new Error("Sem permisso");const e=async n=>{let r=!0;for(;r;){const i=wE(la(pr,n),zL(300)),a=await mo(i);if(a.size===0){r=!1;break}const o=CE(pr);a.docs.forEach(s=>o.delete(s.ref)),await o.commit(),await Um(200)}};await Promise.all([e(RE),e(NE),e(OE),e($L),e(GL),e(ME)])},uploadToStaging:async(t,e,n)=>{const r=n.map(i=>({batchId:t,fileName:"Upload",importType:e,rawData:i,processed:!1,createdAt:new Date().toISOString()}));await mi.batchWrite(r,ME)},processStagingData:async t=>{if(!await PE())throw new Error("Auth required");const n=wE(la(pr,ME),YCe("batchId","==",t)),r=await mo(n);if(r.empty)return"Nenhum dado encontrado no Staging.";let i=[],a=[],o=[],s=new Map;r.docs.forEach(c=>{const d=c.data(),f=d.rawData,p=String(fe(f,["CNPJ_da_Administradora"])||"").replace(/\D/g,""),v=fe(f,["Nome_da_Administradora"]);switch(p&&v&&(s.has(p)||s.set(p,{cnpj_raiz:p,nome_reduzido:String(v).trim(),segmentos_atuantes:[],primeiro_registro:"",ultimo_registro:"",total_grupos_historico:0})),d.importType){case"segmentos":const E=fPe(f);E&&i.push(E);break;case"imoveis":const y=HL(f,"imoveis");y&&a.push(y);break;case"moveis":const _=HL(f,"moveis");_&&a.push(_);break;case"uf":const T=hPe(f);T&&o.push(T);break}}),i.length>0&&await mi.batchWrite(i,RE,c=>c.id||null),a.length>0&&await mi.batchWrite(a,NE,c=>c.id||null),o.length>0&&await mi.batchWrite(o,OE,c=>c.id||null),s.size>0&&await mi.batchWrite(Array.from(s.values()),qL,c=>c.cnpj_raiz);const l=r.docs,u=250;for(let c=0;c<l.length;c+=u){const d=l.slice(c,c+u),f=CE(pr);d.forEach(p=>f.delete(p.ref)),await f.commit(),await Um(200)}return window.dispatchEvent(new Event("dataUpdate")),`Processados: ${i.length} Sries, ${a.length} Grupos, ${o.length} UF.`},batchWrite:async(t,e,n)=>{for(let i=0;i<t.length;i+=250){const a=t.slice(i,i+250);let o=3;for(;o>0;)try{const s=CE(pr);a.forEach(l=>{const u=n?n(l):null,c=u?UL(pr,e,u):UL(la(pr,e)),d=JSON.parse(JSON.stringify(l));s.set(c,{...d,_updatedAt:bt.now()},{merge:!0})}),await s.commit(),await Um(200);break}catch(s){if(console.error(`Error batch write ${e}`,s),await Um(1e3),o--,o===0)throw s}}}},KL=t=>t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g,""):"",WL=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState([]),[i,a]=b.useState(!1),[o,s]=b.useState("idle"),[l,u]=b.useState(""),[c,d]=b.useState(!1),f=b.useRef(null),p=(_,T)=>{const S=KL(T),w=_.map(KL);return S.includes("imoveis")?"real_estate":S.includes("moveis")&&!S.includes("imoveis")||S.includes("veiculos")?"movables":S.includes("segmentos")?"segments":S.includes("dadosporuf")||w.includes("uf")?"regional_uf":w.some(N=>N.includes("valormedio")||N.includes("vlbem"))?"movables":w.includes("codigodosegmento")&&!w.some(N=>N.includes("valormedio"))?"segments":null},v=_=>new Promise(T=>{const S=new FileReader;S.readAsText(_,"windows-1252"),S.onload=async w=>{var N;try{const I=((N=w.target)==null?void 0:N.result).split(`
`);if(I.length<2){T({file:_,type:null,data:[],status:"error",errorMsg:"Arquivo vazio"});return}const P=I[0],R=P.includes(";")?";":",",M=P.split(R).map(k=>k.trim().replace(/^"|"$/g,"")),V=p(M,_.name),D=I.slice(1).filter(k=>k.trim()!=="").map(k=>{const Q=k.split(R);return M.reduce((ae,H,W)=>{var te;let J=(te=Q[W])==null?void 0:te.trim().replace(/^"|"$/g,"");return ae[H]=J,ae},{})});T({file:_,type:V,data:D,status:V?"ready":"error",errorMsg:V?void 0:"Layout no reconhecido"})}catch{T({file:_,type:null,data:[],status:"error",errorMsg:"Erro de leitura"})}}}),E=async _=>{a(!0);const T=await Promise.all(_.map(S=>v(S)));r(S=>[...S,...T]),a(!1)},y=async()=>{const _=n.filter(T=>T.status==="ready");if(_.length!==0)try{c&&(u("Limpando banco de dados..."),await mi.clearAllData()),s("uploading"),u("Enviando tabelas temporrias para o servidor...");const T=`BATCH_${Date.now()}`;for(const N of _)await mi.uploadToStaging(T,N.type,N.data);const S=_.map(N=>({fileName:N.file.name,importDate:new Date().toISOString(),type:N.type,recordCount:N.data.length}));await mi.batchWrite(S,"imported_files_log",N=>`${N.fileName}_${Date.now()}`),s("processing"),u("Consolidando e otimizando dados (ETL)... Isso pode levar um momento.");const w=await mi.processStagingData(T);alert(`Importao Concluda!
${w}`),r([]),u(""),s("idle")}catch(T){console.error(T),alert(`Erro durante a importao: ${T.message}`),s("idle"),u("")}};return x.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 animate-fade-in pb-20",children:[x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Central de Carga de Dados"}),x.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto",children:"Processo ETL: Carregue os arquivos CSV brutos para as tabelas temporrias. O sistema executar a normalizao automaticamente."})]}),x.jsxs("div",{onClick:()=>d(!c),className:`border rounded-xl p-4 flex items-start gap-4 cursor-pointer transition-all select-none ${c?"bg-amber-50 border-amber-200":"bg-white border-slate-200 hover:border-slate-300"}`,children:[x.jsx("div",{className:`mt-1 transition-colors ${c?"text-amber-600":"text-slate-400"}`,children:c?x.jsx(az,{size:24}):x.jsx(Ix,{size:24})}),x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:`font-bold text-sm ${c?"text-amber-900":"text-slate-700"}`,children:"Limpeza Prvia (Reset Completo)"}),x.jsx("div",{className:`w-11 h-6 rounded-full relative transition-colors ${c?"bg-amber-500":"bg-slate-300"}`,children:x.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform duration-200 ${c?"translate-x-6":"translate-x-1"}`})})]}),x.jsx("p",{className:`text-sm mt-1 leading-relaxed ${c?"text-amber-800":"text-slate-500"}`,children:c?"Ativado: Apaga TUDO antes da carga.":"Desativado: Adiciona novos dados ao banco existente."})]})]}),x.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl p-12 transition-all cursor-pointer flex flex-col items-center justify-center gap-4 group ${t?"border-blue-500 bg-blue-50/50":"border-slate-300 hover:border-blue-400 hover:bg-slate-50"}`,onDragEnter:()=>e(!0),onDragLeave:()=>e(!1),onDrop:_=>{_.preventDefault(),e(!1),_.dataTransfer.files&&E(Array.from(_.dataTransfer.files))},onClick:()=>{var _;return o==="idle"&&((_=f.current)==null?void 0:_.click())},children:[x.jsx("input",{ref:f,type:"file",accept:".csv,.txt",multiple:!0,className:"hidden",onChange:_=>_.target.files&&E(Array.from(_.target.files)),disabled:o!=="idle"}),x.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:i||o!=="idle"?x.jsx(Kf,{className:"animate-spin",size:32}):x.jsx(t7,{size:32})}),x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-lg font-bold text-slate-800",children:o==="idle"?"Clique ou Arraste os arquivos CSV":l||"Processando..."}),o==="idle"&&x.jsx("p",{className:"text-sm text-slate-500",children:"Suporta: Segmentos, Bens Imveis, Bens Mveis, DadosPorUF"})]})]}),n.length>0&&x.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[x.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:x.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[x.jsx(E7,{size:18})," Arquivos para Staging (Tabelas Temporrias)"]})}),x.jsx("div",{className:"divide-y divide-slate-100 max-h-[300px] overflow-y-auto custom-scrollbar",children:n.map((_,T)=>x.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"bg-slate-100 p-2 rounded-lg",children:_.status==="ready"?x.jsx(JK,{className:"text-emerald-500",size:20}):x.jsx(YK,{className:"text-red-500",size:20})}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-slate-900 text-sm",children:_.file.name}),x.jsxs("p",{className:"text-xs text-slate-500",children:[_.data.length," registros brutos  ",_.type?x.jsx("span",{className:"text-blue-600 font-bold uppercase",children:_.type}):x.jsx("span",{className:"text-red-500",children:"TIPO DESCONHECIDO"})]})]})]}),x.jsx("button",{onClick:()=>r(S=>S.filter((w,N)=>N!==T)),className:"text-slate-400 hover:text-red-500",children:x.jsx(A7,{size:18})})]},T))}),x.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex justify-end gap-4",children:x.jsx("button",{onClick:y,disabled:o!=="idle"||n.filter(_=>_.status==="ready").length===0,className:"bg-slate-900 text-white px-8 py-3 rounded-xl font-bold shadow-lg hover:bg-slate-800 disabled:opacity-50 flex items-center gap-3",children:o!=="idle"?x.jsxs(x.Fragment,{children:[x.jsx(Kf,{className:"animate-spin",size:20})," ",l||"Processando..."]}):x.jsxs(x.Fragment,{children:[x.jsx(MK,{size:20})," Iniciar Carga e Tratamento"]})})})]})]})};function pPe(){const[t,e]=b.useState("dashboard"),[n,r]=b.useState(!1),[i,a]=b.useState(null),[o,s]=b.useState(!0),[l,u]=b.useState(!1),c=async()=>{s(!0);const f=await mi.checkConnection();u(f);const p=await mi.fetchData();a(p),s(!1)};b.useEffect(()=>(c(),window.addEventListener("dataUpdate",c),()=>window.removeEventListener("dataUpdate",c)),[]);const d=()=>{if(o&&t!=="import")return x.jsxs("div",{className:"flex h-[80vh] items-center justify-center flex-col gap-4 text-slate-400",children:[x.jsx(Kf,{className:"animate-spin text-blue-600",size:48}),x.jsx("p",{children:"Carregando dados do Firestore..."}),!l&&x.jsx("p",{className:"text-xs text-amber-500",children:"Tentando estabelecer conexo segura..."})]});if(!i&&t!=="import")return x.jsx(WL,{});switch(t){case"dashboard":return x.jsx(KEe,{data:i});case"admin_analysis":return x.jsx(WEe,{data:i});case"operational":return x.jsx(YEe,{data:i});case"competitive":return x.jsx(QEe,{data:i});case"trends":return x.jsx(XEe,{data:i});case"regional":return x.jsx(ZEe,{data:i});case"import":return x.jsx(WL,{});default:return x.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-slate-400",children:[x.jsx(NT,{size:48,className:"text-slate-300 mb-4"}),x.jsx("p",{className:"text-lg font-semibold",children:"Mdulo em desenvolvimento"})]})}};return x.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans",children:[x.jsx(V7,{activeTab:t,setActiveTab:e,isMobileOpen:n,setIsMobileOpen:r,dbStatus:l}),x.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[x.jsxs("header",{className:"lg:hidden flex items-center h-16 px-6 bg-white border-b border-slate-200",children:[x.jsx("button",{onClick:()=>r(!0),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:x.jsx(NT,{size:24})}),x.jsx("span",{className:"ml-4 font-bold text-slate-900",children:"Consrcio Intel"})]}),x.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-8 custom-scrollbar",children:x.jsx("div",{className:"max-w-7xl mx-auto pb-12",children:d()})})]})]})}const KG=document.getElementById("root");if(!KG)throw new Error("Could not find root element to mount to");const mPe=EK.createRoot(KG);mPe.render(x.jsx(iV.StrictMode,{children:x.jsx(pPe,{})}));
