var EH=Object.defineProperty;var TH=(t,e,n)=>e in t?EH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nb=(t,e,n)=>TH(t,typeof e!="symbol"?e+"":e,n);function AH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function oi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YL={exports:{}},Ay={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SH=Symbol.for("react.transitional.element"),xH=Symbol.for("react.fragment");function JL(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:SH,type:t,key:r,ref:e!==void 0?e:null,props:n}}Ay.Fragment=xH;Ay.jsx=JL;Ay.jsxs=JL;YL.exports=Ay;var x=YL.exports,QL={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS=Symbol.for("react.transitional.element"),wH=Symbol.for("react.portal"),IH=Symbol.for("react.fragment"),CH=Symbol.for("react.strict_mode"),PH=Symbol.for("react.profiler"),RH=Symbol.for("react.consumer"),NH=Symbol.for("react.context"),MH=Symbol.for("react.forward_ref"),OH=Symbol.for("react.suspense"),DH=Symbol.for("react.memo"),XL=Symbol.for("react.lazy"),kH=Symbol.for("react.activity"),WP=Symbol.iterator;function LH(t){return t===null||typeof t!="object"?null:(t=WP&&t[WP]||t["@@iterator"],typeof t=="function"?t:null)}var ZL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eV=Object.assign,tV={};function Cc(t,e,n){this.props=t,this.context=e,this.refs=tV,this.updater=n||ZL}Cc.prototype.isReactComponent={};Cc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nV(){}nV.prototype=Cc.prototype;function CS(t,e,n){this.props=t,this.context=e,this.refs=tV,this.updater=n||ZL}var PS=CS.prototype=new nV;PS.constructor=CS;eV(PS,Cc.prototype);PS.isPureReactComponent=!0;var YP=Array.isArray;function LE(){}var yt={H:null,A:null,T:null,S:null},rV=Object.prototype.hasOwnProperty;function RS(t,e,n){var r=n.ref;return{$$typeof:IS,type:t,key:e,ref:r!==void 0?r:null,props:n}}function VH(t,e){return RS(t.type,e,t.props)}function NS(t){return typeof t=="object"&&t!==null&&t.$$typeof===IS}function UH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var JP=/\/+/g;function rb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UH(""+t.key):e.toString(36)}function BH(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(LE,LE):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function au(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case IS:case wH:a=!0;break;case XL:return a=t._init,au(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+rb(t,0):r,YP(i)?(n="",a!=null&&(n=a.replace(JP,"$&/")+"/"),au(i,e,n,"",function(u){return u})):i!=null&&(NS(i)&&(i=VH(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(JP,"$&/")+"/")+a)),e.push(i)),1;a=0;var s=r===""?".":r+":";if(YP(t))for(var l=0;l<t.length;l++)r=t[l],o=s+rb(r,l),a+=au(r,e,n,o,i);else if(l=LH(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,o=s+rb(r,l++),a+=au(r,e,n,o,i);else if(o==="object"){if(typeof t.then=="function")return au(BH(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function qp(t,e,n){if(t==null)return t;var r=[],i=0;return au(t,r,"","",function(o){return e.call(n,o,i++)}),r}function FH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var QP=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zH={map:qp,forEach:function(t,e,n){qp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qp(t,function(){e++}),e},toArray:function(t){return qp(t,function(e){return e})||[]},only:function(t){if(!NS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Activity=kH;ye.Children=zH;ye.Component=Cc;ye.Fragment=IH;ye.Profiler=PH;ye.PureComponent=CS;ye.StrictMode=CH;ye.Suspense=OH;ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt;ye.__COMPILER_RUNTIME={__proto__:null,c:function(t){return yt.H.useMemoCache(t)}};ye.cache=function(t){return function(){return t.apply(null,arguments)}};ye.cacheSignal=function(){return null};ye.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=eV({},t.props),i=t.key;if(e!=null)for(o in e.key!==void 0&&(i=""+e.key),e)!rV.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(r[o]=e[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return RS(t.type,i,r)};ye.createContext=function(t){return t={$$typeof:NH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:RH,_context:t},t};ye.createElement=function(t,e,n){var r,i={},o=null;if(e!=null)for(r in e.key!==void 0&&(o=""+e.key),e)rV.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return RS(t,o,i)};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:MH,render:t}};ye.isValidElement=NS;ye.lazy=function(t){return{$$typeof:XL,_payload:{_status:-1,_result:t},_init:FH}};ye.memo=function(t,e){return{$$typeof:DH,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=yt.T,n={};yt.T=n;try{var r=t(),i=yt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(LE,QP)}catch(o){QP(o)}finally{e!==null&&n.types!==null&&(e.types=n.types),yt.T=e}};ye.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()};ye.use=function(t){return yt.H.use(t)};ye.useActionState=function(t,e,n){return yt.H.useActionState(t,e,n)};ye.useCallback=function(t,e){return yt.H.useCallback(t,e)};ye.useContext=function(t){return yt.H.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t,e){return yt.H.useDeferredValue(t,e)};ye.useEffect=function(t,e){return yt.H.useEffect(t,e)};ye.useEffectEvent=function(t){return yt.H.useEffectEvent(t)};ye.useId=function(){return yt.H.useId()};ye.useImperativeHandle=function(t,e,n){return yt.H.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return yt.H.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return yt.H.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return yt.H.useMemo(t,e)};ye.useOptimistic=function(t,e){return yt.H.useOptimistic(t,e)};ye.useReducer=function(t,e,n){return yt.H.useReducer(t,e,n)};ye.useRef=function(t){return yt.H.useRef(t)};ye.useState=function(t){return yt.H.useState(t)};ye.useSyncExternalStore=function(t,e,n){return yt.H.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return yt.H.useTransition()};ye.version="19.2.4";QL.exports=ye;var b=QL.exports;const iV=oi(b),jH=AH({__proto__:null,default:iV},[b]);var oV={exports:{}},Sy={},aV={exports:{}},sV={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,K){var J=G.length;G.push(K);e:for(;0<J;){var te=J-1>>>1,de=G[te];if(0<i(de,K))G[te]=K,G[J]=de,J=te;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var K=G[0],J=G.pop();if(J!==K){G[0]=J;e:for(var te=0,de=G.length,qe=de>>>1;te<qe;){var De=2*(te+1)-1,ke=G[De],ut=De+1,$t=G[ut];if(0>i(ke,J))ut<de&&0>i($t,ke)?(G[te]=$t,G[ut]=J,te=ut):(G[te]=ke,G[De]=J,te=De);else if(ut<de&&0>i($t,J))G[te]=$t,G[ut]=J,te=ut;else break e}}return K}function i(G,K){var J=G.sortIndex-K.sortIndex;return J!==0?J:G.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,f=3,p=!1,v=!1,E=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function w(G){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=G)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function M(G){if(E=!1,w(G),!v)if(n(l)!==null)v=!0,N||(N=!0,D());else{var K=n(u);K!==null&&oe(M,K.startTime-G)}}var N=!1,I=-1,P=5,R=-1;function O(){return y?!0:!(t.unstable_now()-R<P)}function V(){if(y=!1,N){var G=t.unstable_now();R=G;var K=!0;try{e:{v=!1,E&&(E=!1,T(I),I=-1),p=!0;var J=f;try{t:{for(w(G),d=n(l);d!==null&&!(d.expirationTime>G&&O());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var de=te(d.expirationTime<=G);if(G=t.unstable_now(),typeof de=="function"){d.callback=de,w(G),K=!0;break t}d===n(l)&&r(l),w(G)}else r(l);d=n(l)}if(d!==null)K=!0;else{var qe=n(u);qe!==null&&oe(M,qe.startTime-G),K=!1}}break e}finally{d=null,f=J,p=!1}K=void 0}}finally{K?D():N=!1}}}var D;if(typeof S=="function")D=function(){S(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Y=k.port2;k.port1.onmessage=V,D=function(){Y.postMessage(null)}}else D=function(){_(V,0)};function oe(G,K){I=_(function(){G(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(G){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var J=f;f=K;try{return G()}finally{f=J}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=f;f=G;try{return K()}finally{f=J}},t.unstable_scheduleCallback=function(G,K,J){var te=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?te+J:te):J=te,G){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=J+de,G={id:c++,callback:K,priorityLevel:G,startTime:J,expirationTime:de,sortIndex:-1},J>te?(G.sortIndex=J,e(u,G),n(l)===null&&G===n(u)&&(E?(T(I),I=-1):E=!0,oe(M,J-te))):(G.sortIndex=de,e(l,G),v||p||(v=!0,N||(N=!0,D()))),G},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(G){var K=f;return function(){var J=f;f=K;try{return G.apply(this,arguments)}finally{f=J}}}})(sV);aV.exports=sV;var $H=aV.exports,lV={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GH=b;function uV(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function da(){}var Gn={d:{f:da,r:function(){throw Error(uV(522))},D:da,C:da,L:da,m:da,X:da,S:da,M:da},p:0,findDOMNode:null},qH=Symbol.for("react.portal");function HH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qH,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var uf=GH.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function xy(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gn;Qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(uV(299));return HH(t,e,null,n)};Qn.flushSync=function(t){var e=uf.T,n=Gn.p;try{if(uf.T=null,Gn.p=2,t)return t()}finally{uf.T=e,Gn.p=n,Gn.d.f()}};Qn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Gn.d.C(t,e))};Qn.prefetchDNS=function(t){typeof t=="string"&&Gn.d.D(t)};Qn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=xy(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Gn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):n==="script"&&Gn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Qn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=xy(e.as,e.crossOrigin);Gn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Gn.d.M(t)};Qn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=xy(n,e.crossOrigin);Gn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Qn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=xy(e.as,e.crossOrigin);Gn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Gn.d.m(t)};Qn.requestFormReset=function(t){Gn.d.r(t)};Qn.unstable_batchedUpdates=function(t,e){return t(e)};Qn.useFormState=function(t,e,n){return uf.H.useFormState(t,e,n)};Qn.useFormStatus=function(){return uf.H.useHostTransitionStatus()};Qn.version="19.2.4";function cV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cV)}catch(t){console.error(t)}}cV(),lV.exports=Qn;var wy=lV.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tn=$H,dV=b,KH=wy;function q(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function fV(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pV(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function XP(t){if(Nh(t)!==t)throw Error(q(188))}function WH(t){var e=t.alternate;if(!e){if(e=Nh(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return XP(i),t;if(o===r)return XP(i),e;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function mV(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=mV(t),e!==null)return e;t=t.sibling}return null}var _t=Object.assign,YH=Symbol.for("react.element"),Hp=Symbol.for("react.transitional.element"),Yd=Symbol.for("react.portal"),gu=Symbol.for("react.fragment"),gV=Symbol.for("react.strict_mode"),VE=Symbol.for("react.profiler"),vV=Symbol.for("react.consumer"),po=Symbol.for("react.context"),MS=Symbol.for("react.forward_ref"),UE=Symbol.for("react.suspense"),BE=Symbol.for("react.suspense_list"),OS=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),FE=Symbol.for("react.activity"),JH=Symbol.for("react.memo_cache_sentinel"),ZP=Symbol.iterator;function xd(t){return t===null||typeof t!="object"?null:(t=ZP&&t[ZP]||t["@@iterator"],typeof t=="function"?t:null)}var QH=Symbol.for("react.client.reference");function zE(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===QH?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gu:return"Fragment";case VE:return"Profiler";case gV:return"StrictMode";case UE:return"Suspense";case BE:return"SuspenseList";case FE:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Yd:return"Portal";case po:return t.displayName||"Context";case vV:return(t._context.displayName||"Context")+".Consumer";case MS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case OS:return e=t.displayName||null,e!==null?e:zE(t.type)||"Memo";case va:e=t._payload,t=t._init;try{return zE(t(e))}catch{}}return null}var Jd=Array.isArray,fe=dV.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ge=KH.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zs={pending:!1,data:null,method:null,action:null},jE=[],vu=-1;function Ji(t){return{current:t}}function mn(t){0>vu||(t.current=jE[vu],jE[vu]=null,vu--)}function dt(t,e){vu++,jE[vu]=t.current,t.current=e}var Fi=Ji(null),Of=Ji(null),Ba=Ji(null),Eg=Ji(null);function Tg(t,e){switch(dt(Ba,e),dt(Of,t),dt(Fi,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?oR(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=oR(e),t=VB(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}mn(Fi),dt(Fi,t)}function Ju(){mn(Fi),mn(Of),mn(Ba)}function $E(t){t.memoizedState!==null&&dt(Eg,t);var e=Fi.current,n=VB(e,t.type);e!==n&&(dt(Of,t),dt(Fi,n))}function Ag(t){Of.current===t&&(mn(Fi),mn(Of)),Eg.current===t&&(mn(Eg),Gf._currentValue=Zs)}var ib,e1;function ks(t){if(ib===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ib=e&&e[1]||"",e1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ib+t+e1}var ob=!1;function ab(t,e){if(!t||ob)return"";ob=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var f=p}Reflect.construct(t,[],d)}else{try{d.call()}catch(p){f=p}t.call(d.prototype)}}else{try{throw Error()}catch(p){f=p}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&f&&typeof p.stack=="string")return[p.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{ob=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ks(n):""}function XH(t,e){switch(t.tag){case 26:case 27:case 5:return ks(t.type);case 16:return ks("Lazy");case 13:return t.child!==e&&e!==null?ks("Suspense Fallback"):ks("Suspense");case 19:return ks("SuspenseList");case 0:case 15:return ab(t.type,!1);case 11:return ab(t.type.render,!1);case 1:return ab(t.type,!0);case 31:return ks("Activity");default:return""}}function t1(t){try{var e="",n=null;do e+=XH(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var GE=Object.prototype.hasOwnProperty,DS=tn.unstable_scheduleCallback,sb=tn.unstable_cancelCallback,ZH=tn.unstable_shouldYield,e9=tn.unstable_requestPaint,Tr=tn.unstable_now,t9=tn.unstable_getCurrentPriorityLevel,yV=tn.unstable_ImmediatePriority,_V=tn.unstable_UserBlockingPriority,Sg=tn.unstable_NormalPriority,n9=tn.unstable_LowPriority,bV=tn.unstable_IdlePriority,r9=tn.log,i9=tn.unstable_setDisableYieldValue,Mh=null,Ar=null;function Na(t){if(typeof r9=="function"&&i9(t),Ar&&typeof Ar.setStrictMode=="function")try{Ar.setStrictMode(Mh,t)}catch{}}var Sr=Math.clz32?Math.clz32:s9,o9=Math.log,a9=Math.LN2;function s9(t){return t>>>=0,t===0?32:31-(o9(t)/a9|0)|0}var Kp=256,Wp=262144,Yp=4194304;function Ls(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Iy(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,o=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~o,r!==0?i=Ls(r):(a&=s,a!==0?i=Ls(a):n||(n=s&~t,n!==0&&(i=Ls(n))))):(s=r&~o,s!==0?i=Ls(s):a!==0?i=Ls(a):n||(n=r&~t,n!==0&&(i=Ls(n)))),i===0?0:e!==0&&e!==i&&!(e&o)&&(o=i&-i,n=e&-e,o>=n||o===32&&(n&4194048)!==0)?e:i}function Oh(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function l9(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EV(){var t=Yp;return Yp<<=1,!(Yp&62914560)&&(Yp=4194304),t}function lb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dh(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function u9(t,e,n,r,i,o){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var c=31-Sr(n),d=1<<c;s[c]=0,l[c]=-1;var f=u[c];if(f!==null)for(u[c]=null,c=0;c<f.length;c++){var p=f[c];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&TV(t,r,0),o!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=o&~(a&~e))}function TV(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Sr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function AV(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function SV(t,e){var n=e&-e;return n=n&42?1:kS(n),n&(t.suspendedLanes|e)?0:n}function kS(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function LS(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function xV(){var t=Ge.p;return t!==0?t:(t=window.event,t===void 0?32:WB(t.type))}function n1(t,e){var n=Ge.p;try{return Ge.p=t,e()}finally{Ge.p=n}}var ms=Math.random().toString(36).slice(2),Sn="__reactFiber$"+ms,cr="__reactProps$"+ms,Pc="__reactContainer$"+ms,qE="__reactEvents$"+ms,c9="__reactListeners$"+ms,d9="__reactHandles$"+ms,r1="__reactResources$"+ms,kh="__reactMarker$"+ms;function VS(t){delete t[Sn],delete t[cr],delete t[qE],delete t[c9],delete t[d9]}function yu(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pc]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cR(t);t!==null;){if(n=t[Sn])return n;t=cR(t)}return e}t=n,n=t.parentNode}return null}function Rc(t){if(t=t[Sn]||t[Pc]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Qd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(q(33))}function ku(t){var e=t[r1];return e||(e=t[r1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function hn(t){t[kh]=!0}var wV=new Set,IV={};function kl(t,e){Qu(t,e),Qu(t+"Capture",e)}function Qu(t,e){for(IV[t]=e,t=0;t<e.length;t++)wV.add(e[t])}var f9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),i1={},o1={};function h9(t){return GE.call(o1,t)?!0:GE.call(i1,t)?!1:f9.test(t)?o1[t]=!0:(i1[t]=!0,!1)}function Bm(t,e,n){if(h9(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Jp(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ro(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Ur(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p9(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function HE(t){if(!t._valueTracker){var e=CV(t)?"checked":"value";t._valueTracker=p9(t,e,""+t[e])}}function PV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CV(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var m9=/[\n"\\]/g;function jr(t){return t.replace(m9,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function KE(t,e,n,r,i,o,a,s){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ur(e)):t.value!==""+Ur(e)&&(t.value=""+Ur(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?WE(t,a,Ur(e)):n!=null?WE(t,a,Ur(n)):r!=null&&t.removeAttribute("value"),i==null&&o!=null&&(t.defaultChecked=!!o),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+Ur(s):t.removeAttribute("name")}function RV(t,e,n,r,i,o,a,s){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),e!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||e!=null)){HE(t);return}n=n!=null?""+Ur(n):"",e=e!=null?""+Ur(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),HE(t)}function WE(t,e,n){e==="number"&&xg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Lu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ur(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function NV(t,e,n){if(e!=null&&(e=""+Ur(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ur(n):""}function MV(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(q(92));if(Jd(r)){if(1<r.length)throw Error(q(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Ur(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),HE(t)}function Xu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var g9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function a1(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||g9.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function OV(t,e,n){if(e!=null&&typeof e!="object")throw Error(q(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&a1(t,i,r)}else for(var o in e)e.hasOwnProperty(o)&&a1(t,o,e[o])}function US(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),y9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fm(t){return y9.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function mo(){}var YE=null;function BS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _u=null,Vu=null;function s1(t){var e=Rc(t);if(e&&(t=e.stateNode)){var n=t[cr]||null;e:switch(t=e.stateNode,e.type){case"input":if(KE(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+jr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[cr]||null;if(!i)throw Error(q(90));KE(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&PV(r)}break e;case"textarea":NV(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Lu(t,!!n.multiple,e,!1)}}}var ub=!1;function DV(t,e,n){if(ub)return t(e,n);ub=!0;try{var r=t(e);return r}finally{if(ub=!1,(_u!==null||Vu!==null)&&(By(),_u&&(e=_u,t=Vu,Vu=_u=null,s1(e),t)))for(e=0;e<t.length;e++)s1(t[e])}}function Df(t,e){var n=t.stateNode;if(n===null)return null;var r=n[cr]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var No=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),JE=!1;if(No)try{var wd={};Object.defineProperty(wd,"passive",{get:function(){JE=!0}}),window.addEventListener("test",wd,wd),window.removeEventListener("test",wd,wd)}catch{JE=!1}var Ma=null,FS=null,zm=null;function kV(){if(zm)return zm;var t,e=FS,n=e.length,r,i="value"in Ma?Ma.value:Ma.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return zm=i.slice(t,1<r?1-r:void 0)}function jm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qp(){return!0}function l1(){return!1}function dr(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qp:l1,this.isPropagationStopped=l1,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qp)},persist:function(){},isPersistent:Qp}),e}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cy=dr(Ll),Lh=_t({},Ll,{view:0,detail:0}),_9=dr(Lh),cb,db,Id,Py=_t({},Lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Id&&(Id&&t.type==="mousemove"?(cb=t.screenX-Id.screenX,db=t.screenY-Id.screenY):db=cb=0,Id=t),cb)},movementY:function(t){return"movementY"in t?t.movementY:db}}),u1=dr(Py),b9=_t({},Py,{dataTransfer:0}),E9=dr(b9),T9=_t({},Lh,{relatedTarget:0}),fb=dr(T9),A9=_t({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),S9=dr(A9),x9=_t({},Ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w9=dr(x9),I9=_t({},Ll,{data:0}),c1=dr(I9),C9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R9[t])?!!e[t]:!1}function zS(){return N9}var M9=_t({},Lh,{key:function(t){if(t.key){var e=C9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?P9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zS,charCode:function(t){return t.type==="keypress"?jm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O9=dr(M9),D9=_t({},Py,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d1=dr(D9),k9=_t({},Lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zS}),L9=dr(k9),V9=_t({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),U9=dr(V9),B9=_t({},Py,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F9=dr(B9),z9=_t({},Ll,{newState:0,oldState:0}),j9=dr(z9),$9=[9,13,27,32],jS=No&&"CompositionEvent"in window,cf=null;No&&"documentMode"in document&&(cf=document.documentMode);var G9=No&&"TextEvent"in window&&!cf,LV=No&&(!jS||cf&&8<cf&&11>=cf),f1=" ",h1=!1;function VV(t,e){switch(t){case"keyup":return $9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bu=!1;function q9(t,e){switch(t){case"compositionend":return UV(e);case"keypress":return e.which!==32?null:(h1=!0,f1);case"textInput":return t=e.data,t===f1&&h1?null:t;default:return null}}function H9(t,e){if(bu)return t==="compositionend"||!jS&&VV(t,e)?(t=kV(),zm=FS=Ma=null,bu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LV&&e.locale!=="ko"?null:e.data;default:return null}}var K9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!K9[t.type]:e==="textarea"}function BV(t,e,n,r){_u?Vu?Vu.push(r):Vu=[r]:_u=r,e=$g(e,"onChange"),0<e.length&&(n=new Cy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var df=null,kf=null;function W9(t){DB(t,0)}function Ry(t){var e=Qd(t);if(PV(e))return t}function m1(t,e){if(t==="change")return e}var FV=!1;if(No){var hb;if(No){var pb="oninput"in document;if(!pb){var g1=document.createElement("div");g1.setAttribute("oninput","return;"),pb=typeof g1.oninput=="function"}hb=pb}else hb=!1;FV=hb&&(!document.documentMode||9<document.documentMode)}function v1(){df&&(df.detachEvent("onpropertychange",zV),kf=df=null)}function zV(t){if(t.propertyName==="value"&&Ry(kf)){var e=[];BV(e,kf,t,BS(t)),DV(W9,e)}}function Y9(t,e,n){t==="focusin"?(v1(),df=e,kf=n,df.attachEvent("onpropertychange",zV)):t==="focusout"&&v1()}function J9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ry(kf)}function Q9(t,e){if(t==="click")return Ry(e)}function X9(t,e){if(t==="input"||t==="change")return Ry(e)}function Z9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:Z9;function Lf(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!GE.call(e,i)||!Cr(t[i],e[i]))return!1}return!0}function y1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _1(t,e){var n=y1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=y1(n)}}function jV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $V(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=xg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xg(t.document)}return e}function $S(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var eK=No&&"documentMode"in document&&11>=document.documentMode,Eu=null,QE=null,ff=null,XE=!1;function b1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;XE||Eu==null||Eu!==xg(r)||(r=Eu,"selectionStart"in r&&$S(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ff&&Lf(ff,r)||(ff=r,r=$g(QE,"onSelect"),0<r.length&&(e=new Cy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Eu)))}function Os(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tu={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},mb={},GV={};No&&(GV=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function Vl(t){if(mb[t])return mb[t];if(!Tu[t])return t;var e=Tu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GV)return mb[t]=e[n];return t}var qV=Vl("animationend"),HV=Vl("animationiteration"),KV=Vl("animationstart"),tK=Vl("transitionrun"),nK=Vl("transitionstart"),rK=Vl("transitioncancel"),WV=Vl("transitionend"),YV=new Map,ZE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ZE.push("scrollEnd");function wi(t,e){YV.set(t,e),kl(e,[t])}var wg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vr=[],Au=0,GS=0;function Ny(){for(var t=Au,e=GS=Au=0;e<t;){var n=Vr[e];Vr[e++]=null;var r=Vr[e];Vr[e++]=null;var i=Vr[e];Vr[e++]=null;var o=Vr[e];if(Vr[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}o!==0&&JV(n,i,o)}}function My(t,e,n,r){Vr[Au++]=t,Vr[Au++]=e,Vr[Au++]=n,Vr[Au++]=r,GS|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function qS(t,e,n,r){return My(t,e,n,r),Ig(t)}function Ul(t,e){return My(t,null,null,e),Ig(t)}function JV(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,o=t.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(i=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,i&&e!==null&&(i=31-Sr(n),t=o.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),o):null}function Ig(t){if(50<Ef)throw Ef=0,bT=null,Error(q(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Su={};function iK(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(t,e,n,r){return new iK(t,e,n,r)}function HS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xo(t,e){var n=t.alternate;return n===null?(n=vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function QV(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function $m(t,e,n,r,i,o){var a=0;if(r=t,typeof t=="function")HS(t)&&(a=1);else if(typeof t=="string")a=u8(t,n,Fi.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case FE:return t=vr(31,n,e,i),t.elementType=FE,t.lanes=o,t;case gu:return el(n.children,i,o,e);case gV:a=8,i|=24;break;case VE:return t=vr(12,n,e,i|2),t.elementType=VE,t.lanes=o,t;case UE:return t=vr(13,n,e,i),t.elementType=UE,t.lanes=o,t;case BE:return t=vr(19,n,e,i),t.elementType=BE,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case po:a=10;break e;case vV:a=9;break e;case MS:a=11;break e;case OS:a=14;break e;case va:a=16,r=null;break e}a=29,n=Error(q(130,t===null?"null":typeof t,"")),r=null}return e=vr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function el(t,e,n,r){return t=vr(7,t,r,e),t.lanes=n,t}function gb(t,e,n){return t=vr(6,t,null,e),t.lanes=n,t}function XV(t){var e=vr(18,null,null,0);return e.stateNode=t,e}function vb(t,e,n){return e=vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var E1=new WeakMap;function $r(t,e){if(typeof t=="object"&&t!==null){var n=E1.get(t);return n!==void 0?n:(e={value:t,source:e,stack:t1(e)},E1.set(t,e),e)}return{value:t,source:e,stack:t1(e)}}var xu=[],wu=0,Cg=null,Vf=0,Br=[],Fr=0,ns=null,Oi=1,Di="";function uo(t,e){xu[wu++]=Vf,xu[wu++]=Cg,Cg=t,Vf=e}function ZV(t,e,n){Br[Fr++]=Oi,Br[Fr++]=Di,Br[Fr++]=ns,ns=t;var r=Oi;t=Di;var i=32-Sr(r)-1;r&=~(1<<i),n+=1;var o=32-Sr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Oi=1<<32-Sr(e)+i|n<<i|r,Di=o+t}else Oi=1<<o|n<<i|r,Di=t}function KS(t){t.return!==null&&(uo(t,1),ZV(t,1,0))}function WS(t){for(;t===Cg;)Cg=xu[--wu],xu[wu]=null,Vf=xu[--wu],xu[wu]=null;for(;t===ns;)ns=Br[--Fr],Br[Fr]=null,Di=Br[--Fr],Br[Fr]=null,Oi=Br[--Fr],Br[Fr]=null}function eU(t,e){Br[Fr++]=Oi,Br[Fr++]=Di,Br[Fr++]=ns,Oi=e.id,Di=e.overflow,ns=t}var xn=null,vt=null,Me=!1,Fa=null,Gr=!1,eT=Error(q(519));function rs(t){var e=Error(q(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uf($r(e,t)),eT}function T1(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Sn]=t,e[cr]=r,n){case"dialog":we("cancel",e),we("close",e);break;case"iframe":case"object":case"embed":we("load",e);break;case"video":case"audio":for(n=0;n<jf.length;n++)we(jf[n],e);break;case"source":we("error",e);break;case"img":case"image":case"link":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"input":we("invalid",e),RV(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":we("invalid",e);break;case"textarea":we("invalid",e),MV(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||LB(e.textContent,n)?(r.popover!=null&&(we("beforetoggle",e),we("toggle",e)),r.onScroll!=null&&we("scroll",e),r.onScrollEnd!=null&&we("scrollend",e),r.onClick!=null&&(e.onclick=mo),e=!0):e=!1,e||rs(t,!0)}function A1(t){for(xn=t.return;xn;)switch(xn.tag){case 5:case 31:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:xn=xn.return}}function Jl(t){if(t!==xn)return!1;if(!Me)return A1(t),Me=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||xT(t.type,t.memoizedProps)),n=!n),n&&vt&&rs(t),A1(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));vt=uR(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));vt=uR(t)}else e===27?(e=vt,gs(t.type)?(t=PT,PT=null,vt=t):vt=e):vt=xn?Wr(t.stateNode.nextSibling):null;return!0}function dl(){vt=xn=null,Me=!1}function yb(){var t=Fa;return t!==null&&(tr===null?tr=t:tr.push.apply(tr,t),Fa=null),t}function Uf(t){Fa===null?Fa=[t]:Fa.push(t)}var tT=Ji(null),Bl=null,go=null;function Ea(t,e,n){dt(tT,e._currentValue),e._currentValue=n}function wo(t){t._currentValue=tT.current,mn(tT)}function nT(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rT(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){var a=i.child;o=o.firstContext;e:for(;o!==null;){var s=o;o=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),nT(o.return,n,t),r||(a=null);break e}o=s.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(q(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),nT(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Nc(t,e,n,r){t=null;for(var i=e,o=!1;i!==null;){if(!o){if(i.flags&524288)o=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(q(387));if(a=a.memoizedProps,a!==null){var s=i.type;Cr(i.pendingProps.value,a.value)||(t!==null?t.push(s):t=[s])}}else if(i===Eg.current){if(a=i.alternate,a===null)throw Error(q(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Gf):t=[Gf])}i=i.return}t!==null&&rT(e,t,n,r),e.flags|=262144}function Pg(t){for(t=t.firstContext;t!==null;){if(!Cr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fl(t){Bl=t,go=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wn(t){return tU(Bl,t)}function Xp(t,e){return Bl===null&&fl(t),tU(t,e)}function tU(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},go===null){if(t===null)throw Error(q(308));go=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else go=go.next=e;return n}var oK=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},aK=tn.unstable_scheduleCallback,sK=tn.unstable_NormalPriority,Wt={$$typeof:po,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function YS(){return{controller:new oK,data:new Map,refCount:0}}function Vh(t){t.refCount--,t.refCount===0&&aK(sK,function(){t.controller.abort()})}var hf=null,iT=0,Zu=0,Uu=null;function lK(t,e){if(hf===null){var n=hf=[];iT=0,Zu=bx(),Uu={status:"pending",value:void 0,then:function(r){n.push(r)}}}return iT++,e.then(S1,S1),e}function S1(){if(--iT===0&&hf!==null){Uu!==null&&(Uu.status="fulfilled");var t=hf;hf=null,Zu=0,Uu=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function uK(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var x1=fe.S;fe.S=function(t,e){mB=Tr(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&lK(t,e),x1!==null&&x1(t,e)};var tl=Ji(null);function JS(){var t=tl.current;return t!==null?t:st.pooledCache}function Gm(t,e){e===null?dt(tl,tl.current):dt(tl,e.pool)}function nU(){var t=JS();return t===null?null:{parent:Wt._currentValue,pool:t}}var Mc=Error(q(460)),QS=Error(q(474)),Oy=Error(q(542)),Rg={then:function(){}};function w1(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rU(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(mo,mo),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,C1(t),t;default:if(typeof e.status=="string")e.then(mo,mo);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(q(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,C1(t),t}throw nl=e,Mc}}function Vs(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(nl=n,Mc):n}}var nl=null;function I1(){if(nl===null)throw Error(q(459));var t=nl;return nl=null,t}function C1(t){if(t===Mc||t===Oy)throw Error(q(483))}var Bu=null,Bf=0;function Zp(t){var e=Bf;return Bf+=1,Bu===null&&(Bu=[]),rU(Bu,t,e)}function Cd(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function em(t,e){throw e.$$typeof===YH?Error(q(525)):(t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function iU(t){function e(_,T){if(t){var S=_.deletions;S===null?(_.deletions=[T],_.flags|=16):S.push(T)}}function n(_,T){if(!t)return null;for(;T!==null;)e(_,T),T=T.sibling;return null}function r(_){for(var T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function i(_,T){return _=xo(_,T),_.index=0,_.sibling=null,_}function o(_,T,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<T?(_.flags|=67108866,T):S):(_.flags|=67108866,T)):(_.flags|=1048576,T)}function a(_){return t&&_.alternate===null&&(_.flags|=67108866),_}function s(_,T,S,w){return T===null||T.tag!==6?(T=gb(S,_.mode,w),T.return=_,T):(T=i(T,S),T.return=_,T)}function l(_,T,S,w){var M=S.type;return M===gu?c(_,T,S.props.children,w,S.key):T!==null&&(T.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===va&&Vs(M)===T.type)?(T=i(T,S.props),Cd(T,S),T.return=_,T):(T=$m(S.type,S.key,S.props,null,_.mode,w),Cd(T,S),T.return=_,T)}function u(_,T,S,w){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=vb(S,_.mode,w),T.return=_,T):(T=i(T,S.children||[]),T.return=_,T)}function c(_,T,S,w,M){return T===null||T.tag!==7?(T=el(S,_.mode,w,M),T.return=_,T):(T=i(T,S),T.return=_,T)}function d(_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=gb(""+T,_.mode,S),T.return=_,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Hp:return S=$m(T.type,T.key,T.props,null,_.mode,S),Cd(S,T),S.return=_,S;case Yd:return T=vb(T,_.mode,S),T.return=_,T;case va:return T=Vs(T),d(_,T,S)}if(Jd(T)||xd(T))return T=el(T,_.mode,S,null),T.return=_,T;if(typeof T.then=="function")return d(_,Zp(T),S);if(T.$$typeof===po)return d(_,Xp(_,T),S);em(_,T)}return null}function f(_,T,S,w){var M=T!==null?T.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return M!==null?null:s(_,T,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hp:return S.key===M?l(_,T,S,w):null;case Yd:return S.key===M?u(_,T,S,w):null;case va:return S=Vs(S),f(_,T,S,w)}if(Jd(S)||xd(S))return M!==null?null:c(_,T,S,w,null);if(typeof S.then=="function")return f(_,T,Zp(S),w);if(S.$$typeof===po)return f(_,T,Xp(_,S),w);em(_,S)}return null}function p(_,T,S,w,M){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return _=_.get(S)||null,s(T,_,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hp:return _=_.get(w.key===null?S:w.key)||null,l(T,_,w,M);case Yd:return _=_.get(w.key===null?S:w.key)||null,u(T,_,w,M);case va:return w=Vs(w),p(_,T,S,w,M)}if(Jd(w)||xd(w))return _=_.get(S)||null,c(T,_,w,M,null);if(typeof w.then=="function")return p(_,T,S,Zp(w),M);if(w.$$typeof===po)return p(_,T,S,Xp(T,w),M);em(T,w)}return null}function v(_,T,S,w){for(var M=null,N=null,I=T,P=T=0,R=null;I!==null&&P<S.length;P++){I.index>P?(R=I,I=null):R=I.sibling;var O=f(_,I,S[P],w);if(O===null){I===null&&(I=R);break}t&&I&&O.alternate===null&&e(_,I),T=o(O,T,P),N===null?M=O:N.sibling=O,N=O,I=R}if(P===S.length)return n(_,I),Me&&uo(_,P),M;if(I===null){for(;P<S.length;P++)I=d(_,S[P],w),I!==null&&(T=o(I,T,P),N===null?M=I:N.sibling=I,N=I);return Me&&uo(_,P),M}for(I=r(I);P<S.length;P++)R=p(I,_,P,S[P],w),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?P:R.key),T=o(R,T,P),N===null?M=R:N.sibling=R,N=R);return t&&I.forEach(function(V){return e(_,V)}),Me&&uo(_,P),M}function E(_,T,S,w){if(S==null)throw Error(q(151));for(var M=null,N=null,I=T,P=T=0,R=null,O=S.next();I!==null&&!O.done;P++,O=S.next()){I.index>P?(R=I,I=null):R=I.sibling;var V=f(_,I,O.value,w);if(V===null){I===null&&(I=R);break}t&&I&&V.alternate===null&&e(_,I),T=o(V,T,P),N===null?M=V:N.sibling=V,N=V,I=R}if(O.done)return n(_,I),Me&&uo(_,P),M;if(I===null){for(;!O.done;P++,O=S.next())O=d(_,O.value,w),O!==null&&(T=o(O,T,P),N===null?M=O:N.sibling=O,N=O);return Me&&uo(_,P),M}for(I=r(I);!O.done;P++,O=S.next())O=p(I,_,P,O.value,w),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?P:O.key),T=o(O,T,P),N===null?M=O:N.sibling=O,N=O);return t&&I.forEach(function(D){return e(_,D)}),Me&&uo(_,P),M}function y(_,T,S,w){if(typeof S=="object"&&S!==null&&S.type===gu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Hp:e:{for(var M=S.key;T!==null;){if(T.key===M){if(M=S.type,M===gu){if(T.tag===7){n(_,T.sibling),w=i(T,S.props.children),w.return=_,_=w;break e}}else if(T.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===va&&Vs(M)===T.type){n(_,T.sibling),w=i(T,S.props),Cd(w,S),w.return=_,_=w;break e}n(_,T);break}else e(_,T);T=T.sibling}S.type===gu?(w=el(S.props.children,_.mode,w,S.key),w.return=_,_=w):(w=$m(S.type,S.key,S.props,null,_.mode,w),Cd(w,S),w.return=_,_=w)}return a(_);case Yd:e:{for(M=S.key;T!==null;){if(T.key===M)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){n(_,T.sibling),w=i(T,S.children||[]),w.return=_,_=w;break e}else{n(_,T);break}else e(_,T);T=T.sibling}w=vb(S,_.mode,w),w.return=_,_=w}return a(_);case va:return S=Vs(S),y(_,T,S,w)}if(Jd(S))return v(_,T,S,w);if(xd(S)){if(M=xd(S),typeof M!="function")throw Error(q(150));return S=M.call(S),E(_,T,S,w)}if(typeof S.then=="function")return y(_,T,Zp(S),w);if(S.$$typeof===po)return y(_,T,Xp(_,S),w);em(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,T!==null&&T.tag===6?(n(_,T.sibling),w=i(T,S),w.return=_,_=w):(n(_,T),w=gb(S,_.mode,w),w.return=_,_=w),a(_)):n(_,T)}return function(_,T,S,w){try{Bf=0;var M=y(_,T,S,w);return Bu=null,M}catch(I){if(I===Mc||I===Oy)throw I;var N=vr(29,I,null,_.mode);return N.lanes=w,N.return=_,N}finally{}}}var hl=iU(!0),oU=iU(!1),ya=!1;function XS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function za(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ja(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Ig(t),JV(t,null,n),e}return My(t,r,e,n),Ig(t)}function pf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AV(t,n)}}function _b(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var aT=!1;function mf(){if(aT){var t=Uu;if(t!==null)throw t}}function gf(t,e,n,r){aT=!1;var i=t.updateQueue;ya=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(Pe&f)===f:(r&f)===f){f!==0&&f===Zu&&(aT=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=t,E=s;f=e;var y=n;switch(E.tag){case 1:if(v=E.payload,typeof v=="function"){d=v.call(y,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,f=typeof v=="function"?v.call(y,d,f):v,f==null)break e;d=_t({},d,f);break e;case 2:ya=!0}}f=s.callback,f!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,o===null&&(i.shared.lanes=0),os|=a,t.lanes=a,t.memoizedState=d}}function aU(t,e){if(typeof t!="function")throw Error(q(191,t));t.call(e)}function sU(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)aU(n[t],e)}var ec=Ji(null),Ng=Ji(0);function P1(t,e){t=ko,dt(Ng,t),dt(ec,e),ko=t|e.baseLanes}function sT(){dt(Ng,ko),dt(ec,ec.current)}function ZS(){ko=Ng.current,mn(ec),mn(Ng)}var Pr=Ji(null),Kr=null;function Ta(t){var e=t.alternate;dt(Vt,Vt.current&1),dt(Pr,t),Kr===null&&(e===null||ec.current!==null||e.memoizedState!==null)&&(Kr=t)}function lT(t){dt(Vt,Vt.current),dt(Pr,t),Kr===null&&(Kr=t)}function lU(t){t.tag===22?(dt(Vt,Vt.current),dt(Pr,t),Kr===null&&(Kr=t)):Aa()}function Aa(){dt(Vt,Vt.current),dt(Pr,Pr.current)}function gr(t){mn(Pr),Kr===t&&(Kr=null),mn(Vt)}var Vt=Ji(0);function Mg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||IT(n)||CT(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mo=0,_e=null,tt=null,Ht=null,Og=!1,Fu=!1,pl=!1,Dg=0,Ff=0,zu=null,cK=0;function Ct(){throw Error(q(321))}function ex(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cr(t[n],e[n]))return!1;return!0}function tx(t,e,n,r,i,o){return Mo=o,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fe.H=t===null||t.memoizedState===null?BU:fx,pl=!1,o=n(r,i),pl=!1,Fu&&(o=cU(e,n,r,i)),uU(t),o}function uU(t){fe.H=zf;var e=tt!==null&&tt.next!==null;if(Mo=0,Ht=tt=_e=null,Og=!1,Ff=0,zu=null,e)throw Error(q(300));t===null||Yt||(t=t.dependencies,t!==null&&Pg(t)&&(Yt=!0))}function cU(t,e,n,r){_e=t;var i=0;do{if(Fu&&(zu=null),Ff=0,Fu=!1,25<=i)throw Error(q(301));if(i+=1,Ht=tt=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}fe.H=FU,o=e(n,r)}while(Fu);return o}function dK(){var t=fe.H,e=t.useState()[0];return e=typeof e.then=="function"?Uh(e):e,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(_e.flags|=1024),e}function nx(){var t=Dg!==0;return Dg=0,t}function rx(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ix(t){if(Og){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Og=!1}Mo=0,Ht=tt=_e=null,Fu=!1,Ff=Dg=0,zu=null}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?_e.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function Ft(){if(tt===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=Ht===null?_e.memoizedState:Ht.next;if(e!==null)Ht=e,tt=t;else{if(t===null)throw _e.alternate===null?Error(q(467)):Error(q(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ht===null?_e.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Dy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uh(t){var e=Ff;return Ff+=1,zu===null&&(zu=[]),t=rU(zu,t,e),e=_e,(Ht===null?e.memoizedState:Ht.next)===null&&(e=e.alternate,fe.H=e===null||e.memoizedState===null?BU:fx),t}function ky(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Uh(t);if(t.$$typeof===po)return wn(t)}throw Error(q(438,String(t)))}function ox(t){var e=null,n=_e.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=_e.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Dy(),_e.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=JH;return e.index++,n}function Oo(t,e){return typeof e=="function"?e(t):e}function qm(t){var e=Ft();return ax(e,tt,t)}function ax(t,e,n){var r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=n;var i=t.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}e.baseQueue=i=o,r.pending=null}if(o=t.baseState,i===null)t.memoizedState=o;else{e=i.next;var s=a=null,l=null,u=e,c=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Pe&d)===d:(Mo&d)===d){var f=u.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Zu&&(c=!0);else if((Mo&f)===f){u=u.next,f===Zu&&(c=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=d,a=o):l=l.next=d,_e.lanes|=f,os|=f;d=u.action,pl&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,a=o):l=l.next=f,_e.lanes|=d,os|=d;u=u.next}while(u!==null&&u!==e);if(l===null?a=o:l.next=s,!Cr(o,t.memoizedState)&&(Yt=!0,c&&(n=Uu,n!==null)))throw n;t.memoizedState=o,t.baseState=a,t.baseQueue=l,r.lastRenderedState=o}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function bb(t){var e=Ft(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Cr(o,e.memoizedState)||(Yt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function dU(t,e,n){var r=_e,i=Ft(),o=Me;if(o){if(n===void 0)throw Error(q(407));n=n()}else n=e();var a=!Cr((tt||i).memoizedState,n);if(a&&(i.memoizedState=n,Yt=!0),i=i.queue,sx(pU.bind(null,r,i,t),[t]),i.getSnapshot!==e||a||Ht!==null&&Ht.memoizedState.tag&1){if(r.flags|=2048,tc(9,{destroy:void 0},hU.bind(null,r,i,n,e),null),st===null)throw Error(q(349));o||Mo&127||fU(r,e,n)}return n}function fU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e=Dy(),_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hU(t,e,n,r){e.value=n,e.getSnapshot=r,mU(e)&&gU(t)}function pU(t,e,n){return n(function(){mU(e)&&gU(t)})}function mU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cr(t,n)}catch{return!0}}function gU(t){var e=Ul(t,2);e!==null&&ur(e,t,2)}function uT(t){var e=zn();if(typeof t=="function"){var n=t;if(t=n(),pl){Na(!0);try{n()}finally{Na(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:t},e}function vU(t,e,n,r){return t.baseState=n,ax(t,tt,typeof r=="function"?r:Oo)}function fK(t,e,n,r,i){if(Vy(t))throw Error(q(485));if(t=e.action,t!==null){var o={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){o.listeners.push(a)}};fe.T!==null?n(!0):o.isTransition=!1,r(o),n=e.pending,n===null?(o.next=e.pending=o,yU(e,o)):(o.next=n.next,e.pending=n.next=o)}}function yU(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var o=fe.T,a={};fe.T=a;try{var s=n(i,r),l=fe.S;l!==null&&l(a,s),R1(t,e,s)}catch(u){cT(t,e,u)}finally{o!==null&&a.types!==null&&(o.types=a.types),fe.T=o}}else try{o=n(i,r),R1(t,e,o)}catch(u){cT(t,e,u)}}function R1(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){N1(t,e,r)},function(r){return cT(t,e,r)}):N1(t,e,n)}function N1(t,e,n){e.status="fulfilled",e.value=n,_U(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,yU(t,n)))}function cT(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,_U(e),e=e.next;while(e!==r)}t.action=null}function _U(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function bU(t,e){return e}function M1(t,e){if(Me){var n=st.formState;if(n!==null){e:{var r=_e;if(Me){if(vt){t:{for(var i=vt,o=Gr;i.nodeType!==8;){if(!o){i=null;break t}if(i=Wr(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){vt=Wr(i.nextSibling),r=i.data==="F!";break e}}rs(r)}r=!1}r&&(e=n[0])}}return n=zn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bU,lastRenderedState:e},n.queue=r,n=LU.bind(null,_e,r),r.dispatch=n,r=uT(!1),o=dx.bind(null,_e,!1,r.queue),r=zn(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=fK.bind(null,_e,i,o,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function O1(t){var e=Ft();return EU(e,tt,t)}function EU(t,e,n){if(e=ax(t,e,bU)[0],t=qm(Oo)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Uh(e)}catch(a){throw a===Mc?Oy:a}else r=e;e=Ft();var i=e.queue,o=i.dispatch;return n!==e.memoizedState&&(_e.flags|=2048,tc(9,{destroy:void 0},hK.bind(null,i,n),null)),[r,o,t]}function hK(t,e){t.action=e}function D1(t){var e=Ft(),n=tt;if(n!==null)return EU(e,n,t);Ft(),e=e.memoizedState,n=Ft();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function tc(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=_e.updateQueue,e===null&&(e=Dy(),_e.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function TU(){return Ft().memoizedState}function Hm(t,e,n,r){var i=zn();_e.flags|=t,i.memoizedState=tc(1|e,{destroy:void 0},n,r===void 0?null:r)}function Ly(t,e,n,r){var i=Ft();r=r===void 0?null:r;var o=i.memoizedState.inst;tt!==null&&r!==null&&ex(r,tt.memoizedState.deps)?i.memoizedState=tc(e,o,n,r):(_e.flags|=t,i.memoizedState=tc(1|e,o,n,r))}function k1(t,e){Hm(8390656,8,t,e)}function sx(t,e){Ly(2048,8,t,e)}function pK(t){_e.flags|=4;var e=_e.updateQueue;if(e===null)e=Dy(),_e.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function AU(t){var e=Ft().memoizedState;return pK({ref:e,nextImpl:t}),function(){if(je&2)throw Error(q(440));return e.impl.apply(void 0,arguments)}}function SU(t,e){return Ly(4,2,t,e)}function xU(t,e){return Ly(4,4,t,e)}function wU(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IU(t,e,n){n=n!=null?n.concat([t]):null,Ly(4,4,wU.bind(null,e,t),n)}function lx(){}function CU(t,e){var n=Ft();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&ex(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PU(t,e){var n=Ft();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&ex(e,r[1]))return r[0];if(r=t(),pl){Na(!0);try{t()}finally{Na(!1)}}return n.memoizedState=[r,e],r}function ux(t,e,n){return n===void 0||Mo&1073741824&&!(Pe&261930)?t.memoizedState=e:(t.memoizedState=n,t=vB(),_e.lanes|=t,os|=t,n)}function RU(t,e,n,r){return Cr(n,e)?n:ec.current!==null?(t=ux(t,n,r),Cr(t,e)||(Yt=!0),t):!(Mo&42)||Mo&1073741824&&!(Pe&261930)?(Yt=!0,t.memoizedState=n):(t=vB(),_e.lanes|=t,os|=t,e)}function NU(t,e,n,r,i){var o=Ge.p;Ge.p=o!==0&&8>o?o:8;var a=fe.T,s={};fe.T=s,dx(t,!1,e,n);try{var l=i(),u=fe.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=uK(l,r);vf(t,e,c,xr(t))}else vf(t,e,r,xr(t))}catch(d){vf(t,e,{then:function(){},status:"rejected",reason:d},xr())}finally{Ge.p=o,a!==null&&s.types!==null&&(a.types=s.types),fe.T=a}}function mK(){}function dT(t,e,n,r){if(t.tag!==5)throw Error(q(476));var i=MU(t).queue;NU(t,i,e,Zs,n===null?mK:function(){return OU(t),n(r)})}function MU(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Zs,baseState:Zs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:Zs},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function OU(t){var e=MU(t);e.next===null&&(e=t.alternate.memoizedState),vf(t,e.next.queue,{},xr())}function cx(){return wn(Gf)}function DU(){return Ft().memoizedState}function kU(){return Ft().memoizedState}function gK(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=xr();t=za(n);var r=ja(e,t,n);r!==null&&(ur(r,e,n),pf(r,e,n)),e={cache:YS()},t.payload=e;return}e=e.return}}function vK(t,e,n){var r=xr();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vy(t)?VU(e,n):(n=qS(t,e,n,r),n!==null&&(ur(n,t,r),UU(n,e,r)))}function LU(t,e,n){var r=xr();vf(t,e,n,r)}function vf(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vy(t))VU(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Cr(s,a))return My(t,e,i,0),st===null&&Ny(),!1}catch{}finally{}if(n=qS(t,e,i,r),n!==null)return ur(n,t,r),UU(n,e,r),!0}return!1}function dx(t,e,n,r){if(r={lane:2,revertLane:bx(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Vy(t)){if(e)throw Error(q(479))}else e=qS(t,n,r,2),e!==null&&ur(e,t,2)}function Vy(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function VU(t,e){Fu=Og=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UU(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AV(t,n)}}var zf={readContext:wn,use:ky,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};zf.useEffectEvent=Ct;var BU={readContext:wn,use:ky,useCallback:function(t,e){return zn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:k1,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Hm(4194308,4,wU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hm(4194308,4,t,e)},useInsertionEffect:function(t,e){Hm(4,2,t,e)},useMemo:function(t,e){var n=zn();e=e===void 0?null:e;var r=t();if(pl){Na(!0);try{t()}finally{Na(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=zn();if(n!==void 0){var i=n(e);if(pl){Na(!0);try{n(e)}finally{Na(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=vK.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=zn();return t={current:t},e.memoizedState=t},useState:function(t){t=uT(t);var e=t.queue,n=LU.bind(null,_e,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:lx,useDeferredValue:function(t,e){var n=zn();return ux(n,t,e)},useTransition:function(){var t=uT(!1);return t=NU.bind(null,_e,t.queue,!0,!1),zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=_e,i=zn();if(Me){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),st===null)throw Error(q(349));Pe&127||fU(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,k1(pU.bind(null,r,o,t),[t]),r.flags|=2048,tc(9,{destroy:void 0},hU.bind(null,r,o,n,e),null),n},useId:function(){var t=zn(),e=st.identifierPrefix;if(Me){var n=Di,r=Oi;n=(r&~(1<<32-Sr(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Dg++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=cK++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:cx,useFormState:M1,useActionState:M1,useOptimistic:function(t){var e=zn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=dx.bind(null,_e,!0,n),n.dispatch=e,[t,e]},useMemoCache:ox,useCacheRefresh:function(){return zn().memoizedState=gK.bind(null,_e)},useEffectEvent:function(t){var e=zn(),n={impl:t};return e.memoizedState=n,function(){if(je&2)throw Error(q(440));return n.impl.apply(void 0,arguments)}}},fx={readContext:wn,use:ky,useCallback:CU,useContext:wn,useEffect:sx,useImperativeHandle:IU,useInsertionEffect:SU,useLayoutEffect:xU,useMemo:PU,useReducer:qm,useRef:TU,useState:function(){return qm(Oo)},useDebugValue:lx,useDeferredValue:function(t,e){var n=Ft();return RU(n,tt.memoizedState,t,e)},useTransition:function(){var t=qm(Oo)[0],e=Ft().memoizedState;return[typeof t=="boolean"?t:Uh(t),e]},useSyncExternalStore:dU,useId:DU,useHostTransitionStatus:cx,useFormState:O1,useActionState:O1,useOptimistic:function(t,e){var n=Ft();return vU(n,tt,t,e)},useMemoCache:ox,useCacheRefresh:kU};fx.useEffectEvent=AU;var FU={readContext:wn,use:ky,useCallback:CU,useContext:wn,useEffect:sx,useImperativeHandle:IU,useInsertionEffect:SU,useLayoutEffect:xU,useMemo:PU,useReducer:bb,useRef:TU,useState:function(){return bb(Oo)},useDebugValue:lx,useDeferredValue:function(t,e){var n=Ft();return tt===null?ux(n,t,e):RU(n,tt.memoizedState,t,e)},useTransition:function(){var t=bb(Oo)[0],e=Ft().memoizedState;return[typeof t=="boolean"?t:Uh(t),e]},useSyncExternalStore:dU,useId:DU,useHostTransitionStatus:cx,useFormState:D1,useActionState:D1,useOptimistic:function(t,e){var n=Ft();return tt!==null?vU(n,tt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ox,useCacheRefresh:kU};FU.useEffectEvent=AU;function Eb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fT={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xr(),i=za(r);i.payload=e,n!=null&&(i.callback=n),e=ja(t,i,r),e!==null&&(ur(e,t,r),pf(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xr(),i=za(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ja(t,i,r),e!==null&&(ur(e,t,r),pf(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xr(),r=za(n);r.tag=2,e!=null&&(r.callback=e),e=ja(t,r,n),e!==null&&(ur(e,t,n),pf(e,t,n))}};function L1(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Lf(n,r)||!Lf(i,o):!0}function V1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fT.enqueueReplaceState(e,e.state,null)}function ml(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=_t({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function zU(t){wg(t)}function jU(t){console.error(t)}function $U(t){wg(t)}function kg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function U1(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function hT(t,e,n){return n=za(n),n.tag=3,n.payload={element:null},n.callback=function(){kg(t,e)},n}function GU(t){return t=za(t),t.tag=3,t}function qU(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=r.value;t.payload=function(){return i(o)},t.callback=function(){U1(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){U1(e,n,r),typeof i!="function"&&($a===null?$a=new Set([this]):$a.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function yK(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Nc(e,n,i,!0),n=Pr.current,n!==null){switch(n.tag){case 31:case 13:return Kr===null?Fg():n.alternate===null&&Nt===0&&(Nt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Rg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Mb(t,r,i)),!1;case 22:return n.flags|=65536,r===Rg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Mb(t,r,i)),!1}throw Error(q(435,n.tag))}return Mb(t,r,i),Fg(),!1}if(Me)return e=Pr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==eT&&(t=Error(q(422),{cause:r}),Uf($r(t,n)))):(r!==eT&&(e=Error(q(423),{cause:r}),Uf($r(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=$r(r,n),i=hT(t.stateNode,r,i),_b(t,i),Nt!==4&&(Nt=2)),!1;var o=Error(q(520),{cause:r});if(o=$r(o,n),bf===null?bf=[o]:bf.push(o),Nt!==4&&(Nt=2),e===null)return!0;r=$r(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=hT(n.stateNode,r,t),_b(n,t),!1;case 1:if(e=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&($a===null||!$a.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,i=GU(i),qU(i,t,n,r),_b(n,i),!1}n=n.return}while(n!==null);return!1}var hx=Error(q(461)),Yt=!1;function En(t,e,n,r){e.child=t===null?oU(e,null,n,r):hl(e,t.child,n,r)}function B1(t,e,n,r,i){n=n.render;var o=e.ref;if("ref"in r){var a={};for(var s in r)s!=="ref"&&(a[s]=r[s])}else a=r;return fl(e),r=tx(t,e,n,a,o,i),s=nx(),t!==null&&!Yt?(rx(t,e,i),Do(t,e,i)):(Me&&s&&KS(e),e.flags|=1,En(t,e,r,i),e.child)}function F1(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!HS(o)&&o.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=o,HU(t,e,o,r,i)):(t=$m(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!px(t,i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Lf,n(a,r)&&t.ref===e.ref)return Do(t,e,i)}return e.flags|=1,t=xo(o,r),t.ref=e.ref,t.return=e,e.child=t}function HU(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Lf(o,r)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=r=o,px(t,i))t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,Do(t,e,i)}return pT(t,e,n,r,i)}function KU(t,e,n,r){var i=r.children,o=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(o=o!==null?o.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,e.child=null;return z1(t,e,o,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gm(e,o!==null?o.cachePool:null),o!==null?P1(e,o):sT(),lU(e);else return r=e.lanes=536870912,z1(t,e,o!==null?o.baseLanes|n:n,n,r)}else o!==null?(Gm(e,o.cachePool),P1(e,o),Aa(),e.memoizedState=null):(t!==null&&Gm(e,null),sT(),Aa());return En(t,e,i,n),e.child}function Xd(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function z1(t,e,n,r,i){var o=JS();return o=o===null?null:{parent:Wt._currentValue,pool:o},e.memoizedState={baseLanes:n,cachePool:o},t!==null&&Gm(e,null),sT(),lU(e),t!==null&&Nc(t,e,r,!0),e.childLanes=i,null}function Km(t,e){return e=Lg({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function j1(t,e,n){return hl(e,t.child,null,n),t=Km(e,e.pendingProps),t.flags|=2,gr(e),e.memoizedState=null,t}function _K(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Me){if(r.mode==="hidden")return t=Km(e,r),e.lanes=536870912,Xd(null,t);if(lT(e),(t=vt)?(t=BB(t,Gr),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ns!==null?{id:Oi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},n=XV(t),n.return=e,e.child=n,xn=e,vt=null)):t=null,t===null)throw rs(e);return e.lanes=536870912,null}return Km(e,r)}var o=t.memoizedState;if(o!==null){var a=o.dehydrated;if(lT(e),i)if(e.flags&256)e.flags&=-257,e=j1(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(q(558));else if(Yt||Nc(t,e,n,!1),i=(n&t.childLanes)!==0,Yt||i){if(r=st,r!==null&&(a=SV(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Ul(t,a),ur(r,t,a),hx;Fg(),e=j1(t,e,n)}else t=o.treeContext,vt=Wr(a.nextSibling),xn=e,Me=!0,Fa=null,Gr=!1,t!==null&&eU(e,t),e=Km(e,r),e.flags|=4096;return e}return t=xo(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Wm(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(q(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function pT(t,e,n,r,i){return fl(e),n=tx(t,e,n,r,void 0,i),r=nx(),t!==null&&!Yt?(rx(t,e,i),Do(t,e,i)):(Me&&r&&KS(e),e.flags|=1,En(t,e,n,i),e.child)}function $1(t,e,n,r,i,o){return fl(e),e.updateQueue=null,n=cU(e,r,n,i),uU(t),r=nx(),t!==null&&!Yt?(rx(t,e,o),Do(t,e,o)):(Me&&r&&KS(e),e.flags|=1,En(t,e,n,o),e.child)}function G1(t,e,n,r,i){if(fl(e),e.stateNode===null){var o=Su,a=n.contextType;typeof a=="object"&&a!==null&&(o=wn(a)),o=new n(r,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=fT,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=r,o.state=e.memoizedState,o.refs={},XS(e),a=n.contextType,o.context=typeof a=="object"&&a!==null?wn(a):Su,o.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Eb(e,n,a,r),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(a=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),a!==o.state&&fT.enqueueReplaceState(o,o.state,null),gf(e,r,o,i),mf(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){o=e.stateNode;var s=e.memoizedProps,l=ml(n,s);o.props=l;var u=o.context,c=n.contextType;a=Su,typeof c=="object"&&c!==null&&(a=wn(c));var d=n.getDerivedStateFromProps;c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s||u!==a)&&V1(e,o,r,a),ya=!1;var f=e.memoizedState;o.state=f,gf(e,r,o,i),mf(),u=e.memoizedState,s||f!==u||ya?(typeof d=="function"&&(Eb(e,n,d,r),u=e.memoizedState),(l=ya||L1(e,n,l,r,f,u,a))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oT(t,e),a=e.memoizedProps,c=ml(n,a),o.props=c,d=e.pendingProps,f=o.context,u=n.contextType,l=Su,typeof u=="object"&&u!==null&&(l=wn(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&V1(e,o,r,l),ya=!1,f=e.memoizedState,o.state=f,gf(e,r,o,i),mf();var p=e.memoizedState;a!==d||f!==p||ya||t!==null&&t.dependencies!==null&&Pg(t.dependencies)?(typeof s=="function"&&(Eb(e,n,s,r),p=e.memoizedState),(c=ya||L1(e,n,c,r,f,p,l)||t!==null&&t.dependencies!==null&&Pg(t.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return o=r,Wm(t,e),r=(e.flags&128)!==0,o||r?(o=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,t!==null&&r?(e.child=hl(e,t.child,null,i),e.child=hl(e,null,n,i)):En(t,e,n,i),e.memoizedState=o.state,t=e.child):t=Do(t,e,i),t}function q1(t,e,n,r){return dl(),e.flags|=256,En(t,e,n,r),e.child}var Tb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ab(t){return{baseLanes:t,cachePool:nU()}}function Sb(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=_r),t}function WU(t,e,n){var r=e.pendingProps,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Me){if(i?Ta(e):Aa(),(t=vt)?(t=BB(t,Gr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ns!==null?{id:Oi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},n=XV(t),n.return=e,e.child=n,xn=e,vt=null)):t=null,t===null)throw rs(e);return CT(t)?e.lanes=32:e.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(Aa(),i=e.mode,s=Lg({mode:"hidden",children:s},i),r=el(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,r=e.child,r.memoizedState=Ab(n),r.childLanes=Sb(t,a,n),e.memoizedState=Tb,Xd(null,r)):(Ta(e),mT(e,s))}var l=t.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(o)e.flags&256?(Ta(e),e.flags&=-257,e=xb(t,e,n)):e.memoizedState!==null?(Aa(),e.child=t.child,e.flags|=128,e=null):(Aa(),s=r.fallback,i=e.mode,r=Lg({mode:"visible",children:r.children},i),s=el(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,hl(e,t.child,null,n),r=e.child,r.memoizedState=Ab(n),r.childLanes=Sb(t,a,n),e.memoizedState=Tb,e=Xd(null,r));else if(Ta(e),CT(s)){if(a=s.nextSibling&&s.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(q(419)),r.stack="",r.digest=a,Uf({value:r,source:null,stack:null}),e=xb(t,e,n)}else if(Yt||Nc(t,e,n,!1),a=(n&t.childLanes)!==0,Yt||a){if(a=st,a!==null&&(r=SV(a,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Ul(t,r),ur(a,t,r),hx;IT(s)||Fg(),e=xb(t,e,n)}else IT(s)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,vt=Wr(s.nextSibling),xn=e,Me=!0,Fa=null,Gr=!1,t!==null&&eU(e,t),e=mT(e,r.children),e.flags|=4096);return e}return i?(Aa(),s=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=xo(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=xo(u,s):(s=el(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,Xd(null,r),r=e.child,s=t.child.memoizedState,s===null?s=Ab(n):(i=s.cachePool,i!==null?(l=Wt._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=nU(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=Sb(t,a,n),e.memoizedState=Tb,Xd(t.child,r)):(Ta(e),n=t.child,t=n.sibling,n=xo(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function mT(t,e){return e=Lg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Lg(t,e){return t=vr(22,t,null,e),t.lanes=0,t}function xb(t,e,n){return hl(e,t.child,null,n),t=mT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function H1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nT(t.return,e,n)}function wb(t,e,n,r,i,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=o)}function YU(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var a=Vt.current,s=(a&2)!==0;if(s?(a=a&1|2,e.flags|=128):a&=1,dt(Vt,a),En(t,e,r,n),r=Me?Vf:0,!s&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H1(t,n,e);else if(t.tag===19)H1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wb(e,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wb(e,!0,n,null,o,r);break;case"together":wb(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Do(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),os|=e.lanes,!(n&e.childLanes))if(t!==null){if(Nc(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=xo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function px(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Pg(t)))}function bK(t,e,n){switch(e.tag){case 3:Tg(e,e.stateNode.containerInfo),Ea(e,Wt,t.memoizedState.cache),dl();break;case 27:case 5:$E(e);break;case 4:Tg(e,e.stateNode.containerInfo);break;case 10:Ea(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,lT(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Ta(e),e.flags|=128,null):n&e.child.childLanes?WU(t,e,n):(Ta(e),t=Do(t,e,n),t!==null?t.sibling:null);Ta(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Nc(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return YU(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(Vt,Vt.current),r)break;return null;case 22:return e.lanes=0,KU(t,e,n,e.pendingProps);case 24:Ea(e,Wt,t.memoizedState.cache)}return Do(t,e,n)}function JU(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Yt=!0;else{if(!px(t,n)&&!(e.flags&128))return Yt=!1,bK(t,e,n);Yt=!!(t.flags&131072)}else Yt=!1,Me&&e.flags&1048576&&ZV(e,Vf,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Vs(e.elementType),e.type=t,typeof t=="function")HS(t)?(r=ml(t,r),e.tag=1,e=G1(null,e,t,r,n)):(e.tag=0,e=pT(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===MS){e.tag=11,e=B1(null,e,t,r,n);break e}else if(i===OS){e.tag=14,e=F1(null,e,t,r,n);break e}}throw e=zE(t)||t,Error(q(306,e,""))}}return e;case 0:return pT(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=ml(r,e.pendingProps),G1(t,e,r,i,n);case 3:e:{if(Tg(e,e.stateNode.containerInfo),t===null)throw Error(q(387));r=e.pendingProps;var o=e.memoizedState;i=o.element,oT(t,e),gf(e,r,null,n);var a=e.memoizedState;if(r=a.cache,Ea(e,Wt,r),r!==o.cache&&rT(e,[Wt],n,!0),mf(),r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=q1(t,e,r,n);break e}else if(r!==i){i=$r(Error(q(424)),e),Uf(i),e=q1(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(vt=Wr(t.firstChild),xn=e,Me=!0,Fa=null,Gr=!0,n=oU(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(dl(),r===i){e=Do(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 26:return Wm(t,e),t===null?(n=fR(e.type,null,e.pendingProps,null))?e.memoizedState=n:Me||(n=e.type,t=e.pendingProps,r=Gg(Ba.current).createElement(n),r[Sn]=e,r[cr]=t,In(r,n,t),hn(r),e.stateNode=r):e.memoizedState=fR(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return $E(e),t===null&&Me&&(r=e.stateNode=FB(e.type,e.pendingProps,Ba.current),xn=e,Gr=!0,i=vt,gs(e.type)?(PT=i,vt=Wr(r.firstChild)):vt=i),En(t,e,e.pendingProps.children,n),Wm(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Me&&((i=r=vt)&&(r=JK(r,e.type,e.pendingProps,Gr),r!==null?(e.stateNode=r,xn=e,vt=Wr(r.firstChild),Gr=!1,i=!0):i=!1),i||rs(e)),$E(e),i=e.type,o=e.pendingProps,a=t!==null?t.memoizedProps:null,r=o.children,xT(i,o)?r=null:a!==null&&xT(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=tx(t,e,dK,null,null,n),Gf._currentValue=i),Wm(t,e),En(t,e,r,n),e.child;case 6:return t===null&&Me&&((t=n=vt)&&(n=QK(n,e.pendingProps,Gr),n!==null?(e.stateNode=n,xn=e,vt=null,t=!0):t=!1),t||rs(e)),null;case 13:return WU(t,e,n);case 4:return Tg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hl(e,null,r,n):En(t,e,r,n),e.child;case 11:return B1(t,e,e.type,e.pendingProps,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Ea(e,e.type,r.value),En(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,fl(e),i=wn(i),r=r(i),e.flags|=1,En(t,e,r,n),e.child;case 14:return F1(t,e,e.type,e.pendingProps,n);case 15:return HU(t,e,e.type,e.pendingProps,n);case 19:return YU(t,e,n);case 31:return _K(t,e,n);case 22:return KU(t,e,n,e.pendingProps);case 24:return fl(e),r=wn(Wt),t===null?(i=JS(),i===null&&(i=st,o=YS(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=n),i=o),e.memoizedState={parent:r,cache:i},XS(e),Ea(e,Wt,i)):(t.lanes&n&&(oT(t,e),gf(e,null,null,n),mf()),i=t.memoizedState,o=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ea(e,Wt,r)):(r=o.cache,Ea(e,Wt,r),r!==i.cache&&rT(e,[Wt],n,!0))),En(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(q(156,e.tag))}function io(t){t.flags|=4}function Ib(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(bB())t.flags|=8192;else throw nl=Rg,QS}else t.flags&=-16777217}function K1(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!$B(e))if(bB())t.flags|=8192;else throw nl=Rg,QS}function tm(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?EV():536870912,t.lanes|=e,nc|=e)}function Pd(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EK(t,e,n){var r=e.pendingProps;switch(WS(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return mt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),wo(Wt),Ju(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Jl(e)?io(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yb())),mt(e),null;case 26:var i=e.type,o=e.memoizedState;return t===null?(io(e),o!==null?(mt(e),K1(e,o)):(mt(e),Ib(e,i,null,r,n))):o?o!==t.memoizedState?(io(e),mt(e),K1(e,o)):(mt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&io(e),mt(e),Ib(e,i,t,r,n)),null;case 27:if(Ag(e),n=Ba.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&io(e);else{if(!r){if(e.stateNode===null)throw Error(q(166));return mt(e),null}t=Fi.current,Jl(e)?T1(e):(t=FB(i,r,n),e.stateNode=t,io(e))}return mt(e),null;case 5:if(Ag(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&io(e);else{if(!r){if(e.stateNode===null)throw Error(q(166));return mt(e),null}if(o=Fi.current,Jl(e))T1(e);else{var a=Gg(Ba.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=a.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is=="string"?a.createElement(i,{is:r.is}):a.createElement(i)}}o[Sn]=e,o[cr]=r;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=o;e:switch(In(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&io(e)}}return mt(e),Ib(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&io(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(t=Ba.current,Jl(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=xn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Sn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||LB(t.nodeValue,n)),t||rs(e,!0)}else t=Gg(t).createTextNode(r),t[Sn]=e,e.stateNode=t}return mt(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Jl(e),n!==null){if(t===null){if(!r)throw Error(q(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(557));t[Sn]=e}else dl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),t=!1}else n=yb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(gr(e),e):(gr(e),null);if(e.flags&128)throw Error(q(558))}return mt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Jl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Sn]=e}else dl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),i=!1}else i=yb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(gr(e),e):(gr(e),null)}return gr(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),tm(e,e.updateQueue),mt(e),null);case 4:return Ju(),t===null&&Ex(e.stateNode.containerInfo),mt(e),null;case 10:return wo(e.type),mt(e),null;case 19:if(mn(Vt),r=e.memoizedState,r===null)return mt(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Pd(r,!1);else{if(Nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mg(t),o!==null){for(e.flags|=128,Pd(r,!1),t=o.updateQueue,e.updateQueue=t,tm(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)QV(n,t),n=n.sibling;return dt(Vt,Vt.current&1|2),Me&&uo(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Tr()>Ug&&(e.flags|=128,i=!0,Pd(r,!1),e.lanes=4194304)}else{if(!i)if(t=Mg(o),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,tm(e,t),Pd(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Me)return mt(e),null}else 2*Tr()-r.renderingStartTime>Ug&&n!==536870912&&(e.flags|=128,i=!0,Pd(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Tr(),t.sibling=null,n=Vt.current,dt(Vt,i?n&1|2:n&1),Me&&uo(e,r.treeForkCount),t):(mt(e),null);case 22:case 23:return gr(e),ZS(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),n=e.updateQueue,n!==null&&tm(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&mn(tl),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),wo(Wt),mt(e),null;case 25:return null;case 30:return null}throw Error(q(156,e.tag))}function TK(t,e){switch(WS(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wo(Wt),Ju(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ag(e),null;case 31:if(e.memoizedState!==null){if(gr(e),e.alternate===null)throw Error(q(340));dl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(gr(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));dl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mn(Vt),null;case 4:return Ju(),null;case 10:return wo(e.type),null;case 22:case 23:return gr(e),ZS(),t!==null&&mn(tl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return wo(Wt),null;case 25:return null;default:return null}}function QU(t,e){switch(WS(e),e.tag){case 3:wo(Wt),Ju();break;case 26:case 27:case 5:Ag(e);break;case 4:Ju();break;case 31:e.memoizedState!==null&&gr(e);break;case 13:gr(e);break;case 19:mn(Vt);break;case 10:wo(e.type);break;case 22:case 23:gr(e),ZS(),t!==null&&mn(tl);break;case 24:wo(Wt)}}function Bh(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){Qe(e,e.return,s)}}function is(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var o=i.next;r=o;do{if((r.tag&t)===t){var a=r.inst,s=a.destroy;if(s!==void 0){a.destroy=void 0,i=e;var l=n,u=s;try{u()}catch(c){Qe(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){Qe(e,e.return,c)}}function XU(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{sU(e,n)}catch(r){Qe(t,t.return,r)}}}function ZU(t,e,n){n.props=ml(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Qe(t,e,r)}}function yf(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Qe(t,e,i)}}function ki(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Qe(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Qe(t,e,i)}else n.current=null}function eB(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Qe(t,t.return,i)}}function Cb(t,e,n){try{var r=t.stateNode;GK(r,t.type,n,e),r[cr]=e}catch(i){Qe(t,t.return,i)}}function tB(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gs(t.type)||t.tag===4}function Pb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mo));else if(r!==4&&(r===27&&gs(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(gT(t,e,n),t=t.sibling;t!==null;)gT(t,e,n),t=t.sibling}function Vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&gs(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Vg(t,e,n),t=t.sibling;t!==null;)Vg(t,e,n),t=t.sibling}function nB(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);In(e,r,n),e[Sn]=t,e[cr]=n}catch(o){Qe(t,t.return,o)}}var fo=!1,Kt=!1,Rb=!1,W1=typeof WeakSet=="function"?WeakSet:Set,fn=null;function AK(t,e){if(t=t.containerInfo,AT=Wg,t=$V(t),$S(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(s=a),f===o&&++c===r&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ST={focusedElem:t,selectionRange:n},Wg=!1,fn=e;fn!==null;)if(e=fn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fn=t;else for(;fn!==null;){switch(e=fn,o=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&o!==null){t=void 0,n=e,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var v=ml(n.type,i);t=r.getSnapshotBeforeUpdate(v,o),r.__reactInternalSnapshotBeforeUpdate=t}catch(E){Qe(n,n.return,E)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)wT(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wT(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(q(163))}if(t=e.sibling,t!==null){t.return=e.return,fn=t;break}fn=e.return}}function rB(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ao(t,n),r&4&&Bh(5,n);break;case 1:if(ao(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Qe(n,n.return,a)}else{var i=ml(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Qe(n,n.return,a)}}r&64&&XU(n),r&512&&yf(n,n.return);break;case 3:if(ao(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{sU(t,e)}catch(a){Qe(n,n.return,a)}}break;case 27:e===null&&r&4&&nB(n);case 26:case 5:ao(t,n),e===null&&r&4&&eB(n),r&512&&yf(n,n.return);break;case 12:ao(t,n);break;case 31:ao(t,n),r&4&&aB(t,n);break;case 13:ao(t,n),r&4&&sB(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=MK.bind(null,n),XK(t,n))));break;case 22:if(r=n.memoizedState!==null||fo,!r){e=e!==null&&e.memoizedState!==null||Kt,i=fo;var o=Kt;fo=r,(Kt=e)&&!o?lo(t,n,(n.subtreeFlags&8772)!==0):ao(t,n),fo=i,Kt=o}break;case 30:break;default:ao(t,n)}}function iB(t){var e=t.alternate;e!==null&&(t.alternate=null,iB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&VS(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,er=!1;function oo(t,e,n){for(n=n.child;n!==null;)oB(t,e,n),n=n.sibling}function oB(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Mh,n)}catch{}switch(n.tag){case 26:Kt||ki(n,e),oo(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Kt||ki(n,e);var r=bt,i=er;gs(n.type)&&(bt=n.stateNode,er=!1),oo(t,e,n),Tf(n.stateNode),bt=r,er=i;break;case 5:Kt||ki(n,e);case 6:if(r=bt,i=er,bt=null,oo(t,e,n),bt=r,er=i,bt!==null)if(er)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(n.stateNode)}catch(o){Qe(n,e,o)}else try{bt.removeChild(n.stateNode)}catch(o){Qe(n,e,o)}break;case 18:bt!==null&&(er?(t=bt,sR(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ac(t)):sR(bt,n.stateNode));break;case 4:r=bt,i=er,bt=n.stateNode.containerInfo,er=!0,oo(t,e,n),bt=r,er=i;break;case 0:case 11:case 14:case 15:is(2,n,e),Kt||is(4,n,e),oo(t,e,n);break;case 1:Kt||(ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&ZU(n,e,r)),oo(t,e,n);break;case 21:oo(t,e,n);break;case 22:Kt=(r=Kt)||n.memoizedState!==null,oo(t,e,n),Kt=r;break;default:oo(t,e,n)}}function aB(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ac(t)}catch(n){Qe(e,e.return,n)}}}function sB(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ac(t)}catch(n){Qe(e,e.return,n)}}function SK(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new W1),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new W1),e;default:throw Error(q(435,t.tag))}}function nm(t,e){var n=SK(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=OK.bind(null,t,r);r.then(i,i)}})}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 27:if(gs(s.type)){bt=s.stateNode,er=!1;break e}break;case 5:bt=s.stateNode,er=!1;break e;case 3:case 4:bt=s.stateNode.containerInfo,er=!0;break e}s=s.return}if(bt===null)throw Error(q(160));oB(o,a,i),bt=null,er=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)lB(e,t),e=e.sibling}var pi=null;function lB(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xn(e,t),Zn(t),r&4&&(is(3,t,t.return),Bh(3,t),is(5,t,t.return));break;case 1:Xn(e,t),Zn(t),r&512&&(Kt||n===null||ki(n,n.return)),r&64&&fo&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=pi;if(Xn(e,t),Zn(t),r&512&&(Kt||n===null||ki(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":o=i.getElementsByTagName("title")[0],(!o||o[kh]||o[Sn]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),In(o,r,n),o[Sn]=t,hn(o),r=o;break e;case"link":var a=pR("link","href",i).get(r+(n.href||""));if(a){for(var s=0;s<a.length;s++)if(o=a[s],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(s,1);break t}}o=i.createElement(r),In(o,r,n),i.head.appendChild(o);break;case"meta":if(a=pR("meta","content",i).get(r+(n.content||""))){for(s=0;s<a.length;s++)if(o=a[s],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(s,1);break t}}o=i.createElement(r),In(o,r,n),i.head.appendChild(o);break;default:throw Error(q(468,r))}o[Sn]=t,hn(o),r=o}t.stateNode=r}else mR(i,t.type,t.stateNode);else t.stateNode=hR(i,r,t.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?mR(i,t.type,t.stateNode):hR(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Cb(t,t.memoizedProps,n.memoizedProps)}break;case 27:Xn(e,t),Zn(t),r&512&&(Kt||n===null||ki(n,n.return)),n!==null&&r&4&&Cb(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Xn(e,t),Zn(t),r&512&&(Kt||n===null||ki(n,n.return)),t.flags&32){i=t.stateNode;try{Xu(i,"")}catch(v){Qe(t,t.return,v)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Cb(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Rb=!0);break;case 6:if(Xn(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(q(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(v){Qe(t,t.return,v)}}break;case 3:if(Qm=null,i=pi,pi=qg(e.containerInfo),Xn(e,t),pi=i,Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ac(e.containerInfo)}catch(v){Qe(t,t.return,v)}Rb&&(Rb=!1,uB(t));break;case 4:r=pi,pi=qg(t.stateNode.containerInfo),Xn(e,t),Zn(t),pi=r;break;case 12:Xn(e,t),Zn(t);break;case 31:Xn(e,t),Zn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,nm(t,r)));break;case 13:Xn(e,t),Zn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Uy=Tr()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,nm(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=fo,c=Kt;if(fo=u||i,Kt=c||l,Xn(e,t),Kt=c,fo=u,Zn(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||fo||Kt||Us(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(o=l.stateNode,i)a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{s=l.stateNode;var d=l.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;s.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(v){Qe(l,l.return,v)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(v){Qe(l,l.return,v)}}}else if(e.tag===18){if(n===null){l=e;try{var p=l.stateNode;i?lR(p,!0):lR(l.stateNode,!1)}catch(v){Qe(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,nm(t,n))));break;case 19:Xn(e,t),Zn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,nm(t,r)));break;case 30:break;case 21:break;default:Xn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(tB(r)){n=r;break}r=r.return}if(n==null)throw Error(q(160));switch(n.tag){case 27:var i=n.stateNode,o=Pb(t);Vg(t,o,i);break;case 5:var a=n.stateNode;n.flags&32&&(Xu(a,""),n.flags&=-33);var s=Pb(t);Vg(t,s,a);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Pb(t);gT(t,u,l);break;default:throw Error(q(161))}}catch(c){Qe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uB(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;uB(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ao(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)rB(t,e.alternate,e),e=e.sibling}function Us(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:is(4,e,e.return),Us(e);break;case 1:ki(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&ZU(e,e.return,n),Us(e);break;case 27:Tf(e.stateNode);case 26:case 5:ki(e,e.return),Us(e);break;case 22:e.memoizedState===null&&Us(e);break;case 30:Us(e);break;default:Us(e)}t=t.sibling}}function lo(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,o=e,a=o.flags;switch(o.tag){case 0:case 11:case 15:lo(i,o,n),Bh(4,o);break;case 1:if(lo(i,o,n),r=o,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Qe(r,r.return,u)}if(r=o,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)aU(l[i],s)}catch(u){Qe(r,r.return,u)}}n&&a&64&&XU(o),yf(o,o.return);break;case 27:nB(o);case 26:case 5:lo(i,o,n),n&&r===null&&a&4&&eB(o),yf(o,o.return);break;case 12:lo(i,o,n);break;case 31:lo(i,o,n),n&&a&4&&aB(i,o);break;case 13:lo(i,o,n),n&&a&4&&sB(i,o);break;case 22:o.memoizedState===null&&lo(i,o,n),yf(o,o.return);break;case 30:break;default:lo(i,o,n)}e=e.sibling}}function mx(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Vh(n))}function gx(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Vh(t))}function fi(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cB(t,e,n,r),e=e.sibling}function cB(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:fi(t,e,n,r),i&2048&&Bh(9,e);break;case 1:fi(t,e,n,r);break;case 3:fi(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Vh(t)));break;case 12:if(i&2048){fi(t,e,n,r),t=e.stateNode;try{var o=e.memoizedProps,a=o.id,s=o.onPostCommit;typeof s=="function"&&s(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Qe(e,e.return,l)}}else fi(t,e,n,r);break;case 31:fi(t,e,n,r);break;case 13:fi(t,e,n,r);break;case 23:break;case 22:o=e.stateNode,a=e.alternate,e.memoizedState!==null?o._visibility&2?fi(t,e,n,r):_f(t,e):o._visibility&2?fi(t,e,n,r):(o._visibility|=2,su(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&mx(a,e);break;case 24:fi(t,e,n,r),i&2048&&gx(e.alternate,e);break;default:fi(t,e,n,r)}}function su(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var o=t,a=e,s=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:su(o,a,s,l,i),Bh(8,a);break;case 23:break;case 22:var c=a.stateNode;a.memoizedState!==null?c._visibility&2?su(o,a,s,l,i):_f(o,a):(c._visibility|=2,su(o,a,s,l,i)),i&&u&2048&&mx(a.alternate,a);break;case 24:su(o,a,s,l,i),i&&u&2048&&gx(a.alternate,a);break;default:su(o,a,s,l,i)}e=e.sibling}}function _f(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:_f(n,r),i&2048&&mx(r.alternate,r);break;case 24:_f(n,r),i&2048&&gx(r.alternate,r);break;default:_f(n,r)}e=e.sibling}}var Zd=8192;function Ql(t,e,n){if(t.subtreeFlags&Zd)for(t=t.child;t!==null;)dB(t,e,n),t=t.sibling}function dB(t,e,n){switch(t.tag){case 26:Ql(t,e,n),t.flags&Zd&&t.memoizedState!==null&&c8(n,pi,t.memoizedState,t.memoizedProps);break;case 5:Ql(t,e,n);break;case 3:case 4:var r=pi;pi=qg(t.stateNode.containerInfo),Ql(t,e,n),pi=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Zd,Zd=16777216,Ql(t,e,n),Zd=r):Ql(t,e,n));break;default:Ql(t,e,n)}}function fB(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Rd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];fn=r,pB(r,t)}fB(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hB(t),t=t.sibling}function hB(t){switch(t.tag){case 0:case 11:case 15:Rd(t),t.flags&2048&&is(9,t,t.return);break;case 3:Rd(t);break;case 12:Rd(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ym(t)):Rd(t);break;default:Rd(t)}}function Ym(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];fn=r,pB(r,t)}fB(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:is(8,e,e.return),Ym(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ym(e));break;default:Ym(e)}t=t.sibling}}function pB(t,e){for(;fn!==null;){var n=fn;switch(n.tag){case 0:case 11:case 15:is(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Vh(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,fn=r;else e:for(n=t;fn!==null;){r=fn;var i=r.sibling,o=r.return;if(iB(r),r===n){fn=null;break e}if(i!==null){i.return=o,fn=i;break e}fn=o}}}var xK={getCacheForType:function(t){var e=wn(Wt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return wn(Wt).controller.signal}},wK=typeof WeakMap=="function"?WeakMap:Map,je=0,st=null,Ie=null,Pe=0,We=0,mr=null,Oa=!1,Oc=!1,vx=!1,ko=0,Nt=0,os=0,rl=0,yx=0,_r=0,nc=0,bf=null,tr=null,vT=!1,Uy=0,mB=0,Ug=1/0,Bg=null,$a=null,en=0,Ga=null,rc=null,Io=0,yT=0,_T=null,gB=null,Ef=0,bT=null;function xr(){return je&2&&Pe!==0?Pe&-Pe:fe.T!==null?bx():xV()}function vB(){if(_r===0)if(!(Pe&536870912)||Me){var t=Wp;Wp<<=1,!(Wp&3932160)&&(Wp=262144),_r=t}else _r=536870912;return t=Pr.current,t!==null&&(t.flags|=32),_r}function ur(t,e,n){(t===st&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(ic(t,0),Da(t,Pe,_r,!1)),Dh(t,n),(!(je&2)||t!==st)&&(t===st&&(!(je&2)&&(rl|=n),Nt===4&&Da(t,Pe,_r,!1)),Qi(t))}function yB(t,e,n){if(je&6)throw Error(q(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Oh(t,e),i=r?PK(t,e):Nb(t,e,!0),o=r;do{if(i===0){Oc&&!r&&Da(t,e,0,!1);break}else{if(n=t.current.alternate,o&&!IK(n)){i=Nb(t,e,!1),o=!1;continue}if(i===2){if(o=e,t.errorRecoveryDisabledLanes&o)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var s=t;i=bf;var l=s.current.memoizedState.isDehydrated;if(l&&(ic(s,a).flags|=256),a=Nb(s,a,!1),a!==2){if(vx&&!l){s.errorRecoveryDisabledLanes|=o,rl|=o,i=4;break e}o=tr,tr=i,o!==null&&(tr===null?tr=o:tr.push.apply(tr,o))}i=a}if(o=!1,i!==2)continue}}if(i===1){ic(t,0),Da(t,e,0,!0);break}e:{switch(r=t,o=i,o){case 0:case 1:throw Error(q(345));case 4:if((e&4194048)!==e)break;case 6:Da(r,e,_r,!Oa);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(q(329))}if((e&62914560)===e&&(i=Uy+300-Tr(),10<i)){if(Da(r,e,_r,!Oa),Iy(r,0,!0)!==0)break e;Io=e,r.timeoutHandle=UB(Y1.bind(null,r,n,tr,Bg,vT,e,_r,rl,nc,Oa,o,"Throttled",-0,0),i);break e}Y1(r,n,tr,Bg,vT,e,_r,rl,nc,Oa,o,null,-0,0)}}break}while(!0);Qi(t)}function Y1(t,e,n,r,i,o,a,s,l,u,c,d,f,p){if(t.timeoutHandle=-1,d=e.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mo},dB(e,o,d);var v=(o&62914560)===o?Uy-Tr():(o&4194048)===o?mB-Tr():0;if(v=d8(d,v),v!==null){Io=o,t.cancelPendingCommit=v(Q1.bind(null,t,e,o,n,r,i,a,s,l,c,d,null,f,p)),Da(t,o,a,!u);return}}Q1(t,e,o,n,r,i,a,s,l)}function IK(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Cr(o(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Da(t,e,n,r){e&=~yx,e&=~rl,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var o=31-Sr(i),a=1<<o;r[o]=-1,i&=~a}n!==0&&TV(t,n,e)}function By(){return je&6?!0:(Fh(0),!1)}function _x(){if(Ie!==null){if(We===0)var t=Ie.return;else t=Ie,go=Bl=null,ix(t),Bu=null,Bf=0,t=Ie;for(;t!==null;)QU(t.alternate,t),t=t.return;Ie=null}}function ic(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,KK(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Io=0,_x(),st=t,Ie=n=xo(t.current,null),Pe=e,We=0,mr=null,Oa=!1,Oc=Oh(t,e),vx=!1,nc=_r=yx=rl=os=Nt=0,tr=bf=null,vT=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Sr(r),o=1<<i;e|=t[i],r&=~o}return ko=e,Ny(),n}function _B(t,e){_e=null,fe.H=zf,e===Mc||e===Oy?(e=I1(),We=3):e===QS?(e=I1(),We=4):We=e===hx?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,mr=e,Ie===null&&(Nt=1,kg(t,$r(e,t.current)))}function bB(){var t=Pr.current;return t===null?!0:(Pe&4194048)===Pe?Kr===null:(Pe&62914560)===Pe||Pe&536870912?t===Kr:!1}function EB(){var t=fe.H;return fe.H=zf,t===null?zf:t}function TB(){var t=fe.A;return fe.A=xK,t}function Fg(){Nt=4,Oa||(Pe&4194048)!==Pe&&Pr.current!==null||(Oc=!0),!(os&134217727)&&!(rl&134217727)||st===null||Da(st,Pe,_r,!1)}function Nb(t,e,n){var r=je;je|=2;var i=EB(),o=TB();(st!==t||Pe!==e)&&(Bg=null,ic(t,e)),e=!1;var a=Nt;e:do try{if(We!==0&&Ie!==null){var s=Ie,l=mr;switch(We){case 8:_x(),a=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(e=!0);var u=We;if(We=0,mr=null,Iu(t,s,l,u),n&&Oc){a=0;break e}break;default:u=We,We=0,mr=null,Iu(t,s,l,u)}}CK(),a=Nt;break}catch(c){_B(t,c)}while(!0);return e&&t.shellSuspendCounter++,go=Bl=null,je=r,fe.H=i,fe.A=o,Ie===null&&(st=null,Pe=0,Ny()),a}function CK(){for(;Ie!==null;)AB(Ie)}function PK(t,e){var n=je;je|=2;var r=EB(),i=TB();st!==t||Pe!==e?(Bg=null,Ug=Tr()+500,ic(t,e)):Oc=Oh(t,e);e:do try{if(We!==0&&Ie!==null){e=Ie;var o=mr;t:switch(We){case 1:We=0,mr=null,Iu(t,e,o,1);break;case 2:case 9:if(w1(o)){We=0,mr=null,J1(e);break}e=function(){We!==2&&We!==9||st!==t||(We=7),Qi(t)},o.then(e,e);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:w1(o)?(We=0,mr=null,J1(e)):(We=0,mr=null,Iu(t,e,o,7));break;case 5:var a=null;switch(Ie.tag){case 26:a=Ie.memoizedState;case 5:case 27:var s=Ie;if(a?$B(a):s.stateNode.complete){We=0,mr=null;var l=s.sibling;if(l!==null)Ie=l;else{var u=s.return;u!==null?(Ie=u,Fy(u)):Ie=null}break t}}We=0,mr=null,Iu(t,e,o,5);break;case 6:We=0,mr=null,Iu(t,e,o,6);break;case 8:_x(),Nt=6;break e;default:throw Error(q(462))}}RK();break}catch(c){_B(t,c)}while(!0);return go=Bl=null,fe.H=r,fe.A=i,je=n,Ie!==null?0:(st=null,Pe=0,Ny(),Nt)}function RK(){for(;Ie!==null&&!ZH();)AB(Ie)}function AB(t){var e=JU(t.alternate,t,ko);t.memoizedProps=t.pendingProps,e===null?Fy(t):Ie=e}function J1(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=$1(n,e,e.pendingProps,e.type,void 0,Pe);break;case 11:e=$1(n,e,e.pendingProps,e.type.render,e.ref,Pe);break;case 5:ix(e);default:QU(n,e),e=Ie=QV(e,ko),e=JU(n,e,ko)}t.memoizedProps=t.pendingProps,e===null?Fy(t):Ie=e}function Iu(t,e,n,r){go=Bl=null,ix(e),Bu=null,Bf=0;var i=e.return;try{if(yK(t,i,e,n,Pe)){Nt=1,kg(t,$r(n,t.current)),Ie=null;return}}catch(o){if(i!==null)throw Ie=i,o;Nt=1,kg(t,$r(n,t.current)),Ie=null;return}e.flags&32768?(Me||r===1?t=!0:Oc||Pe&536870912?t=!1:(Oa=t=!0,(r===2||r===9||r===3||r===6)&&(r=Pr.current,r!==null&&r.tag===13&&(r.flags|=16384))),SB(e,t)):Fy(e)}function Fy(t){var e=t;do{if(e.flags&32768){SB(e,Oa);return}t=e.return;var n=EK(e.alternate,e,ko);if(n!==null){Ie=n;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);Nt===0&&(Nt=5)}function SB(t,e){do{var n=TK(t.alternate,t);if(n!==null){n.flags&=32767,Ie=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=n}while(t!==null);Nt=6,Ie=null}function Q1(t,e,n,r,i,o,a,s,l){t.cancelPendingCommit=null;do zy();while(en!==0);if(je&6)throw Error(q(327));if(e!==null){if(e===t.current)throw Error(q(177));if(o=e.lanes|e.childLanes,o|=GS,u9(t,n,o,a,s,l),t===st&&(Ie=st=null,Pe=0),rc=e,Ga=t,Io=n,yT=o,_T=i,gB=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,DK(Sg,function(){return PB(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=fe.T,fe.T=null,i=Ge.p,Ge.p=2,a=je,je|=4;try{AK(t,e,n)}finally{je=a,Ge.p=i,fe.T=r}}en=1,xB(),wB(),IB()}}function xB(){if(en===1){en=0;var t=Ga,e=rc,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=fe.T,fe.T=null;var r=Ge.p;Ge.p=2;var i=je;je|=4;try{lB(e,t);var o=ST,a=$V(t.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&jV(s.ownerDocument.documentElement,s)){if(l!==null&&$S(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),v=s.textContent.length,E=Math.min(l.start,v),y=l.end===void 0?E:Math.min(l.end,v);!p.extend&&E>y&&(a=y,y=E,E=a);var _=_1(s,E),T=_1(s,y);if(_&&T&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==T.node||p.focusOffset!==T.offset)){var S=d.createRange();S.setStart(_.node,_.offset),p.removeAllRanges(),E>y?(p.addRange(S),p.extend(T.node,T.offset)):(S.setEnd(T.node,T.offset),p.addRange(S))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Wg=!!AT,ST=AT=null}finally{je=i,Ge.p=r,fe.T=n}}t.current=e,en=2}}function wB(){if(en===2){en=0;var t=Ga,e=rc,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=fe.T,fe.T=null;var r=Ge.p;Ge.p=2;var i=je;je|=4;try{rB(t,e.alternate,e)}finally{je=i,Ge.p=r,fe.T=n}}en=3}}function IB(){if(en===4||en===3){en=0,e9();var t=Ga,e=rc,n=Io,r=gB;e.subtreeFlags&10256||e.flags&10256?en=5:(en=0,rc=Ga=null,CB(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&($a=null),LS(n),e=e.stateNode,Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Mh,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=fe.T,i=Ge.p,Ge.p=2,fe.T=null;try{for(var o=t.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{fe.T=e,Ge.p=i}}Io&3&&zy(),Qi(t),i=t.pendingLanes,n&261930&&i&42?t===bT?Ef++:(Ef=0,bT=t):Ef=0,Fh(0)}}function CB(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Vh(e)))}function zy(){return xB(),wB(),IB(),PB()}function PB(){if(en!==5)return!1;var t=Ga,e=yT;yT=0;var n=LS(Io),r=fe.T,i=Ge.p;try{Ge.p=32>n?32:n,fe.T=null,n=_T,_T=null;var o=Ga,a=Io;if(en=0,rc=Ga=null,Io=0,je&6)throw Error(q(331));var s=je;if(je|=4,hB(o.current),cB(o,o.current,a,n),je=s,Fh(0,!1),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Mh,o)}catch{}return!0}finally{Ge.p=i,fe.T=r,CB(t,e)}}function X1(t,e,n){e=$r(n,e),e=hT(t.stateNode,e,2),t=ja(t,e,2),t!==null&&(Dh(t,2),Qi(t))}function Qe(t,e,n){if(t.tag===3)X1(t,t,n);else for(;e!==null;){if(e.tag===3){X1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($a===null||!$a.has(r))){t=$r(n,t),n=GU(2),r=ja(e,n,2),r!==null&&(qU(n,r,e,t),Dh(r,2),Qi(r));break}}e=e.return}}function Mb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wK;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(vx=!0,i.add(n),t=NK.bind(null,t,e,n),e.then(t,t))}function NK(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,st===t&&(Pe&n)===n&&(Nt===4||Nt===3&&(Pe&62914560)===Pe&&300>Tr()-Uy?!(je&2)&&ic(t,0):yx|=n,nc===Pe&&(nc=0)),Qi(t)}function RB(t,e){e===0&&(e=EV()),t=Ul(t,e),t!==null&&(Dh(t,e),Qi(t))}function MK(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RB(t,n)}function OK(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(q(314))}r!==null&&r.delete(e),RB(t,n)}function DK(t,e){return DS(t,e)}var zg=null,lu=null,ET=!1,jg=!1,Ob=!1,ka=0;function Qi(t){t!==lu&&t.next===null&&(lu===null?zg=lu=t:lu=lu.next=t),jg=!0,ET||(ET=!0,LK())}function Fh(t,e){if(!Ob&&jg){Ob=!0;do for(var n=!1,r=zg;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-Sr(42|t)+1)-1,o&=i&~(a&~s),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Z1(r,o))}else o=Pe,o=Iy(r,r===st?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||Oh(r,o)||(n=!0,Z1(r,o));r=r.next}while(n);Ob=!1}}function kK(){NB()}function NB(){jg=ET=!1;var t=0;ka!==0&&HK()&&(t=ka);for(var e=Tr(),n=null,r=zg;r!==null;){var i=r.next,o=MB(r,e);o===0?(r.next=null,n===null?zg=i:n.next=i,i===null&&(lu=n)):(n=r,(t!==0||o&3)&&(jg=!0)),r=i}en!==0&&en!==5||Fh(t),ka!==0&&(ka=0)}function MB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var a=31-Sr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=l9(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}if(e=st,n=Pe,n=Iy(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(We===2||We===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&sb(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Oh(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&sb(r),LS(n)){case 2:case 8:n=_V;break;case 32:n=Sg;break;case 268435456:n=bV;break;default:n=Sg}return r=OB.bind(null,t),n=DS(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&sb(r),t.callbackPriority=2,t.callbackNode=null,2}function OB(t,e){if(en!==0&&en!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(zy()&&t.callbackNode!==n)return null;var r=Pe;return r=Iy(t,t===st?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(yB(t,r,e),MB(t,Tr()),t.callbackNode!=null&&t.callbackNode===n?OB.bind(null,t):null)}function Z1(t,e){if(zy())return null;yB(t,e,!0)}function LK(){WK(function(){je&6?DS(yV,kK):NB()})}function bx(){if(ka===0){var t=Zu;t===0&&(t=Kp,Kp<<=1,!(Kp&261888)&&(Kp=256)),ka=t}return ka}function eR(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fm(""+t)}function tR(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function VK(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var o=eR((i[cr]||null).action),a=r.submitter;a&&(e=(e=a[cr]||null)?eR(e.formAction):a.getAttribute("formAction"),e!==null&&(o=e,a=null));var s=new Cy("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ka!==0){var l=a?tR(i,a):new FormData(i);dT(n,{pending:!0,data:l,method:i.method,action:o},null,l)}}else typeof o=="function"&&(s.preventDefault(),l=a?tR(i,a):new FormData(i),dT(n,{pending:!0,data:l,method:i.method,action:o},o,l))},currentTarget:i}]})}}for(var Db=0;Db<ZE.length;Db++){var kb=ZE[Db],UK=kb.toLowerCase(),BK=kb[0].toUpperCase()+kb.slice(1);wi(UK,"on"+BK)}wi(qV,"onAnimationEnd");wi(HV,"onAnimationIteration");wi(KV,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(tK,"onTransitionRun");wi(nK,"onTransitionStart");wi(rK,"onTransitionCancel");wi(WV,"onTransitionEnd");Qu("onMouseEnter",["mouseout","mouseover"]);Qu("onMouseLeave",["mouseout","mouseover"]);Qu("onPointerEnter",["pointerout","pointerover"]);Qu("onPointerLeave",["pointerout","pointerover"]);kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kl("onBeforeInput",["compositionend","keypress","textInput","paste"]);kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jf));function DB(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){wg(c)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){wg(c)}i.currentTarget=null,o=l}}}}function we(t,e){var n=e[qE];n===void 0&&(n=e[qE]=new Set);var r=t+"__bubble";n.has(r)||(kB(e,t,2,!1),n.add(r))}function Lb(t,e,n){var r=0;e&&(r|=4),kB(n,t,r,e)}var rm="_reactListening"+Math.random().toString(36).slice(2);function Ex(t){if(!t[rm]){t[rm]=!0,wV.forEach(function(n){n!=="selectionchange"&&(FK.has(n)||Lb(n,!1,t),Lb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rm]||(e[rm]=!0,Lb("selectionchange",!1,e))}}function kB(t,e,n,r){switch(WB(e)){case 2:var i=p8;break;case 8:i=m8;break;default:i=xx}n=i.bind(null,e,n,t),i=void 0,!JE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;s!==null;){if(a=yu(s),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=o=a;continue e}s=s.parentNode}}r=r.return}DV(function(){var u=o,c=BS(n),d=[];e:{var f=YV.get(t);if(f!==void 0){var p=Cy,v=t;switch(t){case"keypress":if(jm(n)===0)break e;case"keydown":case"keyup":p=O9;break;case"focusin":v="focus",p=fb;break;case"focusout":v="blur",p=fb;break;case"beforeblur":case"afterblur":p=fb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=u1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=E9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=L9;break;case qV:case HV:case KV:p=S9;break;case WV:p=U9;break;case"scroll":case"scrollend":p=_9;break;case"wheel":p=F9;break;case"copy":case"cut":case"paste":p=w9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=d1;break;case"toggle":case"beforetoggle":p=j9}var E=(e&4)!==0,y=!E&&(t==="scroll"||t==="scrollend"),_=E?f!==null?f+"Capture":null:f;E=[];for(var T=u,S;T!==null;){var w=T;if(S=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||S===null||_===null||(w=Df(T,_),w!=null&&E.push($f(T,w,S))),y)break;T=T.return}0<E.length&&(f=new p(f,v,null,n,c),d.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==YE&&(v=n.relatedTarget||n.fromElement)&&(yu(v)||v[Pc]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?yu(v):null,v!==null&&(y=Nh(v),E=v.tag,v!==y||E!==5&&E!==27&&E!==6)&&(v=null)):(p=null,v=u),p!==v)){if(E=u1,w="onMouseLeave",_="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(E=d1,w="onPointerLeave",_="onPointerEnter",T="pointer"),y=p==null?f:Qd(p),S=v==null?f:Qd(v),f=new E(w,T+"leave",p,n,c),f.target=y,f.relatedTarget=S,w=null,yu(c)===u&&(E=new E(_,T+"enter",v,n,c),E.target=S,E.relatedTarget=y,w=E),y=w,p&&v)t:{for(E=zK,_=p,T=v,S=0,w=_;w;w=E(w))S++;w=0;for(var M=T;M;M=E(M))w++;for(;0<S-w;)_=E(_),S--;for(;0<w-S;)T=E(T),w--;for(;S--;){if(_===T||T!==null&&_===T.alternate){E=_;break t}_=E(_),T=E(T)}E=null}else E=null;p!==null&&nR(d,f,p,E,!1),v!==null&&y!==null&&nR(d,y,v,E,!0)}}e:{if(f=u?Qd(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=m1;else if(p1(f))if(FV)N=X9;else{N=J9;var I=Y9}else p=f.nodeName,!p||p.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&US(u.elementType)&&(N=m1):N=Q9;if(N&&(N=N(t,u))){BV(d,N,n,c);break e}I&&I(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&WE(f,"number",f.value)}switch(I=u?Qd(u):window,t){case"focusin":(p1(I)||I.contentEditable==="true")&&(Eu=I,QE=u,ff=null);break;case"focusout":ff=QE=Eu=null;break;case"mousedown":XE=!0;break;case"contextmenu":case"mouseup":case"dragend":XE=!1,b1(d,n,c);break;case"selectionchange":if(eK)break;case"keydown":case"keyup":b1(d,n,c)}var P;if(jS)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else bu?VV(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(LV&&n.locale!=="ko"&&(bu||R!=="onCompositionStart"?R==="onCompositionEnd"&&bu&&(P=kV()):(Ma=c,FS="value"in Ma?Ma.value:Ma.textContent,bu=!0)),I=$g(u,R),0<I.length&&(R=new c1(R,t,null,n,c),d.push({event:R,listeners:I}),P?R.data=P:(P=UV(n),P!==null&&(R.data=P)))),(P=G9?q9(t,n):H9(t,n))&&(R=$g(u,"onBeforeInput"),0<R.length&&(I=new c1("onBeforeInput","beforeinput",null,n,c),d.push({event:I,listeners:R}),I.data=P)),VK(d,t,u,n,c)}DB(d,e)})}function $f(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $g(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=Df(t,n),i!=null&&r.unshift($f(t,i,o)),i=Df(t,e),i!=null&&r.push($f(t,i,o))),t.tag===3)return r;t=t.return}return[]}function zK(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function nR(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=Df(n,o),u!=null&&a.unshift($f(n,u,l))):i||(u=Df(n,o),u!=null&&a.push($f(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var jK=/\r\n?/g,$K=/\u0000|\uFFFD/g;function rR(t){return(typeof t=="string"?t:""+t).replace(jK,`
`).replace($K,"")}function LB(t,e){return e=rR(e),rR(t)===e}function et(t,e,n,r,i,o){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Xu(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Xu(t,""+r);break;case"className":Jp(t,"class",r);break;case"tabIndex":Jp(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Jp(t,n,r);break;case"style":OV(t,r,o);break;case"data":if(e!=="object"){Jp(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Fm(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(e!=="input"&&et(t,e,"name",i.name,i,null),et(t,e,"formEncType",i.formEncType,i,null),et(t,e,"formMethod",i.formMethod,i,null),et(t,e,"formTarget",i.formTarget,i,null)):(et(t,e,"encType",i.encType,i,null),et(t,e,"method",i.method,i,null),et(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Fm(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=mo);break;case"onScroll":r!=null&&we("scroll",t);break;case"onScrollEnd":r!=null&&we("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(q(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(q(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Fm(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":we("beforetoggle",t),we("toggle",t),Bm(t,"popover",r);break;case"xlinkActuate":ro(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ro(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ro(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ro(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ro(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ro(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ro(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ro(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ro(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Bm(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=v9.get(n)||n,Bm(t,n,r))}}function TT(t,e,n,r,i,o){switch(n){case"style":OV(t,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(q(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(q(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Xu(t,r):(typeof r=="number"||typeof r=="bigint")&&Xu(t,""+r);break;case"onScroll":r!=null&&we("scroll",t);break;case"onScrollEnd":r!=null&&we("scrollend",t);break;case"onClick":r!=null&&(t.onclick=mo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!IV.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),o=t[cr]||null,o=o!=null?o[n]:null,typeof o=="function"&&t.removeEventListener(e,o,i),typeof r=="function")){typeof o!="function"&&o!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Bm(t,n,r)}}}function In(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",t),we("load",t);var r=!1,i=!1,o;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];if(a!=null)switch(o){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(q(137,e));default:et(t,e,o,a,n,null)}}i&&et(t,e,"srcSet",n.srcSet,n,null),r&&et(t,e,"src",n.src,n,null);return;case"input":we("invalid",t);var s=o=a=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":a=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":o=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(q(137,e));break;default:et(t,e,r,c,n,null)}}RV(t,o,s,l,u,a,i,!1);return;case"select":we("invalid",t),r=a=o=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":o=s;break;case"defaultValue":a=s;break;case"multiple":r=s;default:et(t,e,i,s,n,null)}e=o,n=a,t.multiple=!!r,e!=null?Lu(t,!!r,e,!1):n!=null&&Lu(t,!!r,n,!0);return;case"textarea":we("invalid",t),o=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(s=n[a],s!=null))switch(a){case"value":r=s;break;case"defaultValue":i=s;break;case"children":o=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(q(91));break;default:et(t,e,a,s,n,null)}MV(t,r,i,o);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:et(t,e,l,r,n,null)}return;case"dialog":we("beforetoggle",t),we("toggle",t),we("cancel",t),we("close",t);break;case"iframe":case"object":we("load",t);break;case"video":case"audio":for(r=0;r<jf.length;r++)we(jf[r],t);break;case"image":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"embed":case"source":case"link":we("error",t),we("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(q(137,e));default:et(t,e,u,r,n,null)}return;default:if(US(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&TT(t,e,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&et(t,e,s,r,n,null))}function GK(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,s=null,l=null,u=null,c=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||et(t,e,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(p!=null||d!=null))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":a=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(q(137,e));break;default:p!==d&&et(t,e,f,p,r,d)}}KE(t,a,s,l,u,c,o,i);return;case"select":p=a=s=f=null;for(o in n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(o)||et(t,e,o,null,r,l)}for(i in r)if(o=r[i],l=n[i],r.hasOwnProperty(i)&&(o!=null||l!=null))switch(i){case"value":f=o;break;case"defaultValue":s=o;break;case"multiple":a=o;default:o!==l&&et(t,e,i,o,r,l)}e=s,n=a,r=p,f!=null?Lu(t,!!n,f,!1):!!r!=!!n&&(e!=null?Lu(t,!!n,e,!0):Lu(t,!!n,n?[]:"",!1));return;case"textarea":p=f=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:et(t,e,s,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(i!=null||o!=null))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(q(91));break;default:i!==o&&et(t,e,a,i,r,o)}NV(t,f,p);return;case"option":for(var v in n)if(f=n[v],n.hasOwnProperty(v)&&f!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:et(t,e,v,null,r,f)}for(l in r)if(f=r[l],p=n[l],r.hasOwnProperty(l)&&f!==p&&(f!=null||p!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:et(t,e,l,f,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)f=n[E],n.hasOwnProperty(E)&&f!=null&&!r.hasOwnProperty(E)&&et(t,e,E,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(f!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(q(137,e));break;default:et(t,e,u,f,r,p)}return;default:if(US(e)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!==void 0&&!r.hasOwnProperty(y)&&TT(t,e,y,void 0,r,f);for(c in r)f=r[c],p=n[c],!r.hasOwnProperty(c)||f===p||f===void 0&&p===void 0||TT(t,e,c,f,r,p);return}}for(var _ in n)f=n[_],n.hasOwnProperty(_)&&f!=null&&!r.hasOwnProperty(_)&&et(t,e,_,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||f==null&&p==null||et(t,e,d,f,r,p)}function iR(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qK(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,a=i.initiatorType,s=i.duration;if(o&&s&&iR(a)){for(a=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,d=l.initiatorType;c&&iR(d)&&(l=l.responseEnd,a+=c*(l<s?1:(s-u)/(l-u)))}if(--r,e+=8*(o+a)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var AT=null,ST=null;function Gg(t){return t.nodeType===9?t:t.ownerDocument}function oR(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VB(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function xT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ub=null;function HK(){var t=window.event;return t&&t.type==="popstate"?t===Ub?!1:(Ub=t,!0):(Ub=null,!1)}var UB=typeof setTimeout=="function"?setTimeout:void 0,KK=typeof clearTimeout=="function"?clearTimeout:void 0,aR=typeof Promise=="function"?Promise:void 0,WK=typeof queueMicrotask=="function"?queueMicrotask:typeof aR<"u"?function(t){return aR.resolve(null).then(t).catch(YK)}:UB;function YK(t){setTimeout(function(){throw t})}function gs(t){return t==="head"}function sR(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),ac(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Tf(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Tf(n);for(var o=n.firstChild;o;){var a=o.nextSibling,s=o.nodeName;o[kh]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=a}}else n==="body"&&Tf(t.ownerDocument.body);n=i}while(n);ac(e)}function lR(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function wT(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wT(n),VS(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function JK(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[kh])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=Wr(t.nextSibling),t===null)break}return null}function QK(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wr(t.nextSibling),t===null))return null;return t}function BB(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Wr(t.nextSibling),t===null))return null;return t}function IT(t){return t.data==="$?"||t.data==="$~"}function CT(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function XK(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var PT=null;function uR(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Wr(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function cR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function FB(t,e,n){switch(e=Gg(n),t){case"html":if(t=e.documentElement,!t)throw Error(q(452));return t;case"head":if(t=e.head,!t)throw Error(q(453));return t;case"body":if(t=e.body,!t)throw Error(q(454));return t;default:throw Error(q(451))}}function Tf(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);VS(t)}var Zr=new Map,dR=new Set;function qg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yo=Ge.d;Ge.d={f:ZK,r:e8,D:t8,C:n8,L:r8,m:i8,X:a8,S:o8,M:s8};function ZK(){var t=Yo.f(),e=By();return t||e}function e8(t){var e=Rc(t);e!==null&&e.tag===5&&e.type==="form"?OU(e):Yo.r(t)}var Dc=typeof document>"u"?null:document;function zB(t,e,n){var r=Dc;if(r&&typeof e=="string"&&e){var i=jr(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),dR.has(i)||(dR.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),In(e,"link",t),hn(e),r.head.appendChild(e)))}}function t8(t){Yo.D(t),zB("dns-prefetch",t,null)}function n8(t,e){Yo.C(t,e),zB("preconnect",t,e)}function r8(t,e,n){Yo.L(t,e,n);var r=Dc;if(r&&t&&e){var i='link[rel="preload"][as="'+jr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+jr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+jr(n.imageSizes)+'"]')):i+='[href="'+jr(t)+'"]';var o=i;switch(e){case"style":o=oc(t);break;case"script":o=kc(t)}Zr.has(o)||(t=_t({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Zr.set(o,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(zh(o))||e==="script"&&r.querySelector(jh(o))||(e=r.createElement("link"),In(e,"link",t),hn(e),r.head.appendChild(e)))}}function i8(t,e){Yo.m(t,e);var n=Dc;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+jr(r)+'"][href="'+jr(t)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=kc(t)}if(!Zr.has(o)&&(t=_t({rel:"modulepreload",href:t},e),Zr.set(o,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(jh(o)))return}r=n.createElement("link"),In(r,"link",t),hn(r),n.head.appendChild(r)}}}function o8(t,e,n){Yo.S(t,e,n);var r=Dc;if(r&&t){var i=ku(r).hoistableStyles,o=oc(t);e=e||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(zh(o)))s.loading=5;else{t=_t({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Zr.get(o))&&Tx(t,n);var l=a=r.createElement("link");hn(l),In(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Jm(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}}function a8(t,e){Yo.X(t,e);var n=Dc;if(n&&t){var r=ku(n).hoistableScripts,i=kc(t),o=r.get(i);o||(o=n.querySelector(jh(i)),o||(t=_t({src:t,async:!0},e),(e=Zr.get(i))&&Ax(t,e),o=n.createElement("script"),hn(o),In(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function s8(t,e){Yo.M(t,e);var n=Dc;if(n&&t){var r=ku(n).hoistableScripts,i=kc(t),o=r.get(i);o||(o=n.querySelector(jh(i)),o||(t=_t({src:t,async:!0,type:"module"},e),(e=Zr.get(i))&&Ax(t,e),o=n.createElement("script"),hn(o),In(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function fR(t,e,n,r){var i=(i=Ba.current)?qg(i):null;if(!i)throw Error(q(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=oc(n.href),n=ku(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=oc(n.href);var o=ku(i).hoistableStyles,a=o.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,a),(o=i.querySelector(zh(t)))&&!o._p&&(a.instance=o,a.state.loading=5),Zr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Zr.set(t,n),o||l8(i,t,n,a.state))),e&&r===null)throw Error(q(528,""));return a}if(e&&r!==null)throw Error(q(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=kc(n),n=ku(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(q(444,t))}}function oc(t){return'href="'+jr(t)+'"'}function zh(t){return'link[rel="stylesheet"]['+t+"]"}function jB(t){return _t({},t,{"data-precedence":t.precedence,precedence:null})}function l8(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),In(e,"link",n),hn(e),t.head.appendChild(e))}function kc(t){return'[src="'+jr(t)+'"]'}function jh(t){return"script[async]"+t}function hR(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+jr(n.href)+'"]');if(r)return e.instance=r,hn(r),r;var i=_t({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),hn(r),In(r,"style",i),Jm(r,n.precedence,t),e.instance=r;case"stylesheet":i=oc(n.href);var o=t.querySelector(zh(i));if(o)return e.state.loading|=4,e.instance=o,hn(o),o;r=jB(n),(i=Zr.get(i))&&Tx(r,i),o=(t.ownerDocument||t).createElement("link"),hn(o);var a=o;return a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),In(o,"link",r),e.state.loading|=4,Jm(o,n.precedence,t),e.instance=o;case"script":return o=kc(n.src),(i=t.querySelector(jh(o)))?(e.instance=i,hn(i),i):(r=n,(i=Zr.get(o))&&(r=_t({},n),Ax(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),hn(i),In(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(q(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Jm(r,n.precedence,t));return e.instance}function Jm(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===e)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Tx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ax(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Qm=null;function pR(t,e,n){if(Qm===null){var r=new Map,i=Qm=new Map;i.set(n,r)}else i=Qm,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var o=n[i];if(!(o[kh]||o[Sn]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var a=o.getAttribute(e)||"";a=t+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function mR(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function u8(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function $B(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function c8(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=oc(r.href),o=e.querySelector(zh(i));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Hg.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=o,hn(o);return}o=e.ownerDocument||e,r=jB(r),(i=Zr.get(i))&&Tx(r,i),o=o.createElement("link"),hn(o);var a=o;a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),In(o,"link",r),n.instance=o}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Hg.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Bb=0;function d8(t,e){return t.stylesheets&&t.count===0&&Xm(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Xm(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4+e);0<t.imgBytes&&Bb===0&&(Bb=62500*qK());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xm(t,t.stylesheets),t.unsuspend)){var o=t.unsuspend;t.unsuspend=null,o()}},(t.imgBytes>Bb?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Hg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kg=null;function Xm(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kg=new Map,e.forEach(f8,t),Kg=null,Hg.call(t))}function f8(t,e){if(!(e.state.loading&4)){var n=Kg.get(t);if(n)var r=n.get(null);else{n=new Map,Kg.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),o=n.get(a)||r,o===r&&n.set(null,i),n.set(a,i),this.count++,r=Hg.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Gf={$$typeof:po,Provider:null,Consumer:null,_currentValue:Zs,_currentValue2:Zs,_threadCount:0};function h8(t,e,n,r,i,o,a,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lb(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lb(0),this.hiddenUpdates=lb(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function GB(t,e,n,r,i,o,a,s,l,u,c,d){return t=new h8(t,e,n,a,l,u,c,d,s),e=1,o===!0&&(e|=24),o=vr(3,null,null,e),t.current=o,o.stateNode=t,e=YS(),e.refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:e},XS(o),t}function qB(t){return t?(t=Su,t):Su}function HB(t,e,n,r,i,o){i=qB(i),r.context===null?r.context=i:r.pendingContext=i,r=za(e),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=ja(t,r,e),n!==null&&(ur(n,t,e),pf(n,t,e))}function gR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sx(t,e){gR(t,e),(t=t.alternate)&&gR(t,e)}function KB(t){if(t.tag===13||t.tag===31){var e=Ul(t,67108864);e!==null&&ur(e,t,67108864),Sx(t,67108864)}}function vR(t){if(t.tag===13||t.tag===31){var e=xr();e=kS(e);var n=Ul(t,e);n!==null&&ur(n,t,e),Sx(t,e)}}var Wg=!0;function p8(t,e,n,r){var i=fe.T;fe.T=null;var o=Ge.p;try{Ge.p=2,xx(t,e,n,r)}finally{Ge.p=o,fe.T=i}}function m8(t,e,n,r){var i=fe.T;fe.T=null;var o=Ge.p;try{Ge.p=8,xx(t,e,n,r)}finally{Ge.p=o,fe.T=i}}function xx(t,e,n,r){if(Wg){var i=RT(r);if(i===null)Vb(t,e,r,Yg,n),yR(t,r);else if(v8(i,t,e,n,r))r.stopPropagation();else if(yR(t,r),e&4&&-1<g8.indexOf(t)){for(;i!==null;){var o=Rc(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var a=Ls(o.pendingLanes);if(a!==0){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-Sr(a);s.entanglements[1]|=l,a&=~l}Qi(o),!(je&6)&&(Ug=Tr()+500,Fh(0))}}break;case 31:case 13:s=Ul(o,2),s!==null&&ur(s,o,2),By(),Sx(o,2)}if(o=RT(r),o===null&&Vb(t,e,r,Yg,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vb(t,e,r,null,n)}}function RT(t){return t=BS(t),wx(t)}var Yg=null;function wx(t){if(Yg=null,t=yu(t),t!==null){var e=Nh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=hV(e),t!==null)return t;t=null}else if(n===31){if(t=pV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Yg=t,null}function WB(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(t9()){case yV:return 2;case _V:return 8;case Sg:case n9:return 32;case bV:return 268435456;default:return 32}default:return 32}}var NT=!1,qa=null,Ha=null,Ka=null,qf=new Map,Hf=new Map,Sa=[],g8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yR(t,e){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":qf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hf.delete(e.pointerId)}}function Nd(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Rc(e),e!==null&&KB(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function v8(t,e,n,r,i){switch(e){case"focusin":return qa=Nd(qa,t,e,n,r,i),!0;case"dragenter":return Ha=Nd(Ha,t,e,n,r,i),!0;case"mouseover":return Ka=Nd(Ka,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return qf.set(o,Nd(qf.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Hf.set(o,Nd(Hf.get(o)||null,t,e,n,r,i)),!0}return!1}function YB(t){var e=yu(t.target);if(e!==null){var n=Nh(e);if(n!==null){if(e=n.tag,e===13){if(e=hV(n),e!==null){t.blockedOn=e,n1(t.priority,function(){vR(n)});return}}else if(e===31){if(e=pV(n),e!==null){t.blockedOn=e,n1(t.priority,function(){vR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=RT(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);YE=r,n.target.dispatchEvent(r),YE=null}else return e=Rc(n),e!==null&&KB(e),t.blockedOn=n,!1;e.shift()}return!0}function _R(t,e,n){Zm(t)&&n.delete(e)}function y8(){NT=!1,qa!==null&&Zm(qa)&&(qa=null),Ha!==null&&Zm(Ha)&&(Ha=null),Ka!==null&&Zm(Ka)&&(Ka=null),qf.forEach(_R),Hf.forEach(_R)}function im(t,e){t.blockedOn===e&&(t.blockedOn=null,NT||(NT=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,y8)))}var om=null;function bR(t){om!==t&&(om=t,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,function(){om===t&&(om=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(wx(r||n)===null)continue;break}var o=Rc(n);o!==null&&(t.splice(e,3),e-=3,dT(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function ac(t){function e(l){return im(l,t)}qa!==null&&im(qa,t),Ha!==null&&im(Ha,t),Ka!==null&&im(Ka,t),qf.forEach(e),Hf.forEach(e);for(var n=0;n<Sa.length;n++){var r=Sa[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Sa.length&&(n=Sa[0],n.blockedOn===null);)YB(n),n.blockedOn===null&&Sa.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[cr]||null;if(typeof o=="function")a||bR(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[cr]||null)s=a.formAction;else if(wx(i)!==null)continue}else s=a.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),bR(n)}}}function JB(){function t(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function Ix(t){this._internalRoot=t}jy.prototype.render=Ix.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));var n=e.current,r=xr();HB(n,r,t,e,null,null)};jy.prototype.unmount=Ix.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;HB(t.current,2,null,t,null,null),By(),e[Pc]=null}};function jy(t){this._internalRoot=t}jy.prototype.unstable_scheduleHydration=function(t){if(t){var e=xV();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sa.length&&e!==0&&e<Sa[n].priority;n++);Sa.splice(n,0,t),n===0&&YB(t)}};var ER=dV.version;if(ER!=="19.2.4")throw Error(q(527,ER,"19.2.4"));Ge.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=WH(e),t=t!==null?mV(t):null,t=t===null?null:t.stateNode,t};var _8={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:fe,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var am=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!am.isDisabled&&am.supportsFiber)try{Mh=am.inject(_8),Ar=am}catch{}}Sy.createRoot=function(t,e){if(!fV(t))throw Error(q(299));var n=!1,r="",i=zU,o=jU,a=$U;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=GB(t,1,!1,null,null,n,r,null,i,o,a,JB),t[Pc]=e.current,Ex(t),new Ix(e)};Sy.hydrateRoot=function(t,e,n){if(!fV(t))throw Error(q(299));var r=!1,i="",o=zU,a=jU,s=$U,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=GB(t,1,!0,e,n??null,r,i,l,o,a,s,JB),e.context=qB(null),n=e.current,r=xr(),r=kS(r),i=za(r),i.callback=null,ja(n,i,r),n=r,e.current.lanes=n,Dh(e,n),Qi(e),t[Pc]=e.current,Ex(t),new jy(e)};Sy.version="19.2.4";function QB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QB)}catch(t){console.error(t)}}QB(),oV.exports=Sy;var b8=oV.exports;const E8=oi(b8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=t=>{const e=A8(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>b.createElement("svg",{ref:l,...S8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:XB("lucide",i),...!o&&!x8(s)&&{"aria-hidden":"true"},...s},[...a.map(([u,c])=>b.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const n=b.forwardRef(({className:r,...i},o)=>b.createElement(w8,{ref:o,iconNode:e,className:XB(`lucide-${T8(TR(t))}`,`lucide-${t}`,r),...i}));return n.displayName=TR(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ZB=xe("activity",I8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],P8=xe("arrow-down-right",C8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],N8=xe("arrow-right-left",R8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],O8=xe("arrow-right",M8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],e4=xe("arrow-up-right",D8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],t4=xe("badge-percent",k8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],V8=xe("brain-circuit",L8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],B8=xe("building-2",U8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],z8=xe("calendar",F8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],$8=xe("chart-no-axes-column",j8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],q8=xe("chart-pie",G8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],K8=xe("chevron-right",H8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Y8=xe("circle-alert",W8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Q8=xe("circle-check",J8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Z8=xe("clock",X8);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],t7=xe("cloud-upload",e7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Cx=xe("database",n7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],i7=xe("dollar-sign",r7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],a7=xe("funnel",o7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],l7=xe("layout-dashboard",s7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],c7=xe("list-checks",u7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Kf=xe("loader-circle",d7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],n4=xe("map",f7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],MT=xe("menu",h7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M5 12h14",key:"1ays0h"}]],m7=xe("minus",p7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],v7=xe("scale",g7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],r4=xe("search",y7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Jg=xe("sparkles",_7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],E7=xe("table-properties",b7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],A7=xe("trash-2",T7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],x7=xe("trending-down",S7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],i4=xe("trending-up",w7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],o4=xe("triangle-alert",I7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],P7=xe("trophy",C7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],a4=xe("users",R7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],M7=xe("wallet",N7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],D7=xe("wifi-off",O7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],L7=xe("wifi",k7),V7=({activeTab:t,setActiveTab:e,isMobileOpen:n,setIsMobileOpen:r,dbStatus:i=!1})=>{const o=[{id:"dashboard",label:"Viso Geral",icon:l7},{id:"admin_analysis",label:"Anlise por Adm.",icon:B8},{id:"operational",label:"Performance Oper.",icon:ZB},{id:"competitive",label:"Posicionamento Competitivo",icon:q8},{id:"trends",label:"Tendncias de Mercado",icon:i4},{id:"regional",label:"Anlise Regional",icon:n4},{id:"import",label:"Importar Dados",icon:Cx}];return x.jsxs(x.Fragment,{children:[n&&x.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-20 lg:hidden",onClick:()=>r(!1)}),x.jsxs("aside",{className:`fixed top-0 left-0 z-30 h-full w-64 bg-slate-900 text-white transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:block ${n?"translate-x-0":"-translate-x-full"}`,children:[x.jsxs("div",{className:"flex h-16 items-center justify-between px-6 bg-slate-950 border-b border-slate-800/50",children:[x.jsxs("span",{className:"text-xl font-bold tracking-tight text-blue-400",children:["Consrcio",x.jsx("span",{className:"text-white",children:"Intel"})]}),x.jsx("button",{onClick:()=>r(!1),className:"lg:hidden text-slate-400",children:x.jsx(MT,{size:20})})]}),x.jsx("nav",{className:"p-4 space-y-2 mt-4",children:o.map(a=>{const s=a.icon;return x.jsxs("button",{onClick:()=>{e(a.id),r(!1)},className:`flex w-full items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-all ${t===a.id?"bg-blue-600 text-white shadow-xl shadow-blue-900/50 scale-105":"text-slate-400 hover:bg-slate-800/50 hover:text-white"}`,children:[x.jsx(s,{size:18}),a.label]},a.id)})}),x.jsx("div",{className:"absolute bottom-0 w-full p-6 border-t border-slate-800 bg-slate-950/50",children:x.jsxs("div",{className:"rounded-xl bg-slate-800/50 p-4 border border-slate-700/50 space-y-3",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"text-[10px] font-bold uppercase text-slate-500 mb-2 tracking-widest",children:"Status da API"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500"}),x.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Chave Offline"})]})]}),x.jsxs("div",{className:"pt-3 border-t border-slate-700/50",children:[x.jsx("h4",{className:"text-[10px] font-bold uppercase text-slate-500 mb-2 tracking-widest",children:"Banco de Dados"}),x.jsxs("div",{className:"flex items-center gap-2",children:[i?x.jsx(L7,{size:14,className:"text-green-500"}):x.jsx(D7,{size:14,className:"text-red-500"}),x.jsx("span",{className:`text-xs font-medium ${i?"text-green-400":"text-red-400"}`,children:i?"Firestore Online":"Desconectado"})]})]})]})})]})]})},sm=({title:t,value:e,trend:n,trendLabel:r="vs. trimestre anterior",color:i="blue"})=>{const o=n>0,a=n===0,s={blue:"border-l-blue-500",indigo:"border-l-indigo-500",slate:"border-l-slate-500",emerald:"border-l-emerald-500"};return x.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-slate-100 p-6 border-l-4 ${s[i]}`,children:[x.jsx("h3",{className:"text-sm font-medium text-slate-500 mb-1",children:t}),x.jsx("div",{className:"flex items-baseline gap-2",children:x.jsx("span",{className:"text-2xl font-bold text-slate-900",children:e})}),x.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs",children:[x.jsxs("span",{className:`flex items-center gap-1 font-medium rounded-full px-2 py-0.5 ${o?"bg-green-100 text-green-700":a?"bg-slate-100 text-slate-600":"bg-red-100 text-red-700"}`,children:[o?x.jsx(e4,{size:14}):a?x.jsx(m7,{size:14}):x.jsx(P8,{size:14}),Math.abs(n),"%"]}),x.jsx("span",{className:"text-slate-400",children:r})]})]})};function s4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=s4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function be(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=s4(t))&&(r&&(r+=" "),r+=e);return r}var U7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Px(t){if(typeof t!="string")return!1;var e=U7;return e.includes(t)}var B7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],F7=new Set(B7);function l4(t){return typeof t!="string"?!1:F7.has(t)}function u4(t){return typeof t=="string"&&t.startsWith("data-")}function rt(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(l4(n)||u4(n))&&(e[n]=t[n]);return e}function Gi(t){if(t==null)return null;if(b.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return rt(e)}return typeof t=="object"&&!Array.isArray(t)?rt(t):null}function Bt(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(l4(n)||u4(n)||Px(n))&&(e[n]=t[n]);return e}function z7(t){return t==null?null:b.isValidElement(t)?Bt(t.props):typeof t=="object"&&!Array.isArray(t)?Bt(t):null}var j7=["children","width","height","viewBox","className","style","title","desc"];function OT(){return OT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OT.apply(null,arguments)}function $7(t,e){if(t==null)return{};var n,r,i=G7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function G7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rx=b.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:s,title:l,desc:u}=t,c=$7(t,j7),d=o||{width:r,height:i,x:0,y:0},f=be("recharts-surface",a);return b.createElement("svg",OT({},Bt(c),{className:f,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),b.createElement("title",null,l),b.createElement("desc",null,u),n)}),q7=["children","className"];function DT(){return DT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DT.apply(null,arguments)}function H7(t,e){if(t==null)return{};var n,r,i=K7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Oe=b.forwardRef((t,e)=>{var{children:n,className:r}=t,i=H7(t,q7),o=be("recharts-layer",r);return b.createElement("g",DT({className:o},Bt(i),{ref:e}),n)}),c4=b.createContext(null),W7=()=>b.useContext(c4);function ct(t){return function(){return t}}const d4=Math.cos,Qg=Math.sin,Ii=Math.sqrt,Xg=Math.PI,$y=2*Xg,kT=Math.PI,LT=2*kT,Bs=1e-6,Y7=LT-Bs;function f4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function J7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return f4;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Q7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?f4:J7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Bs)if(!(Math.abs(d*l-u*c)>Bs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,v=i-s,E=l*l+u*u,y=p*p+v*v,_=Math.sqrt(E),T=Math.sqrt(f),S=o*Math.tan((kT-Math.acos((E+f-y)/(2*_*T)))/2),w=S/T,M=S/_;Math.abs(w-1)>Bs&&this._append`L${e+w*c},${n+w*d}`,this._append`A${o},${o},0,0,${+(d*p>c*v)},${this._x1=e+M*l},${this._y1=n+M*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Bs||Math.abs(this._y1-c)>Bs)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%LT+LT),f>Y7?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>Bs&&this._append`A${r},${r},0,${+(f>=kT)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Nx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Q7(e)}function Mx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function h4(t){this._context=t}h4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gy(t){return new h4(t)}function p4(t){return t[0]}function m4(t){return t[1]}function g4(t,e){var n=ct(!0),r=null,i=Gy,o=null,a=Nx(s);t=typeof t=="function"?t:t===void 0?p4:ct(t),e=typeof e=="function"?e:e===void 0?m4:ct(e);function s(l){var u,c=(l=Mx(l)).length,d,f=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(d,u,l),+e(d,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ct(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ct(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ct(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function lm(t,e,n){var r=null,i=ct(!0),o=null,a=Gy,s=null,l=Nx(u);t=typeof t=="function"?t:t===void 0?p4:ct(+t),e=typeof e=="function"?e:ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?m4:ct(+n);function u(d){var f,p,v,E=(d=Mx(d)).length,y,_=!1,T,S=new Array(E),w=new Array(E);for(o==null&&(s=a(T=l())),f=0;f<=E;++f){if(!(f<E&&i(y=d[f],f,d))===_)if(_=!_)p=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=f-1;v>=p;--v)s.point(S[v],w[v]);s.lineEnd(),s.areaEnd()}_&&(S[f]=+t(y,f,d),w[f]=+e(y,f,d),s.point(r?+r(y,f,d):S[f],n?+n(y,f,d):w[f]))}if(T)return s=null,T+""||null}function c(){return g4().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:ct(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ct(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ct(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:ct(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ct(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ct(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ct(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class v4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function X7(t){return new v4(t,!0)}function Z7(t){return new v4(t,!1)}const Ox={draw(t,e){const n=Ii(e/Xg);t.moveTo(n,0),t.arc(0,0,n,0,$y)}},eW={draw(t,e){const n=Ii(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},y4=Ii(1/3),tW=y4*2,nW={draw(t,e){const n=Ii(e/tW),r=n*y4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},rW={draw(t,e){const n=Ii(e),r=-n/2;t.rect(r,r,n,n)}},iW=.8908130915292852,_4=Qg(Xg/10)/Qg(7*Xg/10),oW=Qg($y/10)*_4,aW=-d4($y/10)*_4,sW={draw(t,e){const n=Ii(e*iW),r=oW*n,i=aW*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=$y*o/5,s=d4(a),l=Qg(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Fb=Ii(3),lW={draw(t,e){const n=-Ii(e/(Fb*3));t.moveTo(0,n*2),t.lineTo(-Fb*n,-n),t.lineTo(Fb*n,-n),t.closePath()}},Or=-.5,Dr=Ii(3)/2,VT=1/Ii(12),uW=(VT/2+1)*3,cW={draw(t,e){const n=Ii(e/uW),r=n/2,i=n*VT,o=r,a=n*VT+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Or*r-Dr*i,Dr*r+Or*i),t.lineTo(Or*o-Dr*a,Dr*o+Or*a),t.lineTo(Or*s-Dr*l,Dr*s+Or*l),t.lineTo(Or*r+Dr*i,Or*i-Dr*r),t.lineTo(Or*o+Dr*a,Or*a-Dr*o),t.lineTo(Or*s+Dr*l,Or*l-Dr*s),t.closePath()}};function dW(t,e){let n=null,r=Nx(i);t=typeof t=="function"?t:ct(t||Ox),e=typeof e=="function"?e:ct(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ct(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ct(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Zg(){}function ev(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function b4(t){this._context=t}b4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ev(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ev(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fW(t){return new b4(t)}function E4(t){this._context=t}E4.prototype={areaStart:Zg,areaEnd:Zg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ev(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hW(t){return new E4(t)}function T4(t){this._context=t}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ev(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pW(t){return new T4(t)}function A4(t){this._context=t}A4.prototype={areaStart:Zg,areaEnd:Zg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function mW(t){return new A4(t)}function AR(t){return t<0?-1:1}function SR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(AR(o)+AR(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function xR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function zb(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function tv(t){this._context=t}tv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zb(this,this._t0,xR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zb(this,xR(this,n=SR(this,t,e)),n);break;default:zb(this,this._t0,n=SR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function S4(t){this._context=new x4(t)}(S4.prototype=Object.create(tv.prototype)).point=function(t,e){tv.prototype.point.call(this,e,t)};function x4(t){this._context=t}x4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function gW(t){return new tv(t)}function vW(t){return new S4(t)}function w4(t){this._context=t}w4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=wR(t),i=wR(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wR(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function yW(t){return new w4(t)}function qy(t,e){this._context=t,this._t=e}qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _W(t){return new qy(t,.5)}function bW(t){return new qy(t,0)}function EW(t){return new qy(t,1)}function gl(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function UT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function TW(t,e){return t[e]}function AW(t){const e=[];return e.key=t,e}function SW(){var t=ct([]),e=UT,n=gl,r=TW;function i(o){var a=Array.from(t.apply(this,arguments),AW),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=Mx(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ct(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ct(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?UT:typeof o=="function"?o:ct(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??gl,i):n},i}function xW(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}gl(t,e)}}function wW(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}gl(t,e)}}function IW(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,f=c[r-1][1]||0,p=(d-f)/2,v=0;v<s;++v){var E=t[e[v]],y=E[r][1]||0,_=E[r-1][1]||0;p+=y-_}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,gl(t,e)}}var Hy={},I4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(I4);var Dx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Dx);var Ky={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Ky);var Wy={},C4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(C4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C4,n=Ky;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],a=i.length;if(a===0)return o;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(o.push(""),s++);s<a;){const d=i[s];u?d==="\\"&&s+1<a?(s++,l+=i[s]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,o.push(l),l=""):l+=d:d==="["?(c=!0,l&&(o.push(l),l="")):d==="."?l&&(o.push(l),l=""):l+=d,s++}return l&&o.push(l),o}t.toPath=r})(Wy);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I4,n=Dx,r=Ky,i=Wy;function o(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?n.isDeepKey(l)?o(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return a(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function a(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||e.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}t.get=o})(Hy);var CW=Hy.get;const vl=oi(CW);var PW=4;function La(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PW,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function xt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,o,a)=>{var s=n[a-1];return typeof s=="string"?i+s+o:s!==void 0?i+La(s)+o:i+o},"")}var pn=t=>t===0?0:t>0?1:-1,Ai=t=>typeof t=="number"&&t!=+t,yl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ie=t=>(typeof t=="number"||t instanceof Number)&&!Ai(t),qi=t=>ie(t)||typeof t=="string",RW=0,Wf=t=>{var e=++RW;return"".concat(t||"").concat(e)},Un=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&typeof e!="string")return r;var o;if(yl(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Ai(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},P4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Se(t,e,n){return ie(t)&&ie(e)?La(t+n*(e-t)):e}function R4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):vl(r,e))===n)}var NW=t=>{for(var e=t.length,n=0,r=0,i=0,o=0,a=1/0,s=-1/0,l=0,u=0,c=0;c<e;c++){var d,f;l=((d=t[c])===null||d===void 0?void 0:d.cx)||0,u=((f=t[c])===null||f===void 0?void 0:f.cy)||0,n+=l,r+=u,i+=l*u,o+=l*l,a=Math.min(a,l),s=Math.max(s,l)}var p=e*o!==n*n?(e*i-n*r)/(e*o-n*n):0;return{xmin:a,xmax:s,a:p,b:(r-p*n)/e}},ze=t=>t===null||typeof t>"u",$h=t=>ze(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function rr(t){return t!=null}function Ci(){}var MW=["type","size","sizeType"];function BT(){return BT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BT.apply(null,arguments)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){OW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OW(t,e,n){return(e=DW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DW(t){var e=kW(t,"string");return typeof e=="symbol"?e:e+""}function kW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LW(t,e){if(t==null)return{};var n,r,i=VW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var N4={symbolCircle:Ox,symbolCross:eW,symbolDiamond:nW,symbolSquare:rW,symbolStar:sW,symbolTriangle:lW,symbolWye:cW},UW=Math.PI/180,BW=t=>{var e="symbol".concat($h(t));return N4[e]||Ox},FW=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*UW;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},zW=(t,e)=>{N4["symbol".concat($h(t))]=e},Yy=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=LW(t,MW),o=CR(CR({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var s=()=>{var f=BW(a),p=dW().type(f).size(FW(n,r,a)),v=p();if(v!==null)return v},{className:l,cx:u,cy:c}=o,d=Bt(o);return ie(u)&&ie(c)&&ie(n)?b.createElement("path",BT({},d,{className:be("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};Yy.registerSymbol=zW;var M4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,kx=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Px(i)&&(r[i]=o=>n[i](n,o))}),r},jW=(t,e,n)=>r=>(t(e,n,r),null),vs=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];Px(i)&&typeof o=="function"&&(r||(r={}),r[i]=jW(o,e,n))}),r},$W=t=>Array.isArray(t)&&t.length>0;function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){qW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qW(t,e,n){return(e=HW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HW(t){var e=KW(t,"string");return typeof e=="symbol"?e:e+""}function KW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ke(t,e){var n=GW({},t),r=e,i=Object.keys(e),o=i.reduce((a,s)=>(a[s]===void 0&&r[s]!==void 0&&(a[s]=r[s]),a),n);return o}function nv(){return nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nv.apply(null,arguments)}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){YW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YW(t,e,n){return(e=JW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JW(t){var e=QW(t,"string");return typeof e=="symbol"?e:e+""}function QW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lr=32,XW={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function ZW(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Lr/2,o=Lr/6,a=Lr/3,s=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline"){var u;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Lr,y2:i,className:"recharts-legend-icon"})}if(l==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Lr,"M").concat(2*a,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return b.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Lr/8,"h").concat(Lr,"v").concat(Lr*3/4,"h").concat(-Lr,"z"),className:"recharts-legend-icon"});if(b.isValidElement(e.legendIcon)){var c=WW({},e);return delete c.legendIcon,b.cloneElement(e.legendIcon,c)}return b.createElement(Yy,{fill:s,cx:i,cy:i,size:Lr,sizeType:"diameter",type:l})}function eY(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:a}=t,s={x:0,y:0,width:Lr,height:Lr},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((c,d)=>{var f=c.formatter||i,p=be({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var v=c.inactive?o:c.color,E=f?f(c.value,c,d):c.value;return b.createElement("li",nv({className:p,style:l,key:"legend-item-".concat(d)},vs(t,c,d)),b.createElement(Rx,{width:n,height:n,viewBox:s,style:u,"aria-label":"".concat(E," legend icon")},b.createElement(ZW,{data:c,iconType:a,inactiveColor:o})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},E))})}var tY=t=>{var e=Ke(t,XW),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:o},b.createElement(eY,nv({},e,{payload:n})))},O4={},D4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],s=r(a,o,n);i.has(s)||i.set(s,a)}return Array.from(i.values())}t.uniqBy=e})(D4);var k4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(k4);var Gh={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Gh);var L4={},Jy={},V4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(V4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V4;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Jy);var U4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(U4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jy,n=U4;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(L4);var Qy={},B4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hy;function n(r){return function(i){return e.get(i,r)}}t.property=n})(B4);var F4={},Lx={},z4={},Vx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Vx);var Ux={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Ux);var Bx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(Bx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vx,n=Ux,r=Bx;function i(c,d,f){return typeof f!="function"?i(c,d,()=>{}):o(c,d,function p(v,E,y,_,T,S){const w=f(v,E,y,_,T,S);return w!==void 0?!!w:o(v,E,p,S)},new Map)}function o(c,d,f,p){if(d===c)return!0;switch(typeof d){case"object":return a(c,d,f,p);case"function":return Object.keys(d).length>0?o(c,{...d},f,p):r.isEqualsSameValueZero(c,d);default:return e.isObject(c)?typeof d=="string"?d==="":!0:r.isEqualsSameValueZero(c,d)}}function a(c,d,f,p){if(d==null)return!0;if(Array.isArray(d))return l(c,d,f,p);if(d instanceof Map)return s(c,d,f,p);if(d instanceof Set)return u(c,d,f,p);const v=Object.keys(d);if(c==null||n.isPrimitive(c))return v.length===0;if(v.length===0)return!0;if(p!=null&&p.has(d))return p.get(d)===c;p==null||p.set(d,c);try{for(let E=0;E<v.length;E++){const y=v[E];if(!n.isPrimitive(c)&&!(y in c)||d[y]===void 0&&c[y]!==void 0||d[y]===null&&c[y]!==null||!f(c[y],d[y],y,c,d,p))return!1}return!0}finally{p==null||p.delete(d)}}function s(c,d,f,p){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[v,E]of d.entries()){const y=c.get(v);if(f(y,E,v,c,d,p)===!1)return!1}return!0}function l(c,d,f,p){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const v=new Set;for(let E=0;E<d.length;E++){const y=d[E];let _=!1;for(let T=0;T<c.length;T++){if(v.has(T))continue;const S=c[T];let w=!1;if(f(S,y,E,c,d,p)&&(w=!0),w){v.add(T),_=!0;break}}if(!_)return!1}return!0}function u(c,d,f,p){return d.size===0?!0:c instanceof Set?l([...c],[...d],f,p):!1}t.isMatchWith=i,t.isSetMatch=u})(z4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z4;function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Lx);var j4={},Fx={},$4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})($4);var Xy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Xy);var zx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",f="[object ArrayBuffer]",p="[object Object]",v="[object Error]",E="[object DataView]",y="[object Uint8Array]",_="[object Uint8ClampedArray]",T="[object Uint16Array]",S="[object Uint32Array]",w="[object BigUint64Array]",M="[object Int8Array]",N="[object Int16Array]",I="[object Int32Array]",P="[object BigInt64Array]",R="[object Float32Array]",O="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=f,t.arrayTag=c,t.bigInt64ArrayTag=P,t.bigUint64ArrayTag=w,t.booleanTag=i,t.dataViewTag=E,t.dateTag=s,t.errorTag=v,t.float32ArrayTag=R,t.float64ArrayTag=O,t.functionTag=d,t.int16ArrayTag=N,t.int32ArrayTag=I,t.int8ArrayTag=M,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=T,t.uint32ArrayTag=S,t.uint8ArrayTag=y,t.uint8ClampedArrayTag=_})(zx);var G4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(G4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$4,n=Xy,r=zx,i=Ux,o=G4;function a(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,f,p=new Map,v=void 0){const E=v==null?void 0:v(c,d,f,p);if(E!==void 0)return E;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const y=new Array(c.length);p.set(c,y);for(let _=0;_<c.length;_++)y[_]=s(c[_],_,f,p,v);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;p.set(c,y);for(const[_,T]of c)y.set(_,s(T,_,f,p,v));return y}if(c instanceof Set){const y=new Set;p.set(c,y);for(const _ of c)y.add(s(_,void 0,f,p,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,y);for(let _=0;_<c.length;_++)y[_]=s(c[_],_,f,p,v);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,y),l(y,c,f,p,v),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return p.set(c,y),l(y,c,f,p,v),y}if(typeof Blob<"u"&&c instanceof Blob){const y=new Blob([c],{type:c.type});return p.set(c,y),l(y,c,f,p,v),y}if(c instanceof Error){const y=new c.constructor;return p.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,l(y,c,f,p,v),y}if(c instanceof Boolean){const y=new Boolean(c.valueOf());return p.set(c,y),l(y,c,f,p,v),y}if(c instanceof Number){const y=new Number(c.valueOf());return p.set(c,y),l(y,c,f,p,v),y}if(c instanceof String){const y=new String(c.valueOf());return p.set(c,y),l(y,c,f,p,v),y}if(typeof c=="object"&&u(c)){const y=Object.create(Object.getPrototypeOf(c));return p.set(c,y),l(y,c,f,p,v),y}return c}function l(c,d,f=c,p,v){const E=[...Object.keys(d),...e.getSymbols(d)];for(let y=0;y<E.length;y++){const _=E[y],T=Object.getOwnPropertyDescriptor(c,_);(T==null||T.writable)&&(c[_]=s(d[_],_,f,p,v))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=s,t.copyProperties=l})(Fx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fx;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(j4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lx,n=j4;function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(F4);var q4={},H4={},K4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fx,n=Xy,r=zx;function i(o,a){return e.cloneDeepWith(o,(s,l,u,c)=>{const d=a==null?void 0:a(s,l,u,c);if(d!==void 0)return d;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const f={};return c.set(o,f),e.copyProperties(f,o,u,c),f}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new o.constructor(o==null?void 0:o.valueOf());return e.copyProperties(f,o),f}case r.argumentsTag:{const f={};return e.copyProperties(f,o),f.length=o.length,f[Symbol.iterator]=o[Symbol.iterator],f}default:return}}})}t.cloneDeepWith=i})(K4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K4;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(H4);var W4={},jx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(jx);var Y4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xy;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Y4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dx,n=jx,r=Y4,i=Wy;function o(a,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&e.isDeepKey(s)&&(a==null?void 0:a[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=a;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}t.has=o})(W4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lx,n=Ky,r=H4,i=Hy,o=W4;function a(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?o.has(u,s):l===void 0?c===void 0:e.isMatch(c,l)}}t.matchesProperty=a})(q4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gh,n=B4,r=F4,i=q4;function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o})(Qy);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D4,n=k4,r=Gh,i=L4,o=Qy;function a(s,l=r.identity){return i.isArrayLikeObject(s)?e.uniqBy(Array.from(s),n.ary(o.iteratee(l),1)):[]}t.uniqBy=a})(O4);var nY=O4.uniqBy;const NR=oi(nY);function J4(t,e,n){return e===!0?NR(t,n):typeof e=="function"?NR(t,e):t}var Q4={exports:{}},X4={},Z4={exports:{}},eF={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=b;function rY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iY=typeof Object.is=="function"?Object.is:rY,oY=sc.useState,aY=sc.useEffect,sY=sc.useLayoutEffect,lY=sc.useDebugValue;function uY(t,e){var n=e(),r=oY({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return sY(function(){i.value=n,i.getSnapshot=e,jb(i)&&o({inst:i})},[t,n,e]),aY(function(){return jb(i)&&o({inst:i}),t(function(){jb(i)&&o({inst:i})})},[t]),lY(n),n}function jb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!iY(t,n)}catch{return!0}}function cY(t,e){return e()}var dY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cY:uY;eF.useSyncExternalStore=sc.useSyncExternalStore!==void 0?sc.useSyncExternalStore:dY;Z4.exports=eF;var fY=Z4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy=b,hY=fY;function pY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mY=typeof Object.is=="function"?Object.is:pY,gY=hY.useSyncExternalStore,vY=Zy.useRef,yY=Zy.useEffect,_Y=Zy.useMemo,bY=Zy.useDebugValue;X4.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=vY(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=_Y(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var v=a.value;if(i(v,p))return d=v}return d=p}if(v=d,mY(c,p))return v;var E=r(p);return i!==void 0&&i(v,E)?(c=p,v):(c=p,d=E)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var s=gY(t,o[0],o[1]);return yY(function(){a.hasValue=!0,a.value=s},[s]),bY(s),s};Q4.exports=X4;var EY=Q4.exports,$x=b.createContext(null),TY=t=>t,Ze=()=>{var t=b.useContext($x);return t?t.store.dispatch:TY},eg=()=>{},AY=()=>eg,SY=(t,e)=>t===e;function Z(t){var e=b.useContext($x),n=b.useMemo(()=>e?r=>{if(r!=null)return t(r)}:eg,[e,t]);return EY.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:AY,e?e.store.getState:eg,e?e.store.getState:eg,n,SY)}function xY(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function wY(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function IY(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var MR=t=>Array.isArray(t)?t:[t];function CY(t){const e=Array.isArray(t[0])?t[0]:t;return IY(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function PY(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var RY=class{constructor(t){this.value=t}deref(){return this.value}},NY=typeof WeakRef<"u"?WeakRef:RY,MY=0,OR=1;function um(){return{s:MY,v:void 0,o:null,p:null}}function tF(t,e={}){let n=um();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var d;let s=n;const{length:l}=arguments;for(let f=0,p=l;f<p;f++){const v=arguments[f];if(typeof v=="function"||typeof v=="object"&&v!==null){let E=s.o;E===null&&(s.o=E=new WeakMap);const y=E.get(v);y===void 0?(s=um(),E.set(v,s)):s=y}else{let E=s.p;E===null&&(s.p=E=new Map);const y=E.get(v);y===void 0?(s=um(),E.set(v,s)):s=y}}const u=s;let c;if(s.s===OR)c=s.v;else if(c=t.apply(null,arguments),o++,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,c)&&(c=f,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new NY(c):c}return u.s=OR,u.v=c,c}return a.clearCache=()=>{n=um(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function OY(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),xY(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:p=tF,argsMemoizeOptions:v=[]}=c,E=MR(f),y=MR(v),_=CY(i),T=d(function(){return o++,u.apply(null,arguments)},...E),S=p(function(){a++;const M=PY(_,arguments);return s=T.apply(null,M),s},...y);return Object.assign(S,{resultFunc:u,memoizedResultFunc:T,dependencies:_,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>s,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var U=OY(tF),DY=Object.assign((t,e=U)=>{wY(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,s,l)=>(a[n[l]]=s,a),{}))},{withTypes:()=>DY}),nF={},rF={},iF={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),s=e(i);if(a===s&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?s-a:a-s}return 0};t.compareValues=n})(iF);var oF={},Gx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Gx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gx,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i})(oF);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iF,n=oF,r=Wy;function i(o,a,s,l){if(o==null)return[];s=l?void 0:s,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,v)=>{let E=p;for(let y=0;y<v.length&&E!=null;++y)E=E[v[y]];return E},c=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:u(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?u(v,p):typeof v=="object"?v[p]:v,d=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:d.map(v=>c(v,p))})).slice().sort((p,v)=>{for(let E=0;E<d.length;E++){const y=e.compareValues(p.criteria[E],v.criteria[E],s[E]);if(y!==0)return y}return 0}).map(p=>p.original)}t.orderBy=i})(rF);var aF={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<o?a(c,l+1):i.push(c)}};return a(n,0),i}t.flatten=e})(aF);var qx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jx,n=Jy,r=Vx,i=Bx;function o(a,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&e.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.isEqualsSameValueZero(l[s],a):!1}t.isIterateeCall=o})(qx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rF,n=aF,r=qx;function i(o,...a){const s=a.length;return s>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:s>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i})(nF);var kY=nF.sortBy;const e0=oi(kY);var sF=t=>t.legend.settings,LY=t=>t.legend.size,VY=t=>t.legend.payload,UY=U([VY,sF],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?e0(r,n):r});function BY(){return Z(UY)}var cm=1;function lF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>cm||Math.abs(a.left-e.left)>cm||Math.abs(a.top-e.top)>cm||Math.abs(a.width-e.width)>cm)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function bn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var FY=typeof Symbol=="function"&&Symbol.observable||"@@observable",DR=FY,$b=()=>Math.random().toString(36).substring(7).split("").join("."),zY={INIT:`@@redux/INIT${$b()}`,REPLACE:`@@redux/REPLACE${$b()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$b()}`},rv=zY;function Hx(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function uF(t,e,n){if(typeof t!="function")throw new Error(bn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bn(1));return n(uF)(t,e)}let r=t,i=e,o=new Map,a=o,s=0,l=!1;function u(){a===o&&(a=new Map,o.forEach((y,_)=>{a.set(_,y)}))}function c(){if(l)throw new Error(bn(3));return i}function d(y){if(typeof y!="function")throw new Error(bn(4));if(l)throw new Error(bn(5));let _=!0;u();const T=s++;return a.set(T,y),function(){if(_){if(l)throw new Error(bn(6));_=!1,u(),a.delete(T),o=null}}}function f(y){if(!Hx(y))throw new Error(bn(7));if(typeof y.type>"u")throw new Error(bn(8));if(typeof y.type!="string")throw new Error(bn(17));if(l)throw new Error(bn(9));try{l=!0,i=r(i,y)}finally{l=!1}return(o=a).forEach(T=>{T()}),y}function p(y){if(typeof y!="function")throw new Error(bn(10));r=y,f({type:rv.REPLACE})}function v(){const y=d;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(bn(11));function T(){const w=_;w.next&&w.next(c())}return T(),{unsubscribe:y(T)}},[DR](){return this}}}return f({type:rv.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:p,[DR]:v}}function jY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:rv.INIT})>"u")throw new Error(bn(12));if(typeof n(void 0,{type:rv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bn(13))})}function cF(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{jY(n)}catch(o){i=o}return function(a={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],p=a[d],v=f(p,s);if(typeof v>"u")throw s&&s.type,new Error(bn(14));u[d]=v,l=l||v!==p}return l=l||r.length!==Object.keys(a).length,l?u:a}}function iv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function $Y(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(bn(15))};const a={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},s=t.map(l=>l(a));return o=iv(...s)(i.dispatch),{...i,dispatch:o}}}function dF(t){return Hx(t)&&"type"in t&&typeof t.type=="string"}var fF=Symbol.for("immer-nothing"),kR=Symbol.for("immer-draftable"),Yn=Symbol.for("immer-state");function mi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var br=Object,lc=br.getPrototypeOf,ov="constructor",t0="prototype",FT="configurable",av="enumerable",tg="writable",Yf="value",Lo=t=>!!t&&!!t[Yn];function Si(t){var e;return t?hF(t)||r0(t)||!!t[kR]||!!((e=t[ov])!=null&&e[kR])||i0(t)||o0(t):!1}var GY=br[t0][ov].toString(),LR=new WeakMap;function hF(t){if(!t||!Kx(t))return!1;const e=lc(t);if(e===null||e===br[t0])return!0;const n=br.hasOwnProperty.call(e,ov)&&e[ov];if(n===Object)return!0;if(!uu(n))return!1;let r=LR.get(n);return r===void 0&&(r=Function.toString.call(n),LR.set(n,r)),r===GY}function n0(t,e,n=!0){qh(t)===0?(n?Reflect.ownKeys(t):br.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function qh(t){const e=t[Yn];return e?e.type_:r0(t)?1:i0(t)?2:o0(t)?3:0}var VR=(t,e,n=qh(t))=>n===2?t.has(e):br[t0].hasOwnProperty.call(t,e),zT=(t,e,n=qh(t))=>n===2?t.get(e):t[e],sv=(t,e,n,r=qh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function qY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var r0=Array.isArray,i0=t=>t instanceof Map,o0=t=>t instanceof Set,Kx=t=>typeof t=="object",uu=t=>typeof t=="function",Gb=t=>typeof t=="boolean";function HY(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var co=t=>t.copy_||t.base_,Wx=t=>t.modified_?t.copy_:t.base_;function jT(t,e){if(i0(t))return new Map(t);if(o0(t))return new Set(t);if(r0(t))return Array[t0].slice.call(t);const n=hF(t);if(e===!0||e==="class_only"&&!n){const r=br.getOwnPropertyDescriptors(t);delete r[Yn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s[tg]===!1&&(s[tg]=!0,s[FT]=!0),(s.get||s.set)&&(r[a]={[FT]:!0,[tg]:!0,[av]:s[av],[Yf]:t[a]})}return br.create(lc(t),r)}else{const r=lc(t);if(r!==null&&n)return{...t};const i=br.create(r);return br.assign(i,t)}}function Yx(t,e=!1){return a0(t)||Lo(t)||!Si(t)||(qh(t)>1&&br.defineProperties(t,{set:dm,add:dm,clear:dm,delete:dm}),br.freeze(t),e&&n0(t,(n,r)=>{Yx(r,!0)},!1)),t}function KY(){mi(2)}var dm={[Yf]:KY};function a0(t){return t===null||!Kx(t)?!0:br.isFrozen(t)}var lv="MapSet",$T="Patches",UR="ArrayMethods",pF={};function _l(t){const e=pF[t];return e||mi(0,t),e}var BR=t=>!!pF[t],Jf,mF=()=>Jf,WY=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:BR(lv)?_l(lv):void 0,arrayMethodsPlugin_:BR(UR)?_l(UR):void 0});function FR(t,e){e&&(t.patchPlugin_=_l($T),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function GT(t){qT(t),t.drafts_.forEach(YY),t.drafts_=null}function qT(t){t===Jf&&(Jf=t.parent_)}var zR=t=>Jf=WY(Jf,t);function YY(t){const e=t[Yn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function jR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Yn].modified_&&(GT(e),mi(4)),Si(t)&&(t=$R(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Yn].base_,t,e)}else t=$R(e,n);return JY(e,t,!0),GT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==fF?t:void 0}function $R(t,e){if(a0(e))return e;const n=e[Yn];if(!n)return uv(e,t.handledSet_,t);if(!s0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);yF(n,t)}return n.copy_}function JY(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Yx(e,n)}function gF(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var s0=(t,e)=>t.scope_===e,QY=[];function vF(t,e,n,r){const i=co(t),o=t.type_;if(r!==void 0&&zT(i,r,o)===e){sv(i,r,n,o);return}if(!t.draftLocations_){const s=t.draftLocations_=new Map;n0(i,(l,u)=>{if(Lo(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const a=t.draftLocations_.get(e)??QY;for(const s of a)sv(i,s,n,o)}function XY(t,e,n){t.callbacks_.push(function(i){var s;const o=e;if(!o||!s0(o,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(o);const a=Wx(o);vF(t,o.draft_??o,a,n),yF(o,i)})}function yF(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}gF(t)}}function ZY(t,e,n){const{scope_:r}=t;if(Lo(n)){const i=n[Yn];s0(i,r)&&i.callbacks_.push(function(){ng(t);const a=Wx(i);vF(t,n,a,e)})}else Si(n)&&t.callbacks_.push(function(){const o=co(t);t.type_===3?o.has(n)&&uv(n,r.handledSet_,r):zT(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&uv(zT(t.copy_,e,t.type_),r.handledSet_,r)})}function uv(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Lo(t)||e.has(t)||!Si(t)||a0(t)||(e.add(t),n0(t,(r,i)=>{if(Lo(i)){const o=i[Yn];if(s0(o,n)){const a=Wx(o);sv(t,r,a,t.type_),gF(o)}}else Si(i)&&uv(i,e,n)})),t}function eJ(t,e){const n=r0(t),r={type_:n?1:0,scope_:e?e.scope_:mF(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=cv;n&&(i=[r],o=Qf);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,[s,r]}var cv={get(t,e){if(e===Yn)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=co(t);if(!VR(i,e,t.type_))return tJ(t,i,e);const o=i[e];if(t.finalized_||!Si(o)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&HY(e))return o;if(o===qb(t.base_,e)){ng(t);const a=t.type_===1?+e:e,s=KT(t.scope_,o,t,a);return t.copy_[a]=s}return o},has(t,e){return e in co(t)},ownKeys(t){return Reflect.ownKeys(co(t))},set(t,e,n){const r=_F(co(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=qb(co(t),e),o=i==null?void 0:i[Yn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(qY(n,i)&&(n!==void 0||VR(t.base_,e,t.type_)))return!0;ng(t),HT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),ZY(t,e,n)),!0},deleteProperty(t,e){return ng(t),qb(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),HT(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=co(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[tg]:!0,[FT]:t.type_!==1||e!=="length",[av]:r[av],[Yf]:n[e]}},defineProperty(){mi(11)},getPrototypeOf(t){return lc(t.base_)},setPrototypeOf(){mi(12)}},Qf={};for(let t in cv){let e=cv[t];Qf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Qf.deleteProperty=function(t,e){return Qf.set.call(this,t,e,void 0)};Qf.set=function(t,e,n){return cv.set.call(this,t[0],e,n,t[0])};function qb(t,e){const n=t[Yn];return(n?co(n):t)[e]}function tJ(t,e,n){var i;const r=_F(e,n);return r?Yf in r?r[Yf]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function _F(t,e){if(!(e in t))return;let n=lc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=lc(n)}}function HT(t){t.modified_||(t.modified_=!0,t.parent_&&HT(t.parent_))}function ng(t){t.copy_||(t.assigned_=new Map,t.copy_=jT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var nJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(uu(n)&&!uu(r)){const a=r;r=n;const s=this;return function(u=a,...c){return s.produce(u,d=>r.call(this,d,...c))}}uu(r)||mi(6),i!==void 0&&!uu(i)&&mi(7);let o;if(Si(n)){const a=zR(this),s=KT(a,n,void 0);let l=!0;try{o=r(s),l=!1}finally{l?GT(a):qT(a)}return FR(a,i),jR(o,a)}else if(!n||!Kx(n)){if(o=r(n),o===void 0&&(o=n),o===fF&&(o=void 0),this.autoFreeze_&&Yx(o,!0),i){const a=[],s=[];_l($T).generateReplacementPatches_(n,o,{patches_:a,inversePatches_:s}),i(a,s)}return o}else mi(1,n)},this.produceWithPatches=(n,r)=>{if(uu(n))return(s,...l)=>this.produceWithPatches(s,u=>n(u,...l));let i,o;return[this.produce(n,r,(s,l)=>{i=s,o=l}),i,o]},Gb(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Gb(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Gb(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Si(e)||mi(8),Lo(e)&&(e=bi(e));const n=zR(this),r=KT(n,e,void 0);return r[Yn].isManual_=!0,qT(n),r}finishDraft(e,n){const r=e&&e[Yn];(!r||!r.isManual_)&&mi(9);const{scope_:i}=r;return FR(i,n),jR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=_l($T).applyPatches_;return Lo(e)?i(e,n):this.produce(e,o=>i(o,n))}};function KT(t,e,n,r){const[i,o]=i0(e)?_l(lv).proxyMap_(e,n):o0(e)?_l(lv).proxySet_(e,n):eJ(e,n);return((n==null?void 0:n.scope_)??mF()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?XY(n,o,r):o.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(o);const{patchPlugin_:u}=l;o.modified_&&u&&u.generatePatches_(o,[],l)}),i}function bi(t){return Lo(t)||mi(10,t),bF(t)}function bF(t){if(!Si(t)||a0(t))return t;const e=t[Yn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=jT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=jT(t,!0);return n0(n,(i,o)=>{sv(n,i,bF(o))},r),e&&(e.finalized_=!1),n}var rJ=new nJ,EF=rJ.produce;function TF(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var iJ=TF(),oJ=TF,aJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?iv:iv.apply(null,arguments)};function ei(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(wr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>dF(r)&&r.type===t,n}var AF=class ef extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ef.prototype)}static get[Symbol.species](){return ef}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ef(...e[0].concat(this)):new ef(...e.concat(this))}};function GR(t){return Si(t)?EF(t,()=>{}):t}function fm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function sJ(t){return typeof t=="boolean"}var lJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new AF;return n&&(sJ(n)?a.push(iJ):a.push(oJ(n.extraArgument))),a},SF="RTK_autoBatch",Et=()=>t=>({payload:t,meta:{[SF]:!0}}),qR=t=>e=>{setTimeout(e,t)},xF=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const s=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qR(10):t.type==="callback"?t.queueNotification:qR(t.timeout),u=()=>{a=!1,o&&(o=!1,s.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return s.add(c),()=>{f(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[SF]),o=!i,o&&(a||(a=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},uJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new AF(t);return r&&i.push(xF(typeof r=="object"?r:void 0)),i};function cJ(t){const e=lJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let s;if(typeof n=="function")s=n;else if(Hx(n))s=cF(n);else throw new Error(wr(1));let l;typeof r=="function"?l=r(e):l=e();let u=iv;i&&(u=aJ({trace:!1,...typeof i=="object"&&i}));const c=$Y(...l),d=uJ(c);let f=typeof a=="function"?a(d):d();const p=u(...f);return uF(s,o,p)}function wF(t){const e={},n=[];let r;const i={addCase(o,a){const s=typeof o=="string"?o:o.type;if(!s)throw new Error(wr(28));if(s in e)throw new Error(wr(29));return e[s]=a,i},addAsyncThunk(o,a){return a.pending&&(e[o.pending.type]=a.pending),a.rejected&&(e[o.rejected.type]=a.rejected),a.fulfilled&&(e[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function dJ(t){return typeof t=="function"}function fJ(t,e){let[n,r,i]=wF(e),o;if(dJ(t))o=()=>GR(t());else{const s=GR(t);o=()=>s}function a(s=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Lo(c)){const p=d(c,l);return p===void 0?c:p}else{if(Si(c))return EF(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},s)}return a.getInitialState=o,a}var hJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pJ=(t=21)=>{let e="",n=t;for(;n--;)e+=hJ[Math.random()*64|0];return e},mJ=Symbol.for("rtk-slice-createasyncthunk");function gJ(t,e){return`${t}/${e}`}function vJ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[mJ];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(wr(11));const s=(typeof i.reducers=="function"?i.reducers(_J()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,M){const N=typeof w=="string"?w:w.type;if(!N)throw new Error(wr(12));if(N in u.sliceCaseReducersByType)throw new Error(wr(13));return u.sliceCaseReducersByType[N]=M,c},addMatcher(w,M){return u.sliceMatchers.push({matcher:w,reducer:M}),c},exposeAction(w,M){return u.actionCreators[w]=M,c},exposeCaseReducer(w,M){return u.sliceCaseReducersByName[w]=M,c}};l.forEach(w=>{const M=s[w],N={reducerName:w,type:gJ(o,w),createNotation:typeof i.reducers=="function"};EJ(M)?AJ(N,M,c,e):bJ(N,M,c)});function d(){const[w={},M=[],N=void 0]=typeof i.extraReducers=="function"?wF(i.extraReducers):[i.extraReducers],I={...w,...u.sliceCaseReducersByType};return fJ(i.initialState,P=>{for(let R in I)P.addCase(R,I[R]);for(let R of u.sliceMatchers)P.addMatcher(R.matcher,R.reducer);for(let R of M)P.addMatcher(R.matcher,R.reducer);N&&P.addDefaultCase(N)})}const f=w=>w,p=new Map,v=new WeakMap;let E;function y(w,M){return E||(E=d()),E(w,M)}function _(){return E||(E=d()),E.getInitialState()}function T(w,M=!1){function N(P){let R=P[w];return typeof R>"u"&&M&&(R=fm(v,N,_)),R}function I(P=f){const R=fm(p,M,()=>new WeakMap);return fm(R,P,()=>{const O={};for(const[V,D]of Object.entries(i.selectors??{}))O[V]=yJ(D,P,()=>fm(v,P,_),M);return O})}return{reducerPath:w,getSelectors:I,get selectors(){return I(N)},selectSlice:N}}const S={name:o,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...T(a),injectInto(w,{reducerPath:M,...N}={}){const I=M??a;return w.inject({reducerPath:I,reducer:y},N),{...S,...T(I,!0)}}};return S}}function yJ(t,e,n,r){function i(o,...a){let s=e(o);return typeof s>"u"&&r&&(s=n()),t(s,...a)}return i.unwrapped=t,i}var fr=vJ();function _J(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function bJ({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!TJ(r))throw new Error(wr(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?ei(t,a):ei(t))}function EJ(t){return t._reducerDefinitionType==="asyncThunk"}function TJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function AJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(wr(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=n,d=i(t,o,c);r.exposeAction(e,d),a&&r.addCase(d.fulfilled,a),s&&r.addCase(d.pending,s),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:a||hm,pending:s||hm,rejected:l||hm,settled:u||hm})}function hm(){}var SJ="task",IF="listener",CF="completed",Jx="cancelled",xJ=`task-${Jx}`,wJ=`task-${CF}`,WT=`${IF}-${Jx}`,IJ=`${IF}-${CF}`,l0=class{constructor(t){nb(this,"name","TaskAbortError");nb(this,"message");this.code=t,this.message=`${SJ} ${Jx} (reason: ${t})`}},Qx=(t,e)=>{if(typeof t!="function")throw new TypeError(wr(32))},dv=()=>{},PF=(t,e=dv)=>(t.catch(e),t),RF=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),il=t=>{if(t.aborted)throw new l0(t.reason)};function NF(t,e){let n=dv;return new Promise((r,i)=>{const o=()=>i(new l0(t.reason));if(t.aborted){o();return}n=RF(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=dv})}var CJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof l0?"cancelled":"rejected",error:n}}finally{e==null||e()}},fv=t=>e=>PF(NF(t,e).then(n=>(il(t),n))),MF=t=>{const e=fv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ju}=Object,HR={},u0="listenerMiddleware",PJ=(t,e)=>{const n=r=>RF(t,()=>r.abort(t.reason));return(r,i)=>{Qx(r);const o=new AbortController;n(o);const a=CJ(async()=>{il(t),il(o.signal);const s=await r({pause:fv(o.signal),delay:MF(o.signal),signal:o.signal});return il(o.signal),s},()=>o.abort(wJ));return i!=null&&i.autoJoin&&e.push(a.catch(dv)),{result:fv(t)(a),cancel(){o.abort(xJ)}}}},RJ=(t,e)=>{const n=async(r,i)=>{il(e);let o=()=>{};const s=[new Promise((l,u)=>{let c=t({predicate:r,effect:(d,f)=>{f.unsubscribe(),l([d,f.getState(),f.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await NF(e,Promise.race(s));return il(e),l}finally{o()}};return(r,i)=>PF(n(r,i))},OF=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=ei(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(wr(21));return Qx(o),{predicate:i,type:e,effect:o}},DF=ju(t=>{const{type:e,predicate:n,effect:r}=OF(t);return{id:pJ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(wr(22))}}},{withTypes:()=>DF}),KR=(t,e)=>{const{type:n,effect:r,predicate:i}=OF(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},YT=t=>{t.pending.forEach(e=>{e.abort(WT)})},NJ=(t,e)=>()=>{for(const n of e.keys())YT(n);t.clear()},WR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},kF=ju(ei(`${u0}/add`),{withTypes:()=>kF}),MJ=ei(`${u0}/removeAll`),LF=ju(ei(`${u0}/remove`),{withTypes:()=>LF}),OJ=(...t)=>{console.error(`${u0}/error`,...t)},Hh=(t={})=>{const e=new Map,n=new Map,r=p=>{const v=n.get(p)??0;n.set(p,v+1)},i=p=>{const v=n.get(p)??1;v===1?n.delete(p):n.set(p,v-1)},{extra:o,onError:a=OJ}=t;Qx(a);const s=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),v=>{p.unsubscribe(),v!=null&&v.cancelActive&&YT(p)}),l=p=>{const v=KR(e,p)??DF(p);return s(v)};ju(l,{withTypes:()=>l});const u=p=>{const v=KR(e,p);return v&&(v.unsubscribe(),p.cancelActive&&YT(v)),!!v};ju(u,{withTypes:()=>u});const c=async(p,v,E,y)=>{const _=new AbortController,T=RJ(l,_.signal),S=[];try{p.pending.add(_),r(p),await Promise.resolve(p.effect(v,ju({},E,{getOriginalState:y,condition:(w,M)=>T(w,M).then(Boolean),take:T,delay:MF(_.signal),pause:fv(_.signal),extra:o,signal:_.signal,fork:PJ(_.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,M,N)=>{w!==_&&(w.abort(WT),N.delete(w))})},cancel:()=>{_.abort(WT),p.pending.delete(_)},throwIfCancelled:()=>{il(_.signal)}})))}catch(w){w instanceof l0||WR(a,w,{raisedBy:"effect"})}finally{await Promise.all(S),_.abort(IJ),i(p),p.pending.delete(_)}},d=NJ(e,n);return{middleware:p=>v=>E=>{if(!dF(E))return v(E);if(kF.match(E))return l(E.payload);if(MJ.match(E)){d();return}if(LF.match(E))return u(E.payload);let y=p.getState();const _=()=>{if(y===HR)throw new Error(wr(23));return y};let T;try{if(T=v(E),e.size>0){const S=p.getState(),w=Array.from(e.values());for(const M of w){let N=!1;try{N=M.predicate(E,S,y)}catch(I){N=!1,WR(a,I,{raisedBy:"predicate"})}N&&c(M,E,p,_)}}}finally{y=HR}return T},startListening:l,stopListening:u,clearListeners:d}};function wr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var DJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},VF=fr({name:"chartLayout",initialState:DJ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:kJ,setLayout:LJ,setChartSize:VJ,setScale:UJ}=VF.actions,BJ=VF.reducer;function UF(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Te(t){return Number.isFinite(t)}function Hi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){FJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FJ(t,e,n){return(e=zJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zJ(t){var e=jJ(t,"string");return typeof e=="symbol"?e:e+""}function jJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ne(t,e,n){return ze(t)||ze(e)?n:qi(e)?vl(t,e,n):typeof e=="function"?e(t):n}var $J=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:s}=e;if((s==="vertical"||s==="horizontal"&&a==="middle")&&o!=="center"&&ie(t[o]))return Cu(Cu({},t),{},{[o]:t[o]+(r||0)});if((s==="horizontal"||s==="vertical"&&o==="center")&&a!=="middle"&&ie(t[a]))return Cu(Cu({},t),{},{[a]:t[a]+(i||0)})}return t},ai=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",BF=(t,e,n,r)=>{if(r)return t.map(s=>s.coordinate);var i,o,a=t.map(s=>(s.coordinate===e&&(i=!0),s.coordinate===n&&(o=!0),s.coordinate));return i||a.push(e),o||a.push(n),a},FF=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:f,axisType:p}=t;if(!a)return null;var v=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,E=i==="category"&&a.bandwidth?a.bandwidth()/v:0;if(E=p==="angleAxis"&&o&&o.length>=2?pn(o[0]-o[1])*2*E:E,d||f){var y=(d||f||[]).map((_,T)=>{var S=r?r.indexOf(_):_,w=a.map(S);return Te(w)?{coordinate:w+E,value:_,offset:E,index:T}:null}).filter(rr);return y}return l&&u?u.map((_,T)=>{var S=a.map(_);return Te(S)?{coordinate:S+E,value:_,index:T,offset:E}:null}).filter(rr):a.ticks&&c!=null?a.ticks(c).map((_,T)=>{var S=a.map(_);return Te(S)?{coordinate:S+E,value:_,index:T,offset:E}:null}).filter(rr):a.domain().map((_,T)=>{var S=a.map(_);return Te(S)?{coordinate:S+E,value:r?r[_]:_,index:T,offset:E}:null}).filter(rr)},GJ=(t,e)=>{if(!e||e.length!==2||!ie(e[0])||!ie(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ie(t[0])||t[0]<n)&&(i[0]=n),(!ie(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},qJ=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0,s=0;s<n;++s){var l=t[s],u=l==null?void 0:l[i];if(u!=null){var c=u[1],d=u[0],f=Ai(c)?d:c;f>=0?(u[0]=o,o+=f,u[1]=o):(u[0]=a,a+=f,u[1]=a)}}}},HJ=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0;a<n;++a){var s=t[a],l=s==null?void 0:s[i];if(l!=null){var u=Ai(l[1])?l[0]:l[1];u>=0?(l[0]=o,o+=u,l[1]=o):(l[0]=0,l[1]=0)}}}},KJ={sign:qJ,expand:xW,none:gl,silhouette:wW,wiggle:IW,positive:HJ},WJ=(t,e,n)=>{var r,i=(r=KJ[n])!==null&&r!==void 0?r:gl,o=SW().keys(e).value((s,l)=>Number(Ne(s,l,0))).order(UT).offset(i),a=o(t);return a.forEach((s,l)=>{s.forEach((u,c)=>{var d=Ne(t[c],e[l],0);Array.isArray(d)&&d.length===2&&ie(d[0])&&ie(d[1])&&(u[0]=d[0],u[1]=d[1])})}),a};function zF(t){return t==null?void 0:String(t)}function uc(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ze(i[e.dataKey])){var s=R4(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var l=Ne(i,ze(a)?e.dataKey:a),u=e.scale.map(l);return ie(u)?u:null}var JR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var s=Ne(o,e.dataKey,e.scale.domain()[a]);if(ze(s))return null;var l=e.scale.map(s);return ie(l)?l-i/2+r:null},YJ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},JJ=t=>{var e=t.flat(2).filter(ie);return[Math.min(...e),Math.max(...e)]},QJ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],XJ=(t,e,n)=>{if(t!=null)return QJ(Object.keys(t).reduce((r,i)=>{var o=t[i];if(!o)return r;var{stackedData:a}=o,s=a.reduce((l,u)=>{var c=UF(u,e,n),d=JJ(c);return!Te(d[0])||!Te(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},QR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ki=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=e0(e,c=>c.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function ZR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Cu(Cu({},e),{},{dataKey:n,payload:r,value:i,name:o})}function si(t,e){if(t)return String(t);if(typeof e=="string")return e}var ZJ=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},eQ=(t,e)=>e==="centric"?t.angle:t.radius,Jo=t=>t.layout.width,Qo=t=>t.layout.height,tQ=t=>t.layout.scale,jF=t=>t.layout.margin,c0=U(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),d0=U(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),$F="data-recharts-item-index",Xx="data-recharts-item-id",Kh=60;function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){nQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nQ(t,e,n){return(e=rQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rQ(t){var e=iQ(t,"string");return typeof e=="symbol"?e:e+""}function iQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oQ=t=>t.brush.height;function aQ(t){var e=d0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Kh;return n+i}return n},0)}function sQ(t){var e=d0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Kh;return n+i}return n},0)}function lQ(t){var e=c0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function uQ(t){var e=c0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var rn=U([Jo,Qo,jF,oQ,aQ,sQ,lQ,uQ,sF,LY],(t,e,n,r,i,o,a,s,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+o},d={top:(n.top||0)+a,bottom:(n.bottom||0)+s},f=pm(pm({},d),c),p=f.bottom;f.bottom+=r,f=$J(f,l,u);var v=t-f.left-f.right,E=e-f.top-f.bottom;return pm(pm({brushBottom:p},f),{},{width:Math.max(v,0),height:Math.max(E,0)})}),cQ=U(rn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Zx=U(Jo,Qo,(t,e)=>({x:0,y:0,width:t,height:e})),dQ=b.createContext(null),Dt=()=>b.useContext(dQ)!=null,f0=t=>t.brush,h0=U([f0,rn,jF],(t,e,n)=>({height:t.height,x:ie(t.x)?t.x:e.left,y:ie(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ie(t.width)?t.width:e.width})),GF={},qF={},HF={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,s=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{s!==null&&(n.apply(a,s),a=void 0,s=null)},d=()=>{u&&c(),E()};let f=null;const p=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},r)},v=()=>{f!==null&&(clearTimeout(f),f=null)},E=()=>{v(),a=void 0,s=null},y=()=>{c()},_=function(...T){if(i!=null&&i.aborted)return;a=this,s=T;const S=f==null;p(),l&&S&&c()};return _.schedule=p,_.cancel=E,_.flush=y,i==null||i.addEventListener("abort",E,{once:!0}),_}t.debounce=e})(HF);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HF;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:s=!0,maxWait:l}=o,u=Array(2);a&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const f=e.debounce(function(...E){c=r.apply(this,E),d=null},i,{edges:u}),p=function(...E){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=r.apply(this,E),d=Date.now(),f.cancel(),f.schedule(),c):(f.apply(this,E),c)},v=()=>(f.flush(),c);return p.cancel=f.cancel,p.flush=v,p}t.debounce=n})(qF);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qF;function n(r,i=0,o={}){const{leading:a=!0,trailing:s=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:s})}t.throttle=n})(GF);var fQ=GF.throttle;const hQ=oi(fQ);var hv=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},Li={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},KF=(t,e,n)=>{var{width:r=Li.width,height:i=Li.height,aspect:o,maxHeight:a}=n,s=yl(r)?t:Number(r),l=yl(i)?e:Number(i);return o&&o>0&&(s?l=s/o:l&&(s=l*o),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:s,calculatedHeight:l}},pQ={width:0,height:0,overflow:"visible"},mQ={width:0,overflowX:"visible"},gQ={height:0,overflowY:"visible"},vQ={},yQ=t=>{var{width:e,height:n}=t,r=yl(e),i=yl(n);return r&&i?pQ:r?mQ:i?gQ:vQ};function _Q(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i=Li.width,o=Li.height):i===void 0?i=r&&r>0?void 0:Li.width:o===void 0&&(o=r&&r>0?void 0:Li.height),{width:i,height:o}}function JT(){return JT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JT.apply(null,arguments)}function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){bQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bQ(t,e,n){return(e=EQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EQ(t){var e=TQ(t,"string");return typeof e=="symbol"?e:e+""}function TQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WF=b.createContext(Li.initialDimension);function AQ(t){return Hi(t.width)&&Hi(t.height)}function YF(t){var{children:e,width:n,height:r}=t,i=b.useMemo(()=>({width:n,height:r}),[n,r]);return AQ(i)?b.createElement(WF.Provider,{value:i},e):null}var ew=()=>b.useContext(WF),SQ=b.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Li.initialDimension,width:i,height:o,minWidth:a=Li.minWidth,minHeight:s,maxHeight:l,children:u,debounce:c=Li.debounce,id:d,className:f,onResize:p,style:v={}}=t,E=b.useRef(null),y=b.useRef();y.current=p,b.useImperativeHandle(e,()=>E.current);var[_,T]=b.useState({containerWidth:r.width,containerHeight:r.height}),S=b.useCallback((P,R)=>{T(O=>{var V=Math.round(P),D=Math.round(R);return O.containerWidth===V&&O.containerHeight===D?O:{containerWidth:V,containerHeight:D}})},[]);b.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Ci;var P=D=>{var k,Y=D[0];if(Y!=null){var{width:oe,height:G}=Y.contentRect;S(oe,G),(k=y.current)===null||k===void 0||k.call(y,oe,G)}};c>0&&(P=hQ(P,c,{trailing:!0,leading:!1}));var R=new ResizeObserver(P),{width:O,height:V}=E.current.getBoundingClientRect();return S(O,V),R.observe(E.current),()=>{R.disconnect()}},[S,c]);var{containerWidth:w,containerHeight:M}=_;hv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:I}=KF(w,M,{width:i,height:o,aspect:n,maxHeight:l});return hv(N!=null&&N>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,I,i,o,a,s,n),b.createElement("div",{id:d?"".concat(d):void 0,className:be("recharts-responsive-container",f),style:nN(nN({},v),{},{width:i,height:o,minWidth:a,minHeight:s,maxHeight:l}),ref:E},b.createElement("div",{style:yQ({width:i,height:o})},b.createElement(YF,{width:N,height:I},u)))}),Yr=b.forwardRef((t,e)=>{var n=ew();if(Hi(n.width)&&Hi(n.height))return t.children;var{width:r,height:i}=_Q({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:a}=KF(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ie(o)&&ie(a)?b.createElement(YF,{width:o,height:a},t.children):b.createElement(SQ,JT({},t,{width:r,height:i,ref:e}))});function tw(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Wh=()=>{var t,e=Dt(),n=Z(cQ),r=Z(h0),i=(t=Z(f0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},xQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},JF=()=>{var t;return(t=Z(rn))!==null&&t!==void 0?t:xQ},nw=()=>Z(Jo),rw=()=>Z(Qo),wQ=()=>Z(t=>t.layout.margin),Ae=t=>t.layout.layoutType,ys=()=>Z(Ae),iw=()=>{var t=ys();if(t==="horizontal"||t==="vertical")return t},ow=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},QF=()=>Z(ow),IQ=()=>{var t=ys();return t!==void 0},Yh=t=>{var e=Ze(),n=Dt(),{width:r,height:i}=t,o=ew(),a=r,s=i;return o&&(a=o.width>0?o.width:r,s=o.height>0?o.height:i),b.useEffect(()=>{!n&&Hi(a)&&Hi(s)&&e(VJ({width:a,height:s}))},[e,n,a,s]),null},XF=Symbol.for("immer-nothing"),rN=Symbol.for("immer-draftable"),Rr=Symbol.for("immer-state");function gi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xf=Object.getPrototypeOf;function cc(t){return!!t&&!!t[Rr]}function bl(t){var e;return t?ZF(t)||Array.isArray(t)||!!t[rN]||!!((e=t.constructor)!=null&&e[rN])||Jh(t)||m0(t):!1}var CQ=Object.prototype.constructor.toString(),iN=new WeakMap;function ZF(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=iN.get(n);return r===void 0&&(r=Function.toString.call(n),iN.set(n,r)),r===CQ}function pv(t,e,n=!0){p0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function p0(t){const e=t[Rr];return e?e.type_:Array.isArray(t)?1:Jh(t)?2:m0(t)?3:0}function QT(t,e){return p0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ez(t,e,n){const r=p0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function PQ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Jh(t){return t instanceof Map}function m0(t){return t instanceof Set}function Fs(t){return t.copy_||t.base_}function XT(t,e){if(Jh(t))return new Map(t);if(m0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=ZF(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Rr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[a]})}return Object.create(Xf(t),r)}else{const r=Xf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function aw(t,e=!1){return g0(t)||cc(t)||!bl(t)||(p0(t)>1&&Object.defineProperties(t,{set:mm,add:mm,clear:mm,delete:mm}),Object.freeze(t),e&&Object.values(t).forEach(n=>aw(n,!0))),t}function RQ(){gi(2)}var mm={value:RQ};function g0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var NQ={};function El(t){const e=NQ[t];return e||gi(0,t),e}var Zf;function tz(){return Zf}function MQ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oN(t,e){e&&(El("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ZT(t){eA(t),t.drafts_.forEach(OQ),t.drafts_=null}function eA(t){t===Zf&&(Zf=t.parent_)}function aN(t){return Zf=MQ(Zf,t)}function OQ(t){const e=t[Rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Rr].modified_&&(ZT(e),gi(4)),bl(t)&&(t=mv(e,t),e.parent_||gv(e,t)),e.patches_&&El("Patches").generateReplacementPatches_(n[Rr].base_,t,e.patches_,e.inversePatches_)):t=mv(e,n,[]),ZT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==XF?t:void 0}function mv(t,e,n){if(g0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Rr];if(!i)return pv(e,(o,a)=>lN(t,i,e,o,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return gv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,s=!1;i.type_===3&&(a=new Set(o),o.clear(),s=!0),pv(a,(l,u)=>lN(t,i,o,l,u,n,s),r),gv(t,o,!1),n&&t.patches_&&El("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function lN(t,e,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const s=g0(i);if(!(s&&!a)){if(cc(i)){const l=o&&e&&e.type_!==3&&!QT(e.assigned_,r)?o.concat(r):void 0,u=mv(t,i,l);if(ez(n,r,u),cc(u))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(bl(i)&&!s){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&s)return;mv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Jh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&gv(t,i)}}}function gv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&aw(e,n)}function DQ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:tz(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=sw;n&&(i=[r],o=eh);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var sw={get(t,e){if(e===Rr)return t;const n=Fs(t);if(!QT(n,e))return kQ(t,n,e);const r=n[e];return t.finalized_||!bl(r)?r:r===Hb(t.base_,e)?(Kb(t),t.copy_[e]=nA(r,t)):r},has(t,e){return e in Fs(t)},ownKeys(t){return Reflect.ownKeys(Fs(t))},set(t,e,n){const r=nz(Fs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Hb(Fs(t),e),o=i==null?void 0:i[Rr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(PQ(n,i)&&(n!==void 0||QT(t.base_,e)))return!0;Kb(t),tA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Hb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Kb(t),tA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){gi(11)},getPrototypeOf(t){return Xf(t.base_)},setPrototypeOf(){gi(12)}},eh={};pv(sw,(t,e)=>{eh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});eh.deleteProperty=function(t,e){return eh.set.call(this,t,e,void 0)};eh.set=function(t,e,n){return sw.set.call(this,t[0],e,n,t[0])};function Hb(t,e){const n=t[Rr];return(n?Fs(n):t)[e]}function kQ(t,e,n){var i;const r=nz(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function nz(t,e){if(!(e in t))return;let n=Xf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Xf(n)}}function tA(t){t.modified_||(t.modified_=!0,t.parent_&&tA(t.parent_))}function Kb(t){t.copy_||(t.copy_=XT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var LQ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(l=o,...u){return a.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&gi(6),r!==void 0&&typeof r!="function"&&gi(7);let i;if(bl(e)){const o=aN(this),a=nA(e,void 0);let s=!0;try{i=n(a),s=!1}finally{s?ZT(o):eA(o)}return oN(o,r),sN(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===XF&&(i=void 0),this.autoFreeze_&&aw(i,!0),r){const o=[],a=[];El("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else gi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...s)=>this.produceWithPatches(a,l=>e(l,...s));let r,i;return[this.produce(e,n,(a,s)=>{r=a,i=s}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){bl(t)||gi(8),cc(t)&&(t=VQ(t));const e=aN(this),n=nA(t,void 0);return n[Rr].isManual_=!0,eA(e),n}finishDraft(t,e){const n=t&&t[Rr];(!n||!n.isManual_)&&gi(9);const{scope_:r}=n;return oN(r,e),sN(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=El("Patches").applyPatches_;return cc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function nA(t,e){const n=Jh(t)?El("MapSet").proxyMap_(t,e):m0(t)?El("MapSet").proxySet_(t,e):DQ(t,e);return(e?e.scope_:tz()).drafts_.push(n),n}function VQ(t){return cc(t)||gi(10,t),rz(t)}function rz(t){if(!bl(t)||g0(t))return t;const e=t[Rr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=XT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=XT(t,!0);return pv(n,(i,o)=>{ez(n,i,rz(o))},r),e&&(e.finalized_=!1),n}var UQ=new LQ;UQ.produce;var BQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},iz=fr({name:"legend",initialState:BQ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Et()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=bi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Et()},removeLegendPayload:{reducer(t,e){var n=bi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Et()}}}),{setLegendSize:uN,setLegendSettings:FQ,addLegendPayload:oz,replaceLegendPayload:az,removeLegendPayload:sz}=iz.actions,zQ=iz.reducer,jQ=["contextPayload"];function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rA.apply(null,arguments)}function cN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return(e=GQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=qQ(t,"string");return typeof e=="symbol"?e:e+""}function qQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HQ(t,e){if(t==null)return{};var n,r,i=KQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WQ(t){return t.value}function YQ(t){var{contextPayload:e}=t,n=HQ(t,jQ),r=J4(e,t.payloadUniqBy,WQ),i=dc(dc({},n),{},{payload:r});return b.isValidElement(t.content)?b.cloneElement(t.content,i):typeof t.content=="function"?b.createElement(t.content,i):b.createElement(tY,i)}function JQ(t,e,n,r,i,o){var{layout:a,align:s,verticalAlign:l}=e,u,c;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(s==="center"&&a==="vertical"?u={left:((r||0)-o.width)/2}:u=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?c={top:((i||0)-o.height)/2}:c=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),dc(dc({},u),c)}function QQ(t){var e=Ze();return b.useEffect(()=>{e(FQ(t))},[e,t]),null}function XQ(t){var e=Ze();return b.useEffect(()=>(e(uN(t)),()=>{e(uN({width:0,height:0}))}),[e,t]),null}function ZQ(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var eX={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function as(t){var e=Ke(t,eX),n=BY(),r=W7(),i=wQ(),{width:o,height:a,wrapperStyle:s,portal:l}=e,[u,c]=lF([n]),d=nw(),f=rw();if(d==null||f==null)return null;var p=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),v=ZQ(e.layout,a,o,p),E=l?s:dc(dc({position:"absolute",width:(v==null?void 0:v.width)||o||"auto",height:(v==null?void 0:v.height)||a||"auto"},JQ(s,e,i,d,f,u)),s),y=l??r;if(y==null||n==null)return null;var _=b.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:c},b.createElement(QQ,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&b.createElement(XQ,{width:u.width,height:u.height}),b.createElement(YQ,rA({},e,v,{margin:i,chartWidth:d,chartHeight:f,contextPayload:n})));return wy.createPortal(_,y)}as.displayName="Legend";function iA(){return iA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iA.apply(null,arguments)}function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(r){tX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e,n){return(e=nX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=rX(t,"string");return typeof e=="symbol"?e:e+""}function rX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iX(t){return Array.isArray(t)&&qi(t[0])&&qi(t[1])?t.join(" ~ "):t}var Xl={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},oX=t=>{var{separator:e=Xl.separator,contentStyle:n,itemStyle:r,labelStyle:i=Xl.labelStyle,payload:o,formatter:a,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:f=Xl.accessibilityLayer}=t,p=()=>{if(o&&o.length){var M={padding:0,margin:0},N=(s?e0(o,s):o).map((I,P)=>{if(I.type==="none")return null;var R=I.formatter||a||iX,{value:O,name:V}=I,D=O,k=V;if(R){var Y=R(O,V,I,P,o);if(Array.isArray(Y))[D,k]=Y;else if(Y!=null)D=Y;else return null}var oe=Md(Md({},Xl.itemStyle),{},{color:I.color||Xl.itemStyle.color},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:oe},qi(k)?b.createElement("span",{className:"recharts-tooltip-item-name"},k):null,qi(k)?b.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,b.createElement("span",{className:"recharts-tooltip-item-value"},D),b.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:M},N)}return null},v=Md(Md({},Xl.contentStyle),n),E=Md({margin:0},i),y=!ze(c),_=y?c:"",T=be("recharts-default-tooltip",l),S=be("recharts-tooltip-label",u);y&&d&&o!==void 0&&o!==null&&(_=d(c,o));var w=f?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",iA({className:T,style:v},w),b.createElement("p",{className:S,style:E},b.isValidElement(_)?_:"".concat(_)),p())},Od="recharts-tooltip-wrapper",aX={visibility:"hidden"};function sX(t){var{coordinate:e,translateX:n,translateY:r}=t;return be(Od,{["".concat(Od,"-right")]:ie(n)&&e&&ie(e.x)&&n>=e.x,["".concat(Od,"-left")]:ie(n)&&e&&ie(e.x)&&n<e.x,["".concat(Od,"-bottom")]:ie(r)&&e&&ie(e.y)&&r>=e.y,["".concat(Od,"-top")]:ie(r)&&e&&ie(e.y)&&r<e.y})}function fN(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=t;if(o&&ie(o[r]))return o[r];var c=n[r]-s-(i>0?i:0),d=n[r]+i;if(e[r])return a[r]?c:d;var f=l[r];if(f==null)return 0;if(a[r]){var p=c,v=f;return p<v?Math.max(d,f):Math.max(c,f)}if(u==null)return 0;var E=d+s,y=f+u;return E>y?Math.max(c,f):Math.max(d,f)}function lX(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function uX(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:u}=t,c,d,f;return s.height>0&&s.width>0&&n?(d=fN({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:o,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),f=fN({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:o,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=lX({translateX:d,translateY:f,useTranslate3d:l})):c=aX,{cssProperties:c,cssClasses:sX({translateX:d,translateY:f,coordinate:n})}}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){oA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oA(t,e,n){return(e=cX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cX(t){var e=dX(t,"string");return typeof e=="symbol"?e:e+""}function dX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fX extends b.PureComponent{constructor(){super(...arguments),oA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),oA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:f,viewBox:p,wrapperStyle:v,lastBoundingBox:E,innerRef:y,hasPortalFromProps:_}=this.props,T=typeof u=="number"?u:u.x,S=typeof u=="number"?u:u.y,{cssClasses:w,cssProperties:M}=uX({allowEscapeViewBox:n,coordinate:a,offsetLeft:T,offsetTop:S,position:c,reverseDirection:d,tooltipBox:{height:E.height,width:E.width},useTranslate3d:f,viewBox:p}),N=_?{}:gm(gm({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),I=gm(gm({},N),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},v);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:I,ref:y},o)}}var lz=()=>{var t;return(t=Z(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aA.apply(null,arguments)}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){hX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hX(t,e,n){return(e=pX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pX(t){var e=mX(t,"string");return typeof e=="symbol"?e:e+""}function mX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gN={curveBasisClosed:hW,curveBasisOpen:pW,curveBasis:fW,curveBumpX:X7,curveBumpY:Z7,curveLinearClosed:mW,curveLinear:Gy,curveMonotoneX:gW,curveMonotoneY:vW,curveNatural:yW,curveStep:_W,curveStepAfter:EW,curveStepBefore:bW},vv=t=>Te(t.x)&&Te(t.y),vN=t=>t.base!=null&&vv(t.base)&&vv(t),Dd=t=>t.x,kd=t=>t.y,gX=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat($h(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=gN["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return gN[n]||Gy},yN={connectNulls:!1,type:"linear"},vX=t=>{var{type:e=yN.type,points:n=[],baseLine:r,layout:i,connectNulls:o=yN.connectNulls}=t,a=gX(e,i),s=o?n.filter(vv):n;if(Array.isArray(r)){var l,u=n.map((v,E)=>mN(mN({},v),{},{base:r[E]}));i==="vertical"?l=lm().y(kd).x1(Dd).x0(v=>v.base.x):l=lm().x(Dd).y1(kd).y0(v=>v.base.y);var c=l.defined(vN).curve(a),d=o?u.filter(vN):u;return c(d)}var f;i==="vertical"&&ie(r)?f=lm().y(kd).x1(Dd).x0(r):ie(r)?f=lm().x(Dd).y1(kd).y0(r):f=g4().x(Dd).y(kd);var p=f.defined(vv).curve(a);return p(s)},ol=t=>{var{className:e,points:n,path:r,pathRef:i}=t,o=ys();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||o,connectNulls:t.connectNulls},s=n&&n.length?vX(a):r;return b.createElement("path",aA({},rt(t),kx(t),{className:be("recharts-curve",e),d:s===null?void 0:s,ref:i}))},yX=["x","y","top","left","width","height","className"];function sA(){return sA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sA.apply(null,arguments)}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){bX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bX(t,e,n){return(e=EX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EX(t){var e=TX(t,"string");return typeof e=="symbol"?e:e+""}function TX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AX(t,e){if(t==null)return{};var n,r,i=SX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xX=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),wX=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:s}=t,l=AX(t,yX),u=_X({x:e,y:n,top:r,left:i,width:o,height:a},l);return!ie(e)||!ie(n)||!ie(o)||!ie(a)||!ie(r)||!ie(i)?null:b.createElement("path",sA({},Bt(u),{className:be("recharts-cross",s),d:xX(e,n,o,a,r,i)}))};function IX(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){CX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CX(t,e,n){return(e=PX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PX(t){var e=RX(t,"string");return typeof e=="symbol"?e:e+""}function RX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NX=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),uz=(t,e,n)=>t.map(r=>"".concat(NX(r)," ").concat(e,"ms ").concat(n)).join(","),MX=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),th=(t,e)=>Object.keys(e).reduce((n,r)=>EN(EN({},n),{},{[r]:t(r,e[r])}),{});function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){OX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OX(t,e,n){return(e=DX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DX(t){var e=kX(t,"string");return typeof e=="symbol"?e:e+""}function kX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yv=(t,e,n)=>t+(e-t)*n,lA=t=>{var{from:e,to:n}=t;return e!==n},cz=(t,e,n)=>{var r=th((i,o)=>{if(lA(o)){var[a,s]=t(o.from,o.to,o.velocity);return Zt(Zt({},o),{},{from:a,velocity:s})}return o},e);return n<1?th((i,o)=>lA(o)&&r[i]!=null?Zt(Zt({},o),{},{velocity:yv(o.velocity,r[i].velocity,n),from:yv(o.from,r[i].from,n)}):o,e):cz(t,r,n-1)};function LX(t,e,n,r,i,o){var a,s=r.reduce((f,p)=>Zt(Zt({},f),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>th((f,p)=>p.from,s),u=()=>!Object.values(s).filter(lA).length,c=null,d=f=>{a||(a=f);var p=f-a,v=p/n.dt;s=cz(n,s,v),i(Zt(Zt(Zt({},t),e),l())),a=f,u()||(c=o.setTimeout(d))};return()=>(c=o.setTimeout(d),()=>{var f;(f=c)===null||f===void 0||f()})}function VX(t,e,n,r,i,o,a){var s=null,l=i.reduce((d,f)=>{var p=t[f],v=e[f];return p==null||v==null?d:Zt(Zt({},d),{},{[f]:[p,v]})},{}),u,c=d=>{u||(u=d);var f=(d-u)/r,p=th((E,y)=>yv(...y,n(f)),l);if(o(Zt(Zt(Zt({},t),e),p)),f<1)s=a.setTimeout(c);else{var v=th((E,y)=>yv(...y,n(1)),l);o(Zt(Zt(Zt({},t),e),v))}};return()=>(s=a.setTimeout(c),()=>{var d;(d=s)===null||d===void 0||d()})}const UX=(t,e,n,r,i,o)=>{var a=MX(t,e);return n==null?()=>(i(Zt(Zt({},t),e)),()=>{}):n.isStepper===!0?LX(t,e,n,a,i,o):VX(t,e,n,r,a,i,o)};var _v=1e-4,dz=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],fz=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),AN=(t,e)=>n=>{var r=dz(t,e);return fz(r,n)},BX=(t,e)=>n=>{var r=dz(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return fz(i,n)},FX=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},zX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=FX(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},jX=(t,e,n,r)=>{var i=AN(t,n),o=AN(e,r),a=BX(t,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,f=0;f<8;++f){var p=i(d)-c,v=a(d);if(Math.abs(p-c)<_v||v<_v)return o(d);d=s(d-p/v)}return o(d)};return l.isStepper=!1,l},SN=function(){return jX(...zX(...arguments))},$X=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,s,l)=>{var u=-(a-s)*n,c=l*r,d=l+(u-c)*i/1e3,f=l*i/1e3+a;return Math.abs(f-s)<_v&&Math.abs(d)<_v?[s,0]:[f,d]};return o.isStepper=!0,o.dt=i,o},GX=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SN(t);case"spring":return $X();default:if(t.split("(")[0]==="cubic-bezier")return SN(t)}return typeof t=="function"?t:null};function qX(t){var e,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,[l,...u]=s;if(typeof l=="number"){i=t.setTimeout(o.bind(null,u),l);return}o(l),i=t.setTimeout(o.bind(null,u));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class HX{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function KX(){return qX(new HX)}var WX=b.createContext(KX);function YX(t,e){var n=b.useContext(WX);return b.useMemo(()=>e??n(t),[t,e,n])}var JX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Qh={isSsr:JX()},QX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},xN={t:0},Wb={t:1};function _s(t){var e=Ke(t,QX),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:s,onAnimationStart:l,children:u}=e,c=n==="auto"?!Qh.isSsr:n,d=YX(e.animationId,e.animationManager),[f,p]=b.useState(c?xN:Wb),v=b.useRef(null);return b.useEffect(()=>{c||p(Wb)},[c]),b.useEffect(()=>{if(!c||!r)return Ci;var E=UX(xN,Wb,GX(o),i,p,d.getTimeoutController()),y=()=>{v.current=E()};return d.start([l,a,y,i,s]),()=>{d.stop(),v.current&&v.current(),s()}},[c,r,i,o,a,l,s,d]),u(f.t)}function bs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(Wf(e)),r=b.useRef(t);return r.current!==t&&(n.current=Wf(e),r.current=t),n.current}var XX=["radius"],ZX=["radius"],wN,IN,CN,PN,RN,NN,MN,ON,DN,kN;function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){eZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eZ(t,e,n){return(e=tZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tZ(t){var e=nZ(t,"string");return typeof e=="symbol"?e:e+""}function nZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(null,arguments)}function UN(t,e){if(t==null)return{};var n,r,i=rZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ri(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var BN=(t,e,n,r,i)=>{var o=La(n),a=La(r),s=Math.min(Math.abs(o)/2,Math.abs(a)/2),l=a>=0?1:-1,u=o>=0?1:-1,c=a>=0&&o>=0||a<0&&o<0?1:0,d;if(s>0&&Array.isArray(i)){for(var f=[0,0,0,0],p=0,v=4;p<v;p++){var E,y=(E=i[p])!==null&&E!==void 0?E:0;f[p]=y>s?s:y}d=xt(wN||(wN=Ri(["M",",",""])),t,e+l*f[0]),f[0]>0&&(d+=xt(IN||(IN=Ri(["A ",",",",0,0,",",",",",""])),f[0],f[0],c,t+u*f[0],e)),d+=xt(CN||(CN=Ri(["L ",",",""])),t+n-u*f[1],e),f[1]>0&&(d+=xt(PN||(PN=Ri(["A ",",",",0,0,",`,
        `,",",""])),f[1],f[1],c,t+n,e+l*f[1])),d+=xt(RN||(RN=Ri(["L ",",",""])),t+n,e+r-l*f[2]),f[2]>0&&(d+=xt(NN||(NN=Ri(["A ",",",",0,0,",`,
        `,",",""])),f[2],f[2],c,t+n-u*f[2],e+r)),d+=xt(MN||(MN=Ri(["L ",",",""])),t+u*f[3],e+r),f[3]>0&&(d+=xt(ON||(ON=Ri(["A ",",",",0,0,",`,
        `,",",""])),f[3],f[3],c,t,e+r-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var _=Math.min(s,i);d=xt(DN||(DN=Ri(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*_,_,_,c,t+u*_,e,t+n-u*_,e,_,_,c,t+n,e+l*_,t+n,e+r-l*_,_,_,c,t+n-u*_,e+r,t+u*_,e+r,_,_,c,t,e+r-l*_)}else d=xt(kN||(kN=Ri(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return d},FN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hz=t=>{var e=Ke(t,FN),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:o,y:a,width:s,height:l,radius:u,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:E}=e,y=b.useRef(s),_=b.useRef(l),T=b.useRef(o),S=b.useRef(a),w=b.useMemo(()=>({x:o,y:a,width:s,height:l,radius:u}),[o,a,s,l,u]),M=bs(w,"rectangle-");if(o!==+o||a!==+a||s!==+s||l!==+l||s===0||l===0)return null;var N=be("recharts-rectangle",c);if(!E){var I=Bt(e),{radius:P}=I,R=UN(I,XX);return b.createElement("path",bv({},R,{x:La(o),y:La(a),width:La(s),height:La(l),radius:typeof u=="number"?u:void 0,className:N,d:BN(o,a,s,l,u)}))}var O=y.current,V=_.current,D=T.current,k=S.current,Y="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),G=uz(["strokeDasharray"],f,typeof d=="string"?d:FN.animationEasing);return b.createElement(_s,{animationId:M,key:M,canBegin:r>0,duration:f,easing:d,isActive:E,begin:p},K=>{var J=Se(O,s,K),te=Se(V,l,K),de=Se(D,o,K),qe=Se(k,a,K);n.current&&(y.current=J,_.current=te,T.current=de,S.current=qe);var De;v?K>0?De={transition:G,strokeDasharray:oe}:De={strokeDasharray:Y}:De={strokeDasharray:oe};var ke=Bt(e),{radius:ut}=ke,$t=UN(ke,ZX);return b.createElement("path",bv({},$t,{radius:typeof u=="number"?u:void 0,className:N,d:BN(de,qe,J,te,u),ref:n,style:VN(VN({},De),e.style)}))})};function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){iZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iZ(t,e,n){return(e=oZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oZ(t){var e=aZ(t,"string");return typeof e=="symbol"?e:e+""}function aZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ev=Math.PI/180,Tv=t=>t*Math.PI/180,sZ=t=>t*180/Math.PI,$e=(t,e,n,r)=>({x:t+Math.cos(-Ev*r)*n,y:e+Math.sin(-Ev*r)*n}),pz=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},lZ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},uZ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=lZ({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:sZ(l),angleInRadian:l}},cZ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},dZ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},fZ=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=uZ({x:n,y:r},e),{innerRadius:a,outerRadius:s}=e;if(i<a||i>s||i===0)return null;var{startAngle:l,endAngle:u}=cZ(e),c=o,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?jN(jN({},e),{},{radius:i,angle:dZ(c,e)}):null};function mz(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=$e(e,n,r,i),s=$e(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}var $N,GN,qN,HN,KN,WN,YN;function uA(){return uA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uA.apply(null,arguments)}function Ys(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var hZ=(t,e)=>{var n=pn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},vm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=t,u=s*(a?1:-1)+r,c=Math.asin(s/u)/Ev,d=l?i:i+o*c,f=$e(e,n,u,d),p=$e(e,n,r,d),v=l?i-o*c:i,E=$e(e,n,u*Math.cos(c*Ev),v);return{center:f,circleTangency:p,lineTangency:E,theta:c}},gz=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,s=hZ(o,a),l=o+s,u=$e(e,n,i,o),c=$e(e,n,i,l),d=xt($N||($N=Ys(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(s)>180),+(o>l),c.x,c.y);if(r>0){var f=$e(e,n,r,o),p=$e(e,n,r,l);d+=xt(GN||(GN=Ys(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(s)>180),+(o<=l),f.x,f.y)}else d+=xt(qN||(qN=Ys(["L ",","," Z"])),e,n);return d},pZ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:u}=t,c=pn(u-l),{circleTangency:d,lineTangency:f,theta:p}=vm({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),{circleTangency:v,lineTangency:E,theta:y}=vm({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),_=s?Math.abs(l-u):Math.abs(l-u)-p-y;if(_<0)return a?xt(HN||(HN=Ys(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),f.x,f.y,o,o,o*2,o,o,-o*2):gz({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var T=xt(KN||(KN=Ys(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),f.x,f.y,o,o,+(c<0),d.x,d.y,i,i,+(_>180),+(c<0),v.x,v.y,o,o,+(c<0),E.x,E.y);if(r>0){var{circleTangency:S,lineTangency:w,theta:M}=vm({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:N,lineTangency:I,theta:P}=vm({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),R=s?Math.abs(l-u):Math.abs(l-u)-M-P;if(R<0&&o===0)return"".concat(T,"L").concat(e,",").concat(n,"Z");T+=xt(WN||(WN=Ys(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),I.x,I.y,o,o,+(c<0),N.x,N.y,r,r,+(R>180),+(c>0),S.x,S.y,o,o,+(c<0),w.x,w.y)}else T+=xt(YN||(YN=Ys(["L",",","Z"])),e,n);return T},mZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vz=t=>{var e=Ke(t,mZ),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=e;if(o<i||u===c)return null;var f=be("recharts-sector",d),p=o-i,v=Un(a,p,0,!0),E;return v>0&&Math.abs(u-c)<360?E=pZ({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):E=gz({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),b.createElement("path",uA({},Bt(e),{className:f,d:E}))};function gZ(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(M4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:s}=e,l=$e(r,i,o,s),u=$e(r,i,a,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return mz(e)}}var yz={},_z={},bz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gx;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(bz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bz;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(_z);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qx,n=_z;function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const s=Math.max(Math.ceil((o-i)/(a||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=a;return l}t.range=r})(yz);var vZ=yz.range;const Ez=oi(vZ);function Wa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lw(t){let e,n,r;t.length!==2?(e=Wa,n=(s,l)=>Wa(t(s),l),r=(s,l)=>t(s)-l):(e=t===Wa||t===yZ?t:_Z,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function _Z(){return 0}function Tz(t){return t===null?NaN:+t}function*bZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const EZ=lw(Wa),Xh=EZ.right;lw(Tz).center;class JN extends Map{constructor(e,n=SZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QN(this,e))}has(e){return super.has(QN(this,e))}set(e,n){return super.set(TZ(this,e),n)}delete(e){return super.delete(AZ(this,e))}}function QN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function TZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function AZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function SZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xZ(t=Wa){if(t===Wa)return Az;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Az(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wZ=Math.sqrt(50),IZ=Math.sqrt(10),CZ=Math.sqrt(2);function Av(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=wZ?10:o>=IZ?5:o>=CZ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Av(t,e,n*2):[s,l,u]}function cA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Av(e,t,n):Av(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function dA(t,e,n){return e=+e,t=+t,n=+n,Av(t,e,n)[2]}function fA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?dA(e,t,n):dA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function XN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ZN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Sz(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Az:xZ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*d/l+f)),v=Math.min(r,Math.floor(e+(l-u)*d/l+f));Sz(t,e,p,v,i)}const o=t[e];let a=n,s=r;for(Ld(t,n,e),i(t[r],o)>0&&Ld(t,n,r);a<s;){for(Ld(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Ld(t,n,s):(++s,Ld(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Ld(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function PZ(t,e,n){if(t=Float64Array.from(bZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ZN(t);if(e>=1)return XN(t);var r,i=(r-1)*e,o=Math.floor(i),a=XN(Sz(t,o).subarray(0,o+1)),s=ZN(t.subarray(o+1));return a+(s-a)*(i-o)}}function RZ(t,e,n=Tz){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function NZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function li(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const hA=Symbol("implicit");function uw(){var t=new JN,e=[],n=[],r=hA;function i(o){let a=t.get(o);if(a===void 0){if(r!==hA)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new JN;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return uw(e,n).unknown(r)},li.apply(i,arguments),i}function cw(){var t=uw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var f=e().length,p=i<r,v=p?i:r,E=p?r:i;o=(E-v)/Math.max(1,f-l+u*2),s&&(o=Math.floor(o)),v+=(E-v-o*(f-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var y=NZ(f).map(function(_){return v+o*_});return n(p?y.reverse():y)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,d()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},t.copy=function(){return cw(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},li.apply(d(),arguments)}function xz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xz(e())},t}function MZ(){return xz(cw.apply(null,arguments).paddingInner(1))}function dw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wz(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zh(){}var nh=.7,Sv=1/nh,$u="\\s*([+-]?\\d+)\\s*",rh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OZ=/^#([0-9a-f]{3,8})$/,DZ=new RegExp(`^rgb\\(${$u},${$u},${$u}\\)$`),kZ=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),LZ=new RegExp(`^rgba\\(${$u},${$u},${$u},${rh}\\)$`),VZ=new RegExp(`^rgba\\(${zi},${zi},${zi},${rh}\\)$`),UZ=new RegExp(`^hsl\\(${rh},${zi},${zi}\\)$`),BZ=new RegExp(`^hsla\\(${rh},${zi},${zi},${rh}\\)$`),eM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dw(Zh,ih,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tM,formatHex:tM,formatHex8:FZ,formatHsl:zZ,formatRgb:nM,toString:nM});function tM(){return this.rgb().formatHex()}function FZ(){return this.rgb().formatHex8()}function zZ(){return Iz(this).formatHsl()}function nM(){return this.rgb().formatRgb()}function ih(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=OZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rM(e):n===3?new ir(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ym(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ym(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=DZ.exec(t))?new ir(e[1],e[2],e[3],1):(e=kZ.exec(t))?new ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=LZ.exec(t))?ym(e[1],e[2],e[3],e[4]):(e=VZ.exec(t))?ym(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=UZ.exec(t))?aM(e[1],e[2]/100,e[3]/100,1):(e=BZ.exec(t))?aM(e[1],e[2]/100,e[3]/100,e[4]):eM.hasOwnProperty(t)?rM(eM[t]):t==="transparent"?new ir(NaN,NaN,NaN,0):null}function rM(t){return new ir(t>>16&255,t>>8&255,t&255,1)}function ym(t,e,n,r){return r<=0&&(t=e=n=NaN),new ir(t,e,n,r)}function jZ(t){return t instanceof Zh||(t=ih(t)),t?(t=t.rgb(),new ir(t.r,t.g,t.b,t.opacity)):new ir}function pA(t,e,n,r){return arguments.length===1?jZ(t):new ir(t,e,n,r??1)}function ir(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dw(ir,pA,wz(Zh,{brighter(t){return t=t==null?Sv:Math.pow(Sv,t),new ir(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?nh:Math.pow(nh,t),new ir(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ir(al(this.r),al(this.g),al(this.b),xv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iM,formatHex:iM,formatHex8:$Z,formatRgb:oM,toString:oM}));function iM(){return`#${Js(this.r)}${Js(this.g)}${Js(this.b)}`}function $Z(){return`#${Js(this.r)}${Js(this.g)}${Js(this.b)}${Js((isNaN(this.opacity)?1:this.opacity)*255)}`}function oM(){const t=xv(this.opacity);return`${t===1?"rgb(":"rgba("}${al(this.r)}, ${al(this.g)}, ${al(this.b)}${t===1?")":`, ${t})`}`}function xv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function al(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Js(t){return t=al(t),(t<16?"0":"")+t.toString(16)}function aM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vi(t,e,n,r)}function Iz(t){if(t instanceof vi)return new vi(t.h,t.s,t.l,t.opacity);if(t instanceof Zh||(t=ih(t)),!t)return new vi;if(t instanceof vi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new vi(a,s,l,t.opacity)}function GZ(t,e,n,r){return arguments.length===1?Iz(t):new vi(t,e,n,r??1)}function vi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dw(vi,GZ,wz(Zh,{brighter(t){return t=t==null?Sv:Math.pow(Sv,t),new vi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?nh:Math.pow(nh,t),new vi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ir(Yb(t>=240?t-240:t+120,i,r),Yb(t,i,r),Yb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vi(sM(this.h),_m(this.s),_m(this.l),xv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xv(this.opacity);return`${t===1?"hsl(":"hsla("}${sM(this.h)}, ${_m(this.s)*100}%, ${_m(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sM(t){return t=(t||0)%360,t<0?t+360:t}function _m(t){return Math.max(0,Math.min(1,t||0))}function Yb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fw=t=>()=>t;function qZ(t,e){return function(n){return t+n*e}}function HZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function KZ(t){return(t=+t)==1?Cz:function(e,n){return n-e?HZ(e,n,t):fw(isNaN(e)?n:e)}}function Cz(t,e){var n=e-t;return n?qZ(t,n):fw(isNaN(t)?e:t)}const lM=function t(e){var n=KZ(e);function r(i,o){var a=n((i=pA(i)).r,(o=pA(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Cz(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function WZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function YZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function JZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Lc(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function QZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function wv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function XZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Lc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var mA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jb=new RegExp(mA.source,"g");function ZZ(t){return function(){return t}}function eee(t){return function(e){return t(e)+""}}function tee(t,e){var n=mA.lastIndex=Jb.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=mA.exec(t))&&(i=Jb.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:wv(r,i)})),n=Jb.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?eee(l[0].x):ZZ(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Lc(t,e){var n=typeof e,r;return e==null||n==="boolean"?fw(e):(n==="number"?wv:n==="string"?(r=ih(e))?(e=r,lM):tee:e instanceof ih?lM:e instanceof Date?QZ:YZ(e)?WZ:Array.isArray(e)?JZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?XZ:wv)(t,e)}function hw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function nee(t,e){e===void 0&&(e=t,t=Lc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function ree(t){return function(){return t}}function Iv(t){return+t}var uM=[0,1];function qn(t){return t}function gA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ree(isNaN(e)?NaN:.5)}function iee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function oee(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=gA(i,r),o=n(a,o)):(r=gA(r,i),o=n(o,a)),function(s){return o(r(s))}}function aee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=gA(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Xh(t,s,1,r)-1;return o[l](i[l](s))}}function ep(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function v0(){var t=uM,e=uM,n=Lc,r,i,o,a=qn,s,l,u;function c(){var f=Math.min(t.length,e.length);return a!==qn&&(a=iee(t[0],t[f-1])),s=f>2?aee:oee,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(r),e,n)))(r(a(f)))}return d.invert=function(f){return a(i((u||(u=s(e,t.map(r),wv)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Iv),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=hw,c()},d.clamp=function(f){return arguments.length?(a=f?!0:qn,c()):a!==qn},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,p){return r=f,i=p,c()}}function pw(){return v0()(qn,qn)}function see(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cv(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function fc(t){return t=Cv(Math.abs(t)),t?t[1]:NaN}function lee(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function uee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var cee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oh(t){if(!(e=cee.exec(t)))throw new Error("invalid format: "+t);var e;return new mw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}oh.prototype=mw.prototype;function mw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Pv;function fee(t,e){var n=Cv(t,e);if(!n)return Pv=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Pv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cv(t,Math.max(0,e+o-1))[0]}function cM(t,e){var n=Cv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:see,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cM(t*100,e),r:cM,s:fee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fM(t){return t}var hM=Array.prototype.map,pM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hee(t){var e=t.grouping===void 0||t.thousands===void 0?fM:lee(hM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?fM:uee(hM.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d,f){d=oh(d);var p=d.fill,v=d.align,E=d.sign,y=d.symbol,_=d.zero,T=d.width,S=d.comma,w=d.precision,M=d.trim,N=d.type;N==="n"?(S=!0,N="g"):dM[N]||(w===void 0&&(w=12),M=!0,N="g"),(_||p==="0"&&v==="=")&&(_=!0,p="0",v="=");var I=(f&&f.prefix!==void 0?f.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),P=(y==="$"?r:/[%p]/.test(N)?a:"")+(f&&f.suffix!==void 0?f.suffix:""),R=dM[N],O=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function V(D){var k=I,Y=P,oe,G,K;if(N==="c")Y=R(D)+Y,D="";else{D=+D;var J=D<0||1/D<0;if(D=isNaN(D)?l:R(Math.abs(D),w),M&&(D=dee(D)),J&&+D==0&&E!=="+"&&(J=!1),k=(J?E==="("?E:s:E==="-"||E==="("?"":E)+k,Y=(N==="s"&&!isNaN(D)&&Pv!==void 0?pM[8+Pv/3]:"")+Y+(J&&E==="("?")":""),O){for(oe=-1,G=D.length;++oe<G;)if(K=D.charCodeAt(oe),48>K||K>57){Y=(K===46?i+D.slice(oe+1):D.slice(oe))+Y,D=D.slice(0,oe);break}}}S&&!_&&(D=e(D,1/0));var te=k.length+D.length+Y.length,de=te<T?new Array(T-te+1).join(p):"";switch(S&&_&&(D=e(de+D,de.length?T-Y.length:1/0),de=""),v){case"<":D=k+D+Y+de;break;case"=":D=k+de+D+Y;break;case"^":D=de.slice(0,te=de.length>>1)+k+D+Y+de.slice(te);break;default:D=de+k+D+Y;break}return o(D)}return V.toString=function(){return d+""},V}function c(d,f){var p=Math.max(-8,Math.min(8,Math.floor(fc(f)/3)))*3,v=Math.pow(10,-p),E=u((d=oh(d),d.type="f",d),{suffix:pM[8+p/3]});return function(y){return E(v*y)}}return{format:u,formatPrefix:c}}var bm,gw,Pz;pee({thousands:",",grouping:[3],currency:["$",""]});function pee(t){return bm=hee(t),gw=bm.format,Pz=bm.formatPrefix,bm}function mee(t){return Math.max(0,-fc(Math.abs(t)))}function gee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fc(e)/3)))*3-fc(Math.abs(t)))}function vee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fc(e)-fc(t))+1}function Rz(t,e,n,r){var i=fA(t,e,n),o;switch(r=oh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=gee(i,a))&&(r.precision=o),Pz(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=vee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=mee(i))&&(r.precision=o-(r.type==="%")*2);break}}return gw(r)}function Es(t){var e=t.domain;return t.ticks=function(n){var r=e();return cA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Rz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=dA(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Nz(){var t=pw();return t.copy=function(){return ep(t,Nz())},li.apply(t,arguments),Es(t)}function Mz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Iv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Mz(t).unknown(e)},t=arguments.length?Array.from(t,Iv):[0,1],Es(n)}function Oz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function mM(t){return Math.log(t)}function gM(t){return Math.exp(t)}function yee(t){return-Math.log(-t)}function _ee(t){return-Math.exp(-t)}function bee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Eee(t){return t===10?bee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Tee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vM(t){return(e,n)=>-t(-e,n)}function vw(t){const e=t(mM,gM),n=e.domain;let r=10,i,o;function a(){return i=Tee(r),o=Eee(r),n()[0]<0?(i=vM(i),o=vM(o),t(yee,_ee)):t(mM,gM),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),p=i(c),v,E;const y=s==null?10:+s;let _=[];if(!(r%1)&&p-f<y){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(v=1;v<r;++v)if(E=f<0?v/o(-f):v*o(f),!(E<u)){if(E>c)break;_.push(E)}}else for(;f<=p;++f)for(v=r-1;v>=1;--v)if(E=f>0?v/o(-f):v*o(f),!(E<u)){if(E>c)break;_.push(E)}_.length*2<y&&(_=cA(u,c,y))}else _=cA(f,p,Math.min(p-f,y)).map(o);return d?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=oh(l)).precision==null&&(l.trim=!0),l=gw(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(Oz(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Dz(){const t=vw(v0()).domain([1,10]);return t.copy=()=>ep(t,Dz()).base(t.base()),li.apply(t,arguments),t}function yM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function _M(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yw(t){var e=1,n=t(yM(e),_M(e));return n.constant=function(r){return arguments.length?t(yM(e=+r),_M(e)):e},Es(n)}function kz(){var t=yw(v0());return t.copy=function(){return ep(t,kz()).constant(t.constant())},li.apply(t,arguments)}function bM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Aee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function See(t){return t<0?-t*t:t*t}function _w(t){var e=t(qn,qn),n=1;function r(){return n===1?t(qn,qn):n===.5?t(Aee,See):t(bM(n),bM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Es(e)}function bw(){var t=_w(v0());return t.copy=function(){return ep(t,bw()).exponent(t.exponent())},li.apply(t,arguments),t}function xee(){return bw.apply(null,arguments).exponent(.5)}function EM(t){return Math.sign(t)*t*t}function wee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Lz(){var t=pw(),e=[0,1],n=!1,r;function i(o){var a=wee(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(EM(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Iv)).map(EM)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Lz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},li.apply(i,arguments),Es(i)}function Vz(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=RZ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Xh(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Wa),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Vz().domain(t).range(e).unknown(r)},li.apply(o,arguments)}function Uz(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Xh(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Uz().domain([t,e]).range(i).unknown(o)},li.apply(Es(a),arguments)}function Bz(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Xh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Bz().domain(t).range(e).unknown(n)},li.apply(i,arguments)}const Qb=new Date,Xb=new Date;function on(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>on(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Qb.setTime(+o),Xb.setTime(+a),t(Qb),t(Xb),Math.floor(n(Qb,Xb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Rv=on(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Rv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?on(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Rv);Rv.range;const vo=1e3,Hr=vo*60,yo=Hr*60,Vo=yo*24,Ew=Vo*7,TM=Vo*30,Zb=Vo*365,Qs=on(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vo)},(t,e)=>(e-t)/vo,t=>t.getUTCSeconds());Qs.range;const Tw=on(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vo)},(t,e)=>{t.setTime(+t+e*Hr)},(t,e)=>(e-t)/Hr,t=>t.getMinutes());Tw.range;const Aw=on(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Hr)},(t,e)=>(e-t)/Hr,t=>t.getUTCMinutes());Aw.range;const Sw=on(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vo-t.getMinutes()*Hr)},(t,e)=>{t.setTime(+t+e*yo)},(t,e)=>(e-t)/yo,t=>t.getHours());Sw.range;const xw=on(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*yo)},(t,e)=>(e-t)/yo,t=>t.getUTCHours());xw.range;const tp=on(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Hr)/Vo,t=>t.getDate()-1);tp.range;const y0=on(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vo,t=>t.getUTCDate()-1);y0.range;const Fz=on(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vo,t=>Math.floor(t/Vo));Fz.range;function Fl(t){return on(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Hr)/Ew)}const _0=Fl(0),Nv=Fl(1),Iee=Fl(2),Cee=Fl(3),hc=Fl(4),Pee=Fl(5),Ree=Fl(6);_0.range;Nv.range;Iee.range;Cee.range;hc.range;Pee.range;Ree.range;function zl(t){return on(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ew)}const b0=zl(0),Mv=zl(1),Nee=zl(2),Mee=zl(3),pc=zl(4),Oee=zl(5),Dee=zl(6);b0.range;Mv.range;Nee.range;Mee.range;pc.range;Oee.range;Dee.range;const ww=on(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ww.range;const Iw=on(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Iw.range;const Uo=on(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:on(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Uo.range;const Bo=on(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Bo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:on(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Bo.range;function zz(t,e,n,r,i,o){const a=[[Qs,1,vo],[Qs,5,5*vo],[Qs,15,15*vo],[Qs,30,30*vo],[o,1,Hr],[o,5,5*Hr],[o,15,15*Hr],[o,30,30*Hr],[i,1,yo],[i,3,3*yo],[i,6,6*yo],[i,12,12*yo],[r,1,Vo],[r,2,2*Vo],[n,1,Ew],[e,1,TM],[e,3,3*TM],[t,1,Zb]];function s(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),v=p?p.range(u,+c+1):[];return f?v.reverse():v}function l(u,c,d){const f=Math.abs(c-u)/d,p=lw(([,,y])=>y).right(a,f);if(p===a.length)return t.every(fA(u/Zb,c/Zb,d));if(p===0)return Rv.every(Math.max(fA(u,c,d),1));const[v,E]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return v.every(E)}return[s,l]}const[kee,Lee]=zz(Bo,Iw,b0,Fz,xw,Aw),[Vee,Uee]=zz(Uo,ww,_0,tp,Sw,Tw);function eE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Bee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Ud(i),c=Bd(i),d=Ud(o),f=Bd(o),p=Ud(a),v=Bd(a),E=Ud(s),y=Bd(s),_=Ud(l),T=Bd(l),S={a:K,A:J,b:te,B:de,c:null,d:CM,e:CM,f:lte,g:yte,G:bte,H:ote,I:ate,j:ste,L:jz,m:ute,M:cte,p:qe,q:De,Q:NM,s:MM,S:dte,u:fte,U:hte,V:pte,w:mte,W:gte,x:null,X:null,y:vte,Y:_te,Z:Ete,"%":RM},w={a:ke,A:ut,b:$t,B:Mr,c:null,d:PM,e:PM,f:xte,g:kte,G:Vte,H:Tte,I:Ate,j:Ste,L:Gz,m:wte,M:Ite,p:Lt,q:sa,Q:NM,s:MM,S:Cte,u:Pte,U:Rte,V:Nte,w:Mte,W:Ote,x:null,X:null,y:Dte,Y:Lte,Z:Ute,"%":RM},M={a:O,A:V,b:D,B:k,c:Y,d:wM,e:wM,f:tte,g:xM,G:SM,H:IM,I:IM,j:Qee,L:ete,m:Jee,M:Xee,p:R,q:Yee,Q:rte,s:ite,S:Zee,u:Gee,U:qee,V:Hee,w:$ee,W:Kee,x:oe,X:G,y:xM,Y:SM,Z:Wee,"%":nte};S.x=N(n,S),S.X=N(r,S),S.c=N(e,S),w.x=N(n,w),w.X=N(r,w),w.c=N(e,w);function N(B,re){return function(he){var W=[],Gt=-1,Ve=0,Qt=B.length,Xt,ci,Cp;for(he instanceof Date||(he=new Date(+he));++Gt<Qt;)B.charCodeAt(Gt)===37&&(W.push(B.slice(Ve,Gt)),(ci=AM[Xt=B.charAt(++Gt)])!=null?Xt=B.charAt(++Gt):ci=Xt==="e"?" ":"0",(Cp=re[Xt])&&(Xt=Cp(he,ci)),W.push(Xt),Ve=Gt+1);return W.push(B.slice(Ve,Gt)),W.join("")}}function I(B,re){return function(he){var W=Vd(1900,void 0,1),Gt=P(W,B,he+="",0),Ve,Qt;if(Gt!=he.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(re&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Ve=tE(Vd(W.y,0,1)),Qt=Ve.getUTCDay(),Ve=Qt>4||Qt===0?Mv.ceil(Ve):Mv(Ve),Ve=y0.offset(Ve,(W.V-1)*7),W.y=Ve.getUTCFullYear(),W.m=Ve.getUTCMonth(),W.d=Ve.getUTCDate()+(W.w+6)%7):(Ve=eE(Vd(W.y,0,1)),Qt=Ve.getDay(),Ve=Qt>4||Qt===0?Nv.ceil(Ve):Nv(Ve),Ve=tp.offset(Ve,(W.V-1)*7),W.y=Ve.getFullYear(),W.m=Ve.getMonth(),W.d=Ve.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Qt="Z"in W?tE(Vd(W.y,0,1)).getUTCDay():eE(Vd(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Qt+5)%7:W.w+W.U*7-(Qt+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,tE(W)):eE(W)}}function P(B,re,he,W){for(var Gt=0,Ve=re.length,Qt=he.length,Xt,ci;Gt<Ve;){if(W>=Qt)return-1;if(Xt=re.charCodeAt(Gt++),Xt===37){if(Xt=re.charAt(Gt++),ci=M[Xt in AM?re.charAt(Gt++):Xt],!ci||(W=ci(B,he,W))<0)return-1}else if(Xt!=he.charCodeAt(W++))return-1}return W}function R(B,re,he){var W=u.exec(re.slice(he));return W?(B.p=c.get(W[0].toLowerCase()),he+W[0].length):-1}function O(B,re,he){var W=p.exec(re.slice(he));return W?(B.w=v.get(W[0].toLowerCase()),he+W[0].length):-1}function V(B,re,he){var W=d.exec(re.slice(he));return W?(B.w=f.get(W[0].toLowerCase()),he+W[0].length):-1}function D(B,re,he){var W=_.exec(re.slice(he));return W?(B.m=T.get(W[0].toLowerCase()),he+W[0].length):-1}function k(B,re,he){var W=E.exec(re.slice(he));return W?(B.m=y.get(W[0].toLowerCase()),he+W[0].length):-1}function Y(B,re,he){return P(B,e,re,he)}function oe(B,re,he){return P(B,n,re,he)}function G(B,re,he){return P(B,r,re,he)}function K(B){return a[B.getDay()]}function J(B){return o[B.getDay()]}function te(B){return l[B.getMonth()]}function de(B){return s[B.getMonth()]}function qe(B){return i[+(B.getHours()>=12)]}function De(B){return 1+~~(B.getMonth()/3)}function ke(B){return a[B.getUTCDay()]}function ut(B){return o[B.getUTCDay()]}function $t(B){return l[B.getUTCMonth()]}function Mr(B){return s[B.getUTCMonth()]}function Lt(B){return i[+(B.getUTCHours()>=12)]}function sa(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var re=N(B+="",S);return re.toString=function(){return B},re},parse:function(B){var re=I(B+="",!1);return re.toString=function(){return B},re},utcFormat:function(B){var re=N(B+="",w);return re.toString=function(){return B},re},utcParse:function(B){var re=I(B+="",!0);return re.toString=function(){return B},re}}}var AM={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,Fee=/^%/,zee=/[\\^$*+?|[\]().{}]/g;function Be(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function jee(t){return t.replace(zee,"\\$&")}function Ud(t){return new RegExp("^(?:"+t.map(jee).join("|")+")","i")}function Bd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $ee(t,e,n){var r=gn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Gee(t,e,n){var r=gn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qee(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Hee(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Kee(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function SM(t,e,n){var r=gn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xM(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Yee(t,e,n){var r=gn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Jee(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function wM(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Qee(t,e,n){var r=gn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function IM(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Xee(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Zee(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ete(t,e,n){var r=gn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function tte(t,e,n){var r=gn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function nte(t,e,n){var r=Fee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function rte(t,e,n){var r=gn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ite(t,e,n){var r=gn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function CM(t,e){return Be(t.getDate(),e,2)}function ote(t,e){return Be(t.getHours(),e,2)}function ate(t,e){return Be(t.getHours()%12||12,e,2)}function ste(t,e){return Be(1+tp.count(Uo(t),t),e,3)}function jz(t,e){return Be(t.getMilliseconds(),e,3)}function lte(t,e){return jz(t,e)+"000"}function ute(t,e){return Be(t.getMonth()+1,e,2)}function cte(t,e){return Be(t.getMinutes(),e,2)}function dte(t,e){return Be(t.getSeconds(),e,2)}function fte(t){var e=t.getDay();return e===0?7:e}function hte(t,e){return Be(_0.count(Uo(t)-1,t),e,2)}function $z(t){var e=t.getDay();return e>=4||e===0?hc(t):hc.ceil(t)}function pte(t,e){return t=$z(t),Be(hc.count(Uo(t),t)+(Uo(t).getDay()===4),e,2)}function mte(t){return t.getDay()}function gte(t,e){return Be(Nv.count(Uo(t)-1,t),e,2)}function vte(t,e){return Be(t.getFullYear()%100,e,2)}function yte(t,e){return t=$z(t),Be(t.getFullYear()%100,e,2)}function _te(t,e){return Be(t.getFullYear()%1e4,e,4)}function bte(t,e){var n=t.getDay();return t=n>=4||n===0?hc(t):hc.ceil(t),Be(t.getFullYear()%1e4,e,4)}function Ete(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Be(e/60|0,"0",2)+Be(e%60,"0",2)}function PM(t,e){return Be(t.getUTCDate(),e,2)}function Tte(t,e){return Be(t.getUTCHours(),e,2)}function Ate(t,e){return Be(t.getUTCHours()%12||12,e,2)}function Ste(t,e){return Be(1+y0.count(Bo(t),t),e,3)}function Gz(t,e){return Be(t.getUTCMilliseconds(),e,3)}function xte(t,e){return Gz(t,e)+"000"}function wte(t,e){return Be(t.getUTCMonth()+1,e,2)}function Ite(t,e){return Be(t.getUTCMinutes(),e,2)}function Cte(t,e){return Be(t.getUTCSeconds(),e,2)}function Pte(t){var e=t.getUTCDay();return e===0?7:e}function Rte(t,e){return Be(b0.count(Bo(t)-1,t),e,2)}function qz(t){var e=t.getUTCDay();return e>=4||e===0?pc(t):pc.ceil(t)}function Nte(t,e){return t=qz(t),Be(pc.count(Bo(t),t)+(Bo(t).getUTCDay()===4),e,2)}function Mte(t){return t.getUTCDay()}function Ote(t,e){return Be(Mv.count(Bo(t)-1,t),e,2)}function Dte(t,e){return Be(t.getUTCFullYear()%100,e,2)}function kte(t,e){return t=qz(t),Be(t.getUTCFullYear()%100,e,2)}function Lte(t,e){return Be(t.getUTCFullYear()%1e4,e,4)}function Vte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?pc(t):pc.ceil(t),Be(t.getUTCFullYear()%1e4,e,4)}function Ute(){return"+0000"}function RM(){return"%"}function NM(t){return+t}function MM(t){return Math.floor(+t/1e3)}var Zl,Hz,Kz;Bte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bte(t){return Zl=Bee(t),Hz=Zl.format,Zl.parse,Kz=Zl.utcFormat,Zl.utcParse,Zl}function Fte(t){return new Date(t)}function zte(t){return t instanceof Date?+t:+new Date(+t)}function Cw(t,e,n,r,i,o,a,s,l,u){var c=pw(),d=c.invert,f=c.domain,p=u(".%L"),v=u(":%S"),E=u("%I:%M"),y=u("%I %p"),_=u("%a %d"),T=u("%b %d"),S=u("%B"),w=u("%Y");function M(N){return(l(N)<N?p:s(N)<N?v:a(N)<N?E:o(N)<N?y:r(N)<N?i(N)<N?_:T:n(N)<N?S:w)(N)}return c.invert=function(N){return new Date(d(N))},c.domain=function(N){return arguments.length?f(Array.from(N,zte)):f().map(Fte)},c.ticks=function(N){var I=f();return t(I[0],I[I.length-1],N??10)},c.tickFormat=function(N,I){return I==null?M:u(I)},c.nice=function(N){var I=f();return(!N||typeof N.range!="function")&&(N=e(I[0],I[I.length-1],N??10)),N?f(Oz(I,N)):c},c.copy=function(){return ep(c,Cw(t,e,n,r,i,o,a,s,l,u))},c}function jte(){return li.apply(Cw(Vee,Uee,Uo,ww,_0,tp,Sw,Tw,Qs,Hz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $te(){return li.apply(Cw(kee,Lee,Bo,Iw,b0,y0,xw,Aw,Qs,Kz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function E0(){var t=0,e=1,n,r,i,o,a=qn,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(f){var p,v;return arguments.length?([p,v]=f,a=d(p,v),u):[a(0),a(1)]}}return u.range=c(Lc),u.rangeRound=c(hw),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Ts(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Wz(){var t=Es(E0()(qn));return t.copy=function(){return Ts(t,Wz())},Xo.apply(t,arguments)}function Yz(){var t=vw(E0()).domain([1,10]);return t.copy=function(){return Ts(t,Yz()).base(t.base())},Xo.apply(t,arguments)}function Jz(){var t=yw(E0());return t.copy=function(){return Ts(t,Jz()).constant(t.constant())},Xo.apply(t,arguments)}function Pw(){var t=_w(E0());return t.copy=function(){return Ts(t,Pw()).exponent(t.exponent())},Xo.apply(t,arguments)}function Gte(){return Pw.apply(null,arguments).exponent(.5)}function Qz(){var t=[],e=qn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Xh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Wa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>PZ(t,o/r))},n.copy=function(){return Qz(e).domain(t)},Xo.apply(n,arguments)}function T0(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=qn,c,d=!1,f;function p(E){return isNaN(E=+E)?f:(E=.5+((E=+c(E))-o)*(r*E<r*o?s:l),u(d?Math.max(0,Math.min(1,E)):E))}p.domain=function(E){return arguments.length?([t,e,n]=E,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(E){return arguments.length?(d=!!E,p):d},p.interpolator=function(E){return arguments.length?(u=E,p):u};function v(E){return function(y){var _,T,S;return arguments.length?([_,T,S]=y,u=nee(E,[_,T,S]),p):[u(0),u(.5),u(1)]}}return p.range=v(Lc),p.rangeRound=v(hw),p.unknown=function(E){return arguments.length?(f=E,p):f},function(E){return c=E,i=E(t),o=E(e),a=E(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function Xz(){var t=Es(T0()(qn));return t.copy=function(){return Ts(t,Xz())},Xo.apply(t,arguments)}function Zz(){var t=vw(T0()).domain([.1,1,10]);return t.copy=function(){return Ts(t,Zz()).base(t.base())},Xo.apply(t,arguments)}function ej(){var t=yw(T0());return t.copy=function(){return Ts(t,ej()).constant(t.constant())},Xo.apply(t,arguments)}function Rw(){var t=_w(T0());return t.copy=function(){return Ts(t,Rw()).exponent(t.exponent())},Xo.apply(t,arguments)}function qte(){return Rw.apply(null,arguments).exponent(.5)}const tf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cw,scaleDiverging:Xz,scaleDivergingLog:Zz,scaleDivergingPow:Rw,scaleDivergingSqrt:qte,scaleDivergingSymlog:ej,scaleIdentity:Mz,scaleImplicit:hA,scaleLinear:Nz,scaleLog:Dz,scaleOrdinal:uw,scalePoint:MZ,scalePow:bw,scaleQuantile:Vz,scaleQuantize:Uz,scaleRadial:Lz,scaleSequential:Wz,scaleSequentialLog:Yz,scaleSequentialPow:Pw,scaleSequentialQuantile:Qz,scaleSequentialSqrt:Gte,scaleSequentialSymlog:Jz,scaleSqrt:xee,scaleSymlog:kz,scaleThreshold:Bz,scaleTime:jte,scaleUtc:$te,tickFormat:Rz},Symbol.toStringTag,{value:"Module"}));var Zo=t=>t.chartData,np=U([Zo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),A0=(t,e,n,r)=>r?np(t):Zo(t),tj=(t,e,n)=>n?np(t):Zo(t);function Fo(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Te(e)&&Te(n))return!0}return!1}function OM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function nj(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Te(n))i=n;else if(typeof n=="function")return;if(Te(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(Fo(a))return a}}function Hte(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Fo(r))return OM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,s;if(i==="auto")e!=null&&(a=Math.min(...e));else if(ie(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&QR.test(i)){var l=QR.exec(i);if(l==null||l[1]==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(s=Math.max(...e));else if(ie(o))s=o;else if(typeof o=="function")try{e!=null&&(s=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&XR.test(o)){var c=XR.exec(o);if(c==null||c[1]==null||e==null)s=void 0;else{var d=+c[1];s=e[1]+d}}else s=e==null?void 0:e[1];var f=[a,s];if(Fo(f))return e==null?f:OM(f,e,n)}}}var Vc=1e9,Kte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Mw,At=!0,ti="[DecimalError] ",sl=ti+"Invalid argument: ",Nw=ti+"Exponent out of range: ",Uc=Math.floor,zs=Math.pow,Wte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yr,cn=1e7,gt=7,rj=9007199254740991,Ov=Uc(rj/gt),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*gt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return Co(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return ot(Co(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return Jt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(yr))throw Error(ti+"NaN");if(n.s<1)throw Error(ti+(n.s?"NaN":"-Infinity"));return n.eq(yr)?new r(0):(At=!1,e=Co(ah(n,o),ah(t,o),o),At=!0,ot(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aj(e,t):ij(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ti+"NaN");return n.s?(At=!1,e=Co(n,t,0,1).times(t),At=!0,n.minus(e)):ot(new r(n),i)};ae.naturalExponential=ae.exp=function(){return oj(this)};ae.naturalLogarithm=ae.ln=function(){return ah(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ij(e,t):aj(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sl+t);if(e=Jt(i)+1,r=i.d.length-1,n=r*gt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ti+"NaN")}for(t=Jt(s),At=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Vi(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Uc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Co(s,o,a+2)).times(.5),Vi(o.d).slice(0,a)===(e=Vi(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ot(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return At=!0,ot(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,f=c.d,p=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=f.length,u=p.length,l<u&&(o=f,f=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*f[i-r-1]+e,o[i--]=s%cn|0,e=s/cn|0;o[i]=(o[i]+e)%cn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,At?ot(t,d.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wi(t,0,Vc),e===void 0?e=r.rounding:Wi(e,0,8),ot(n,t+Jt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Tl(r,!0):(Wi(t,0,Vc),e===void 0?e=i.rounding:Wi(e,0,8),r=ot(new i(r),t+1,e),n=Tl(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Tl(i):(Wi(t,0,Vc),e===void 0?e=o.rounding:Wi(e,0,8),r=ot(new o(i),t+Jt(i)+1,e),n=Tl(r.abs(),!1,t+Jt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return ot(new e(t),Jt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(yr);if(s=new l(s),!s.s){if(t.s<1)throw Error(ti+"Infinity");return s}if(s.eq(yr))return s;if(r=l.precision,t.eq(yr))return ot(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=rj){for(i=new l(yr),e=Math.ceil(r/gt+4),At=!1;n%2&&(i=i.times(s),kM(i.d,e)),n=Uc(n/2),n!==0;)s=s.times(s),kM(s.d,e);return At=!0,t.s<0?new l(yr).div(i):ot(i,r)}}else if(o<0)throw Error(ti+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,At=!1,i=t.times(ah(s,r+u)),At=!0,i=oj(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Jt(i),r=Tl(i,n<=o.toExpNeg||n>=o.toExpPos)):(Wi(t,1,Vc),e===void 0?e=o.rounding:Wi(e,0,8),i=ot(new o(i),t,e),n=Jt(i),r=Tl(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wi(t,1,Vc),e===void 0?e=r.rounding:Wi(e,0,8)),ot(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Jt(t),n=t.constructor;return Tl(t,e<=n.toExpNeg||e>=n.toExpPos)};function ij(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),At?ot(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/gt),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/cn|0,l[o]%=cn;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,At?ot(e,d):e}function Wi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(sl+t)}function Vi(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=gt-r.length,n&&(o+=_a(n)),o+=r;a=t[e],r=a+"",n=gt-r.length,n&&(o+=_a(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Co=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%cn|0,a=o/cn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*cn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,f,p,v,E,y,_,T,S,w,M,N,I,P,R=r.constructor,O=r.s==i.s?1:-1,V=r.d,D=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(ti+"Division by zero");for(l=r.e-i.e,I=D.length,M=V.length,p=new R(O),v=p.d=[],u=0;D[u]==(V[u]||0);)++u;if(D[u]>(V[u]||0)&&--l,o==null?T=o=R.precision:a?T=o+(Jt(r)-Jt(i))+1:T=o,T<0)return new R(0);if(T=T/gt+2|0,u=0,I==1)for(c=0,D=D[0],T++;(u<M||c)&&T--;u++)S=c*cn+(V[u]||0),v[u]=S/D|0,c=S%D|0;else{for(c=cn/(D[0]+1)|0,c>1&&(D=t(D,c),V=t(V,c),I=D.length,M=V.length),w=I,E=V.slice(0,I),y=E.length;y<I;)E[y++]=0;P=D.slice(),P.unshift(0),N=D[0],D[1]>=cn/2&&++N;do c=0,s=e(D,E,I,y),s<0?(_=E[0],I!=y&&(_=_*cn+(E[1]||0)),c=_/N|0,c>1?(c>=cn&&(c=cn-1),d=t(D,c),f=d.length,y=E.length,s=e(d,E,f,y),s==1&&(c--,n(d,I<f?P:D,f))):(c==0&&(s=c=1),d=D.slice()),f=d.length,f<y&&d.unshift(0),n(E,d,y),s==-1&&(y=E.length,s=e(D,E,I,y),s<1&&(c++,n(E,I<y?P:D,y))),y=E.length):s===0&&(c++,E=[0]),v[u++]=c,s&&E[0]?E[y++]=V[w]||0:(E=[V[w]],y=1);while((w++<M||E[0]!==void 0)&&T--)}return v[0]||v.shift(),p.e=l,ot(p,a?o+Jt(p)+1:o)}}();function oj(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(Jt(t)>16)throw Error(Nw+Jt(t));if(!t.s)return new c(yr);for(At=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(zs(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(yr),c.precision=s;;){if(i=ot(i.times(t),s),n=n.times(++l),a=o.plus(Co(i,n,s)),Vi(a.d).slice(0,s)===Vi(o.d).slice(0,s)){for(;u--;)o=ot(o.times(o),s);return c.precision=d,e==null?(At=!0,ot(o,d)):o}o=a}}function Jt(t){for(var e=t.e*gt,n=t.d[0];n>=10;n/=10)e++;return e}function nE(t,e,n){if(e>t.LN10.sd())throw At=!0,n&&(t.precision=n),Error(ti+"LN10 precision limit exceeded");return ot(new t(t.LN10),e)}function _a(t){for(var e="";t--;)e+="0";return e}function ah(t,e){var n,r,i,o,a,s,l,u,c,d=1,f=10,p=t,v=p.d,E=p.constructor,y=E.precision;if(p.s<1)throw Error(ti+(p.s?"NaN":"-Infinity"));if(p.eq(yr))return new E(0);if(e==null?(At=!1,u=y):u=e,p.eq(10))return e==null&&(At=!0),nE(E,u);if(u+=f,E.precision=u,n=Vi(v),r=n.charAt(0),o=Jt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Vi(p.d),r=n.charAt(0),d++;o=Jt(p),r>1?(p=new E("0."+n),o++):p=new E(r+"."+n.slice(1))}else return l=nE(E,u+2,y).times(o+""),p=ah(new E(r+"."+n.slice(1)),u-f).plus(l),E.precision=y,e==null?(At=!0,ot(p,y)):p;for(s=a=p=Co(p.minus(yr),p.plus(yr),u),c=ot(p.times(p),u),i=3;;){if(a=ot(a.times(c),u),l=s.plus(Co(a,new E(i),u)),Vi(l.d).slice(0,u)===Vi(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(nE(E,u+2,y).times(o+""))),s=Co(s,new E(d),u),E.precision=y,e==null?(At=!0,ot(s,y)):s;s=l,i+=2}}function DM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Uc(n/gt),t.d=[],r=(n+1)%gt,n<0&&(r+=gt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=gt;r<i;)t.d.push(+e.slice(r,r+=gt));e=e.slice(r),r=gt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),At&&(t.e>Ov||t.e<-Ov))throw Error(Nw+n)}else t.s=0,t.e=0,t.d=[0];return t}function ot(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=gt,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/gt),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=gt,i=r-gt+a}if(n!==void 0&&(o=zs(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/zs(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=Jt(t),d.length=1,e=e-o-1,d[0]=zs(10,(gt-e%gt)%gt),t.e=Uc(-e/gt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=zs(10,gt-r),d[c]=i>0?(u/zs(10,a-i)%zs(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==cn&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=cn)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(At&&(t.e>Ov||t.e<-Ov))throw Error(Nw+Jt(t));return t}function aj(t,e){var n,r,i,o,a,s,l,u,c,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),At?ot(e,p):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(p/gt),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=cn-1;--l[o],l[i]+=cn}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,At?ot(e,p):e):new f(0)}function Tl(t,e,n){var r,i=Jt(t),o=Vi(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+_a(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+_a(-i-1)+o,n&&(r=n-a)>0&&(o+=_a(r))):i>=a?(o+=_a(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+_a(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=_a(r))),t.s<0?"-"+o:o}function kM(t,e){if(t.length>e)return t.length=e,!0}function sj(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(sl+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return DM(a,o.toString())}else if(typeof o!="string")throw Error(sl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Wte.test(o))DM(a,o);else throw Error(sl+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=sj,i.config=i.set=Yte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Yte(t){if(!t||typeof t!="object")throw Error(ti+"Object expected");var e,n,r,i=["precision",1,Vc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Uc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(sl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sl+n+": "+r);return this}var Mw=sj(Kte);yr=new Mw(1);const Je=Mw;function lj(t){var e;return t===0?e=1:e=Math.floor(new Je(t).abs().log(10).toNumber())+1,e}function uj(t,e,n){for(var r=new Je(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var cj=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},dj=(t,e,n)=>{if(t.lte(0))return new Je(0);var r=lj(t.toNumber()),i=new Je(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Je(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?new Je(l.toNumber()):new Je(Math.ceil(l.toNumber()))},Jte=(t,e,n)=>{var r=new Je(1),i=new Je(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Je(10).pow(lj(t)-1),i=new Je(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Je(Math.floor(t)))}else t===0?i=new Je(Math.floor((e-1)/2)):n||(i=new Je(Math.floor(t)));for(var a=Math.floor((e-1)/2),s=[],l=0;l<e;l++)s.push(i.add(new Je(l-a).mul(r)).toNumber());return s},fj=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var a=dj(new Je(n).sub(e).div(r-1),i,o),s;e<=0&&n>=0?s=new Je(0):(s=new Je(e).add(n).div(2),s=s.sub(new Je(s).mod(a)));var l=Math.ceil(s.sub(e).div(a).toNumber()),u=Math.ceil(new Je(n).sub(s).div(a).toNumber()),c=l+u+1;return c>r?fj(e,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:a,tickMin:s.sub(new Je(l).mul(a)),tickMax:s.add(new Je(u).mul(a))})},Qte=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[s,l]=cj([n,r]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return n>r?u.reverse():u}if(s===l)return Jte(s,i,o);var{step:c,tickMin:d,tickMax:f}=fj(s,l,a,o,0),p=uj(d,f.add(new Je(.1).mul(c)),c);return n>r?p.reverse():p},Xte=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=cj([r,i]);if(a===-1/0||s===1/0)return[r,i];if(a===s)return[a];var l=Math.max(n,2),u=dj(new Je(s).sub(a).div(l-1),o,0),c=[...uj(new Je(a),new Je(s),u),s];return o===!1&&(c=c.map(d=>Math.round(d))),r>i?c.reverse():c},hj=t=>t.rootProps.maxBarSize,Zte=t=>t.rootProps.barGap,pj=t=>t.rootProps.barCategoryGap,ene=t=>t.rootProps.barSize,rp=t=>t.rootProps.stackOffset,mj=t=>t.rootProps.reverseStackOrder,Ow=t=>t.options.chartName,Dw=t=>t.rootProps.syncId,gj=t=>t.rootProps.syncMethod,kw=t=>t.options.eventEmitter,tne=t=>t.rootProps.baseValue,at={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ga={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:at.axis},hi={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:at.axis},S0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Bc(t,e,n){if(n!=="auto")return n;if(t!=null)return ai(t,e)?"category":"number"}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nne(t,e,n){return(e=rne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rne(t){var e=ine(t,"string");return typeof e=="symbol"?e:e+""}function ine(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VM={allowDataOverflow:ga.allowDataOverflow,allowDecimals:ga.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ga.angleAxisId,includeHidden:!1,name:void 0,reversed:ga.reversed,scale:ga.scale,tick:ga.tick,tickCount:void 0,ticks:void 0,type:ga.type,unit:void 0},UM={allowDataOverflow:hi.allowDataOverflow,allowDecimals:hi.allowDecimals,allowDuplicatedCategory:hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hi.radiusAxisId,includeHidden:hi.includeHidden,name:void 0,reversed:hi.reversed,scale:hi.scale,tick:hi.tick,tickCount:hi.tickCount,ticks:void 0,type:hi.type,unit:void 0},one=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},Fc=U([one,ow],(t,e)=>{var n;if(t!=null)return t;var r=(n=Bc(e,"angleAxis",VM.type))!==null&&n!==void 0?n:"category";return Dv(Dv({},VM),{},{type:r})}),ane=(t,e)=>t.polarAxis.radiusAxis[e],ip=U([ane,ow],(t,e)=>{var n;if(t!=null)return t;var r=(n=Bc(e,"radiusAxis",UM.type))!==null&&n!==void 0?n:"category";return Dv(Dv({},UM),{},{type:r})}),x0=t=>t.polarOptions,Lw=U([Jo,Qo,rn],pz),vj=U([x0,Lw],(t,e)=>{if(t!=null)return Un(t.innerRadius,e,0)}),yj=U([x0,Lw],(t,e)=>{if(t!=null)return Un(t.outerRadius,e,e*.8)}),sne=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},_j=U([x0],sne),lne=U([Fc,_j],S0),bj=U([Lw,vj,yj],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),une=U([ip,bj],S0),zc=U([Ae,x0,vj,yj,Jo,Qo],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:s,startAngle:l,endAngle:u}=e;return{cx:Un(a,i,i/2),cy:Un(s,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),ht=(t,e)=>e,op=(t,e,n)=>n;function w0(t){return t==null?void 0:t.id}function Ej(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return t.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=w0(s);u.forEach((d,f)=>{var p=o==null||i?f:String(Ne(d,o,null)),v=Ne(d,s.dataKey,0),E;a.has(p)?E=a.get(p):E={},Object.assign(E,{[c]:v}),a.set(p,E)})}}),Array.from(a.values())}function I0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var C0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function P0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function cne(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var vn=t=>{var e=Ae(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},jc=t=>t.tooltip.settings.axisId;function dne(t){if(t in tf)return tf[t]();var e="scale".concat($h(t));if(e in tf)return tf[e]()}function BM(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:function(o){function a(){return o.apply(this,arguments)}return a.toString=function(){return o.toString()},a}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var a=i[0],s=i[1];return a<=s?o>=a&&o<=s:o>=s&&o<=a},bandwidth:n?()=>n.call(t):void 0,ticks:e?o=>e.call(t,o):void 0,map:(o,a)=>{var s=t(o);if(s!=null){if(t.bandwidth&&a!==null&&a!==void 0&&a.position){var l=t.bandwidth();switch(a.position){case"middle":s+=l/2;break;case"end":s+=l;break}}return s}}}}function FM(t,e,n){if(typeof t=="function")return BM(t.copy().domain(e).range(n));if(t!=null){var r=dne(t);if(r!=null)return r.domain(e).range(n),BM(r)}}var Tj=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Fo(e)){for(var n,r,i=0;i<e.length;i++){var o=e[i];Te(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fne(t,e,n){return(e=hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hne(t){var e=pne(t,"string");return typeof e=="symbol"?e:e+""}function pne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vA=[0,"auto"],ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Aj=(t,e)=>t.cartesianAxis.xAxis[e],ea=(t,e)=>{var n=Aj(t,e);return n??ln},un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:vA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Kh},Sj=(t,e)=>t.cartesianAxis.yAxis[e],ta=(t,e)=>{var n=Sj(t,e);return n??un},_o={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Vw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??_o},kt=(t,e,n)=>{switch(e){case"xAxis":return ea(t,n);case"yAxis":return ta(t,n);case"zAxis":return Vw(t,n);case"angleAxis":return Fc(t,n);case"radiusAxis":return ip(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},mne=(t,e,n)=>{switch(e){case"xAxis":return ea(t,n);case"yAxis":return ta(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jl=(t,e,n)=>{switch(e){case"xAxis":return ea(t,n);case"yAxis":return ta(t,n);case"angleAxis":return Fc(t,n);case"radiusAxis":return ip(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xj=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Uw(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var $c=t=>t.graphicalItems.cartesianItems,gne=U([ht,op],Uw),Bw=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),ap=U([$c,kt,gne],Bw,{memoizeOptions:{resultEqualityCheck:P0}}),wj=U([ap],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(I0)),Ij=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),vne=U([ap],Ij),Fw=t=>t.map(e=>e.data).filter(Boolean).flat(1),yne=U([ap],Fw,{memoizeOptions:{resultEqualityCheck:P0}}),zw=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},jw=U([yne,A0],zw),$w=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Ne(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Ne(i,r)}))):t.map(r=>({value:r})),R0=U([jw,kt,ap],$w);function Cj(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function rg(t){if(qi(t)||t instanceof Date){var e=Number(t);if(Te(e))return e}}function jM(t){if(Array.isArray(t)){var e=[rg(t[0]),rg(t[1])];return Fo(e)?e:void 0}var n=rg(t);if(n!=null)return[n,n]}function zo(t){return t.map(rg).filter(rr)}function _ne(t,e,n){return!n||typeof e!="number"||Ai(e)?[]:n.length?zo(n.flatMap(r=>{var i=Ne(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!Te(o)||!Te(a)))return[e-o,e+a]})):[]}var an=t=>{var e=vn(t),n=jc(t);return jl(t,e,n)},sp=U([an],t=>t==null?void 0:t.dataKey),bne=U([wj,A0,an],Ej),Pj=(t,e,n,r)=>{var i={},o=e.reduce((a,s)=>{if(s.stackId==null)return a;var l=a[s.stackId];return l==null&&(l=[]),l.push(s),a[s.stackId]=l,a},i);return Object.fromEntries(Object.entries(o).map(a=>{var[s,l]=a,u=r?[...l].reverse():l,c=u.map(w0);return[s,{stackedData:WJ(t,c,n),graphicalItems:u}]}))},Lv=U([bne,wj,rp,mj],Pj),Rj=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var a=XJ(t,i,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Ene=U([kt],t=>t.allowDataOverflow),Gw=t=>{var e;if(t==null||!("domain"in t))return vA;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=zo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:vA},qw=U([kt],Gw),Hw=U([qw,Ene],nj),Tne=U([Lv,Zo,ht,Hw],Rj,{memoizeOptions:{resultEqualityCheck:C0}}),N0=t=>t.errorBars,Ane=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Cj(n,r)),Vv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),s=Math.max(...o);return[a,s]}},Kw=(t,e,n,r,i)=>{var o,a;if(n.length>0&&t.forEach(s=>{n.forEach(l=>{var u,c,d=(u=r[l.id])===null||u===void 0?void 0:u.filter(_=>Cj(i,_)),f=Ne(s,(c=e.dataKey)!==null&&c!==void 0?c:l.dataKey),p=_ne(s,f,d);if(p.length>=2){var v=Math.min(...p),E=Math.max(...p);(o==null||v<o)&&(o=v),(a==null||E>a)&&(a=E)}var y=jM(f);y!=null&&(o=o==null?y[0]:Math.min(o,y[0]),a=a==null?y[1]:Math.max(a,y[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(s=>{var l=jM(Ne(s,e.dataKey));l!=null&&(o=o==null?l[0]:Math.min(o,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),Te(o)&&Te(a))return[o,a]},Sne=U([jw,kt,vne,N0,ht],Kw,{memoizeOptions:{resultEqualityCheck:C0}});function xne(t){var{value:e}=t;if(qi(e)||e instanceof Date)return e}var wne=(t,e,n)=>{var r=t.map(xne).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&P4(r))?Ez(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Nj=t=>t.referenceElements.dots,Gc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ine=U([Nj,ht,op],Gc),Mj=t=>t.referenceElements.areas,Cne=U([Mj,ht,op],Gc),Oj=t=>t.referenceElements.lines,Pne=U([Oj,ht,op],Gc),Dj=(t,e)=>{if(t!=null){var n=zo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Rne=U(Ine,ht,Dj),kj=(t,e)=>{if(t!=null){var n=zo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Nne=U([Cne,ht],kj);function Mne(t){var e;if(t.x!=null)return zo([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:zo(n)}function One(t){var e;if(t.y!=null)return zo([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:zo(n)}var Lj=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Mne(r):One(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Dne=U([Pne,ht],Lj),kne=U(Rne,Dne,Nne,(t,e,n)=>Vv(t,n,e)),Ww=(t,e,n,r,i,o,a,s)=>{if(n!=null)return n;var l=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=l?Vv(r,o,i):Vv(o,i);return Hte(e,u,t.allowDataOverflow)},Lne=U([kt,qw,Hw,Tne,Sne,kne,Ae,ht],Ww,{memoizeOptions:{resultEqualityCheck:C0}}),Vne=[0,1],Yw=(t,e,n,r,i,o,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:s,type:l}=t,u=ai(e,o);if(u&&s==null){var c;return Ez(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?wne(r,t,u):i==="expand"?Vne:a}},Jw=U([kt,Ae,jw,R0,rp,ht,Lne],Yw);function Une(t){return t in tf}var Vj=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat($h(r));return Une(o)?o:"point"}}},Xi=U([kt,xj,Ow],Vj);function M0(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?FM(t.scale,n,r):FM(e,n,r)}var Qw=(t,e,n)=>{var r=Gw(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Fo(t))return Qte(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Fo(t))return Xte(t,e.tickCount,e.allowDecimals)}},Xw=U([Jw,jl,Xi],Qw),Zw=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Fo(e)&&Array.isArray(n)&&n.length>0){var i,o,a=e[0],s=(i=n[0])!==null&&i!==void 0?i:0,l=e[1],u=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(a,s),Math.max(l,u)]}return e},Bne=U([kt,Jw,Xw,ht],Zw),Fne=U(R0,kt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(zo(t.map(d=>d.value))).sort((d,f)=>d-f),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var a=o-i;if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/a}}),Uj=U(Fne,Ae,pj,rn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Te(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=Un(n,t*o),s=t*o/2;return s-a-(s-a)/o*a}return 0}),zne=(t,e,n)=>{var r=ea(t,e);return r==null||typeof r.padding!="string"?0:Uj(t,"xAxis",e,n,r.padding)},jne=(t,e,n)=>{var r=ta(t,e);return r==null||typeof r.padding!="string"?0:Uj(t,"yAxis",e,n,r.padding)},$ne=U(ea,zne,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Gne=U(ta,jne,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),qne=U([rn,$ne,h0,f0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),Hne=U([rn,Ae,Gne,h0,f0,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),lp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return qne(t,n,r);case"yAxis":return Hne(t,n,r);case"zAxis":return(i=Vw(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return _j(t);case"radiusAxis":return bj(t,n);default:return}},Bj=U([kt,lp],S0),Kne=U([Xi,Bne],Tj),O0=U([kt,Xi,Kne,Bj],M0);U([ap,N0,ht],Ane);function Fj(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var D0=(t,e)=>e,k0=(t,e,n)=>n,Wne=U(c0,D0,k0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Fj)),Yne=U(d0,D0,k0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Fj)),zj=(t,e)=>({width:t.width,height:e.height}),Jne=(t,e)=>{var n=typeof e.width=="number"?e.width:Kh;return{width:n,height:t.height}},jj=U(rn,ea,zj),Qne=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Xne=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Zne=U(Qo,rn,Wne,D0,k0,(t,e,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=zj(e,s);a==null&&(a=Qne(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;o[s.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),o}),ere=U(Jo,rn,Yne,D0,k0,(t,e,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=Jne(e,s);a==null&&(a=Xne(e,r,t));var u=r==="left"&&!i||r==="right"&&i;o[s.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),o}),tre=(t,e)=>{var n=ea(t,e);if(n!=null)return Zne(t,n.orientation,n.mirror)},nre=U([rn,ea,tre,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),rre=(t,e)=>{var n=ta(t,e);if(n!=null)return ere(t,n.orientation,n.mirror)},ire=U([rn,ta,rre,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),$j=U(rn,ta,(t,e)=>{var n=typeof e.width=="number"?e.width:Kh;return{width:n,height:t.height}}),$M=(t,e,n)=>{switch(e){case"xAxis":return jj(t,n).width;case"yAxis":return $j(t,n).height;default:return}},Gj=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,s=ai(t,r),l=e.map(u=>u.value);if(a&&s&&o==="category"&&i&&P4(l))return l}},up=U([Ae,R0,kt,ht],Gj),eI=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=ai(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(s=>s.value)}},tI=U([Ae,R0,jl,ht],eI),GM=U([Ae,mne,Xi,O0,up,tI,lp,Xw,ht],(t,e,n,r,i,o,a,s,l)=>{if(e!=null){var u=ai(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:s,range:a,realScaleType:n,scale:r}}}),qj=(t,e,n,r,i,o,a,s,l)=>{if(!(e==null||r==null)){var u=ai(t,l),{type:c,ticks:d,tickCount:f}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=c==="category"&&r.bandwidth?r.bandwidth()/p:0;v=l==="angleAxis"&&o!=null&&o.length>=2?pn(o[0]-o[1])*2*v:v;var E=d||i;return E?E.map((y,_)=>{var T=a?a.indexOf(y):y,S=r.map(T);return Te(S)?{index:_,coordinate:S+v,value:y,offset:v}:null}).filter(rr):u&&s?s.map((y,_)=>{var T=r.map(y);return Te(T)?{coordinate:T+v,value:y,index:_,offset:v}:null}).filter(rr):r.ticks?r.ticks(f).map((y,_)=>{var T=r.map(y);return Te(T)?{coordinate:T+v,value:y,index:_,offset:v}:null}).filter(rr):r.domain().map((y,_)=>{var T=r.map(y);return Te(T)?{coordinate:T+v,value:a?a[y]:y,index:_,offset:v}:null}).filter(rr)}},Hj=U([Ae,jl,Xi,O0,Xw,lp,up,tI,ht],qj),Kj=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var s=ai(t,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?pn(r[0]-r[1])*2*u:u,s&&o?o.map((c,d)=>{var f=n.map(c);return Te(f)?{coordinate:f+u,value:c,index:d,offset:u}:null}).filter(rr):n.ticks?n.ticks(l).map((c,d)=>{var f=n.map(c);return Te(f)?{coordinate:f+u,value:c,index:d,offset:u}:null}).filter(rr):n.domain().map((c,d)=>{var f=n.map(c);return Te(f)?{coordinate:f+u,value:i?i[c]:c,index:d,offset:u}:null}).filter(rr)}},ni=U([Ae,jl,O0,lp,up,tI,ht],Kj),ri=U(kt,O0,(t,e)=>{if(!(t==null||e==null))return kv(kv({},t),{},{scale:e})}),ore=U([kt,Xi,Jw,Bj],M0),are=U((t,e,n)=>Vw(t,n),ore,(t,e)=>{if(!(t==null||e==null))return kv(kv({},t),{},{scale:e})}),sre=U([Ae,c0,d0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Wj=t=>t.options.defaultTooltipEventType,Yj=t=>t.options.validateTooltipEventTypes;function Jj(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function nI(t,e){var n=Wj(t),r=Yj(t);return Jj(e,n,r)}function lre(t){return Z(e=>nI(e,t))}var Qj=(t,e)=>{var n,r=Number(e);if(!(Ai(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},ure=t=>t.tooltip.settings,xa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},cre={itemInteraction:{click:xa,hover:xa},axisInteraction:{click:xa,hover:xa},keyboardInteraction:xa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Xj=fr({name:"tooltip",initialState:cre,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Et()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=bi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Et()},removeTooltipEntrySettings:{reducer(t,e){var n=bi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Et()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:dre,replaceTooltipEntrySettings:fre,removeTooltipEntrySettings:hre,setTooltipSettingsState:pre,setActiveMouseOverItemIndex:Zj,mouseLeaveItem:mre,mouseLeaveChart:e$,setActiveClickItemIndex:gre,setMouseOverAxisIndex:t$,setMouseClickAxisIndex:vre,setSyncInteraction:yA,setKeyboardInteraction:_A}=Xj.actions,yre=Xj.reducer;function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){_re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _re(t,e,n){return(e=bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bre(t){var e=Ere(t,"string");return typeof e=="symbol"?e:e+""}function Ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tre(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Are(t){return t.index!=null}var n$=(t,e,n,r)=>{if(e==null)return xa;var i=Tre(t,e,n);if(i==null)return xa;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(Are(i)){if(o)return Em(Em({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Em(Em({},xa),{},{coordinate:i.coordinate})};function Sre(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function xre(t,e){var n=Sre(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}function wre(t,e,n){if(n==null||e==null)return!0;var r=Ne(t,e);return r==null||!Fo(n)?!0:xre(r,n)}var rI=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!Te(o))return i;var a=0,s=1/0;e.length>0&&(s=e.length-1);var l=Math.max(a,Math.min(o,s)),u=e[l];return u==null||wre(u,n,r)?String(l):null},r$=(t,e,n,r,i,o,a)=>{if(o!=null){var s=a[0],l=s==null?void 0:s.getPosition(o);if(l!=null)return l;var u=i==null?void 0:i[Number(o)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},i$=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=t.tooltipItemPayloads[0];return o!=null?[o]:[]}return t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},o$=t=>t.options.tooltipPayloadSearcher,qc=t=>t.tooltip;function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return(e=Cre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cre(t){var e=Pre(t,"string");return typeof e=="symbol"?e:e+""}function Pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rre(t,e){return t??e}var a$=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,d=[];return t.reduce((f,p)=>{var v,{dataDefinedOnItem:E,settings:y}=p,_=Rre(E,s),T=Array.isArray(_)?UF(_,u,c):_,S=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:r,w=y==null?void 0:y.nameKey,M;if(r&&Array.isArray(T)&&!Array.isArray(T[0])&&a==="axis"?M=R4(T,r,i):M=o(T,e,l,w),Array.isArray(M))M.forEach(I=>{var P=KM(KM({},y),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});f.push(ZR({tooltipEntrySettings:P,dataKey:I.dataKey,payload:I.payload,value:Ne(I.payload,I.dataKey),name:I.name}))});else{var N;f.push(ZR({tooltipEntrySettings:y,dataKey:S,payload:M,value:Ne(M,S),name:(N=Ne(M,w))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return f},d)}},iI=U([an,xj,Ow],Vj),Nre=U([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Mre=U([vn,jc],Uw),Hc=U([Nre,an,Mre],Bw,{memoizeOptions:{resultEqualityCheck:P0}}),Ore=U([Hc],t=>t.filter(I0)),Dre=U([Hc],Fw,{memoizeOptions:{resultEqualityCheck:P0}}),Kc=U([Dre,Zo],zw),kre=U([Ore,Zo,an],Ej),oI=U([Kc,an,Hc],$w),s$=U([an],Gw),Lre=U([an],t=>t.allowDataOverflow),l$=U([s$,Lre],nj),Vre=U([Hc],t=>t.filter(I0)),Ure=U([kre,Vre,rp,mj],Pj),Bre=U([Ure,Zo,vn,l$],Rj),Fre=U([Hc],Ij),zre=U([Kc,an,Fre,N0,vn],Kw,{memoizeOptions:{resultEqualityCheck:C0}}),jre=U([Nj,vn,jc],Gc),$re=U([jre,vn],Dj),Gre=U([Mj,vn,jc],Gc),qre=U([Gre,vn],kj),Hre=U([Oj,vn,jc],Gc),Kre=U([Hre,vn],Lj),Wre=U([$re,Kre,qre],Vv),Yre=U([an,s$,l$,Bre,zre,Wre,Ae,vn],Ww),cp=U([an,Ae,Kc,oI,rp,vn,Yre],Yw),Jre=U([cp,an,iI],Qw),Qre=U([an,cp,Jre,vn],Zw),u$=t=>{var e=vn(t),n=jc(t),r=!1;return lp(t,e,n,r)},c$=U([an,u$],S0),d$=U([an,iI,Qre,c$],M0),Xre=U([Ae,oI,an,vn],Gj),Zre=U([Ae,oI,an,vn],eI),eie=(t,e,n,r,i,o,a,s)=>{if(e){var{type:l}=e,u=ai(t,s);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?pn(i[0]-i[1])*2*d:d,u&&a?a.map((f,p)=>{var v=r.map(f);return Te(v)?{coordinate:v+d,value:f,index:p,offset:d}:null}).filter(rr):r.domain().map((f,p)=>{var v=r.map(f);return Te(v)?{coordinate:v+d,value:o?o[f]:f,index:p,offset:d}:null}).filter(rr)}}},na=U([Ae,an,iI,d$,u$,Xre,Zre,vn],eie),aI=U([Wj,Yj,ure],(t,e,n)=>Jj(n.shared,t,e)),f$=t=>t.tooltip.settings.trigger,sI=t=>t.tooltip.settings.defaultIndex,dp=U([qc,aI,f$,sI],n$),jo=U([dp,Kc,sp,cp],rI),h$=U([na,jo],Qj),lI=U([dp],t=>{if(t)return t.dataKey}),tie=U([dp],t=>{if(t)return t.graphicalItemId}),p$=U([qc,aI,f$,sI],i$),nie=U([Jo,Qo,Ae,rn,na,sI,p$],r$),rie=U([dp,nie],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),iie=U([dp],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),oie=U([p$,jo,Zo,sp,h$,o$,aI],a$),aie=U([oie],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sie(t,e,n){return(e=lie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lie(t){var e=uie(t,"string");return typeof e=="symbol"?e:e+""}function uie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cie=()=>Z(an),die=()=>{var t=cie(),e=Z(na),n=Z(d$);return Ki(!t||!n?void 0:YM(YM({},t),{},{scale:n}),e)};function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){fie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fie(t,e,n){return(e=hie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hie(t){var e=pie(t,"string");return typeof e=="symbol"?e:e+""}function pie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mie=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},gie=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:a}=r;return eu(eu(eu({},r),$e(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=r;return eu(eu(eu({},r),$e(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function vie(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var m$=(t,e,n,r,i)=>{var o,a=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<a;s++){var l,u,c,d,f,p=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(u=n[a-1])===null||u===void 0?void 0:u.coordinate,v=(c=n[s])===null||c===void 0?void 0:c.coordinate,E=s>=a-1?(d=n[0])===null||d===void 0?void 0:d.coordinate:(f=n[s+1])===null||f===void 0?void 0:f.coordinate,y=void 0;if(!(p==null||v==null||E==null))if(pn(v-p)!==pn(E-v)){var _=[];if(pn(E-v)===pn(i[1]-i[0])){y=E;var T=v+i[1]-i[0];_[0]=Math.min(T,(T+p)/2),_[1]=Math.max(T,(T+p)/2)}else{y=p;var S=E+i[1]-i[0];_[0]=Math.min(v,(S+v)/2),_[1]=Math.max(v,(S+v)/2)}var w=[Math.min(v,(y+v)/2),Math.max(v,(y+v)/2)];if(t>w[0]&&t<=w[1]||t>=_[0]&&t<=_[1]){var M;return(M=n[s])===null||M===void 0?void 0:M.index}}else{var N=Math.min(p,E),I=Math.max(p,E);if(t>(N+v)/2&&t<=(I+v)/2){var P;return(P=n[s])===null||P===void 0?void 0:P.index}}}else if(e)for(var R=0;R<a;R++){var O=e[R];if(O!=null){var V=e[R+1],D=e[R-1];if(R===0&&V!=null&&t<=(O.coordinate+V.coordinate)/2||R===a-1&&D!=null&&t>(O.coordinate+D.coordinate)/2||R>0&&R<a-1&&D!=null&&V!=null&&t>(O.coordinate+D.coordinate)/2&&t<=(O.coordinate+V.coordinate)/2)return O.index}}return-1},g$=()=>Z(Ow),uI=(t,e)=>e,v$=(t,e,n)=>n,cI=(t,e,n,r)=>r,yie=U(na,t=>e0(t,e=>e.coordinate)),dI=U([qc,uI,v$,cI],n$),fI=U([dI,Kc,sp,cp],rI),_ie=(t,e,n)=>{if(e!=null){var r=qc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},y$=U([qc,uI,v$,cI],i$),Uv=U([Jo,Qo,Ae,rn,na,cI,y$],r$),bie=U([dI,Uv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),_$=U([na,fI],Qj),Eie=U([y$,fI,Zo,sp,_$,o$,uI],a$),Tie=U([dI,fI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Aie=(t,e,n,r,i,o,a)=>{if(!(!t||!n||!r||!i)&&vie(t,a)){var s=ZJ(t,e),l=m$(s,o,i,n,r),u=mie(e,i,l,t);return{activeIndex:String(l),activeCoordinate:u}}},Sie=(t,e,n,r,i,o,a)=>{if(!(!t||!r||!i||!o||!n)){var s=fZ(t,n);if(s){var l=eQ(s,e),u=m$(l,a,o,r,i),c=gie(e,o,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},xie=(t,e,n,r,i,o,a,s)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?Aie(t,e,r,i,o,a,s):Sie(t,e,n,r,i,o,a)},wie=U(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Iie=U(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(at)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:cne}});function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){Cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cie(t,e,n){return(e=Pie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pie(t){var e=Rie(t,"string");return typeof e=="symbol"?e:e+""}function Rie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nie={},Mie={zIndexMap:Object.values(at).reduce((t,e)=>XM(XM({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Nie)},Oie=new Set(Object.values(at));function Die(t){return Oie.has(t)}var b$=fr({name:"zIndex",initialState:Mie,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Et()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Die(n)&&delete t.zIndexMap[n])},prepare:Et()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Et()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Et()}}}),{registerZIndexPortal:kie,unregisterZIndexPortal:Lie,registerZIndexPortalElement:Vie,unregisterZIndexPortalElement:Uie}=b$.actions,Bie=b$.reducer;function jt(t){var{zIndex:e,children:n}=t,r=IQ(),i=r&&e!==void 0&&e!==0,o=Dt(),a=Ze();b.useLayoutEffect(()=>i?(a(kie({zIndex:e})),()=>{a(Lie({zIndex:e}))}):Ci,[a,e,i]);var s=Z(l=>wie(l,e,o));return i?s?wy.createPortal(n,s):null:n}function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bA.apply(null,arguments)}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){Fie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fie(t,e,n){return(e=zie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zie(t){var e=jie(t,"string");return typeof e=="symbol"?e:e+""}function jie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ie(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return b.isValidElement(e)?b.cloneElement(e,r):b.createElement(n,r)}function Gie(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:a,layout:s,cursor:l,tooltipEventType:u,chartName:c}=t,d=n,f=r,p=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var v,E,y;if(c==="ScatterChart")v=d,E=wX,y=at.cursorLine;else if(c==="BarChart")v=IX(s,d,o,a),E=hz,y=at.cursorRectangle;else if(s==="radial"&&M4(d)){var{cx:_,cy:T,radius:S,startAngle:w,endAngle:M}=mz(d);v={cx:_,cy:T,startAngle:w,endAngle:M,innerRadius:S,outerRadius:S},E=vz,y=at.cursorLine}else v={points:gZ(s,d,o)},E=ol,y=at.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,I=Tm(Tm(Tm(Tm({stroke:"#ccc",pointerEvents:"none"},o),v),Gi(l)),{},{payload:f,payloadIndex:p,className:be("recharts-tooltip-cursor",N)});return b.createElement(jt,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:y},b.createElement($ie,{cursor:l,cursorComp:E,cursorProps:I}))}function qie(t){var e=die(),n=JF(),r=ys(),i=g$();return e==null||n==null||r==null||i==null?null:b.createElement(Gie,bA({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var E$=b.createContext(null),Hie=()=>b.useContext(E$),T$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,f),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,v=new Array(p);f<p;f++)v[f]=d[f].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,f,p,v){var E=n?n+u:u;if(!this._events[E])return!1;var y=this._events[E],_=arguments.length,T,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,f),!0;case 5:return y.fn.call(y.context,c,d,f,p),!0;case 6:return y.fn.call(y.context,c,d,f,p,v),!0}for(S=1,T=new Array(_-1);S<_;S++)T[S-1]=arguments[S];y.fn.apply(y.context,T)}else{var w=y.length,M;for(S=0;S<w;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),_){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,c);break;case 3:y[S].fn.call(y[S].context,c,d);break;case 4:y[S].fn.call(y[S].context,c,d,f);break;default:if(!T)for(M=1,T=new Array(_-1);M<_;M++)T[M-1]=arguments[M];y[S].fn.apply(y[S].context,T)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,f){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var v=this._events[p];if(v.fn)v.fn===c&&(!f||v.once)&&(!d||v.context===d)&&a(this,p);else{for(var E=0,y=[],_=v.length;E<_;E++)(v[E].fn!==c||f&&!v[E].once||d&&v[E].context!==d)&&y.push(v[E]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(T$);var Kie=T$.exports;const Wie=oi(Kie);var sh=new Wie,EA="recharts.syncEvent.tooltip",eO="recharts.syncEvent.brush",Wc=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Ai(n))return t[n]}},Yie={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},A$=fr({name:"options",initialState:Yie,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Jie=A$.reducer,{createEventEmitter:Qie}=A$.actions;function Xie(t){return t.tooltip.syncInteraction}var Zie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},S$=fr({name:"chartData",initialState:Zie,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:tO,setDataStartEndIndexes:eoe,setComputedData:yPe}=S$.actions,toe=S$.reducer,noe=["x","y"];function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){roe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function roe(t,e,n){return(e=ioe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ioe(t){var e=ooe(t,"string");return typeof e=="symbol"?e:e+""}function ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aoe(t,e){if(t==null)return{};var n,r,i=soe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function soe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function loe(){var t=Z(Dw),e=Z(kw),n=Ze(),r=Z(gj),i=Z(na),o=ys(),a=Wh(),s=Z(l=>l.rootProps.className);b.useEffect(()=>{if(t==null)return Ci;var l=(u,c,d)=>{if(e!==d&&t===u){if(r==="index"){var f;if(a&&c!==null&&c!==void 0&&(f=c.payload)!==null&&f!==void 0&&f.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:v,y:E}=p,y=aoe(p,noe),{x:_,y:T,width:S,height:w}=c.payload.sourceViewBox,M=tu(tu({},y),{},{x:a.x+(S?(v-_)/S:0)*a.width,y:a.y+(w?(E-T)/w:0)*a.height});n(tu(tu({},c),{},{payload:tu(tu({},c.payload),{},{coordinate:M})}))}else n(c);return}if(i!=null){var N;if(typeof r=="function"){var I={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},P=r(i,I);N=i[P]}else r==="value"&&(N=i.find(G=>String(G.value)===c.payload.label));var{coordinate:R}=c.payload;if(N==null||c.payload.active===!1||R==null||a==null){n(yA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:V}=R,D=Math.min(O,a.x+a.width),k=Math.min(V,a.y+a.height),Y={x:o==="horizontal"?N.coordinate:D,y:o==="horizontal"?k:N.coordinate},oe=yA({active:c.payload.active,coordinate:Y,dataKey:c.payload.dataKey,index:String(N.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(oe)}}};return sh.on(EA,l),()=>{sh.off(EA,l)}},[s,n,e,t,r,i,o,a])}function uoe(){var t=Z(Dw),e=Z(kw),n=Ze();b.useEffect(()=>{if(t==null)return Ci;var r=(i,o,a)=>{e!==a&&t===i&&n(eoe(o))};return sh.on(eO,r),()=>{sh.off(eO,r)}},[n,e,t])}function coe(){var t=Ze();b.useEffect(()=>{t(Qie())},[t]),loe(),uoe()}function doe(t,e,n,r,i,o){var a=Z(p=>_ie(p,t,e)),s=Z(kw),l=Z(Dw),u=Z(gj),c=Z(Xie),d=c==null?void 0:c.active,f=Wh();b.useEffect(()=>{if(!d&&l!=null&&s!=null){var p=yA({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:f,graphicalItemId:void 0});sh.emit(EA,l,p,s)}},[d,n,a,i,r,s,l,u,o,f])}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){foe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function foe(t,e,n){return(e=hoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hoe(t){var e=poe(t,"string");return typeof e=="symbol"?e:e+""}function poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function moe(t){return t.dataKey}function goe(t,e){return b.isValidElement(t)?b.cloneElement(t,e):typeof t=="function"?b.createElement(t,e):b.createElement(oX,e)}var oO=[],voe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Jr(t){var e,n,r=Ke(t,voe),{active:i,allowEscapeViewBox:o,animationDuration:a,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:f,position:p,reverseDirection:v,useTranslate3d:E,wrapperStyle:y,cursor:_,shared:T,trigger:S,defaultIndex:w,portal:M,axisId:N}=r,I=Ze(),P=typeof w=="number"?String(w):w;b.useEffect(()=>{I(pre({shared:T,trigger:S,axisId:N,active:i,defaultIndex:P}))},[I,T,S,N,i,P]);var R=Wh(),O=lz(),V=lre(T),{activeIndex:D,isActive:k}=(e=Z(Lt=>Tie(Lt,V,S,P)))!==null&&e!==void 0?e:{},Y=Z(Lt=>Eie(Lt,V,S,P)),oe=Z(Lt=>_$(Lt,V,S,P)),G=Z(Lt=>bie(Lt,V,S,P)),K=Y,J=Hie(),te=(n=i??k)!==null&&n!==void 0?n:!1,[de,qe]=lF([K,te]),De=V==="axis"?oe:void 0;doe(V,S,G,De,D,te);var ke=M??J;if(ke==null||R==null||V==null)return null;var ut=K??oO;te||(ut=oO),u&&ut.length&&(ut=J4(ut.filter(Lt=>Lt.value!=null&&(Lt.hide!==!0||r.includeHidden)),f,moe));var $t=ut.length>0,Mr=b.createElement(fX,{allowEscapeViewBox:o,animationDuration:a,animationEasing:s,isAnimationActive:c,active:te,coordinate:G,hasPayload:$t,offset:d,position:p,reverseDirection:v,useTranslate3d:E,viewBox:R,wrapperStyle:y,lastBoundingBox:de,innerRef:qe,hasPortalFromProps:!!M},goe(l,iO(iO({},r),{},{payload:ut,label:De,active:te,activeIndex:D,coordinate:G,accessibilityLayer:O})));return b.createElement(b.Fragment,null,wy.createPortal(Mr,ke),te&&b.createElement(qie,{cursor:_,tooltipEventType:V,coordinate:G,payload:ut,index:D}))}var xi=t=>null;xi.displayName="Cell";function yoe(t,e,n){return(e=_oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _oe(t){var e=boe(t,"string");return typeof e=="symbol"?e:e+""}function boe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Eoe{constructor(e){yoe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Toe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){Aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aoe(t,e,n){return(e=Soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Soe(t){var e=xoe(t,"string");return typeof e=="symbol"?e:e+""}function xoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var woe={cacheSize:2e3,enableCache:!0},x$=Toe({},woe),sO=new Eoe(x$.cacheSize),Ioe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lO="recharts_measurement_span";function Coe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",a=e.letterSpacing||"",s=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(s)}var uO=(t,e)=>{try{var n=document.getElementById(lO);n||(n=document.createElement("span"),n.setAttribute("id",lO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Ioe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Af=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Qh.isSsr)return{width:0,height:0};if(!x$.enableCache)return uO(e,n);var r=Coe(e,n),i=sO.get(r);if(i)return i;var o=uO(e,n);return sO.set(r,o),o},w$;function Poe(t,e,n){return(e=Roe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Roe(t){var e=Noe(t,"string");return typeof e=="symbol"?e:e+""}function Noe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Moe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ooe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Doe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},koe=["cm","mm","pt","pc","in","Q","px"];function Loe(t){return koe.includes(t)}var Pu="NaN";function Voe(t,e){return t*Doe[e]}class Tn{static parse(e){var n,[,r,i]=(n=Ooe.exec(e))!==null&&n!==void 0?n:[];return r==null?Tn.NaN:new Tn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ai(e)&&(this.unit=""),n!==""&&!Moe.test(n)&&(this.num=NaN,this.unit=""),Loe(n)&&(this.num=Voe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Tn(NaN,""):new Tn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Tn(NaN,""):new Tn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Tn(NaN,""):new Tn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Tn(NaN,""):new Tn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ai(this.num)}}w$=Tn;Poe(Tn,"NaN",new w$(NaN,""));function I$(t){if(t==null||t.includes(Pu))return Pu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=cO.exec(e))!==null&&n!==void 0?n:[],a=Tn.parse(r??""),s=Tn.parse(o??""),l=i==="*"?a.multiply(s):a.divide(s);if(l.isNaN())return Pu;e=e.replace(cO,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,d,f]=(u=dO.exec(e))!==null&&u!==void 0?u:[],p=Tn.parse(c??""),v=Tn.parse(f??""),E=d==="+"?p.add(v):p.subtract(v);if(E.isNaN())return Pu;e=e.replace(dO,E.toString())}return e}var fO=/\(([^()]*)\)/;function Uoe(t){for(var e=t,n;(n=fO.exec(e))!=null;){var[,r]=n;e=e.replace(fO,I$(r))}return e}function Boe(t){var e=t.replace(/\s+/g,"");return e=Uoe(e),e=I$(e),e}function Foe(t){try{return Boe(t)}catch{return Pu}}function rE(t){var e=Foe(t.slice(5,-1));return e===Pu?"":e}var zoe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],joe=["dx","dy","angle","className","breakAll"];function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TA.apply(null,arguments)}function hO(t,e){if(t==null)return{};var n,r,i=$oe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $oe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var C$=/[ \f\n\r\t\v\u2028\u2029]+/,P$=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];ze(e)||(n?i=e.toString().split(""):i=e.toString().split(C$));var o=i.map(s=>({word:s,width:Af(s,r).width})),a=n?0:Af("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}};function Goe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var R$=(t,e,n,r)=>t.reduce((i,o)=>{var{word:a,width:s}=o,l=i[i.length-1];if(l&&s!=null&&(e==null||r||l.width+s+n<Number(e)))l.words.push(a),l.width+=s+n;else{var u={words:[a],width:s};i.push(u)}return i},[]),N$=t=>t.reduce((e,n)=>e.width>n.width?e:n),qoe="",pO=(t,e,n,r,i,o,a,s)=>{var l=t.slice(0,e),u=P$({breakAll:n,style:r,children:l+qoe});if(!u)return[!1,[]];var c=R$(u.wordsWithComputedWidth,o,a,s),d=c.length>i||N$(c).width>Number(o);return[d,c]},Hoe=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=t,u=ie(o),c=String(a),d=R$(e,r,n,i);if(!u||i)return d;var f=d.length>o||N$(d).width>Number(r);if(!f)return d;for(var p=0,v=c.length-1,E=0,y;p<=v&&E<=c.length-1;){var _=Math.floor((p+v)/2),T=_-1,[S,w]=pO(c,T,l,s,o,r,n,i),[M]=pO(c,_,l,s,o,r,n,i);if(!S&&!M&&(p=_+1),S&&M&&(v=_-1),!S&&M){y=w;break}E++}return y||d},mO=t=>{var e=ze(t)?[]:t.toString().split(C$);return[{words:e,width:void 0}]},Koe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!Qh.isSsr){var s,l,u=P$({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return mO(r);return Hoe({breakAll:o,children:r,maxLines:a,style:i},s,l,e,!!n)}return mO(r)},M$="#808080",Woe={angle:0,breakAll:!1,capHeight:"0.71em",fill:M$,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Yc=b.forwardRef((t,e)=>{var n=Ke(t,Woe),{x:r,y:i,lineHeight:o,capHeight:a,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,d=hO(n,zoe),f=b.useMemo(()=>Koe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:p,dy:v,angle:E,className:y,breakAll:_}=d,T=hO(d,joe);if(!qi(r)||!qi(i)||f.length===0)return null;var S=Number(r)+(ie(p)?p:0),w=Number(i)+(ie(v)?v:0);if(!Te(S)||!Te(w))return null;var M;switch(c){case"start":M=rE("calc(".concat(a,")"));break;case"middle":M=rE("calc(".concat((f.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:M=rE("calc(".concat(f.length-1," * -").concat(o,")"));break}var N=[],I=f[0];if(l&&I!=null){var P=I.width,{width:R}=d;N.push("scale(".concat(ie(R)&&ie(P)?R/P:1,")"))}return E&&N.push("rotate(".concat(E,", ").concat(S,", ").concat(w,")")),N.length&&(T.transform=N.join(" ")),b.createElement("text",TA({},Bt(T),{ref:e,x:S,y:w,className:be("recharts-text",y),textAnchor:u,fill:s.includes("url")?M$:s}),f.map((O,V)=>{var D=O.words.join(_?"":" ");return b.createElement("tspan",{x:S,dy:V===0?M:o,key:"".concat(D,"-").concat(V)},D)}))});Yc.displayName="Text";function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){Yoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yoe(t,e,n){return(e=Joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=Qoe(t,"string");return typeof e=="symbol"?e:e+""}function Qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xoe=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:o,y:a,height:s,upperWidth:l,lowerWidth:u}=tw(e),c=o,d=o+(l-u)/2,f=(c+d)/2,p=(l+u)/2,v=c+l/2,E=s>=0?1:-1,y=E*r,_=E>0?"end":"start",T=E>0?"start":"end",S=l>=0?1:-1,w=S*r,M=S>0?"end":"start",N=S>0?"start":"end",I=i;if(n==="top"){var P={x:c+l/2,y:a-y,horizontalAnchor:"middle",verticalAnchor:_};return I&&(P.height=Math.max(a-I.y,0),P.width=l),P}if(n==="bottom"){var R={x:d+u/2,y:a+s+y,horizontalAnchor:"middle",verticalAnchor:T};return I&&(R.height=Math.max(I.y+I.height-(a+s),0),R.width=u),R}if(n==="left"){var O={x:f-w,y:a+s/2,horizontalAnchor:M,verticalAnchor:"middle"};return I&&(O.width=Math.max(O.x-I.x,0),O.height=s),O}if(n==="right"){var V={x:f+p+w,y:a+s/2,horizontalAnchor:N,verticalAnchor:"middle"};return I&&(V.width=Math.max(I.x+I.width-V.x,0),V.height=s),V}var D=I?{width:p,height:s}:{};return n==="insideLeft"?Ni({x:f+w,y:a+s/2,horizontalAnchor:N,verticalAnchor:"middle"},D):n==="insideRight"?Ni({x:f+p-w,y:a+s/2,horizontalAnchor:M,verticalAnchor:"middle"},D):n==="insideTop"?Ni({x:c+l/2,y:a+y,horizontalAnchor:"middle",verticalAnchor:T},D):n==="insideBottom"?Ni({x:d+u/2,y:a+s-y,horizontalAnchor:"middle",verticalAnchor:_},D):n==="insideTopLeft"?Ni({x:c+w,y:a+y,horizontalAnchor:N,verticalAnchor:T},D):n==="insideTopRight"?Ni({x:c+l-w,y:a+y,horizontalAnchor:M,verticalAnchor:T},D):n==="insideBottomLeft"?Ni({x:d+w,y:a+s-y,horizontalAnchor:N,verticalAnchor:_},D):n==="insideBottomRight"?Ni({x:d+u-w,y:a+s-y,horizontalAnchor:M,verticalAnchor:_},D):n&&typeof n=="object"&&(ie(n.x)||yl(n.x))&&(ie(n.y)||yl(n.y))?Ni({x:o+Un(n.x,p),y:a+Un(n.y,s),horizontalAnchor:"end",verticalAnchor:"end"},D):Ni({x:v,y:a+s/2,horizontalAnchor:"middle",verticalAnchor:"middle"},D)},Zoe=["labelRef"],eae=["content"];function vO(t,e){if(t==null)return{};var n,r,i=tae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nae(t,e,n){return(e=rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rae(t){var e=iae(t,"string");return typeof e=="symbol"?e:e+""}function iae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ho(){return ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ho.apply(null,arguments)}var O$=b.createContext(null),oae=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:a,children:s}=t,l=b.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:a}),[e,n,r,i,o,a]);return b.createElement(O$.Provider,{value:l},s)},D$=()=>{var t=b.useContext(O$),e=Wh();return t||(e?tw(e):void 0)},k$=b.createContext(null),aae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a,clockWise:s,children:l}=t,u=b.useMemo(()=>({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a,clockWise:s}),[e,n,r,i,o,a,s]);return b.createElement(k$.Provider,{value:u},l)},L$=()=>{var t=b.useContext(k$),e=Z(zc);return t||e},sae=t=>{var{value:e,formatter:n}=t,r=ze(t.children)?e:t.children;return typeof n=="function"?n(r):r},hI=t=>t!=null&&typeof t=="function",lae=(t,e)=>{var n=pn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},uae=(t,e,n,r,i)=>{var{offset:o,className:a}=t,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:f,clockWise:p}=i,v=(u+c)/2,E=lae(d,f),y=E>=0?1:-1,_,T;switch(e){case"insideStart":_=d+y*o,T=p;break;case"insideEnd":_=f-y*o,T=!p;break;case"end":_=f+y*o,T=p;break;default:throw new Error("Unsupported position ".concat(e))}T=E<=0?T:!T;var S=$e(s,l,v,_),w=$e(s,l,v,_+(T?1:-1)*359),M="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(T?0:1,`,
    `).concat(w.x,",").concat(w.y),N=ze(t.id)?Wf("recharts-radial-line-"):t.id;return b.createElement("text",ho({},r,{dominantBaseline:"central",className:be("recharts-radial-bar-label",a)}),b.createElement("defs",null,b.createElement("path",{id:N,d:M})),b.createElement("textPath",{xlinkHref:"#".concat(N)},n))},cae=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:s,endAngle:l}=t,u=(s+l)/2;if(n==="outside"){var{x:c,y:d}=$e(r,i,a+e,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(o+a)/2,{x:p,y:v}=$e(r,i,f,u);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},ig=t=>t!=null&&"cx"in t&&ie(t.cx),dae={angle:0,offset:5,zIndex:at.label,position:"middle",textBreakAll:!1};function fae(t){if(!ig(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function ba(t){var e=Ke(t,dae),{viewBox:n,parentViewBox:r,position:i,value:o,children:a,content:s,className:l="",textBreakAll:u,labelRef:c}=e,d=L$(),f=D$(),p=i==="center"?f:d??f,v,E,y;n==null?v=p:ig(n)?v=n:v=tw(n);var _=fae(v);if(!v||ze(o)&&ze(a)&&!b.isValidElement(s)&&typeof s!="function")return null;var T=nf(nf({},e),{},{viewBox:v});if(b.isValidElement(s)){var{labelRef:S}=T,w=vO(T,Zoe);return b.cloneElement(s,w)}if(typeof s=="function"){var{content:M}=T,N=vO(T,eae);if(E=b.createElement(s,N),b.isValidElement(E))return E}else E=sae(e);var I=Bt(e);if(ig(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return uae(e,i,E,I,v);y=cae(v,e.offset,e.position)}else{if(!_)return null;var P=Xoe({viewBox:_,position:i,offset:e.offset,parentViewBox:ig(r)?void 0:r});y=nf(nf({x:P.x,y:P.y,textAnchor:P.horizontalAnchor,verticalAnchor:P.verticalAnchor},P.width!==void 0?{width:P.width}:{}),P.height!==void 0?{height:P.height}:{})}return b.createElement(jt,{zIndex:e.zIndex},b.createElement(Yc,ho({ref:c,className:be("recharts-label",l)},I,y,{textAnchor:Goe(I.textAnchor)?I.textAnchor:y.textAnchor,breakAll:u}),E))}ba.displayName="Label";var V$=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?b.createElement(ba,ho({key:"label-implicit"},r)):qi(t)?b.createElement(ba,ho({key:"label-implicit",value:t},r)):b.isValidElement(t)?t.type===ba?b.cloneElement(t,nf({key:"label-implicit"},r)):b.createElement(ba,ho({key:"label-implicit",content:t},r)):hI(t)?b.createElement(ba,ho({key:"label-implicit",content:t},r)):t&&typeof t=="object"?b.createElement(ba,ho({},t,{key:"label-implicit"},r)):null};function hae(t){var{label:e,labelRef:n}=t,r=D$();return V$(e,r,n)||null}function pae(t){var{label:e}=t,n=L$();return V$(e,n)||null}var U$={},B$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(B$);var F$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(F$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B$,n=F$,r=Jy;function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(U$);var mae=U$.last;const z$=oi(mae);var gae=["valueAccessor"],vae=["dataKey","clockWise","id","textBreakAll","zIndex"];function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(null,arguments)}function _O(t,e){if(t==null)return{};var n,r,i=yae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _ae=t=>Array.isArray(t.value)?z$(t.value):t.value,j$=b.createContext(void 0),fp=j$.Provider,$$=b.createContext(void 0),bae=$$.Provider;function Eae(){return b.useContext(j$)}function Tae(){return b.useContext($$)}function og(t){var{valueAccessor:e=_ae}=t,n=_O(t,gae),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:s}=n,l=_O(n,vae),u=Eae(),c=Tae(),d=u||c;return!d||!d.length?null:b.createElement(jt,{zIndex:s??at.label},b.createElement(Oe,{className:"recharts-label-list"},d.map((f,p)=>{var v,E=ze(r)?e(f,p):Ne(f.payload,r),y=ze(o)?{}:{id:"".concat(o,"-").concat(p)};return b.createElement(ba,Bv({key:"label-".concat(p)},Bt(f),l,y,{fill:(v=n.fill)!==null&&v!==void 0?v:f.fill,parentViewBox:f.parentViewBox,value:E,textBreakAll:a,viewBox:f.viewBox,index:p,zIndex:0}))})))}og.displayName="LabelList";function Jc(t){var{label:e}=t;return e?e===!0?b.createElement(og,{key:"labelList-implicit"}):b.isValidElement(e)||hI(e)?b.createElement(og,{key:"labelList-implicit",content:e}):typeof e=="object"?b.createElement(og,Bv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Aae=["points","className","baseLinePoints","connectNulls"],bO;function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ru.apply(null,arguments)}function Sae(t,e){if(t==null)return{};var n,r,i=xae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wae(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var EO=t=>t!=null&&t.x===+t.x&&t.y===+t.y,Iae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];e.forEach(a=>{var s=n[n.length-1];EO(a)?s&&s.push(a):s&&s.length>0&&n.push([])});var r=e[0],i=n[n.length-1];EO(r)&&i&&i.push(r);var o=n[n.length-1];return o&&o.length<=0&&(n=n.slice(0,-1)),n},Sf=(t,e)=>{var n=Iae(t);e&&(n=[n.reduce((i,o)=>[...i,...o],[])]);var r=n.map(i=>i.reduce((o,a,s)=>xt(bO||(bO=wae(["","","",",",""])),o,s===0?"M":"L",a.x,a.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},Cae=(t,e,n)=>{var r=Sf(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(Sf(Array.from(e).reverse(),n).slice(1))},G$=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,o=Sae(t,Aae);if(!e||!e.length)return null;var a=be("recharts-polygon",n);if(r&&r.length){var s=o.stroke&&o.stroke!=="none",l=Cae(e,r,i);return b.createElement("g",{className:a},b.createElement("path",Ru({},Bt(o),{fill:l.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:l})),s?b.createElement("path",Ru({},Bt(o),{fill:"none",d:Sf(e,i)})):null,s?b.createElement("path",Ru({},Bt(o),{fill:"none",d:Sf(r,i)})):null)}var u=Sf(e,i);return b.createElement("path",Ru({},Bt(o),{fill:u.slice(-1)==="Z"?o.fill:"none",className:a,d:u}))};function AA(){return AA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AA.apply(null,arguments)}var pI=t=>{var{cx:e,cy:n,r,className:i}=t,o=be("recharts-dot",i);return ie(e)&&ie(n)&&ie(r)?b.createElement("circle",AA({},rt(t),kx(t),{className:o,cx:e,cy:n,r})):null},mI=t=>t.graphicalItems.polarItems,Pae=U([ht,op],Uw),L0=U([mI,kt,Pae],Bw),Rae=U([L0],Fw),V0=U([Rae,np],zw),q$=U([V0,kt,L0],$w);U([V0,kt,L0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,a=Ne(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Ne(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var TO=()=>{},Nae=U([V0,kt,L0,N0,ht],Kw),Mae=U([kt,qw,Hw,TO,Nae,TO,Ae,ht],Ww),H$=U([kt,Ae,V0,q$,rp,ht,Mae],Yw),K$=U([H$,jl,Xi],Qw),Oae=U([kt,H$,K$,ht],Zw),Dae=U([Xi,Oae],Tj),gI=(t,e,n)=>{switch(e){case"angleAxis":return Fc(t,n);case"radiusAxis":return ip(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},vI=(t,e,n)=>{switch(e){case"angleAxis":return lne(t,n);case"radiusAxis":return une(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Qc=U([gI,Xi,Dae,vI],M0),W$=U([Ae,q$,jl,ht],eI),Xc=U([Ae,gI,Xi,Qc,K$,vI,up,W$,ht],qj),kae=U([Xc],t=>{if(t){var e=new Map;return t.forEach(n=>{var r=(n.coordinate+360)%360;e.has(r)||e.set(r,n)}),Array.from(e.values())}});U([Ae,gI,Qc,vI,up,W$,ht],Kj);var Lae=(t,e)=>Xc(t,"angleAxis",e,!1),Vae=U([Lae],t=>{if(t)return t.map(e=>e.coordinate)}),Uae=(t,e)=>Xc(t,"radiusAxis",e,!1),Bae=U([Uae],t=>{if(t)return t.map(e=>e.coordinate)}),Fae=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius","zIndex"];function zae(t,e){if(t==null)return{};var n,r,i=jae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yi(){return yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yi.apply(null,arguments)}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){$ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ae(t,e,n){return(e=Gae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gae(t){var e=qae(t,"string");return typeof e=="symbol"?e:e+""}function qae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hae=(t,e,n,r)=>{var i="";return r.forEach((o,a)=>{var s=$e(e,n,t,o);a?i+="L ".concat(s.x,",").concat(s.y):i+="M ".concat(s.x,",").concat(s.y)}),i+="Z",i},Kae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:o,radialLines:a}=t;if(!o||!o.length||!a)return null;var s=U0({stroke:"#ccc"},rt(t));return b.createElement("g",{className:"recharts-polar-grid-angle"},o.map(l=>{var u=$e(e,n,r,l),c=$e(e,n,i,l);return b.createElement("line",yi({key:"line-".concat(l)},s,{x1:u.x,y1:u.y,x2:c.x,y2:c.y}))}))},SO=t=>{var{cx:e,cy:n,radius:r}=t,i=U0({stroke:"#ccc",fill:"none"},rt(t));return b.createElement("circle",yi({},i,{className:be("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r}))},xO=t=>{var{radius:e}=t,n=U0({stroke:"#ccc",fill:"none"},rt(t));return b.createElement("path",yi({},n,{className:be("recharts-polar-grid-concentric-polygon",t.className),d:Hae(e,t.cx,t.cy,t.polarAngles)}))},Wae=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var r=Math.max(...e),i=t.fill&&t.fill!=="none";return b.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&b.createElement(SO,yi({},t,{radius:r})),i&&n!=="circle"&&b.createElement(xO,yi({},t,{radius:r})),e.map((o,a)=>{var s=a;return n==="circle"?b.createElement(SO,yi({key:s},t,{fill:"none",radius:o})):b.createElement(xO,yi({key:s},t,{fill:"none",radius:o}))}))},Yae={angleAxisId:0,radiusAxisId:0,gridType:"polygon",radialLines:!0,zIndex:at.grid},Y$=t=>{var e,n,r,i,o,a,s,l,u=Ke(t,Yae),{gridType:c,radialLines:d,angleAxisId:f,radiusAxisId:p,cx:v,cy:E,innerRadius:y,outerRadius:_,polarAngles:T,polarRadius:S,zIndex:w}=u,M=zae(u,Fae),N=Z(zc),I=Z(k=>Vae(k,f)),P=Z(k=>Bae(k,p)),R=Array.isArray(T)?T:I,O=Array.isArray(S)?S:P;if(R==null||O==null)return null;var V=U0({cx:(e=(n=N==null?void 0:N.cx)!==null&&n!==void 0?n:v)!==null&&e!==void 0?e:0,cy:(r=(i=N==null?void 0:N.cy)!==null&&i!==void 0?i:E)!==null&&r!==void 0?r:0,innerRadius:(o=(a=N==null?void 0:N.innerRadius)!==null&&a!==void 0?a:y)!==null&&o!==void 0?o:0,outerRadius:(s=(l=N==null?void 0:N.outerRadius)!==null&&l!==void 0?l:_)!==null&&s!==void 0?s:0,polarAngles:R,polarRadius:O,zIndex:w},M),{outerRadius:D}=V;return D<=0?null:b.createElement(jt,{zIndex:V.zIndex},b.createElement("g",{className:"recharts-polar-grid"},b.createElement(Wae,yi({gridType:c,radialLines:d},V,{polarAngles:R,polarRadius:O})),b.createElement(Kae,yi({gridType:c,radialLines:d},V,{polarAngles:R,polarRadius:O}))))};Y$.displayName="PolarGrid";var J$={},Q$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],o=r(i,0,n);for(let a=1;a<n.length;a++){const s=n[a],l=r(s,a,n);l>o&&(o=l,i=s)}return i}t.maxBy=e})(Q$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q$,n=Gh,r=Qy;function i(o,a){if(o!=null)return e.maxBy(Array.from(o),r.iteratee(a??n.identity))}t.maxBy=i})(J$);var Jae=J$.maxBy;const Qae=oi(Jae);var X$={},Z$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],o=r(i,0,n);for(let a=1;a<n.length;a++){const s=n[a],l=r(s,a,n);l<o&&(o=l,i=s)}return i}t.minBy=e})(Z$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z$,n=Gh,r=Qy;function i(o,a){if(o!=null)return e.minBy(Array.from(o),r.iteratee(a??n.identity))}t.minBy=i})(X$);var Xae=X$.minBy;const Zae=oi(Xae);var ese={radiusAxis:{},angleAxis:{}},e3=fr({name:"polarAxis",initialState:ese,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:tse,removeRadiusAxis:nse,addAngleAxis:rse,removeAngleAxis:ise}=e3.actions,ose=e3.reducer;function B0(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var ase=["type"],sse=["cx","cy","angle","axisLine"],lse=["angle","tickFormatter","stroke","tick"];function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(null,arguments)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function use(t,e,n){return(e=cse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cse(t){var e=dse(t,"string");return typeof e=="symbol"?e:e+""}function dse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yI(t,e){if(t==null)return{};var n,r,i=fse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hse="radiusAxis";function pse(t){var e=Ze(),n=QF(),r=b.useMemo(()=>{var{type:i}=t,o=yI(t,ase),a=Bc(n,"radiusAxis",i);if(a!=null)return _i(_i({},o),{},{type:a})},[t,n]);return b.useEffect(()=>r==null?Ci:(e(tse(r)),()=>{e(nse(r))}),[e,r]),null}var mse=(t,e,n,r)=>{var{coordinate:i}=t;return $e(n,r,i,e)},gse=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},vse=(t,e,n,r)=>{var i=Qae(r,a=>a.coordinate||0),o=Zae(r,a=>a.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:(o==null?void 0:o.coordinate)||0,outerRadius:(i==null?void 0:i.coordinate)||0,clockWise:!1}},yse=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:o}=t,a=yI(t,sse),s=e.reduce((d,f)=>[Math.min(d[0],f.coordinate),Math.max(d[1],f.coordinate)],[1/0,-1/0]),l=$e(n,r,s[0],i),u=$e(n,r,s[1],i),c=_i(_i(_i({},rt(a)),{},{fill:"none"},rt(o)),{},{x1:l.x,y1:l.y,x2:u.x,y2:u.y});return b.createElement("line",lh({className:"recharts-polar-radius-axis-line"},c))},_se=(t,e,n)=>{var r;return b.isValidElement(t)?r=b.cloneElement(t,e):typeof t=="function"?r=t(e):r=b.createElement(Yc,lh({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},bse=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:o}=t,a=yI(t,lse),s=gse(t.orientation),l=rt(a),u=Gi(o),c=e.map((d,f)=>{var p=mse(d,t.angle,t.cx,t.cy),v=_i(_i(_i(_i({textAnchor:s,transform:"rotate(".concat(90-n,", ").concat(p.x,", ").concat(p.y,")")},l),{},{stroke:"none",fill:i},u),{},{index:f},p),{},{payload:d});return b.createElement(Oe,lh({className:be("recharts-polar-radius-axis-tick",B0(o)),key:"tick-".concat(d.coordinate)},vs(t,d,f)),_se(o,v,r?r(d.value,f):d.value))});return b.createElement(Oe,{className:"recharts-polar-radius-axis-ticks"},c)},Ese=t=>{var{radiusAxisId:e}=t,n=Z(zc),r=Z(l=>Qc(l,"radiusAxis",e)),i=Z(l=>Xc(l,"radiusAxis",e,!1));if(n==null||!i||!i.length||r==null)return null;var o=_i(_i({},t),{},{scale:r},n),{tick:a,axisLine:s}=o;return b.createElement(jt,{zIndex:o.zIndex},b.createElement(Oe,{className:be("recharts-polar-radius-axis",hse,o.className)},s&&yse(o,i),a&&bse(o,i),b.createElement(aae,vse(o.angle,o.cx,o.cy,i),b.createElement(pae,{label:o.label}),o.children)))};function t3(t){var e=Ke(t,hi);return b.createElement(b.Fragment,null,b.createElement(pse,{domain:e.domain,id:e.radiusAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDataOverflow:e.allowDataOverflow,reversed:e.reversed,includeHidden:e.includeHidden,allowDecimals:e.allowDecimals,ticks:e.ticks,tickCount:e.tickCount,tick:e.tick}),b.createElement(Ese,e))}t3.displayName="PolarRadiusAxis";var Tse=["children","type"];function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(null,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){Ase(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ase(t,e,n){return(e=Sse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sse(t){var e=xse(t,"string");return typeof e=="symbol"?e:e+""}function xse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wse(t,e){if(t==null)return{};var n,r,i=Ise(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ise(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var CO=1e-5,Cse=Math.cos(Tv(45)),Pse="angleAxis";function Rse(t){var e=Ze(),n=QF(),r=b.useMemo(()=>{var{children:a,type:s}=t,l=wse(t,Tse),u=Bc(n,"angleAxis",s);if(u!=null)return qr(qr({},l),{},{type:u})},[t,n]),i=Z(a=>Fc(a,r==null?void 0:r.id)),o=r===i;return b.useEffect(()=>r==null?Ci:(e(rse(r)),()=>{e(ise(r))}),[e,r]),o?t.children:null}var Nse=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:o,tickSize:a}=e,s=a||8,l=$e(n,r,i,t.coordinate),u=$e(n,r,i+(o==="inner"?-1:1)*s,t.coordinate);return{x1:l.x,y1:l.y,x2:u.x,y2:u.y}},Mse=(t,e)=>{var n=Math.cos(Tv(-t.coordinate));return n>CO?e==="outer"?"start":"end":n<-CO?e==="outer"?"end":"start":"middle"},Ose=t=>{var e=Math.cos(Tv(-t.coordinate)),n=Math.sin(Tv(-t.coordinate));return Math.abs(e)<=Cse?n>0?"start":"end":"middle"},Dse=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:o,ticks:a}=t;if(!o)return null;var s=qr(qr({},rt(t)),{},{fill:"none"},rt(o));if(i==="circle")return b.createElement(pI,Al({className:"recharts-polar-angle-axis-line"},s,{cx:e,cy:n,r}));var l=a.map(u=>$e(e,n,r,u.coordinate));return b.createElement(G$,Al({className:"recharts-polar-angle-axis-line"},s,{points:l}))},kse=t=>{var{tick:e,tickProps:n,value:r}=t;return e?b.isValidElement(e)?b.cloneElement(e,n):typeof e=="function"?e(n):b.createElement(Yc,Al({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},Lse=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:o}=t,a=rt(t),s=Gi(e),l=qr(qr({},a),{},{fill:"none"},rt(n)),u=o.map((c,d)=>{var f=Nse(c,t),p=Mse(c,t.orientation),v=Ose(c),E=qr(qr(qr({},a),{},{textAnchor:p,verticalAnchor:v,stroke:"none",fill:i},s),{},{index:d,payload:c,x:f.x2,y:f.y2});return b.createElement(Oe,Al({className:be("recharts-polar-angle-axis-tick",B0(e)),key:"tick-".concat(c.coordinate)},vs(t,c,d)),n&&b.createElement("line",Al({className:"recharts-polar-angle-axis-tick-line"},l,f)),b.createElement(kse,{tick:e,tickProps:E,value:r?r(c.value,d):c.value}))});return b.createElement(Oe,{className:"recharts-polar-angle-axis-ticks"},u)},Vse=t=>{var{angleAxisId:e}=t,n=Z(zc),r=Z(s=>Qc(s,"angleAxis",e)),i=Dt(),o=Z(s=>kae(s,"angleAxis",e,i));if(n==null||!o||!o.length||r==null)return null;var a=qr(qr(qr({},t),{},{scale:r},n),{},{radius:n.outerRadius,ticks:o});return b.createElement(jt,{zIndex:a.zIndex},b.createElement(Oe,{className:be("recharts-polar-angle-axis",Pse,a.className)},b.createElement(Dse,a),b.createElement(Lse,a)))};function n3(t){var e=Ke(t,ga);return b.createElement(Rse,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},b.createElement(Vse,e))}n3.displayName="PolarAngleAxis";function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){Use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Use(t,e,n){return(e=Bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bse(t){var e=Fse(t,"string");return typeof e=="symbol"?e:e+""}function Fse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zse=(t,e)=>e,_I=U([mI,zse],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),jse=[],bI=(t,e,n)=>(n==null?void 0:n.length)===0?jse:n,r3=U([np,_I,bI],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>RO(RO({},e.presentationProps),o.props))),i!=null)return i}}),$se=U([r3,_I,bI],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var o,a=Ne(r,e.nameKey,e.name),s;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?s=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=e.fill,{value:si(a,e.dataKey),color:s,payload:r,type:e.legendType}})}),Gse=U([r3,_I,bI,rn],(t,e,n,r)=>{if(!(e==null||t==null))return zle({offset:r,pieSettings:e,displayedData:t,cells:n})}),i3={exports:{}},lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI=Symbol.for("react.transitional.element"),TI=Symbol.for("react.portal"),F0=Symbol.for("react.fragment"),z0=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),$0=Symbol.for("react.consumer"),G0=Symbol.for("react.context"),q0=Symbol.for("react.forward_ref"),H0=Symbol.for("react.suspense"),K0=Symbol.for("react.suspense_list"),W0=Symbol.for("react.memo"),Y0=Symbol.for("react.lazy"),qse=Symbol.for("react.view_transition"),Hse=Symbol.for("react.client.reference");function ui(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case EI:switch(t=t.type,t){case F0:case j0:case z0:case H0:case K0:case qse:return t;default:switch(t=t&&t.$$typeof,t){case G0:case q0:case Y0:case W0:return t;case $0:return t;default:return e}}case TI:return e}}}lt.ContextConsumer=$0;lt.ContextProvider=G0;lt.Element=EI;lt.ForwardRef=q0;lt.Fragment=F0;lt.Lazy=Y0;lt.Memo=W0;lt.Portal=TI;lt.Profiler=j0;lt.StrictMode=z0;lt.Suspense=H0;lt.SuspenseList=K0;lt.isContextConsumer=function(t){return ui(t)===$0};lt.isContextProvider=function(t){return ui(t)===G0};lt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===EI};lt.isForwardRef=function(t){return ui(t)===q0};lt.isFragment=function(t){return ui(t)===F0};lt.isLazy=function(t){return ui(t)===Y0};lt.isMemo=function(t){return ui(t)===W0};lt.isPortal=function(t){return ui(t)===TI};lt.isProfiler=function(t){return ui(t)===j0};lt.isStrictMode=function(t){return ui(t)===z0};lt.isSuspense=function(t){return ui(t)===H0};lt.isSuspenseList=function(t){return ui(t)===K0};lt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===F0||t===j0||t===z0||t===H0||t===K0||typeof t=="object"&&t!==null&&(t.$$typeof===Y0||t.$$typeof===W0||t.$$typeof===G0||t.$$typeof===$0||t.$$typeof===q0||t.$$typeof===Hse||t.getModuleId!==void 0)};lt.typeOf=ui;i3.exports=lt;var Kse=i3.exports,NO=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",MO=null,iE=null,o3=t=>{if(t===MO&&Array.isArray(iE))return iE;var e=[];return b.Children.forEach(t,n=>{ze(n)||(Kse.isFragment(n)?e=e.concat(o3(n.props.children)):e.push(n))}),iE=e,MO=t,e};function J0(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>NO(i)):r=[NO(e)],o3(t).forEach(i=>{var o=vl(i,"type.displayName")||vl(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var AI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,a3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(a3);var Wse=a3.isPlainObject;const Yse=oi(Wse);var OO,DO,kO,LO,VO;function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){Jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jse(t,e,n){return(e=Qse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qse(t){var e=Xse(t,"string");return typeof e=="symbol"?e:e+""}function Xse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(null,arguments)}function Fd(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var FO=(t,e,n,r,i)=>{var o=n-r,a;return a=xt(OO||(OO=Fd(["M ",",",""])),t,e),a+=xt(DO||(DO=Fd(["L ",",",""])),t+n,e),a+=xt(kO||(kO=Fd(["L ",",",""])),t+n-o/2,e+i),a+=xt(LO||(LO=Fd(["L ",",",""])),t+n-o/2-r,e+i),a+=xt(VO||(VO=Fd(["L ",","," Z"])),t,e),a},Zse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ele=t=>{var e=Ke(t,Zse),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:s}=e,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=e,f=b.useRef(null),[p,v]=b.useState(-1),E=b.useRef(i),y=b.useRef(o),_=b.useRef(a),T=b.useRef(n),S=b.useRef(r),w=bs(t,"trapezoid-");if(b.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var Y=f.current.getTotalLength();Y&&v(Y)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var M=be("recharts-trapezoid",s);if(!d)return b.createElement("g",null,b.createElement("path",Fv({},Bt(e),{className:M,d:FO(n,r,i,o,a)})));var N=E.current,I=y.current,P=_.current,R=T.current,O=S.current,V="0px ".concat(p===-1?1:p,"px"),D="".concat(p,"px 0px"),k=uz(["strokeDasharray"],u,l);return b.createElement(_s,{animationId:w,key:w,canBegin:p>0,duration:u,easing:l,isActive:d,begin:c},Y=>{var oe=Se(N,i,Y),G=Se(I,o,Y),K=Se(P,a,Y),J=Se(R,n,Y),te=Se(O,r,Y);f.current&&(E.current=oe,y.current=G,_.current=K,T.current=J,S.current=te);var de=Y>0?{transition:k,strokeDasharray:D}:{strokeDasharray:V};return b.createElement("path",Fv({},Bt(e),{className:M,d:FO(J,te,oe,G,K),ref:f,style:BO(BO({},de),e.style)}))})},tle=["option","shapeType","activeClassName"];function nle(t,e){if(t==null)return{};var n,r,i=rle(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){ile(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ile(t,e,n){return(e=ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ole(t){var e=ale(t,"string");return typeof e=="symbol"?e:e+""}function ale(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sle(t,e){return zv(zv({},e),t)}function lle(t,e){return t==="symbols"}function jO(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return b.createElement(hz,n);case"trapezoid":return b.createElement(ele,n);case"sector":return b.createElement(vz,n);case"symbols":if(lle(e))return b.createElement(Yy,n);break;case"curve":return b.createElement(ol,n);default:return null}}function ule(t){return b.isValidElement(t)?t.props:t}function uh(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=nle(t,tle),o;if(b.isValidElement(e))o=b.cloneElement(e,zv(zv({},i),ule(e)));else if(typeof e=="function")o=e(i,i.index);else if(Yse(e)&&typeof e!="boolean"){var a=sle(e,i);o=b.createElement(jO,{shapeType:n,elementProps:a})}else{var s=i;o=b.createElement(jO,{shapeType:n,elementProps:s})}return i.isActive?b.createElement(Oe,{className:r},o):o}var Q0=(t,e,n)=>{var r=Ze();return(i,o)=>a=>{t==null||t(i,o,a),r(Zj({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},X0=t=>{var e=Ze();return(n,r)=>i=>{t==null||t(n,r,i),e(mre())}},Z0=(t,e,n)=>{var r=Ze();return(i,o)=>a=>{t==null||t(i,o,a),r(gre({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Zc(t){var{tooltipEntrySettings:e}=t,n=Ze(),r=Dt(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(dre(e)):i.current!==e&&n(fre({prev:i.current,next:e})),i.current=e)},[e,n,r]),b.useLayoutEffect(()=>()=>{i.current&&(n(hre(i.current)),i.current=null)},[n]),null}function e_(t){var{legendPayload:e}=t,n=Ze(),r=Dt(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(oz(e)):i.current!==e&&n(az({prev:i.current,next:e})),i.current=e)},[n,r,e]),b.useLayoutEffect(()=>()=>{i.current&&(n(sz(i.current)),i.current=null)},[n]),null}function s3(t){var{legendPayload:e}=t,n=Ze(),r=Z(Ae),i=b.useRef(null);return b.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(oz(e)):i.current!==e&&n(az({prev:i.current,next:e})),i.current=e)},[n,r,e]),b.useLayoutEffect(()=>()=>{i.current&&(n(sz(i.current)),i.current=null)},[n]),null}var oE,cle=()=>{var[t]=b.useState(()=>Wf("uid-"));return t},dle=(oE=jH.useId)!==null&&oE!==void 0?oE:cle;function fle(t,e){var n=dle();return e||(t?"".concat(t,"-").concat(n):n)}var hle=b.createContext(void 0),ed=t=>{var{id:e,type:n,children:r}=t,i=fle("recharts-".concat(n),e);return b.createElement(hle.Provider,{value:i},r(i))},ple={cartesianItems:[],polarItems:[]},l3=fr({name:"graphicalItems",initialState:ple,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Et()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=bi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Et()},removeCartesianGraphicalItem:{reducer(t,e){var n=bi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Et()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Et()},removePolarGraphicalItem:{reducer(t,e){var n=bi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Et()}}}),{addCartesianGraphicalItem:mle,replaceCartesianGraphicalItem:gle,removeCartesianGraphicalItem:vle,addPolarGraphicalItem:yle,removePolarGraphicalItem:_le}=l3.actions,ble=l3.reducer,Ele=t=>{var e=Ze(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(mle(t)):n.current!==t&&e(gle({prev:n.current,next:t})),n.current=t},[e,t]),b.useLayoutEffect(()=>()=>{n.current&&(e(vle(n.current)),n.current=null)},[e]),null},t_=b.memo(Ele);function u3(t){var e=Ze();return b.useLayoutEffect(()=>(e(yle(t)),()=>{e(_le(t))}),[e,t]),null}var Tle=["key"],Ale=["onMouseEnter","onClick","onMouseLeave"],Sle=["id"],xle=["id"];function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wle(t,e,n){return(e=Ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ile(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(null,arguments)}function n_(t,e){if(t==null)return{};var n,r,i=Ple(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ple(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rle(t){var e=b.useMemo(()=>J0(t.children,xi),[t.children]),n=Z(r=>$se(r,t.id,e));return n==null?null:b.createElement(s3,{legendPayload:n})}var Nle=b.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:a,name:s,hide:l,tooltipType:u,id:c}=t,d={dataDefinedOnItem:r.map(f=>f.tooltipPayload),getPosition:f=>{var p;return(p=r[Number(f)])===null||p===void 0?void 0:p.tooltipPosition},settings:{stroke:i,strokeWidth:o,fill:a,dataKey:e,nameKey:n,name:si(s,e),hide:l,type:u,color:a,unit:"",graphicalItemId:c}};return b.createElement(Zc,{tooltipEntrySettings:d})}),Mle=(t,e)=>t>e?"start":t<e?"end":"middle",Ole=(t,e,n)=>Un(typeof e=="function"?e(t):e,n,n*.8),Dle=(t,e,n)=>{var{top:r,left:i,width:o,height:a}=e,s=pz(o,a),l=i+Un(t.cx,o,o/2),u=r+Un(t.cy,a,a/2),c=Un(t.innerRadius,s,0),d=Ole(n,t.outerRadius,s),f=t.maxRadius||Math.sqrt(o*o+a*a)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:f}},kle=(t,e)=>{var n=pn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Lle=(t,e)=>{if(b.isValidElement(t))return b.cloneElement(t,e);if(typeof t=="function")return t(e);var n=be("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=n_(e,Tle);return b.createElement(ol,ss({},i,{type:"linear",className:n}))},Vle=(t,e,n)=>{if(b.isValidElement(t))return b.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),b.isValidElement(r)))return r;var i=be("recharts-pie-label-text",B0(t));return b.createElement(Yc,ss({},e,{alignmentBaseline:"middle",className:i}),r)};function Ule(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:a}=n;if(!r||!i||!e)return null;var s=rt(n),l=Gi(i),u=Gi(o),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=e.map((f,p)=>{var v=(f.startAngle+f.endAngle)/2,E=$e(f.cx,f.cy,f.outerRadius+c,v),y=Rt(Rt(Rt(Rt({},s),f),{},{stroke:"none"},l),{},{index:p,textAnchor:Mle(E.x,f.cx)},E),_=Rt(Rt(Rt(Rt({},s),f),{},{fill:"none",stroke:f.fill},u),{},{index:p,points:[$e(f.cx,f.cy,f.outerRadius,v),E],key:"line"});return b.createElement(jt,{zIndex:at.label,key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(p)},b.createElement(Oe,null,o&&Lle(o,_),Vle(i,y,Ne(f,a))))});return b.createElement(Oe,{className:"recharts-pie-labels"},d)}function Ble(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?b.createElement(Jc,{label:i}):b.createElement(Ule,{sectors:e,props:n,showLabels:r})}function Fle(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o,id:a}=t,s=Z(jo),l=Z(lI),u=Z(tie),{onMouseEnter:c,onClick:d,onMouseLeave:f}=i,p=n_(i,Ale),v=Q0(c,i.dataKey,a),E=X0(f),y=Z0(d,i.dataKey,a);return e==null||e.length===0?null:b.createElement(b.Fragment,null,e.map((_,T)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&e.length!==1)return null;var S=u==null||u===a,w=String(T)===s&&(l==null||i.dataKey===l)&&S,M=s?r:null,N=n&&w?n:M,I=Rt(Rt({},_),{},{stroke:_.stroke,tabIndex:-1,[$F]:T,[Xx]:a});return b.createElement(Oe,ss({key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(T),tabIndex:-1,className:"recharts-pie-sector"},vs(p,_,T),{onMouseEnter:v(_,T),onMouseLeave:E(_,T),onClick:y(_,T)}),b.createElement(uh,ss({option:o??N,index:T,shapeType:"sector",isActive:w},I)))}))}function zle(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:a,startAngle:s,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=n,f=Math.abs(n.minAngle),p=kle(s,l),v=Math.abs(p),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,y=r.filter(N=>Ne(N,u,0)!==0).length,_=(v>=360?y:y-1)*E,T=v-y*f-_,S=r.reduce((N,I)=>{var P=Ne(I,u,0);return N+(ie(P)?P:0)},0),w;if(S>0){var M;w=r.map((N,I)=>{var P=Ne(N,u,0),R=Ne(N,c,I),O=Dle(n,o,N),V=(ie(P)?P:0)/S,D,k=Rt(Rt({},N),i&&i[I]&&i[I].props);I?D=M.endAngle+pn(p)*E*(P!==0?1:0):D=s;var Y=D+pn(p)*((P!==0?f:0)+V*T),oe=(D+Y)/2,G=(O.innerRadius+O.outerRadius)/2,K=[{name:R,value:P,payload:k,dataKey:u,type:d,graphicalItemId:n.id}],J=$e(O.cx,O.cy,G,oe);return M=Rt(Rt(Rt(Rt({},n.presentationProps),{},{percent:V,cornerRadius:typeof a=="string"?parseFloat(a):a,name:R,tooltipPayload:K,midAngle:oe,middleRadius:G,tooltipPosition:J},k),O),{},{value:P,dataKey:u,startAngle:D,endAngle:Y,payload:k,paddingAngle:pn(p)*E}),M})}return w}function jle(t){var{showLabels:e,sectors:n,children:r}=t,i=b.useMemo(()=>!e||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,e]);return b.createElement(bae,{value:e?i:void 0},r)}function $le(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:f}=e,p=bs(e,"recharts-pie-"),v=n.current,[E,y]=b.useState(!1),_=b.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),T=b.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return b.createElement(jle,{showLabels:!E,sectors:i},b.createElement(_s,{animationId:p,begin:a,duration:s,isActive:o,easing:l,onAnimationStart:T,onAnimationEnd:_,key:p},S=>{var w,M=[],N=i&&i[0],I=(w=N==null?void 0:N.startAngle)!==null&&w!==void 0?w:0;return i==null||i.forEach((P,R)=>{var O=v&&v[R],V=R>0?vl(P,"paddingAngle",0):0;if(O){var D=Se(O.endAngle-O.startAngle,P.endAngle-P.startAngle,S),k=Rt(Rt({},P),{},{startAngle:I+V,endAngle:I+D+V});M.push(k),I=k.endAngle}else{var{endAngle:Y,startAngle:oe}=P,G=Se(0,Y-oe,S),K=Rt(Rt({},P),{},{startAngle:I+V,endAngle:I+G+V});M.push(K),I=K.endAngle}}),n.current=M,b.createElement(Oe,null,b.createElement(Fle,{sectors:M,activeShape:u,inactiveShape:c,allOtherPieProps:e,shape:e.shape,id:r}))}),b.createElement(Ble,{showLabels:!E,sectors:i,props:e}),e.children)}var Gle={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:at.area};function qle(t){var{id:e}=t,n=n_(t,Sle),{hide:r,className:i,rootTabIndex:o}=t,a=b.useMemo(()=>J0(t.children,xi),[t.children]),s=Z(c=>Gse(c,e,a)),l=b.useRef(null),u=be("recharts-pie",i);return r||s==null?(l.current=null,b.createElement(Oe,{tabIndex:o,className:u})):b.createElement(jt,{zIndex:t.zIndex},b.createElement(Nle,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:s,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),b.createElement(Oe,{tabIndex:o,className:u},b.createElement($le,{props:Rt(Rt({},n),{},{sectors:s}),previousSectorsRef:l,id:e})))}function hp(t){var e=Ke(t,Gle),{id:n}=e,r=n_(e,xle),i=rt(r);return b.createElement(ed,{id:n,type:"pie"},o=>b.createElement(b.Fragment,null,b.createElement(u3,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),b.createElement(Rle,ss({},r,{id:o})),b.createElement(qle,ss({},r,{id:o}))))}hp.displayName="Pie";var Hle=["points"];function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){Kle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kle(t,e,n){return(e=Wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wle(t){var e=Yle(t,"string");return typeof e=="symbol"?e:e+""}function Yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(null,arguments)}function Jle(t,e){if(t==null)return{};var n,r,i=Qle(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xle(t){var{option:e,dotProps:n,className:r}=t;if(b.isValidElement(e))return b.cloneElement(e,n);if(typeof e=="function")return e(n);var i=be(r,typeof e!="boolean"?e.className:""),o=n??{},{points:a}=o,s=Jle(o,Hle);return b.createElement(pI,jv({},s,{className:i}))}function Zle(t,e){return t==null?!1:e?!0:t.length===1}function SI(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:a,needClip:s,clipPathId:l,zIndex:u=at.scatter}=t;if(!Zle(e,n))return null;var c=AI(n),d=z7(n),f=e.map((v,E)=>{var y,_,T=aE(aE(aE({r:3},a),d),{},{index:E,cx:(y=v.x)!==null&&y!==void 0?y:void 0,cy:(_=v.y)!==null&&_!==void 0?_:void 0,dataKey:o,value:v.value,payload:v.payload,points:e});return b.createElement(Xle,{key:"dot-".concat(E),option:n,dotProps:T,className:i})}),p={};return s&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),b.createElement(jt,{zIndex:u},b.createElement(Oe,jv({className:r},p),f))}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){eue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eue(t,e,n){return(e=tue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tue(t){var e=nue(t,"string");return typeof e=="symbol"?e:e+""}function nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c3=0,rue={xAxis:{},yAxis:{},zAxis:{}},d3=fr({name:"cartesianAxis",initialState:rue,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Et()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Et()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Et()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Et()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Et()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Et()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Et()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Et()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Et()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((o=a[0])!==null&&o!==void 0?o:0))<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=HO(HO({},i),{},{width:r,widthHistory:s})}}}}),{addXAxis:iue,replaceXAxis:oue,removeXAxis:aue,addYAxis:sue,replaceYAxis:lue,removeYAxis:uue,addZAxis:cue,replaceZAxis:due,removeZAxis:fue,updateYAxisWidth:hue}=d3.actions,pue=d3.reducer,mue=U([rn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),gue=U([mue,Jo,Qo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),r_=()=>Z(gue),vue=()=>Z(aie);function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yue(t,e,n){return(e=_ue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ue(t){var e=bue(t,"string");return typeof e=="symbol"?e:e+""}function bue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eue=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=sE(sE(sE({},s),Gi(i)),kx(i)),u;return b.isValidElement(i)?u=b.cloneElement(i,l):typeof i=="function"?u=i(l):u=b.createElement(pI,l),b.createElement(Oe,{className:"recharts-active-dot",clipPath:a},u)};function $v(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:a=at.activeDot}=t,s=Z(jo),l=vue();if(e==null||l==null)return null;var u=e.find(c=>l.includes(c.payload));return ze(u)?null:b.createElement(jt,{zIndex:a},b.createElement(Eue,{point:u,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){Tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e,n){return(e=Aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aue(t){var e=Sue(t,"string");return typeof e=="symbol"?e:e+""}function Sue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f3=(t,e)=>Qc(t,"radiusAxis",e),xue=U([f3],t=>{if(t!=null)return{scale:t}}),wue=U([ip,f3],(t,e)=>{if(!(t==null||e==null))return Gv(Gv({},t),{},{scale:e})}),Iue=(t,e,n,r)=>Xc(t,"radiusAxis",e,r),h3=(t,e,n)=>Fc(t,n),p3=(t,e,n)=>Qc(t,"angleAxis",n),Cue=U([h3,p3],(t,e)=>{if(!(t==null||e==null))return Gv(Gv({},t),{},{scale:e})}),Pue=(t,e,n,r)=>Xc(t,"angleAxis",n,r),Rue=U([h3,p3,zc],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),Nue=(t,e,n,r,i)=>i,Mue=U([Ae,wue,Iue,Cue,Pue],(t,e,n,r,i)=>ai(t,"radiusAxis")?Ki(e,n,!1):Ki(r,i,!1)),Oue=U([mI,Nue],(t,e)=>{if(t!=null){var n=t.find(r=>r.type==="radar"&&e===r.id);return n==null?void 0:n.dataKey}}),Due=U([xue,Rue,np,Oue,Mue],(t,e,n,r,i)=>{var{chartData:o,dataStartIndex:a,dataEndIndex:s}=n;if(!(t==null||e==null||o==null||i==null||r==null)){var l=o.slice(a,s+1);return Gue({radiusAxis:t,angleAxis:e,displayedData:l,dataKey:r,bandSize:i})}}),kue=["id"];function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(null,arguments)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){Lue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lue(t,e,n){return(e=Vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bue(t,e){if(t==null)return{};var n,r,i=Fue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xI(t,e){return t&&t!=="none"?t:e}var zue=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:o,hide:a}=t;return[{inactive:a,dataKey:e,type:o,color:xI(r,i),value:si(n,e),payload:t}]},jue=b.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,tooltipType:s,id:l}=t,u={dataDefinedOnItem:void 0,getPosition:Ci,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:si(o,e),hide:a,type:s,color:xI(n,i),unit:"",graphicalItemId:l}};return b.createElement(Zc,{tooltipEntrySettings:u})});function $ue(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n,{id:o}=n,a=Bue(n,kue),s=rt(a);return b.createElement(SI,{points:e,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:s})}function Gue(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:o}=t,{cx:a,cy:s}=n,l=!1,u=[],c=n.type!=="number"?o??0:0;r.forEach((f,p)=>{var v,E,y=Ne(f,n.dataKey,p),_=Ne(f,i),T=((v=n.scale.map(y))!==null&&v!==void 0?v:0)+c,S=Array.isArray(_)?z$(_):_,w=ze(S)?0:(E=e.scale.map(S))!==null&&E!==void 0?E:0;Array.isArray(_)&&_.length>=2&&(l=!0),u.push(or(or({},$e(a,s,w,T)),{},{name:y,value:_,cx:a,cy:s,radius:w,angle:T,payload:f}))});var d=[];return l&&u.forEach(f=>{if(Array.isArray(f.value)){var p,v=f.value[0],E=ze(v)?0:(p=e.scale.map(v))!==null&&p!==void 0?p:0;d.push(or(or({},f),{},{radius:E},$e(a,s,E,f.angle)))}else d.push(f)}),{points:u,isRange:l,baseLinePoints:d}}function que(t){var{showLabels:e,points:n,children:r}=t,i=n.map(o=>{var a,s={x:o.x,y:o.y,width:0,lowerWidth:0,upperWidth:0,height:0};return or(or({},s),{},{value:(a=o.value)!==null&&a!==void 0?a:"",payload:o.payload,parentViewBox:void 0,viewBox:s,fill:void 0})});return b.createElement(fp,{value:e?i:void 0},r)}function Hue(t){var{points:e,baseLinePoints:n,props:r}=t;if(e==null)return null;var{shape:i,isRange:o,connectNulls:a}=r,s=c=>{var{onMouseEnter:d}=r;d&&d(r,c)},l=c=>{var{onMouseLeave:d}=r;d&&d(r,c)},u;return b.isValidElement(i)?u=b.cloneElement(i,or(or({},r),{},{points:e})):typeof i=="function"?u=i(or(or({},r),{},{points:e})):u=b.createElement(G$,ch({},Bt(r),{onMouseEnter:s,onMouseLeave:l,points:e,baseLinePoints:o?n:void 0,connectNulls:a})),b.createElement(Oe,{className:"recharts-radar-polygon"},u,b.createElement($ue,{props:r,points:e}))}var JO=(t,e,n)=>(r,i)=>{var o=t&&t[Math.floor(i*e)];return o?or(or({},r),{},{x:Se(o.x,r.x,n),y:Se(o.y,r.y,n)}):or(or({},r),{},{x:Se(r.cx,r.x,n),y:Se(r.cy,r.y,n)})};function Kue(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:r}=t,{points:i,baseLinePoints:o,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:u,onAnimationEnd:c,onAnimationStart:d}=e,f=n.current,p=r.current,v=f?f.length/i.length:1,E=p?p.length/o.length:1,y=bs(e,"recharts-radar-"),[_,T]=b.useState(!1),S=!_,w=b.useCallback(()=>{typeof c=="function"&&c(),T(!1)},[c]),M=b.useCallback(()=>{typeof d=="function"&&d(),T(!0)},[d]);return b.createElement(que,{showLabels:S,points:i},b.createElement(_s,{animationId:y,begin:s,duration:l,isActive:a,easing:u,key:"radar-".concat(y),onAnimationEnd:w,onAnimationStart:M},N=>{var I=N===1?i:i.map(JO(f,v,N)),P=N===1?o:o==null?void 0:o.map(JO(p,E,N));return N>0&&(n.current=I,r.current=P),b.createElement(Hue,{points:I,baseLinePoints:P,props:e})}),b.createElement(Jc,{label:e.label}),e.children)}function Wue(t){var e=b.useRef(void 0),n=b.useRef(void 0);return b.createElement(Kue,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var Yue={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:at.area};function Jue(t){var{hide:e,className:n,points:r}=t;if(e)return null;var i=be("recharts-radar",n);return b.createElement(jt,{zIndex:t.zIndex},b.createElement(Oe,{className:i},b.createElement(Wue,t)),b.createElement($v,{points:r,mainColor:xI(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function Que(t){var e=Dt(),n=Z(r=>Due(r,t.radiusAxisId,t.angleAxisId,e,t.id));return(n==null?void 0:n.points)==null?null:b.createElement(Jue,ch({},t,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}function SA(t){var e=Ke(t,Yue);return b.createElement(ed,{id:e.id,type:"radar"},n=>b.createElement(b.Fragment,null,b.createElement(u3,{type:"radar",id:n,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),b.createElement(s3,{legendPayload:zue(e)}),b.createElement(jue,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:n}),b.createElement(Que,ch({},e,{id:n}))))}SA.displayName="Radar";var QO=(t,e,n)=>{var r=n??t;if(!ze(r))return Un(r,e,0)},Xue=(t,e,n)=>{var r={},i=t.filter(I0),o=t.filter(u=>u.stackId==null),a=i.reduce((u,c)=>{var d=u[c.stackId];return d==null&&(d=[]),d.push(c),u[c.stackId]=d,u},r),s=Object.entries(a).map(u=>{var c,[d,f]=u,p=f.map(E=>E.dataKey),v=QO(e,n,(c=f[0])===null||c===void 0?void 0:c.barSize);return{stackId:d,dataKeys:p,barSize:v}}),l=o.map(u=>{var c=[u.dataKey].filter(f=>f!=null),d=QO(e,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...s,...l]};function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){Zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zue(t,e,n){return(e=ece(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ece(t){var e=tce(t,"string");return typeof e=="symbol"?e:e+""}function tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nce(t,e,n,r,i){var o,a=r.length;if(!(a<1)){var s=Un(t,n,0,!0),l,u=[];if(Te((o=r[0])===null||o===void 0?void 0:o.barSize)){var c=!1,d=n/a,f=r.reduce((T,S)=>T+(S.barSize||0),0);f+=(a-1)*s,f>=n&&(f-=(a-1)*s,s=0),f>=n&&d>0&&(c=!0,d*=.9,f=a*d);var p=(n-f)/2>>0,v={offset:p-s,size:0};l=r.reduce((T,S)=>{var w,M={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:v.offset+v.size+s,size:c?d:(w=S.barSize)!==null&&w!==void 0?w:0}},N=[...T,M];return v=M.position,N},u)}else{var E=Un(e,n,0,!0);n-2*E-(a-1)*s<=0&&(s=0);var y=(n-2*E-(a-1)*s)/a;y>1&&(y>>=0);var _=Te(i)?Math.min(y,i):y;l=r.reduce((T,S,w)=>[...T,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:E+(y+s)*w+(y-_)/2,size:_}}],u)}return l}}var rce=(t,e,n,r,i,o,a)=>{var s=ze(a)?e:a,l=nce(n,r,i!==o?i:o,t,s);return i!==o&&l!=null&&(l=l.map(u=>Am(Am({},u),{},{position:Am(Am({},u.position),{},{offset:u.position.offset-i/2})}))),l},ice=(t,e)=>{var n=w0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(a=>a.key===n)}}}},oce=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function ace(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Te(t.zIndex)?t.zIndex:e}var m3=t=>{var{chartData:e}=t,n=Ze(),r=Dt();return b.useEffect(()=>r?()=>{}:(n(tO(e)),()=>{n(tO(void 0))}),[e,n,r]),null},ZO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},g3=fr({name:"brush",initialState:ZO,reducers:{setBrushSettings(t,e){return e.payload==null?ZO:e.payload}}}),{setBrushSettings:_Pe}=g3.actions,sce=g3.reducer;function lce(t){return(t%180+180)%180}var uce=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=lce(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},cce={dots:[],areas:[],lines:[]},v3=fr({name:"referenceElements",initialState:cce,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=bi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=bi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=bi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:bPe,removeDot:EPe,addArea:TPe,removeArea:APe,addLine:SPe,removeLine:xPe}=v3.actions,dce=v3.reducer,fce=b.createContext(void 0),hce=t=>{var{children:e}=t,[n]=b.useState("".concat(Wf("recharts"),"-clip")),r=r_();if(r==null)return null;var{x:i,y:o,width:a,height:s}=r;return b.createElement(fce.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:o,height:s,width:a}))),e)};function y3(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function pce(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return uce(r,n)}function mce(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:s}=t;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function dh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function gce(t,e){return y3(t,e+1)}function vce(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:s}=e,l=0,u=1,c=a,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:y3(r,u)};var E=l,y,_=()=>(y===void 0&&(y=n(v,E)),y),T=v.coordinate,S=l===0||dh(t,T,_,c,s);S||(l=0,c=a,u+=1),S&&(c=T+t*(_()/2+i),l+=u)},f;u<=o.length;)if(f=d(),f)return f.v;return[]}function yce(t,e,n,r,i){var o=(r||[]).slice(),a=o.length;if(a===0)return[];for(var{start:s,end:l}=e,u=1;u<=a;u++){for(var c=(a-1)%u,d=s,f=!0,p=function(){var w=r[E];if(w==null)return 0;var M=E,N,I=()=>(N===void 0&&(N=n(w,M)),N),P=w.coordinate,R=E===c||dh(t,P,I,d,l);if(!R)return f=!1,1;R&&(d=P+t*(I()/2+i))},v,E=c;E<a&&(v=p(),!(v!==0&&v===1));E+=u);if(f){for(var y=[],_=c;_<a;_+=u){var T=r[_];T!=null&&y.push(T)}return y}}return[]}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return(e=bce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bce(t){var e=Ece(t,"string");return typeof e=="symbol"?e:e+""}function Ece(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tce(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:s}=e,{end:l}=e,u=function(f){var p=o[f];if(p==null)return 1;var v=p,E,y=()=>(E===void 0&&(E=n(p,f)),E);if(f===a-1){var _=t*(v.coordinate+t*y()/2-l);o[f]=v=On(On({},v),{},{tickCoord:_>0?v.coordinate-_*t:v.coordinate})}else o[f]=v=On(On({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var T=dh(t,v.tickCoord,y,s,l);T&&(l=v.tickCoord-t*(y()/2+i),o[f]=On(On({},v),{},{isShow:!0}))}},c=a-1;c>=0;c--)u(c);return o}function Ace(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,{start:l,end:u}=e;if(o){var c=r[s-1];if(c!=null){var d=n(c,s-1),f=t*(c.coordinate+t*d/2-u);if(a[s-1]=c=On(On({},c),{},{tickCoord:f>0?c.coordinate-f*t:c.coordinate}),c.tickCoord!=null){var p=dh(t,c.tickCoord,()=>d,l,u);p&&(u=c.tickCoord-t*(d/2+i),a[s-1]=On(On({},c),{},{isShow:!0}))}}}for(var v=o?s-1:s,E=function(T){var S=a[T];if(S==null)return 1;var w=S,M,N=()=>(M===void 0&&(M=n(S,T)),M);if(T===0){var I=t*(w.coordinate-t*N()/2-l);a[T]=w=On(On({},w),{},{tickCoord:I<0?w.coordinate-I*t:w.coordinate})}else a[T]=w=On(On({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var P=dh(t,w.tickCoord,N,l,u);P&&(l=w.tickCoord+t*(N()/2+i),a[T]=On(On({},w),{},{isShow:!0}))}},y=0;y<v;y++)E(y);return a}function wI(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=t;if(!i||!i.length||!r)return[];if(ie(l)||Qh.isSsr){var f;return(f=gce(i,ie(l)?l:0))!==null&&f!==void 0?f:[]}var p=[],v=s==="top"||s==="bottom"?"width":"height",E=c&&v==="width"?Af(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=(M,N)=>{var I=typeof u=="function"?u(M.value,N):M.value;return v==="width"?pce(Af(I,{fontSize:e,letterSpacing:n}),E,d):Af(I,{fontSize:e,letterSpacing:n})[v]},_=i[0],T=i[1],S=i.length>=2&&_!=null&&T!=null?pn(T.coordinate-_.coordinate):1,w=mce(o,S,v);return l==="equidistantPreserveStart"?vce(S,w,y,i,a):l==="equidistantPreserveEnd"?yce(S,w,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=Ace(S,w,y,i,a,l==="preserveStartEnd"):p=Tce(S,w,y,i,a),p.filter(M=>M.isShow))}var Sce=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){Array.from(e).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>a&&(a=d.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+o,u=a+l+s+(n?r:0);return Math.round(u)}return 0},xce=["axisLine","width","height","className","hide","ticks","axisType"];function wce(t,e){if(t==null)return{};var n,r,i=Ice(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ice(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sl.apply(null,arguments)}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){Cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cce(t,e,n){return(e=Pce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pce(t){var e=Rce(t,"string");return typeof e=="symbol"?e:e+""}function Rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Po={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:at.axis};function Nce(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:s,otherSvgProps:l}=t;if(!s)return null;var u=Pt(Pt(Pt({},l),rt(s)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!a||o==="bottom"&&a);u=Pt(Pt({},u),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var d=+(o==="left"&&!a||o==="right"&&a);u=Pt(Pt({},u),{},{x1:e+d*r,y1:n,x2:e+d*r,y2:n+i})}return b.createElement("line",Sl({},u,{className:be("recharts-cartesian-axis-line",vl(s,"className"))}))}function Mce(t,e,n,r,i,o,a,s,l){var u,c,d,f,p,v,E=s?-1:1,y=t.tickSize||a,_=ie(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":u=c=t.coordinate,f=n+ +!s*i,d=f-E*y,v=d-E*l,p=_;break;case"left":d=f=t.coordinate,c=e+ +!s*r,u=c-E*y,p=u-E*l,v=_;break;case"right":d=f=t.coordinate,c=e+ +s*r,u=c+E*y,p=u+E*l,v=_;break;default:u=c=t.coordinate,f=n+ +s*i,d=f+E*y,v=d+E*l,p=_;break}return{line:{x1:u,y1:d,x2:c,y2:f},tick:{x:p,y:v}}}function Oce(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Dce(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function kce(t){var{option:e,tickProps:n,value:r}=t,i,o=be(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(e))i=b.cloneElement(e,Pt(Pt({},n),{},{className:o}));else if(typeof e=="function")i=e(Pt(Pt({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=be(a,B0(e))),i=b.createElement(Yc,Sl({},n,{className:a}),r)}return i}var Lce=b.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:a,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:f,y:p,width:v,height:E,tickSize:y,tickMargin:_,fontSize:T,letterSpacing:S,getTicksConfig:w,events:M,axisType:N}=t,I=wI(Pt(Pt({},w),{},{ticks:n}),T,S),P=Oce(c,d),R=Dce(c,d),O=rt(w),V=Gi(r),D={};typeof i=="object"&&(D=i);var k=Pt(Pt({},O),{},{fill:"none"},D),Y=I.map(K=>Pt({entry:K},Mce(K,f,p,v,E,c,y,d,_))),oe=Y.map(K=>{var{entry:J,line:te}=K;return b.createElement(Oe,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},i&&b.createElement("line",Sl({},k,te,{className:be("recharts-cartesian-axis-tick-line",vl(i,"className"))})))}),G=Y.map((K,J)=>{var te,de,{entry:qe,tick:De}=K,ke=Pt(Pt(Pt(Pt({verticalAnchor:R},O),{},{textAnchor:P,stroke:"none",fill:o},De),{},{index:J,payload:qe,visibleTicksCount:I.length,tickFormatter:a,padding:l},u),{},{angle:(te=(de=u==null?void 0:u.angle)!==null&&de!==void 0?de:O.angle)!==null&&te!==void 0?te:0}),ut=Pt(Pt({},ke),V);return b.createElement(Oe,Sl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(qe.value,"-").concat(qe.coordinate,"-").concat(qe.tickCoord)},vs(M,qe,J)),r&&b.createElement(kce,{option:r,tickProps:ut,value:"".concat(typeof a=="function"?a(qe.value,J):qe.value).concat(s||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},G.length>0&&b.createElement(jt,{zIndex:at.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:e},G)),oe.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},oe))}),Vce=b.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:a,ticks:s,axisType:l}=t,u=wce(t,xce),[c,d]=b.useState(""),[f,p]=b.useState(""),v=b.useRef(null);b.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var y;return Sce({ticks:v.current,label:(y=t.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=b.useCallback(y=>{if(y){var _=y.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=_;var T=_[0];if(T){var S=window.getComputedStyle(T),w=S.fontSize,M=S.letterSpacing;(w!==c||M!==f)&&(d(w),p(M))}}},[c,f]);return a||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(jt,{zIndex:t.zIndex},b.createElement(Oe,{className:be("recharts-cartesian-axis",o)},b.createElement(Nce,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:rt(t)}),b.createElement(Lce,{ref:E,axisType:l,events:u,fontSize:c,getTicksConfig:t,height:t.height,letterSpacing:f,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:s,unit:t.unit,width:t.width,x:t.x,y:t.y}),b.createElement(oae,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},b.createElement(hae,{label:t.label,labelRef:t.labelRef}),t.children)))}),II=b.forwardRef((t,e)=>{var n=Ke(t,Po);return b.createElement(Vce,Sl({},n,{ref:e}))});II.displayName="CartesianAxis";var Uce=["x1","y1","x2","y2","key"],Bce=["offset"],Fce=["xAxisId","yAxisId"],zce=["xAxisId","yAxisId"];function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jce(t,e,n){return(e=$ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ce(t){var e=Gce(t,"string");return typeof e=="symbol"?e:e+""}function Gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xs(){return Xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xs.apply(null,arguments)}function qv(t,e){if(t==null)return{};var n,r,i=qce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:s}=t;return b.createElement("rect",{x:r,y:i,ry:s,width:o,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _3(t){var{option:e,lineItemProps:n}=t,r;if(b.isValidElement(e))r=b.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:o,y1:a,x2:s,y2:l,key:u}=n,c=qv(n,Uce),d=(i=rt(c))!==null&&i!==void 0?i:{},{offset:f}=d,p=qv(d,Bce);r=b.createElement("line",Xs({},p,{x1:o,y1:a,x2:s,y2:l,fill:"none",key:u}))}return r}function Kce(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,s=qv(t,Fce),l=i.map((u,c)=>{var d=kn(kn({},s),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return b.createElement(_3,{key:"line-".concat(c),option:r,lineItemProps:d})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Wce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,s=qv(t,zce),l=i.map((u,c)=>{var d=kn(kn({},s),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return b.createElement(_3,{option:r,lineItemProps:d,key:"line-".concat(c)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Yce(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:s,horizontal:l=!0}=t;if(!l||!e||!e.length||s==null)return null;var u=s.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==u[0]&&u.unshift(0);var c=u.map((d,f)=>{var p=u[f+1],v=p==null,E=v?i+a-d:p-d;if(E<=0)return null;var y=f%e.length;return b.createElement("rect",{key:"react-".concat(f),y:d,x:r,height:E,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Jce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:s,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==u[0]&&u.unshift(0);var c=u.map((d,f)=>{var p=u[f+1],v=p==null,E=v?i+a-d:p-d;if(E<=0)return null;var y=f%n.length;return b.createElement("rect",{key:"react-".concat(f),x:d,y:o,width:E,height:s,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Qce=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return BF(wI(kn(kn(kn({},Po),n),{},{ticks:FF(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},Xce=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return BF(wI(kn(kn(kn({},Po),n),{},{ticks:FF(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},Zce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:at.grid};function ls(t){var e=nw(),n=rw(),r=JF(),i=kn(kn({},Ke(t,Zce)),{},{x:ie(t.x)?t.x:r.left,y:ie(t.y)?t.y:r.top,width:ie(t.width)?t.width:r.width,height:ie(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:a,x:s,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:f,verticalValues:p}=i,v=Dt(),E=Z(R=>GM(R,"xAxis",o,v)),y=Z(R=>GM(R,"yAxis",a,v));if(!Hi(u)||!Hi(c)||!ie(s)||!ie(l))return null;var _=i.verticalCoordinatesGenerator||Qce,T=i.horizontalCoordinatesGenerator||Xce,{horizontalPoints:S,verticalPoints:w}=i;if((!S||!S.length)&&typeof T=="function"){var M=f&&f.length,N=T({yAxis:y?kn(kn({},y),{},{ticks:M?f:y.ticks}):void 0,width:e??u,height:n??c,offset:r},M?!0:d);hv(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(S=N)}if((!w||!w.length)&&typeof _=="function"){var I=p&&p.length,P=_({xAxis:E?kn(kn({},E),{},{ticks:I?p:E.ticks}):void 0,width:e??u,height:n??c,offset:r},I?!0:d);hv(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(w=P)}return b.createElement(jt,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Hce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(Yce,Xs({},i,{horizontalPoints:S})),b.createElement(Jce,Xs({},i,{verticalPoints:w})),b.createElement(Kce,Xs({},i,{offset:r,horizontalPoints:S,xAxis:E,yAxis:y})),b.createElement(Wce,Xs({},i,{offset:r,verticalPoints:w,xAxis:E,yAxis:y}))))}ls.displayName="CartesianGrid";var ede={},b3=fr({name:"errorBars",initialState:ede,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:wPe,replaceErrorBar:IPe,removeErrorBar:CPe}=b3.actions,tde=b3.reducer,nde=["children"];function rde(t,e){if(t==null)return{};var n,r,i=ide(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ide(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ode={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ade=b.createContext(ode);function CI(t){var{children:e}=t,n=rde(t,nde);return b.createElement(ade.Provider,{value:n},e)}function pp(t,e){var n,r,i=Z(u=>ea(u,t)),o=Z(u=>ta(u,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ln.allowDataOverflow,s=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:un.allowDataOverflow,l=a||s;return{needClip:l,needClipX:a,needClipY:s}}function i_(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=r_(),{needClipX:o,needClipY:a,needClip:s}=pp(e,n);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:o?l:l-c/2,y:a?u:u-d/2,width:o?c:c*2,height:a?d:d*2}))}var E3=(t,e,n,r)=>ri(t,"xAxis",e,r),T3=(t,e,n,r)=>ni(t,"xAxis",e,r),A3=(t,e,n,r)=>ri(t,"yAxis",n,r),S3=(t,e,n,r)=>ni(t,"yAxis",n,r),sde=U([Ae,E3,A3,T3,S3],(t,e,n,r,i)=>ai(t,"xAxis")?Ki(e,r,!1):Ki(n,i,!1)),lde=(t,e,n,r,i)=>i;function ude(t){return t.type==="line"}var cde=U([$c,lde],(t,e)=>t.filter(ude).find(n=>n.id===e)),dde=U([Ae,E3,A3,T3,S3,cde,sde,A0],(t,e,n,r,i,o,a,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=s;if(!(o==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:d,data:f}=o,p;if(f!=null&&f.length>0?p=f:p=l==null?void 0:l.slice(u,c+1),p!=null)return tfe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:d,bandSize:a,displayedData:p})}});function x3(t){var e=Gi(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:o}=e,a=Number(i),s=Number(o);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(s)||s<0)&&(s=r),{r:a,strokeWidth:s}}return{r:n,strokeWidth:r}}var fde={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp=b;function hde(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pde=typeof Object.is=="function"?Object.is:hde,mde=mp.useSyncExternalStore,gde=mp.useRef,vde=mp.useEffect,yde=mp.useMemo,_de=mp.useDebugValue;fde.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=gde(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=yde(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var v=a.value;if(i(v,p))return d=v}return d=p}if(v=d,pde(c,p))return v;var E=r(p);return i!==void 0&&i(v,E)?(c=p,v):(c=p,d=E)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var s=mde(t,o[0],o[1]);return vde(function(){a.hasValue=!0,a.value=s},[s]),_de(s),s};function bde(t){t()}function Ede(){let t=null,e=null;return{clear(){t=null,e=null},notify(){bde(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var rD={notify(){},get:()=>[]};function Tde(t,e){let n,r=rD,i=0,o=!1;function a(E){c();const y=r.subscribe(E);let _=!1;return()=>{_||(_=!0,y(),d())}}function s(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return o}function c(){i++,n||(n=t.subscribe(l),r=Ede())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=rD)}function f(){o||(o=!0,c())}function p(){o&&(o=!1,d())}const v={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return v}var Ade=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sde=Ade(),xde=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wde=xde(),Ide=()=>Sde||wde?b.useLayoutEffect:b.useEffect,Cde=Ide();function iD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Pde(t,e){if(iD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!iD(t[n[i]],e[n[i]]))return!1;return!0}var lE=Symbol.for("react-redux-context"),uE=typeof globalThis<"u"?globalThis:{};function Rde(){if(!b.createContext)return{};const t=uE[lE]??(uE[lE]=new Map);let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var Nde=Rde();function Mde(t){const{children:e,context:n,serverState:r,store:i}=t,o=b.useMemo(()=>{const l=Tde(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=b.useMemo(()=>i.getState(),[i]);Cde(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const s=n||Nde;return b.createElement(s.Provider,{value:o},e)}var Ode=Mde,Dde=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function kde(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function td(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Dde.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Pde(t[r],e[r]))return!1}else if(!kde(t[r],e[r]))return!1;return!0}var Lde=["id"],Vde=["type","layout","connectNulls","needClip","shape"],Ude=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(null,arguments)}function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){Bde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bde(t,e,n){return(e=Fde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=zde(t,"string");return typeof e=="symbol"?e:e+""}function zde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PI(t,e){if(t==null)return{};var n,r,i=jde(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $de=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:si(n,e),payload:t}]},Gde=b.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:s,unit:l,tooltipType:u,id:c}=t,d={dataDefinedOnItem:n,getPosition:Ci,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:si(a,e),hide:s,type:u,color:r,unit:l,graphicalItemId:c}};return b.createElement(Zc,{tooltipEntrySettings:d})}),w3=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function qde(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Hde=(t,e,n)=>{var r=n.reduce((p,v)=>p+v);if(!r)return w3(e,t);for(var i=Math.floor(t/r),o=t%r,a=e-t,s=[],l=0,u=0;l<n.length;u+=(c=n[l])!==null&&c!==void 0?c:0,++l){var c,d=n[l];if(d!=null&&u+d>o){s=[...n.slice(0,l),o-u];break}}var f=s.length%2===0?[0,a]:[a];return[...qde(n,i),...s,...f].map(p=>"".concat(p,"px")).join(", ")};function Kde(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:o,needClip:a}=r,{id:s}=r,l=PI(r,Lde),u=rt(l);return b.createElement(SI,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:u,needClip:a,clipPathId:e})}function Wde(t){var{showLabels:e,children:n,points:r}=t,i=b.useMemo(()=>r==null?void 0:r.map(o=>{var a,s,l={x:(a=o.x)!==null&&a!==void 0?a:0,y:(s=o.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Mi(Mi({},l),{},{value:o.value,payload:o.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return b.createElement(fp,{value:e?i:void 0},n)}function aD(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:o}=t,{type:a,layout:s,connectNulls:l,needClip:u,shape:c}=o,d=PI(o,Vde),f=Mi(Mi({},Bt(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:s,connectNulls:l,strokeDasharray:i??o.strokeDasharray});return b.createElement(b.Fragment,null,(r==null?void 0:r.length)>1&&b.createElement(uh,fh({shapeType:"curve",option:c},f,{pathRef:n})),b.createElement(Kde,{points:r,clipPathId:e,props:o}))}function Yde(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Jde(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=t,{points:a,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,animateNewValues:f,width:p,height:v,onAnimationEnd:E,onAnimationStart:y}=n,_=i.current,T=bs(a,"recharts-line-"),S=b.useRef(T),[w,M]=b.useState(!1),N=!w,I=b.useCallback(()=>{typeof E=="function"&&E(),M(!1)},[E]),P=b.useCallback(()=>{typeof y=="function"&&y(),M(!0)},[y]),R=Yde(r.current),O=b.useRef(0);S.current!==T&&(O.current=o.current,S.current=T);var V=O.current;return b.createElement(Wde,{points:a,showLabels:N},n.children,b.createElement(_s,{animationId:T,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:I,onAnimationStart:P,key:T},D=>{var k=Se(V,R+V,D),Y=Math.min(k,R),oe;if(l)if(s){var G="".concat(s).split(/[,\s]+/gim).map(te=>parseFloat(te));oe=Hde(Y,R,G)}else oe=w3(R,Y);else oe=s==null?void 0:String(s);if(D>0&&R>0&&(i.current=a,o.current=Math.max(o.current,Y)),_){var K=_.length/a.length,J=D===1?a:a.map((te,de)=>{var qe=Math.floor(de*K);if(_[qe]){var De=_[qe];return Mi(Mi({},te),{},{x:Se(De.x,te.x,D),y:Se(De.y,te.y,D)})}return f?Mi(Mi({},te),{},{x:Se(p*2,te.x,D),y:Se(v/2,te.y,D)}):Mi(Mi({},te),{},{x:te.x,y:te.y})});return i.current=J,b.createElement(aD,{props:n,points:J,clipPathId:e,pathRef:r,strokeDasharray:oe})}return b.createElement(aD,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:oe})}),b.createElement(Jc,{label:n.label}))}function Qde(t){var{clipPathId:e,props:n}=t,r=b.useRef(null),i=b.useRef(0),o=b.useRef(null);return b.createElement(Jde,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var Xde=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Ne(t.payload,e)}};class Zde extends b.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:o,yAxisId:a,top:s,left:l,width:u,height:c,id:d,needClip:f,zIndex:p}=this.props;if(e)return null;var v=be("recharts-line",i),E=d,{r:y,strokeWidth:_}=x3(n),T=AI(n),S=y*2+_,w=f?"url(#clipPath-".concat(T?"":"dots-").concat(E,")"):void 0;return b.createElement(jt,{zIndex:p},b.createElement(Oe,{className:v},f&&b.createElement("defs",null,b.createElement(i_,{clipPathId:E,xAxisId:o,yAxisId:a}),!T&&b.createElement("clipPath",{id:"clipPath-dots-".concat(E)},b.createElement("rect",{x:l-S/2,y:s-S/2,width:u+S,height:c+S}))),b.createElement(CI,{xAxisId:o,yAxisId:a,data:r,dataPointFormatter:Xde,errorBarOffset:0},b.createElement(Qde,{props:this.props,clipPathId:E}))),b.createElement($v,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:w}))}}var I3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:at.line,type:"linear"};function efe(t){var e=Ke(t,I3),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:s,dot:l,hide:u,isAnimationActive:c,label:d,legendType:f,xAxisId:p,yAxisId:v,id:E}=e,y=PI(e,Ude),{needClip:_}=pp(p,v),T=r_(),S=ys(),w=Dt(),M=Z(O=>dde(O,p,v,w,E));if(S!=="horizontal"&&S!=="vertical"||M==null||T==null)return null;var{height:N,width:I,x:P,y:R}=T;return b.createElement(Zde,fh({},y,{id:E,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,isAnimationActive:c,hide:u,label:d,legendType:f,xAxisId:p,yAxisId:v,points:M,layout:S,height:N,width:I,left:P,top:R,needClip:_}))}function tfe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:a,bandSize:s,displayedData:l}=t;return l.map((u,c)=>{var d=Ne(u,a);if(e==="horizontal"){var f=uc({axis:n,ticks:i,bandSize:s,entry:u,index:c}),p=ze(d)?null:r.scale.map(d);return{x:f,y:p??null,value:d,payload:u}}var v=ze(d)?null:n.scale.map(d),E=uc({axis:r,ticks:o,bandSize:s,entry:u,index:c});return v==null||E==null?null:{x:v,y:E,value:d,payload:u}}).filter(Boolean)}function nfe(t){var e=Ke(t,I3),n=Dt();return b.createElement(ed,{id:e.id,type:"line"},r=>b.createElement(b.Fragment,null,b.createElement(e_,{legendPayload:$de(e)}),b.createElement(Gde,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),b.createElement(t_,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),b.createElement(efe,fh({},e,{id:r}))))}var RI=b.memo(nfe,td);RI.displayName="Line";function Zi(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:c3}function eo(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:c3}var C3=(t,e,n)=>ri(t,"xAxis",Zi(t,e),n),P3=(t,e,n)=>ni(t,"xAxis",Zi(t,e),n),R3=(t,e,n)=>ri(t,"yAxis",eo(t,e),n),N3=(t,e,n)=>ni(t,"yAxis",eo(t,e),n),rfe=U([Ae,C3,R3,P3,N3],(t,e,n,r,i)=>ai(t,"xAxis")?Ki(e,r,!1):Ki(n,i,!1)),ife=(t,e)=>e,M3=U([$c,ife],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),O3=t=>{var e=Ae(t),n=ai(e,"xAxis");return n?"yAxis":"xAxis"},ofe=(t,e)=>{var n=O3(t);return n==="yAxis"?eo(t,e):Zi(t,e)},afe=(t,e,n)=>Lv(t,O3(t),ofe(t,e),n),sfe=U([M3,afe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=w0(t);if(!(r==null||i==null)){var o=(n=e[r])===null||n===void 0?void 0:n.stackedData,a=o==null?void 0:o.find(s=>s.key===i);if(a!=null)return a.map(s=>[s[0],s[1]])}}}),lfe=U([Ae,C3,R3,P3,N3,sfe,tj,rfe,M3,tne],(t,e,n,r,i,o,a,s,l,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=a;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{data:p}=l,v;if(p&&p.length>0?v=p:v=c==null?void 0:c.slice(d,f+1),v!=null)return Ife({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:d,areaSettings:l,stackedData:o,displayedData:v,chartBaseValue:u,bandSize:s})}}),ufe=["id"],cfe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(null,arguments)}function D3(t,e){if(t==null)return{};var n,r,i=dfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){ffe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ffe(t,e,n){return(e=hfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hfe(t){var e=pfe(t,"string");return typeof e=="symbol"?e:e+""}function pfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hv(t,e){return t&&t!=="none"?t:e}var mfe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:o,hide:a}=t;return[{inactive:a,dataKey:e,type:o,color:Hv(r,i),value:si(n,e),payload:t}]},gfe=b.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:s,unit:l,tooltipType:u,id:c}=t,d={dataDefinedOnItem:n,getPosition:Ci,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:si(a,e),hide:s,type:u,color:Hv(r,o),unit:l,graphicalItemId:c}};return b.createElement(Zc,{tooltipEntrySettings:d})});function vfe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:o,dataKey:a}=r,s=rt(r);return b.createElement(SI,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:s,needClip:i,clipPathId:e})}function yfe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(o=>{var a,s,l={x:(a=o.x)!==null&&a!==void 0?a:0,y:(s=o.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Nu(Nu({},l),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return b.createElement(fp,{value:e?i:void 0},n)}function lD(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:o}=t,{layout:a,type:s,stroke:l,connectNulls:u,isRange:c}=o,{id:d}=o,f=D3(o,ufe),p=rt(f),v=Bt(f);return b.createElement(b.Fragment,null,(e==null?void 0:e.length)>1&&b.createElement(Oe,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},b.createElement(ol,ll({},v,{id:d,points:e,connectNulls:u,type:s,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),l!=="none"&&b.createElement(ol,ll({},p,{className:"recharts-area-curve",layout:a,type:s,connectNulls:u,fill:"none",points:e})),l!=="none"&&c&&b.createElement(ol,ll({},p,{className:"recharts-area-curve",layout:a,type:s,connectNulls:u,fill:"none",points:n}))),b.createElement(vfe,{points:e,props:f,clipPathId:i}))}function _fe(t){var e,n,{alpha:r,baseLine:i,points:o,strokeWidth:a}=t,s=(e=o[0])===null||e===void 0?void 0:e.y,l=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!Te(s)||!Te(l))return null;var u=r*Math.abs(s-l),c=Math.max(...o.map(d=>d.x||0));return ie(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(d=>d.x||0),c)),ie(c)?b.createElement("rect",{x:0,y:s<l?s:s-u,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function bfe(t){var e,n,{alpha:r,baseLine:i,points:o,strokeWidth:a}=t,s=(e=o[0])===null||e===void 0?void 0:e.x,l=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!Te(s)||!Te(l))return null;var u=r*Math.abs(s-l),c=Math.max(...o.map(d=>d.y||0));return ie(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(d=>d.y||0),c)),ie(c)?b.createElement("rect",{x:s<l?s:s-u,y:0,width:u,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function Efe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:o}=t;return n==="vertical"?b.createElement(_fe,{alpha:e,points:r,baseLine:i,strokeWidth:o}):b.createElement(bfe,{alpha:e,points:r,baseLine:i,strokeWidth:o})}function Tfe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=t,{points:a,baseLine:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,onAnimationStart:f,onAnimationEnd:p}=r,v=b.useMemo(()=>({points:a,baseLine:s}),[a,s]),E=bs(v,"recharts-area-"),y=iw(),[_,T]=b.useState(!1),S=!_,w=b.useCallback(()=>{typeof p=="function"&&p(),T(!1)},[p]),M=b.useCallback(()=>{typeof f=="function"&&f(),T(!0)},[f]);if(y==null)return null;var N=i.current,I=o.current;return b.createElement(yfe,{showLabels:S,points:a},r.children,b.createElement(_s,{animationId:E,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:w,onAnimationStart:M,key:E},P=>{if(N){var R=N.length/a.length,O=P===1?a:a.map((D,k)=>{var Y=Math.floor(k*R);if(N[Y]){var oe=N[Y];return Nu(Nu({},D),{},{x:Se(oe.x,D.x,P),y:Se(oe.y,D.y,P)})}return D}),V;return ie(s)?V=Se(I,s,P):ze(s)||Ai(s)?V=Se(I,0,P):V=s.map((D,k)=>{var Y=Math.floor(k*R);if(Array.isArray(I)&&I[Y]){var oe=I[Y];return Nu(Nu({},D),{},{x:Se(oe.x,D.x,P),y:Se(oe.y,D.y,P)})}return D}),P>0&&(i.current=O,o.current=V),b.createElement(lD,{points:O,baseLine:V,needClip:e,clipPathId:n,props:r})}return P>0&&(i.current=a,o.current=s),b.createElement(Oe,null,l&&b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement(Efe,{alpha:P,points:a,baseLine:s,layout:y,strokeWidth:r.strokeWidth}))),b.createElement(Oe,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(lD,{points:a,baseLine:s,needClip:e,clipPathId:n,props:r})))}),b.createElement(Jc,{label:r.label}))}function Afe(t){var{needClip:e,clipPathId:n,props:r}=t,i=b.useRef(null),o=b.useRef();return b.createElement(Tfe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class Sfe extends b.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:o,left:a,needClip:s,xAxisId:l,yAxisId:u,width:c,height:d,id:f,baseLine:p,zIndex:v}=this.props;if(e)return null;var E=be("recharts-area",i),y=f,{r:_,strokeWidth:T}=x3(n),S=AI(n),w=_*2+T,M=s?"url(#clipPath-".concat(S?"":"dots-").concat(y,")"):void 0;return b.createElement(jt,{zIndex:v},b.createElement(Oe,{className:E},s&&b.createElement("defs",null,b.createElement(i_,{clipPathId:y,xAxisId:l,yAxisId:u}),!S&&b.createElement("clipPath",{id:"clipPath-dots-".concat(y)},b.createElement("rect",{x:a-w/2,y:o-w/2,width:c+w,height:d+w}))),b.createElement(Afe,{needClip:s,clipPathId:y,props:this.props})),b.createElement($v,{points:r,mainColor:Hv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(p)&&b.createElement($v,{points:p,mainColor:Hv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var k3={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:at.area};function xfe(t){var e,n=Ke(t,k3),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:s,dot:l,fill:u,fillOpacity:c,hide:d,isAnimationActive:f,legendType:p,stroke:v,xAxisId:E,yAxisId:y}=n,_=D3(n,cfe),T=ys(),S=g$(),{needClip:w}=pp(E,y),M=Dt(),{points:N,isRange:I,baseLine:P}=(e=Z(Y=>lfe(Y,t.id,M)))!==null&&e!==void 0?e:{},R=r_();if(T!=="horizontal"&&T!=="vertical"||R==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:O,width:V,x:D,y:k}=R;return!N||!N.length?null:b.createElement(Sfe,ll({},_,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:a,baseLine:P,connectNulls:s,dot:l,fill:u,fillOpacity:c,height:O,hide:d,layout:T,isAnimationActive:f==="auto"?!Qh.isSsr:f,isRange:I,legendType:p,needClip:w,points:N,stroke:v,width:V,left:D,top:k,xAxisId:E,yAxisId:y}))}var wfe=(t,e,n,r,i)=>{var o=n??e;if(ie(o))return o;var a=t==="horizontal"?i:r,s=a.scale.domain();if(a.type==="number"){var l=Math.max(s[0],s[1]),u=Math.min(s[0],s[1]);return o==="dataMin"?u:o==="dataMax"||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return o==="dataMin"?s[0]:o==="dataMax"?s[1]:s[0]};function Ife(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:a,xAxis:s,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:d,yAxisTicks:f,bandSize:p}=t,v=i&&i.length,E=wfe(o,a,n,s,l),y=o==="horizontal",_=!1,T=u.map((w,M)=>{var N,I,P,R;if(v)R=i[c+M];else{var O=Ne(w,r);Array.isArray(O)?(R=O,_=!0):R=[E,O]}var V=(N=(I=R)===null||I===void 0?void 0:I[1])!==null&&N!==void 0?N:null,D=V==null||v&&!e&&Ne(w,r)==null;if(y){var k;return{x:uc({axis:s,ticks:d,bandSize:p,entry:w,index:M}),y:D?null:(k=l.scale.map(V))!==null&&k!==void 0?k:null,value:R,payload:w}}return{x:D?null:(P=s.scale.map(V))!==null&&P!==void 0?P:null,y:uc({axis:l,ticks:f,bandSize:p,entry:w,index:M}),value:R,payload:w}}),S;return v||_?S=T.map(w=>{var M,N=Array.isArray(w.value)?w.value[0]:null;if(y){var I;return{x:w.x,y:N!=null&&w.y!=null&&(I=l.scale.map(N))!==null&&I!==void 0?I:null,payload:w.payload}}return{x:N!=null&&(M=s.scale.map(N))!==null&&M!==void 0?M:null,y:w.y,payload:w.payload}}):S=y?l.scale.map(E):s.scale.map(E),{points:T,baseLine:S??0,isRange:_}}function Cfe(t){var e=Ke(t,k3),n=Dt();return b.createElement(ed,{id:e.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(e_,{legendPayload:mfe(e)}),b.createElement(gfe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),b.createElement(t_,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:zF(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),b.createElement(xfe,ll({},e,{id:r}))))}var L3=b.memo(Cfe,td);L3.displayName="Area";var Pfe="Invariant failed";function Rfe(t,e){throw new Error(Pfe)}function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xA.apply(null,arguments)}function Kv(t){return b.createElement(uh,xA({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Nfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ie(e))return e;var o=ie(r)||ze(r);return o?e(r,i):(o||Rfe(),n)}},Mfe=(t,e,n)=>n,Ofe=(t,e)=>e,gp=U([$c,Ofe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Dfe=U([gp],t=>t==null?void 0:t.maxBarSize),kfe=(t,e,n,r)=>r,Lfe=U([Ae,$c,Zi,eo,Mfe],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Vfe=(t,e,n)=>{var r=Ae(t),i=Zi(t,e),o=eo(t,e);if(!(i==null||o==null))return r==="horizontal"?Lv(t,"yAxis",o,n):Lv(t,"xAxis",i,n)},Ufe=(t,e)=>{var n=Ae(t),r=Zi(t,e),i=eo(t,e);if(!(r==null||i==null))return n==="horizontal"?$M(t,"xAxis",r):$M(t,"yAxis",i)},Bfe=U([Lfe,ene,Ufe],Xue),Ffe=(t,e,n)=>{var r,i,o=gp(t,e);if(o==null)return 0;var a=Zi(t,e),s=eo(t,e);if(a==null||s==null)return 0;var l=Ae(t),u=hj(t),{maxBarSize:c}=o,d=ze(c)?u:c,f,p;return l==="horizontal"?(f=ri(t,"xAxis",a,n),p=ni(t,"xAxis",a,n)):(f=ri(t,"yAxis",s,n),p=ni(t,"yAxis",s,n)),(r=(i=Ki(f,p,!0))!==null&&i!==void 0?i:d)!==null&&r!==void 0?r:0},V3=(t,e,n)=>{var r=Ae(t),i=Zi(t,e),o=eo(t,e);if(!(i==null||o==null)){var a,s;return r==="horizontal"?(a=ri(t,"xAxis",i,n),s=ni(t,"xAxis",i,n)):(a=ri(t,"yAxis",o,n),s=ni(t,"yAxis",o,n)),Ki(a,s)}},zfe=U([Bfe,hj,Zte,pj,Ffe,V3,Dfe],rce),jfe=(t,e,n)=>{var r=Zi(t,e);if(r!=null)return ri(t,"xAxis",r,n)},$fe=(t,e,n)=>{var r=eo(t,e);if(r!=null)return ri(t,"yAxis",r,n)},Gfe=(t,e,n)=>{var r=Zi(t,e);if(r!=null)return ni(t,"xAxis",r,n)},qfe=(t,e,n)=>{var r=eo(t,e);if(r!=null)return ni(t,"yAxis",r,n)},Hfe=U([zfe,gp],oce),Kfe=U([Vfe,gp],ice),Wfe=U([rn,Zx,jfe,$fe,Gfe,qfe,Hfe,Ae,tj,V3,Kfe,gp,kfe],(t,e,n,r,i,o,a,s,l,u,c,d,f)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:E}=l;if(!(d==null||a==null||e==null||s!=="horizontal"&&s!=="vertical"||n==null||r==null||i==null||o==null||u==null)){var{data:y}=d,_;if(y!=null&&y.length>0?_=y:_=p==null?void 0:p.slice(v,E+1),_!=null)return The({layout:s,barSettings:d,pos:a,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:c,displayedData:_,offset:t,cells:f,dataStartIndex:v})}}),Yfe=["index"];function wA(){return wA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wA.apply(null,arguments)}function Jfe(t,e){if(t==null)return{};var n,r,i=Qfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U3=b.createContext(void 0),Xfe=t=>{var e=b.useContext(U3);if(e!=null)return e.stackId;if(t!=null)return zF(t)},Zfe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),ehe=t=>{var e=b.useContext(U3);if(e!=null){var{stackId:n}=e;return"url(#".concat(Zfe(n,t),")")}},B3=t=>{var{index:e}=t,n=Jfe(t,Yfe),r=ehe(e);return b.createElement(Oe,wA({className:"recharts-bar-stack-layer",clipPath:r},n))},the=["onMouseEnter","onMouseLeave","onClick"],nhe=["value","background","tooltipPosition"],rhe=["id"],ihe=["onMouseEnter","onClick","onMouseLeave"];function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$o.apply(null,arguments)}function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){ohe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ohe(t,e,n){return(e=ahe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ahe(t){var e=she(t,"string");return typeof e=="symbol"?e:e+""}function she(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wv(t,e){if(t==null)return{};var n,r,i=lhe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uhe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:si(n,e),payload:t}]},che=b.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:s,tooltipType:l,id:u}=t,c={dataDefinedOnItem:void 0,getPosition:Ci,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:si(o,e),hide:a,type:l,color:i,unit:s,graphicalItemId:u}};return b.createElement(Zc,{tooltipEntrySettings:c})});function dhe(t){var e=Z(jo),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:a,onMouseLeave:s,onClick:l}=o,u=Wv(o,the),c=Q0(a,r,o.id),d=X0(s),f=Z0(l,r,o.id);if(!i||n==null)return null;var p=Gi(i);return b.createElement(jt,{zIndex:ace(i,at.barBackground)},n.map((v,E)=>{var{value:y,background:_,tooltipPosition:T}=v,S=Wv(v,nhe);if(!_)return null;var w=c(v,E),M=d(v,E),N=f(v,E),I=$n($n($n($n($n({option:i,isActive:String(E)===e},S),{},{fill:"#eee"},_),p),vs(u,v,E)),{},{onMouseEnter:w,onMouseLeave:M,onClick:N,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return b.createElement(Kv,$o({key:"background-bar-".concat(E)},I))}))}function fhe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(o=>{var a={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return $n($n({},a),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:a,fill:o.fill})});return b.createElement(fp,{value:e?i:void 0},n)}function hhe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:o,dataKey:a}=t,s=Z(jo),l=Z(lI),u=n&&String(o)===s&&(l==null||a===l),c=u?n:e;return u?b.createElement(jt,{zIndex:at.activeBar},b.createElement(B3,{index:o},b.createElement(Kv,$o({},r,{name:String(r.name)},i,{isActive:u,option:c,index:o,dataKey:a})))):b.createElement(Kv,$o({},r,{name:String(r.name)},i,{isActive:u,option:c,index:o,dataKey:a}))}function phe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:o}=t;return b.createElement(Kv,$o({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:o}))}function mhe(t){var e,{data:n,props:r}=t,i=(e=rt(r))!==null&&e!==void 0?e:{},{id:o}=i,a=Wv(i,rhe),{shape:s,dataKey:l,activeBar:u}=r,{onMouseEnter:c,onClick:d,onMouseLeave:f}=r,p=Wv(r,ihe),v=Q0(c,l,o),E=X0(f),y=Z0(d,l,o);return n?b.createElement(b.Fragment,null,n.map((_,T)=>b.createElement(B3,$o({index:T,key:"rectangle-".concat(_==null?void 0:_.x,"-").concat(_==null?void 0:_.y,"-").concat(_==null?void 0:_.value,"-").concat(T),className:"recharts-bar-rectangle"},vs(p,_,T),{onMouseEnter:v(_,T),onMouseLeave:E(_,T),onClick:y(_,T)}),u?b.createElement(hhe,{shape:s,activeBar:u,baseProps:a,entry:_,index:T,dataKey:l}):b.createElement(phe,{shape:s,baseProps:a,entry:_,index:T,dataKey:l})))):null}function ghe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=e,d=n.current,f=bs(e,"recharts-bar-"),[p,v]=b.useState(!1),E=!p,y=b.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),_=b.useCallback(()=>{typeof c=="function"&&c(),v(!0)},[c]);return b.createElement(fhe,{showLabels:E,rects:r},b.createElement(_s,{animationId:f,begin:a,duration:s,isActive:o,easing:l,onAnimationEnd:y,onAnimationStart:_,key:f},T=>{var S=T===1?r:r==null?void 0:r.map((w,M)=>{var N=d&&d[M];if(N)return $n($n({},w),{},{x:Se(N.x,w.x,T),y:Se(N.y,w.y,T),width:Se(N.width,w.width,T),height:Se(N.height,w.height,T)});if(i==="horizontal"){var I=Se(0,w.height,T),P=Se(w.stackedBarStart,w.y,T);return $n($n({},w),{},{y:P,height:I})}var R=Se(0,w.width,T),O=Se(w.stackedBarStart,w.x,T);return $n($n({},w),{},{width:R,x:O})});return T>0&&(n.current=S??null),S==null?null:b.createElement(Oe,null,b.createElement(mhe,{props:e,data:S}))}),b.createElement(Jc,{label:e.label}),e.children)}function vhe(t){var e=b.useRef(null);return b.createElement(ghe,{previousRectanglesRef:e,props:t})}var F3=0,yhe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Ne(t,e)}};class _he extends b.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:s,background:l,id:u}=this.props;if(e||n==null)return null;var c=be("recharts-bar",i),d=u;return b.createElement(Oe,{className:c,id:u},s&&b.createElement("defs",null,b.createElement(i_,{clipPathId:d,xAxisId:o,yAxisId:a})),b.createElement(Oe,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},b.createElement(dhe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),b.createElement(vhe,this.props)))}}var bhe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:F3,xAxisId:0,yAxisId:0,zIndex:at.bar};function Ehe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=t,{needClip:d}=pp(e,n),f=ys(),p=Dt(),v=J0(t.children,xi),E=Z(T=>Wfe(T,t.id,p,v));if(f!=="vertical"&&f!=="horizontal")return null;var y,_=E==null?void 0:E[0];return _==null||_.height==null||_.width==null?y=0:y=f==="vertical"?_.height/2:_.width/2,b.createElement(CI,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:yhe,errorBarOffset:y},b.createElement(_he,$o({},t,{layout:f,needClip:d,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function The(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:f,cells:p,parentViewBox:v,dataStartIndex:E}=t,y=e==="horizontal"?s:a,_=c?y.scale.domain():null,T=YJ({numericAxis:y}),S=y.scale.map(T);return d.map((w,M)=>{var N,I,P,R,O,V;if(c){var D=c[M+E];if(D==null)return null;N=GJ(D,_)}else N=Ne(w,n),Array.isArray(N)||(N=[T,N]);var k=Nfe(r,F3)(N[1],M);if(e==="horizontal"){var Y,oe=s.scale.map(N[0]),G=s.scale.map(N[1]);if(oe==null||G==null)return null;I=JR({axis:a,ticks:l,bandSize:o,offset:i.offset,entry:w,index:M}),P=(Y=G??oe)!==null&&Y!==void 0?Y:void 0,R=i.size;var K=oe-G;if(O=Ai(K)?0:K,V={x:I,y:f.top,width:R,height:f.height},Math.abs(k)>0&&Math.abs(O)<Math.abs(k)){var J=pn(O||k)*(Math.abs(k)-Math.abs(O));P-=J,O+=J}}else{var te=a.scale.map(N[0]),de=a.scale.map(N[1]);if(te==null||de==null)return null;if(I=te,P=JR({axis:s,ticks:u,bandSize:o,offset:i.offset,entry:w,index:M}),R=de-te,O=i.size,V={x:f.left,y:P,width:f.width,height:O},Math.abs(k)>0&&Math.abs(R)<Math.abs(k)){var qe=pn(R||k)*(Math.abs(k)-Math.abs(R));R+=qe}}if(I==null||P==null||R==null||O==null)return null;var De=$n($n({},w),{},{stackedBarStart:S,x:I,y:P,width:R,height:O,value:c?N:N[1],payload:w,background:V,tooltipPosition:{x:I+R/2,y:P+O/2},parentViewBox:v},p&&p[M]&&p[M].props);return De}).filter(Boolean)}function Ahe(t){var e=Ke(t,bhe),n=Xfe(e.stackId),r=Dt();return b.createElement(ed,{id:e.id,type:"bar"},i=>b.createElement(b.Fragment,null,b.createElement(e_,{legendPayload:uhe(e)}),b.createElement(che,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),b.createElement(t_,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),b.createElement(jt,{zIndex:e.zIndex},b.createElement(Ehe,$o({},e,{id:i})))))}var hh=b.memo(Ahe,td);hh.displayName="Bar";var She=["option","isActive"];function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xf.apply(null,arguments)}function xhe(t,e){if(t==null)return{};var n,r,i=whe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function whe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ihe(t){var{option:e,isActive:n}=t,r=xhe(t,She);return typeof e=="string"?b.createElement(uh,xf({option:b.createElement(Yy,xf({type:e},r)),isActive:n,shapeType:"symbols"},r)):b.createElement(uh,xf({option:e,isActive:n,shapeType:"symbols"},r))}var Che=(t,e,n,r,i,o,a)=>ri(t,"xAxis",e,a),Phe=(t,e,n,r,i,o,a)=>ni(t,"xAxis",e,a),Rhe=(t,e,n,r,i,o,a)=>ri(t,"yAxis",n,a),Nhe=(t,e,n,r,i,o,a)=>ni(t,"yAxis",n,a),Mhe=(t,e,n,r)=>are(t,"zAxis",r,!1),Ohe=(t,e,n,r,i)=>i,Dhe=(t,e,n,r,i,o)=>o,khe=(t,e,n,r,i,o,a)=>A0(t,void 0,void 0,a),Lhe=U([$c,Ohe],(t,e)=>t.filter(n=>n.type==="scatter").find(n=>n.id===e)),Vhe=U([khe,Che,Phe,Rhe,Nhe,Mhe,Lhe,Dhe],(t,e,n,r,i,o,a,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=t;if(a!=null){var d;if((a==null?void 0:a.data)!=null&&a.data.length>0?d=a.data:d=l==null?void 0:l.slice(u,c+1),!(d==null||e==null||r==null||n==null||i==null||(n==null?void 0:n.length)===0||(i==null?void 0:i.length)===0))return Qhe({displayedData:d,xAxis:e,yAxis:r,zAxis:o,scatterSettings:a,xAxisTicks:n,yAxisTicks:i,cells:s})}}),Uhe=["id"],Bhe=["onMouseEnter","onClick","onMouseLeave"],Fhe=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function IA(t,e){if(t==null)return{};var n,r,i=zhe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(null,arguments)}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jhe(t,e,n){return(e=$he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $he(t){var e=Ghe(t,"string");return typeof e=="symbol"?e:e+""}function Ghe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qhe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:si(n,e),payload:t}]},Hhe=b.memo(t=>{var{dataKey:e,points:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:s,tooltipType:l,id:u}=t,c={dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),getPosition:d=>{var f;return n==null||(f=n[Number(d)])===null||f===void 0?void 0:f.tooltipPosition},settings:{stroke:r,strokeWidth:i,fill:o,nameKey:void 0,dataKey:e,name:si(a,e),hide:s,type:l,color:o,unit:"",graphicalItemId:u}};return b.createElement(Zc,{tooltipEntrySettings:c})});function Khe(t){var{points:e,props:n}=t,{line:r,lineType:i,lineJointType:o}=n;if(!r)return null;var a=rt(n),s=Gi(r),l,u;if(i==="joint")l=e.map(y=>{var _,T;return{x:(_=y.cx)!==null&&_!==void 0?_:null,y:(T=y.cy)!==null&&T!==void 0?T:null}});else if(i==="fitting"){var{xmin:c,xmax:d,a:f,b:p}=NW(e),v=y=>f*y+p;l=[{x:c,y:v(c)},{x:d,y:v(d)}]}var E=ar(ar(ar({},a),{},{fill:"none",stroke:a&&a.fill},s),{},{points:l});return b.isValidElement(r)?u=b.cloneElement(r,E):typeof r=="function"?u=r(E):u=b.createElement(ol,xl({},E,{type:o})),b.createElement(Oe,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function Whe(t){var{showLabels:e,points:n,children:r}=t,i=Wh(),o=b.useMemo(()=>n==null?void 0:n.map(a=>{var s,l,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:a.width,height:a.height,lowerWidth:a.width,upperWidth:a.width};return ar(ar({},u),{},{value:void 0,payload:a.payload,viewBox:u,parentViewBox:i,fill:void 0})}),[i,n]);return b.createElement(fp,{value:e?o:void 0},r)}function Yhe(t){var{points:e,allOtherScatterProps:n}=t,{shape:r,activeShape:i,dataKey:o}=n,{id:a}=n,s=IA(n,Uhe),l=Z(jo),{onMouseEnter:u,onClick:c,onMouseLeave:d}=n,f=IA(n,Bhe),p=Q0(u,o,a),v=X0(d),E=Z0(c,o,a);if(!$W(e))return null;var y=rt(s);return b.createElement(b.Fragment,null,b.createElement(Khe,{points:e,props:s}),e.map((_,T)=>{var S=i!=null&&i!==!1,w=S&&l===String(T),M=S&&w?i:r,N=ar(ar(ar({},y),_),{},{index:T,[Xx]:String(a)});return b.createElement(jt,{key:"symbol-".concat(_==null?void 0:_.cx,"-").concat(_==null?void 0:_.cy,"-").concat(_==null?void 0:_.size,"-").concat(T),zIndex:w?at.activeDot:void 0},b.createElement(Oe,xl({className:"recharts-scatter-symbol"},vs(f,_,T),{onMouseEnter:p(_,T),onMouseLeave:v(_,T),onClick:E(_,T)}),b.createElement(Ihe,xl({option:M,isActive:w},N))))}))}function Jhe(t){var{previousPointsRef:e,props:n}=t,{points:r,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:s}=n,l=e.current,u=bs(n,"recharts-scatter-"),[c,d]=b.useState(!1),f=b.useCallback(()=>{d(!1)},[]),p=b.useCallback(()=>{d(!0)},[]),v=!c;return b.createElement(Whe,{showLabels:v,points:r},n.children,b.createElement(_s,{animationId:u,begin:o,duration:a,isActive:i,easing:s,onAnimationEnd:f,onAnimationStart:p,key:u},E=>{var y=E===1?r:r==null?void 0:r.map((_,T)=>{var S=l&&l[T];return S?ar(ar({},_),{},{cx:_.cx==null?void 0:Se(S.cx,_.cx,E),cy:_.cy==null?void 0:Se(S.cy,_.cy,E),size:Se(S.size,_.size,E)}):ar(ar({},_),{},{size:Se(0,_.size,E)})});return E>0&&(e.current=y),b.createElement(Oe,null,b.createElement(Yhe,{points:y,allOtherScatterProps:n,showLabels:v}))}),b.createElement(Jc,{label:n.label}))}function Qhe(t){var{displayedData:e,xAxis:n,yAxis:r,zAxis:i,scatterSettings:o,xAxisTicks:a,yAxisTicks:s,cells:l}=t,u=ze(n.dataKey)?o.dataKey:n.dataKey,c=ze(r.dataKey)?o.dataKey:r.dataKey,d=i&&i.dataKey,f=i?i.range:_o.range,p=f&&f[0],v=n.scale.bandwidth?n.scale.bandwidth():0,E=r.scale.bandwidth?r.scale.bandwidth():0;return e.map((y,_)=>{var T=Ne(y,u),S=Ne(y,c),w=!ze(d)&&Ne(y,d)||"-",M=[{name:ze(n.dataKey)?o.name:n.name||String(n.dataKey),unit:n.unit||"",value:T,payload:y,dataKey:u,type:o.tooltipType},{name:ze(r.dataKey)?o.name:r.name||String(r.dataKey),unit:r.unit||"",value:S,payload:y,dataKey:c,type:o.tooltipType}];w!=="-"&&i!=null&&M.push({name:i.name||i.dataKey,unit:i.unit||"",value:w,payload:y,dataKey:d,type:o.tooltipType});var N=uc({axis:n,ticks:a,bandSize:v,entry:y,index:_,dataKey:u}),I=uc({axis:r,ticks:s,bandSize:E,entry:y,index:_,dataKey:c}),P=w!=="-"&&i!=null?i.scale.map(w):p,R=P==null?0:Math.sqrt(Math.max(P,0)/Math.PI);return ar(ar({},y),{},{cx:N,cy:I,x:N==null?void 0:N-R,y:I==null?void 0:I-R,width:2*R,height:2*R,size:P,node:{x:T,y:S,z:w},tooltipPayload:M,tooltipPosition:{x:N,y:I},payload:y},l&&l[_]&&l[_].props)})}var Xhe=(t,e,n)=>({x:t.cx,y:t.cy,value:Number(n==="x"?t.node.x:t.node.y),errorVal:Ne(t,e)});function Zhe(t){var{hide:e,points:n,className:r,needClip:i,xAxisId:o,yAxisId:a,id:s}=t,l=b.useRef(null);if(e)return null;var u=be("recharts-scatter",r),c=s;return b.createElement(jt,{zIndex:t.zIndex},b.createElement(Oe,{className:u,clipPath:i?"url(#clipPath-".concat(c,")"):void 0,id:s},i&&b.createElement("defs",null,b.createElement(i_,{clipPathId:c,xAxisId:o,yAxisId:a})),b.createElement(CI,{xAxisId:o,yAxisId:a,data:n,dataPointFormatter:Xhe,errorBarOffset:0},b.createElement(Oe,{key:"recharts-scatter-symbols"},b.createElement(Jhe,{props:t,previousPointsRef:l})))))}var z3={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:at.scatter};function epe(t){var e=Ke(t,z3),{animationBegin:n,animationDuration:r,animationEasing:i,hide:o,isAnimationActive:a,legendType:s,lineJointType:l,lineType:u,shape:c,xAxisId:d,yAxisId:f,zAxisId:p}=e,v=IA(e,Fhe),{needClip:E}=pp(d,f),y=b.useMemo(()=>J0(t.children,xi),[t.children]),_=Dt(),T=Z(S=>Vhe(S,d,f,p,t.id,y,_));return E==null||T==null?null:b.createElement(b.Fragment,null,b.createElement(Hhe,{dataKey:t.dataKey,points:T,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:t.id}),b.createElement(Zhe,xl({},v,{xAxisId:d,yAxisId:f,zAxisId:p,lineType:u,lineJointType:l,legendType:s,shape:c,hide:o,isAnimationActive:a,animationBegin:n,animationDuration:r,animationEasing:i,points:T,needClip:E})))}function tpe(t){var e=Ke(t,z3),n=Dt();return b.createElement(ed,{id:e.id,type:"scatter"},r=>b.createElement(b.Fragment,null,b.createElement(e_,{legendPayload:qhe(e)}),b.createElement(t_,{type:"scatter",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:n}),b.createElement(epe,xl({},e,{id:r}))))}var j3=b.memo(tpe,td);j3.displayName="Scatter";var npe=["domain","range"],rpe=["domain","range"];function dD(t,e){if(t==null)return{};var n,r,i=ipe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ipe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function $3(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=dD(t,npe),{domain:o,range:a}=e,s=dD(e,rpe);return!fD(n,o)||!fD(r,a)?!1:td(i,s)}var ope=["type"],ape=["dangerouslySetInnerHTML","ticks","scale"],spe=["id","scale"];function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CA.apply(null,arguments)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){lpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lpe(t,e,n){return(e=upe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function upe(t){var e=cpe(t,"string");return typeof e=="symbol"?e:e+""}function cpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PA(t,e){if(t==null)return{};var n,r,i=dpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fpe(t){var e=Ze(),n=b.useRef(null),r=iw(),{type:i}=t,o=PA(t,ope),a=Bc(r,"xAxis",i),s=b.useMemo(()=>{if(a!=null)return pD(pD({},o),{},{type:a})},[o,a]);return b.useLayoutEffect(()=>{s!=null&&(n.current===null?e(iue(s)):n.current!==s&&e(oue({prev:n.current,next:s})),n.current=s)},[s,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(aue(n.current)),n.current=null)},[e]),null}var hpe=t=>{var{xAxisId:e,className:n}=t,r=Z(Zx),i=Dt(),o="xAxis",a=Z(_=>Hj(_,o,e,i)),s=Z(_=>jj(_,e)),l=Z(_=>nre(_,e)),u=Z(_=>Aj(_,e));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:f}=t,p=PA(t,ape),{id:v,scale:E}=u,y=PA(u,spe);return b.createElement(II,CA({},p,y,{x:l.x,y:l.y,width:s.width,height:s.height,className:be("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a,axisType:o}))},ppe={allowDataOverflow:ln.allowDataOverflow,allowDecimals:ln.allowDecimals,allowDuplicatedCategory:ln.allowDuplicatedCategory,angle:ln.angle,axisLine:Po.axisLine,height:ln.height,hide:!1,includeHidden:ln.includeHidden,interval:ln.interval,label:!1,minTickGap:ln.minTickGap,mirror:ln.mirror,orientation:ln.orientation,padding:ln.padding,reversed:ln.reversed,scale:ln.scale,tick:ln.tick,tickCount:ln.tickCount,tickLine:Po.tickLine,tickSize:Po.tickSize,type:ln.type,xAxisId:0},mpe=t=>{var e=Ke(t,ppe);return b.createElement(b.Fragment,null,b.createElement(fpe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),b.createElement(hpe,e))},us=b.memo(mpe,$3);us.displayName="XAxis";var gpe=["type"],vpe=["dangerouslySetInnerHTML","ticks","scale"],ype=["id","scale"];function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RA.apply(null,arguments)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){_pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _pe(t,e,n){return(e=bpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bpe(t){var e=Epe(t,"string");return typeof e=="symbol"?e:e+""}function Epe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NA(t,e){if(t==null)return{};var n,r,i=Tpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ape(t){var e=Ze(),n=b.useRef(null),r=iw(),{type:i}=t,o=NA(t,gpe),a=Bc(r,"yAxis",i),s=b.useMemo(()=>{if(a!=null)return gD(gD({},o),{},{type:a})},[a,o]);return b.useLayoutEffect(()=>{s!=null&&(n.current===null?e(sue(s)):n.current!==s&&e(lue({prev:n.current,next:s})),n.current=s)},[s,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(uue(n.current)),n.current=null)},[e]),null}function Spe(t){var{yAxisId:e,className:n,width:r,label:i}=t,o=b.useRef(null),a=b.useRef(null),s=Z(Zx),l=Dt(),u=Ze(),c="yAxis",d=Z(N=>$j(N,e)),f=Z(N=>ire(N,e)),p=Z(N=>Hj(N,c,e,l)),v=Z(N=>Sj(N,e));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!d||hI(i)||b.isValidElement(i)||v==null)){var N=o.current;if(N){var I=N.getCalculatedWidth();Math.round(d.width)!==Math.round(I)&&u(hue({id:e,width:I}))}}},[p,d,u,i,e,r,v]),d==null||f==null||v==null)return null;var{dangerouslySetInnerHTML:E,ticks:y,scale:_}=t,T=NA(t,vpe),{id:S,scale:w}=v,M=NA(v,ype);return b.createElement(II,RA({},T,M,{ref:o,labelRef:a,x:f.x,y:f.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:d.width,height:d.height,className:be("recharts-".concat(c," ").concat(c),n),viewBox:s,ticks:p,axisType:c}))}var xpe={allowDataOverflow:un.allowDataOverflow,allowDecimals:un.allowDecimals,allowDuplicatedCategory:un.allowDuplicatedCategory,angle:un.angle,axisLine:Po.axisLine,hide:!1,includeHidden:un.includeHidden,interval:un.interval,label:!1,minTickGap:un.minTickGap,mirror:un.mirror,orientation:un.orientation,padding:un.padding,reversed:un.reversed,scale:un.scale,tick:un.tick,tickCount:un.tickCount,tickLine:Po.tickLine,tickSize:Po.tickSize,type:un.type,width:un.width,yAxisId:0},wpe=t=>{var e=Ke(t,xpe);return b.createElement(b.Fragment,null,b.createElement(Ape,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),b.createElement(Spe,e))},cs=b.memo(wpe,$3);cs.displayName="YAxis";function Ipe(t){var e=Ze(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(cue(t)):n.current!==t&&e(due({prev:n.current,next:t})),n.current=t},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(fue(n.current)),n.current=null)},[e]),null}var Cpe={zAxisId:0,range:_o.range,scale:_o.scale,type:_o.type};function G3(t){var e=Ke(t,Cpe);return b.createElement(Ipe,{domain:e.domain,id:e.zAxisId,dataKey:e.dataKey,name:e.name,unit:e.unit,range:e.range,scale:e.scale,type:e.type,allowDuplicatedCategory:_o.allowDuplicatedCategory,allowDataOverflow:_o.allowDataOverflow,reversed:_o.reversed,includeHidden:_o.includeHidden})}G3.displayName="ZAxis";var Ppe=(t,e)=>e,NI=U([Ppe,Ae,zc,vn,c$,na,yie,rn],xie),MI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},q3=ei("mouseClick"),H3=Hh();H3.startListening({actionCreator:q3,effect:(t,e)=>{var n=t.payload,r=NI(e.getState(),MI(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(vre({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var MA=ei("mouseMove"),K3=Hh(),Sm=null;K3.startListening({actionCreator:MA,effect:(t,e)=>{var n=t.payload;Sm!==null&&cancelAnimationFrame(Sm);var r=MI(n);Sm=requestAnimationFrame(()=>{var i=e.getState(),o=nI(i,i.tooltip.settings.shared);if(o==="axis"){var a=NI(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(t$({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(e$())}Sm=null})}});function Rpe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var vD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},W3=fr({name:"rootProps",initialState:vD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:vD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Npe=W3.reducer,{updateOptions:Mpe}=W3.actions,Ope=null,Dpe={updatePolarOptions:(t,e)=>e.payload},Y3=fr({name:"polarOptions",initialState:Ope,reducers:Dpe}),{updatePolarOptions:kpe}=Y3.actions,Lpe=Y3.reducer,J3=ei("keyDown"),Q3=ei("focus"),OI=Hh();OI.startListening({actionCreator:J3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=rI(i,Kc(n),sp(n),cp(n)),s=a==null?-1:Number(a);if(!(!Number.isFinite(s)||s<0)){var l=na(n);if(o==="Enter"){var u=Uv(n,"axis","hover",String(i.index));e.dispatch(_A({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=sre(n),d=c==="left-to-right"?1:-1,f=o==="ArrowRight"?1:-1,p=s+f*d;if(!(l==null||p>=l.length||p<0)){var v=Uv(n,"axis","hover",String(p));e.dispatch(_A({active:!0,activeIndex:p.toString(),activeCoordinate:v}))}}}}}});OI.startListening({actionCreator:Q3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=Uv(n,"axis","hover",String(o));e.dispatch(_A({active:!0,activeIndex:o,activeCoordinate:a}))}}}});var kr=ei("externalEvent"),X3=Hh(),cE=new Map;X3.startListening({actionCreator:kr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=cE.get(i);o!==void 0&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var s=e.getState(),l={activeCoordinate:rie(s),activeDataKey:lI(s),activeIndex:jo(s),activeLabel:h$(s),activeTooltipIndex:jo(s),isTooltipActive:iie(s)};n(l,r)}finally{cE.delete(i)}});cE.set(i,a)}}});var Vpe=U([qc],t=>t.tooltipItemPayloads),Upe=U([Vpe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),Z3=ei("touchMove"),e5=Hh();e5.startListening({actionCreator:Z3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=nI(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var a=NI(r,MI({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(t$({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute($F),d=(s=u.getAttribute(Xx))!==null&&s!==void 0?s:void 0,f=Hc(r).find(E=>E.id===d);if(c==null||f==null||d==null)return;var{dataKey:p}=f,v=Upe(r,c,d);e.dispatch(Zj({activeDataKey:p,activeIndex:c,activeCoordinate:v,activeGraphicalItemId:d}))}}}});var Bpe=cF({brush:sce,cartesianAxis:pue,chartData:toe,errorBars:tde,graphicalItems:ble,layout:BJ,legend:zQ,options:Jie,polarAxis:ose,polarOptions:Lpe,referenceElements:dce,rootProps:Npe,tooltip:yre,zIndex:Bie}),Fpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return cJ({reducer:Bpe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([H3.middleware,K3.middleware,OI.middleware,X3.middleware,e5.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(xF({type:"raf"}))},devTools:{serialize:{replacer:Rpe},name:"recharts-".concat(n)}})};function t5(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Dt(),o=b.useRef(null);if(i)return n;o.current==null&&(o.current=Fpe(e,r));var a=$x;return b.createElement(Ode,{context:a,store:o.current},n)}function zpe(t){var{layout:e,margin:n}=t,r=Ze(),i=Dt();return b.useEffect(()=>{i||(r(LJ(e)),r(kJ(n)))},[r,i,e,n]),null}var n5=b.memo(zpe,td);function r5(t){var e=Ze();return b.useEffect(()=>{e(Mpe(t))},[e,t]),null}function yD(t){var{zIndex:e,isPanorama:n}=t,r=b.useRef(null),i=Ze();return b.useLayoutEffect(()=>(r.current&&i(Vie({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Uie({zIndex:e,isPanorama:n}))}),[i,e,n]),b.createElement("g",{tabIndex:-1,ref:r})}function _D(t){var{children:e,isPanorama:n}=t,r=Z(Iie);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),o=r.filter(a=>a>0);return b.createElement(b.Fragment,null,i.map(a=>b.createElement(yD,{key:a,zIndex:a,isPanorama:n})),e,o.map(a=>b.createElement(yD,{key:a,zIndex:a,isPanorama:n})))}var jpe=["children"];function $pe(t,e){if(t==null)return{};var n,r,i=Gpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(null,arguments)}var qpe={width:"100%",height:"100%",display:"block"},Hpe=b.forwardRef((t,e)=>{var n=nw(),r=rw(),i=lz();if(!Hi(n)||!Hi(r))return null;var{children:o,otherAttributes:a,title:s,desc:l}=t,u,c;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?c=a.role:c=i?"application":void 0),b.createElement(Rx,Yv({},a,{title:s,desc:l,role:c,tabIndex:u,width:n,height:r,style:qpe,ref:e}),o)}),Kpe=t=>{var{children:e}=t,n=Z(h0);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return b.createElement(Rx,{width:r,height:i,x:a,y:o},e)},bD=b.forwardRef((t,e)=>{var{children:n}=t,r=$pe(t,jpe),i=Dt();return i?b.createElement(Kpe,null,b.createElement(_D,{isPanorama:!0},n)):b.createElement(Hpe,Yv({ref:e},r),b.createElement(_D,{isPanorama:!1},n))});function Wpe(){var t=Ze(),[e,n]=b.useState(null),r=Z(tQ);return b.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Te(o)&&o!==r&&t(UJ(o))}},[e,t,r]),n}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ype(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){Jpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jpe(t,e,n){return(e=Qpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qpe(t){var e=Xpe(t,"string");return typeof e=="symbol"?e:e+""}function Xpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(null,arguments)}var Zpe=()=>(coe(),null);function Jv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var eme=b.forwardRef((t,e)=>{var n,r,i=b.useRef(null),[o,a]=b.useState({containerWidth:Jv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Jv((r=t.style)===null||r===void 0?void 0:r.height)}),s=b.useCallback((u,c)=>{a(d=>{var f=Math.round(u),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),l=b.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();s(c,d);var f=v=>{var E=v[0];if(E!=null){var{width:y,height:_}=E.contentRect;s(y,_)}},p=new ResizeObserver(f);p.observe(u),i.current=p}},[e,s]);return b.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),b.createElement(b.Fragment,null,b.createElement(Yh,{width:o.containerWidth,height:o.containerHeight}),b.createElement("div",Ya({ref:l},t)))}),tme=b.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=b.useState({containerWidth:Jv(n),containerHeight:Jv(r)}),a=b.useCallback((l,u)=>{o(c=>{var d=Math.round(l),f=Math.round(u);return c.containerWidth===d&&c.containerHeight===f?c:{containerWidth:d,containerHeight:f}})},[]),s=b.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();a(u,c)}},[e,a]);return b.createElement(b.Fragment,null,b.createElement(Yh,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",Ya({ref:s},t)))}),nme=b.forwardRef((t,e)=>{var{width:n,height:r}=t;return b.createElement(b.Fragment,null,b.createElement(Yh,{width:n,height:r}),b.createElement("div",Ya({ref:e},t)))}),rme=b.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?b.createElement(tme,Ya({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?b.createElement(nme,Ya({},t,{width:n,height:r,ref:e})):b.createElement(b.Fragment,null,b.createElement(Yh,{width:n,height:r}),b.createElement("div",Ya({ref:e},t)))});function ime(t){return t?eme:rme}var ome=b.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:f,onTouchEnd:p,onTouchMove:v,onTouchStart:E,style:y,width:_,responsive:T,dispatchTouchEvents:S=!0}=t,w=b.useRef(null),M=Ze(),[N,I]=b.useState(null),[P,R]=b.useState(null),O=Wpe(),V=ew(),D=(V==null?void 0:V.width)>0?V.width:_,k=(V==null?void 0:V.height)>0?V.height:i,Y=b.useCallback(B=>{O(B),typeof e=="function"&&e(B),I(B),R(B),B!=null&&(w.current=B)},[O,e,I,R]),oe=b.useCallback(B=>{M(q3(B)),M(kr({handler:o,reactEvent:B}))},[M,o]),G=b.useCallback(B=>{M(MA(B)),M(kr({handler:u,reactEvent:B}))},[M,u]),K=b.useCallback(B=>{M(e$()),M(kr({handler:c,reactEvent:B}))},[M,c]),J=b.useCallback(B=>{M(MA(B)),M(kr({handler:d,reactEvent:B}))},[M,d]),te=b.useCallback(()=>{M(Q3())},[M]),de=b.useCallback(B=>{M(J3(B.key))},[M]),qe=b.useCallback(B=>{M(kr({handler:a,reactEvent:B}))},[M,a]),De=b.useCallback(B=>{M(kr({handler:s,reactEvent:B}))},[M,s]),ke=b.useCallback(B=>{M(kr({handler:l,reactEvent:B}))},[M,l]),ut=b.useCallback(B=>{M(kr({handler:f,reactEvent:B}))},[M,f]),$t=b.useCallback(B=>{M(kr({handler:E,reactEvent:B}))},[M,E]),Mr=b.useCallback(B=>{S&&M(Z3(B)),M(kr({handler:v,reactEvent:B}))},[M,S,v]),Lt=b.useCallback(B=>{M(kr({handler:p,reactEvent:B}))},[M,p]),sa=ime(T);return b.createElement(E$.Provider,{value:N},b.createElement(c4.Provider,{value:P},b.createElement(sa,{width:D??(y==null?void 0:y.width),height:k??(y==null?void 0:y.height),className:be("recharts-wrapper",r),style:Ype({position:"relative",cursor:"default",width:D,height:k},y),onClick:oe,onContextMenu:qe,onDoubleClick:De,onFocus:te,onKeyDown:de,onMouseDown:ke,onMouseEnter:G,onMouseLeave:K,onMouseMove:J,onMouseUp:ut,onTouchEnd:Lt,onTouchMove:Mr,onTouchStart:$t,ref:Y},b.createElement(Zpe,null),n)))}),ame=["width","height","responsive","children","className","style","compact","title","desc"];function sme(t,e){if(t==null)return{};var n,r,i=lme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var i5=b.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:s,compact:l,title:u,desc:c}=t,d=sme(t,ame),f=rt(d);return l?b.createElement(b.Fragment,null,b.createElement(Yh,{width:n,height:r}),b.createElement(bD,{otherAttributes:f,title:u,desc:c},o)):b.createElement(ome,{className:a,style:s,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement(bD,{otherAttributes:f,title:u,desc:c,ref:e},b.createElement(hce,null,o)))});function OA(){return OA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OA.apply(null,arguments)}var ume={top:5,right:5,bottom:5,left:5},cme={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ume,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},o_=b.forwardRef(function(e,n){var r,i=Ke(e.categoricalChartProps,cme),{chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,c={chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return b.createElement(t5,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:o},b.createElement(m3,{chartData:u.data}),b.createElement(n5,{layout:i.layout,margin:i.margin}),b.createElement(r5,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(i5,OA({},i,{ref:n})))}),dme=["axis"],o5=b.forwardRef((t,e)=>b.createElement(o_,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dme,tooltipPayloadSearcher:Wc,categoricalChartProps:t,ref:e})),fme=["axis","item"],DI=b.forwardRef((t,e)=>b.createElement(o_,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fme,tooltipPayloadSearcher:Wc,categoricalChartProps:t,ref:e}));function hme(t){var e=Ze();return b.useEffect(()=>{e(kpe(t))},[e,t]),null}var pme=["layout"];function DA(){return DA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DA.apply(null,arguments)}function mme(t,e){if(t==null)return{};var n,r,i=gme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vme={top:5,right:5,bottom:5,left:5},kI={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vme,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},a5=b.forwardRef(function(e,n){var r,i=Ke(e.categoricalChartProps,kI),{layout:o}=i,a=mme(i,pme),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=e,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return b.createElement(t5,{preloadedState:{options:d},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:s},b.createElement(m3,{chartData:i.data}),b.createElement(n5,{layout:o,margin:i.margin}),b.createElement(r5,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(hme,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(i5,DA({},a,{ref:n})))});function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yme(t,e,n){return(e=_me(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _me(t){var e=bme(t,"string");return typeof e=="symbol"?e:e+""}function bme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eme=["item"],Tme=AD(AD({},kI),{},{layout:"centric",startAngle:0,endAngle:360}),a_=b.forwardRef((t,e)=>{var n=Ke(t,Tme);return b.createElement(a5,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Eme,tooltipPayloadSearcher:Wc,categoricalChartProps:n,ref:e})});function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){Ame(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ame(t,e,n){return(e=Sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sme(t){var e=xme(t,"string");return typeof e=="symbol"?e:e+""}function xme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wme=["axis"],Ime=xD(xD({},kI),{},{layout:"centric",startAngle:90,endAngle:-270}),Cme=b.forwardRef((t,e)=>{var n=Ke(t,Ime);return b.createElement(a5,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wme,tooltipPayloadSearcher:Wc,categoricalChartProps:n,ref:e})}),Pme=["item"],Rme=b.forwardRef((t,e)=>b.createElement(o_,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Pme,tooltipPayloadSearcher:Wc,categoricalChartProps:t,ref:e})),Nme=["axis"],Mme=b.forwardRef((t,e)=>b.createElement(o_,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nme,tooltipPayloadSearcher:Wc,categoricalChartProps:t,ref:e})),Ome={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Dme,kme;function Lme(){return{geminiUrl:Dme,vertexUrl:kme}}function Vme(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=Lme();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ra{}function ne(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];g(c,e.slice(o+1),n[u])}else for(const u of l)g(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];g(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>h(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Ume(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}kA(t,i,o,0,a)}}function kA(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])kA(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const f of n.slice(r))f==="*"?d.push(u):d.push(f);g(a,d,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&kA(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LI(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bme(t){const e={},n=h(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=h(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function Fme(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const a=h(t,["response","generateVideoResponse"]);return a!=null&&g(e,["response"],jme(a)),e}function zme(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const a=h(t,["response"]);return a!=null&&g(e,["response"],$me(a)),e}function jme(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Gme(a))),g(e,["generatedVideos"],o)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function $me(t){const e={},n=h(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>qme(a))),g(e,["generatedVideos"],o)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Gme(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],Qme(n)),e}function qme(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],Xme(n)),e}function Hme(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function Kme(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function Wme(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const a=h(t,["response"]);return a!=null&&g(e,["response"],Yme(a)),e}function Yme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&g(e,["parent"],r);const i=h(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function s5(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const a=h(t,["response"]);return a!=null&&g(e,["response"],Jme(a)),e}function Jme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&g(e,["parent"],r);const i=h(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function Qme(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const r=h(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],LI(r));const i=h(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function Xme(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],LI(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wD;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(wD||(wD={}));var ID;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ID||(ID={}));var CD;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(CD||(CD={}));var Va;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Va||(Va={}));var PD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(PD||(PD={}));var RD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(RD||(RD={}));var ND;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ND||(ND={}));var MD;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(MD||(MD={}));var OD;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(OD||(OD={}));var DD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(DD||(DD={}));var kD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(kD||(kD={}));var LD;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(LD||(LD={}));var VD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(VD||(VD={}));var UD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(UD||(UD={}));var BD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(BD||(BD={}));var FD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(FD||(FD={}));var zD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(zD||(zD={}));var jD;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jD||(jD={}));var $D;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})($D||($D={}));var GD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(GD||(GD={}));var qD;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(qD||(qD={}));var Qv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Qv||(Qv={}));var HD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(HD||(HD={}));var KD;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(KD||(KD={}));var WD;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(WD||(WD={}));var LA;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(LA||(LA={}));var YD;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(YD||(YD={}));var JD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(JD||(JD={}));var VA;(function(t){t.COLLECTION="COLLECTION"})(VA||(VA={}));var QD;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(QD||(QD={}));var XD;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(XD||(XD={}));var ZD;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ZD||(ZD={}));var ek;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ek||(ek={}));var tk;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(tk||(tk={}));var nk;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(nk||(nk={}));var rk;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(rk||(rk={}));var ik;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ik||(ik={}));var ok;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ok||(ok={}));var ak;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(ak||(ak={}));var sk;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(sk||(sk={}));var lk;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(lk||(lk={}));var uk;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(uk||(uk={}));var ck;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ck||(ck={}));var dk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(dk||(dk={}));var fk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(fk||(fk={}));var hk;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(hk||(hk={}));var pk;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(pk||(pk={}));var mk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(mk||(mk={}));var gk;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(gk||(gk={}));var vk;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(vk||(vk={}));var yk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yk||(yk={}));var _k;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_k||(_k={}));var bk;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(bk||(bk={}));var Ek;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ek||(Ek={}));var Tk;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Tk||(Tk={}));var Ak;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Ak||(Ak={}));var Mu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Mu||(Mu={}));class UA{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class zd{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(f))p!=="text"&&p!=="thought"&&p!=="thoughtSignature"&&(v!==null||v!==void 0)&&d.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;c=!0,u+=f.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[f,p]of Object.entries(d))f!=="inlineData"&&(p!==null||p!==void 0)&&c.push(f);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class Sk{}class xk{}class Zme{}class ege{}class tge{}class nge{}class wk{}class Ik{}class Ck{}class rge{}class Xv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Xv;let i;const o=e;return n?i=zme(o):i=Fme(o),Object.assign(r,i),r}}class Pk{}class Rk{}class Nk{}class Mk{}class ige{}class oge{}class age{}class VI{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new VI,o=Wme(e);return Object.assign(r,o),r}}class sge{}class lge{}class uge{}class Ok{}class cge{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class dge{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class UI{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new UI,o=s5(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function l5(t,e){const n=Fe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function u5(t){return Array.isArray(t)?t.map(e=>Zv(e)):[Zv(t)]}function Zv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function c5(t){const e=Zv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function d5(t){const e=Zv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Dk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function f5(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Dk(e)):[Dk(t)]}function BA(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function kk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Lk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Vn(t){if(t==null)throw new Error("ContentUnion is required");return BA(t)?t:{role:"user",parts:f5(t)}}function BI(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Vn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Vn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Vn(n)):[Vn(e)]}function Qr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(kk(t)||Lk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Vn(t)]}const e=[],n=[],r=BA(t[0]);for(const i of t){const o=BA(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(kk(i)||Lk(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:f5(n)}),e}function fge(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Va).includes(n[0].toUpperCase())?n[0].toUpperCase():Va.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Va).includes(r.toUpperCase())?r.toUpperCase():Va.TYPE_UNSPECIFIED})}}function Gu(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&fge(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(Va).includes(s.toUpperCase())?s.toUpperCase():Va.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Gu(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(Gu(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=Gu(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function FI(t){return Gu(t)}function zI(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function jI(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function nd(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Gu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Gu(e.response));return t}function rd(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function hge(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ia(t,e){if(typeof e!="string")throw new Error("name must be a string");return hge(t,e,"cachedContents")}function h5(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function As(t){return LI(t)}function pge(t){return t!=null&&typeof t=="object"&&"name"in t}function mge(t){return t!=null&&typeof t=="object"&&"video"in t}function gge(t){return t!=null&&typeof t=="object"&&"uri"in t}function p5(t){var e;let n;if(pge(t)&&(n=t.name),!(gge(t)&&(n=t.uri,n===void 0))&&!(mge(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function m5(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function g5(t){for(const e of["models","tunedModels","publisherModels"])if(vge(t,e))return t[e];return[]}function vge(t,e){return t!==null&&typeof t=="object"&&e in t}function yge(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function _ge(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=yge(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function v5(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function bge(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function y5(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function id(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function _5(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ege(t){const e={},n=h(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=h(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>tve(a))),g(e,["inlinedResponses"],o)}const i=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["inlinedEmbedContentResponses"],o)}return e}function Tge(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=h(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=h(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function Age(t){const e={},n=h(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=h(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=h(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ag(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=h(t,["metadata","state"]);i!=null&&g(e,["state"],_5(i));const o=h(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const a=h(t,["metadata","endTime"]);a!=null&&g(e,["endTime"],a);const s=h(t,["metadata","updateTime"]);s!=null&&g(e,["updateTime"],s);const l=h(t,["metadata","model"]);l!=null&&g(e,["model"],l);const u=h(t,["metadata","output"]);return u!=null&&g(e,["dest"],Ege(y5(u))),e}function FA(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=h(t,["state"]);i!=null&&g(e,["state"],_5(i));const o=h(t,["error"]);o!=null&&g(e,["error"],o);const a=h(t,["createTime"]);a!=null&&g(e,["createTime"],a);const s=h(t,["startTime"]);s!=null&&g(e,["startTime"],s);const l=h(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=h(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const c=h(t,["model"]);c!=null&&g(e,["model"],c);const d=h(t,["inputConfig"]);d!=null&&g(e,["src"],Sge(d));const f=h(t,["outputConfig"]);f!=null&&g(e,["dest"],Tge(y5(f)));const p=h(t,["completionStats"]);return p!=null&&g(e,["completionStats"],p),e}function Sge(t){const e={},n=h(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=h(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=h(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function xge(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=h(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=h(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>eve(t,a))),g(n,["requests","requests"],o)}return n}function wge(t){const e={},n=h(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=h(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=h(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ige(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Cge(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],id(t,r)),n}function Pge(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],id(t,r)),n}function Rge(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const r=h(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Nge(r));const i=h(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=h(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const a=h(t,["avgLogprobs"]);a!=null&&g(e,["avgLogprobs"],a);const s=h(t,["groundingMetadata"]);s!=null&&g(e,["groundingMetadata"],s);const l=h(t,["index"]);l!=null&&g(e,["index"],l);const u=h(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=h(t,["safetyRatings"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>p)),g(e,["safetyRatings"],f)}const d=h(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function Nge(t){const e={},n=h(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function b5(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lve(o))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function Mge(t,e){const n={},r=h(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Oge(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=h(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],Age(bge(i))),n}function Vk(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["src"]);i!=null&&g(n,["batch","inputConfig"],xge(t,v5(t,i)));const o=h(e,["config"]);return o!=null&&Mge(o,n),n}function Dge(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["model"],Fe(t,r));const i=h(e,["src"]);i!=null&&g(n,["inputConfig"],wge(v5(t,i)));const o=h(e,["config"]);return o!=null&&Oge(o,n),n}function kge(t,e){const n={},r=h(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function Lge(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["src"]);i!=null&&g(n,["batch","inputConfig"],$ge(t,i));const o=h(e,["config"]);return o!=null&&kge(o,n),n}function Vge(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],id(t,r)),n}function Uge(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],id(t,r)),n}function Bge(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);return o!=null&&g(e,["error"],o),e}function Fge(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);return o!=null&&g(e,["error"],o),e}function zge(t,e){const n={},r=h(e,["contents"]);if(r!=null){let o=BI(t,r);Array.isArray(o)&&(o=o.map(a=>a)),g(n,["requests[]","request","content"],o)}const i=h(e,["config"]);return i!=null&&(g(n,["_self"],jge(i,n)),Ume(n,{"requests[].*":"requests[].request.*"})),n}function jge(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=h(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function $ge(t,e){const n={},r=h(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=h(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],zge(t,i)),n}function Gge(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function qge(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hge(t){const e={},n=h(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=h(t,["mode"]);if(r!=null&&g(e,["mode"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Kge(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],b5(Vn(i)));const o=h(e,["temperature"]);o!=null&&g(r,["temperature"],o);const a=h(e,["topP"]);a!=null&&g(r,["topP"],a);const s=h(e,["topK"]);s!=null&&g(r,["topK"],s);const l=h(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=h(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=h(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=h(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const f=h(e,["logprobs"]);f!=null&&g(r,["logprobs"],f);const p=h(e,["presencePenalty"]);p!=null&&g(r,["presencePenalty"],p);const v=h(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const E=h(e,["seed"]);E!=null&&g(r,["seed"],E);const y=h(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const _=h(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],FI(_));const T=h(e,["responseJsonSchema"]);if(T!=null&&g(r,["responseJsonSchema"],T),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=h(e,["safetySettings"]);if(n!==void 0&&S!=null){let k=S;Array.isArray(k)&&(k=k.map(Y=>uve(Y))),g(n,["safetySettings"],k)}const w=h(e,["tools"]);if(n!==void 0&&w!=null){let k=rd(w);Array.isArray(k)&&(k=k.map(Y=>dve(nd(Y)))),g(n,["tools"],k)}const M=h(e,["toolConfig"]);if(n!==void 0&&M!=null&&g(n,["toolConfig"],cve(M)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=h(e,["cachedContent"]);n!==void 0&&N!=null&&g(n,["cachedContent"],ia(t,N));const I=h(e,["responseModalities"]);I!=null&&g(r,["responseModalities"],I);const P=h(e,["mediaResolution"]);P!=null&&g(r,["mediaResolution"],P);const R=h(e,["speechConfig"]);if(R!=null&&g(r,["speechConfig"],zI(R)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=h(e,["thinkingConfig"]);O!=null&&g(r,["thinkingConfig"],O);const V=h(e,["imageConfig"]);V!=null&&g(r,["imageConfig"],Zge(V));const D=h(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),h(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Wge(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Rge(u))),g(e,["candidates"],l)}const i=h(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=h(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const a=h(t,["responseId"]);a!=null&&g(e,["responseId"],a);const s=h(t,["usageMetadata"]);return s!=null&&g(e,["usageMetadata"],s),e}function Yge(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],id(t,r)),n}function Jge(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],id(t,r)),n}function Qge(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Xge(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Zge(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=h(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),h(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function eve(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["request","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let s=Qr(i);Array.isArray(s)&&(s=s.map(l=>b5(l))),g(n,["request","contents"],s)}const o=h(e,["metadata"]);o!=null&&g(n,["metadata"],o);const a=h(e,["config"]);return a!=null&&g(n,["request","generationConfig"],Kge(t,a,h(n,["request"],{}))),n}function tve(t){const e={},n=h(t,["response"]);n!=null&&g(e,["response"],Wge(n));const r=h(t,["error"]);return r!=null&&g(e,["error"],r),e}function nve(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function rve(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=h(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function ive(t){const e={},n=h(t,["config"]);return n!=null&&nve(n,e),e}function ove(t){const e={},n=h(t,["config"]);return n!=null&&rve(n,e),e}function ave(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ag(a))),g(e,["batchJobs"],o)}return e}function sve(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>FA(a))),g(e,["batchJobs"],o)}return e}function lve(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(t,["fileData"]);o!=null&&g(e,["fileData"],Gge(o));const a=h(t,["functionCall"]);a!=null&&g(e,["functionCall"],qge(a));const s=h(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],Ige(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function uve(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function cve(t){const e={},n=h(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=h(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Hge(r)),e}function dve(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=h(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const a=h(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],Qge(a));const s=h(t,["googleSearch"]);s!=null&&g(e,["googleSearch"],Xge(s));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Go;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Go||(Go={}));class $l{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fve extends ra{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $l(Go.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Vk(this.apiClient,e),r=n._url,i=ne("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const f=d.systemInstruction;delete d.systemInstruction;const p=d.request;p.systemInstruction=f,d.request=p}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Dge(this.apiClient,e);return s=ne("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>FA(c))}else{const u=Vk(this.apiClient,e);return s=ne("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>ag(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Lge(this.apiClient,e);return o=ne("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>ag(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Jge(this.apiClient,e);return s=ne("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>FA(c))}else{const u=Yge(this.apiClient,e);return s=ne("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>ag(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Pge(this.apiClient,e);a=ne("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Cge(this.apiClient,e);a=ne("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ove(e);return s=ne("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=sve(c),f=new Ok;return Object.assign(f,d),f})}else{const u=ive(e);return s=ne("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=ave(c),f=new Ok;return Object.assign(f,d),f})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Uge(this.apiClient,e);return s=ne("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>Fge(c))}else{const u=Vge(this.apiClient,e);return s=ne("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>Bge(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hve(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Uk(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Lve(o))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function pve(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=h(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=h(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const a=h(t,["contents"]);if(e!==void 0&&a!=null){let c=Qr(a);Array.isArray(c)&&(c=c.map(d=>Uk(d))),g(e,["contents"],c)}const s=h(t,["systemInstruction"]);e!==void 0&&s!=null&&g(e,["systemInstruction"],Uk(Vn(s)));const l=h(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Uve(d))),g(e,["tools"],c)}const u=h(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],Vve(u)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function mve(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=h(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=h(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const a=h(t,["contents"]);if(e!==void 0&&a!=null){let d=Qr(a);Array.isArray(d)&&(d=d.map(f=>f)),g(e,["contents"],d)}const s=h(t,["systemInstruction"]);e!==void 0&&s!=null&&g(e,["systemInstruction"],Vn(s));const l=h(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>Bve(f))),g(e,["tools"],d)}const u=h(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const c=h(t,["kmsKeyName"]);return e!==void 0&&c!=null&&g(e,["encryption_spec","kmsKeyName"],c),n}function gve(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["model"],l5(t,r));const i=h(e,["config"]);return i!=null&&pve(i,n),n}function vve(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["model"],l5(t,r));const i=h(e,["config"]);return i!=null&&mve(i,n),n}function yve(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],ia(t,r)),n}function _ve(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],ia(t,r)),n}function bve(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Eve(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Tve(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Ave(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Sve(t){const e={},n=h(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=h(t,["mode"]);if(r!=null&&g(e,["mode"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xve(t){const e={},n=h(t,["description"]);n!=null&&g(e,["description"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=h(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const a=h(t,["response"]);a!=null&&g(e,["response"],a);const s=h(t,["responseJsonSchema"]);if(s!=null&&g(e,["responseJsonSchema"],s),h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function wve(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],ia(t,r)),n}function Ive(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],ia(t,r)),n}function Cve(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Pve(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Rve(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Nve(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Mve(t){const e={},n=h(t,["config"]);return n!=null&&Rve(n,e),e}function Ove(t){const e={},n=h(t,["config"]);return n!=null&&Nve(n,e),e}function Dve(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["cachedContents"],o)}return e}function kve(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["cachedContents"],o)}return e}function Lve(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(t,["fileData"]);o!=null&&g(e,["fileData"],Tve(o));const a=h(t,["functionCall"]);a!=null&&g(e,["functionCall"],Ave(a));const s=h(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],hve(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function Vve(t){const e={},n=h(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=h(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Sve(r)),e}function Uve(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=h(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const a=h(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],Cve(a));const s=h(t,["googleSearch"]);s!=null&&g(e,["googleSearch"],Pve(s));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function Bve(t){const e={},n=h(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=h(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=h(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=h(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const a=h(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>xve(f))),g(e,["functionDeclarations"],d)}const s=h(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],s);const l=h(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=h(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function Fve(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=h(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function zve(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=h(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function jve(t,e){const n={},r=h(e,["name"]);r!=null&&g(n,["_url","name"],ia(t,r));const i=h(e,["config"]);return i!=null&&Fve(i,n),n}function $ve(t,e){const n={},r=h(e,["name"]);r!=null&&g(n,["_url","name"],ia(t,r));const i=h(e,["config"]);return i!=null&&zve(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gve extends ra{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $l(Go.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=vve(this.apiClient,e);return s=ne("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=gve(this.apiClient,e);return s=ne("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ive(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=wve(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=_ve(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=Eve(c),f=new Nk;return Object.assign(f,d),f})}else{const u=yve(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=bve(c),f=new Nk;return Object.assign(f,d),f})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=$ve(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=jve(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ove(e);return s=ne("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=kve(c),f=new Mk;return Object.assign(f,d),f})}else{const u=Mve(e);return s=ne("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=Dve(c),f=new Mk;return Object.assign(f,d),f})}}}function ey(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(t){return this instanceof me?(this.v=t,this):new me(t)}function Ei(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(v){return Promise.resolve(v).then(p,d)}}function s(p,v){r[p]&&(i[p]=function(E){return new Promise(function(y,_){o.push([p,E,y,_])>1||l(p,E)})},v&&(i[p]=v(i[p])))}function l(p,v){try{u(r[p](v))}catch(E){f(o[0][3],E)}}function u(p){p.value instanceof me?Promise.resolve(p.value.v).then(c,d):f(o[0][2],p)}function c(p){l("next",p)}function d(p){l("throw",p)}function f(p,v){p(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Ti(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Bk=="function"?Bk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qve(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:E5(n)}function E5(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Hve(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Fk(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!E5(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Kve{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Wve(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Wve{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Hve(o)}async sendMessage(e){var n;await this.sendPromise;const r=Vn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let f=[];c!=null&&(f=(s=c.slice(d))!==null&&s!==void 0?s:[]);const p=u?[u]:[];this.recordHistory(r,p,f)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Vn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?Fk(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ei(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var d=!0,f=Ti(e),p;p=yield me(f.next()),i=p.done,!i;d=!0){s=p.value,d=!1;const v=s;if(qve(v)){const E=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;E!==void 0&&c.push(E)}yield yield me(v)}}catch(v){o={error:v}}finally{try{!d&&!i&&(a=f.return)&&(yield me(a.call(f)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Fk(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ph extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ph.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yve(t){const e={},n=h(t,["file"]);return n!=null&&g(e,["file"],n),e}function Jve(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Qve(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],p5(n)),e}function Xve(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Zve(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],p5(n)),e}function eye(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function tye(t){const e={},n=h(t,["config"]);return n!=null&&eye(n,e),e}function nye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rye extends ra{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $l(Go.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=tye(e);return o=ne("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=nye(l),c=new sge;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Yve(e);return o=ne("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Jve(l),c=new lge;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zve(e);return o=ne("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Qve(e);return o=ne("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Xve(l),c=new uge;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sg(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function iye(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>bye(o))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function oye(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function aye(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sye(t){const e={},n=h(t,["description"]);n!=null&&g(e,["description"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=h(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const a=h(t,["response"]);a!=null&&g(e,["response"],a);const s=h(t,["responseJsonSchema"]);if(s!=null&&g(e,["responseJsonSchema"],s),h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function lye(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=h(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=h(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=h(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const a=h(t,["enableAffectiveDialog"]);a!=null&&g(e,["enableAffectiveDialog"],a);const s=h(t,["frequencyPenalty"]);s!=null&&g(e,["frequencyPenalty"],s);const l=h(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=h(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=h(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=h(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const f=h(t,["responseLogprobs"]);f!=null&&g(e,["responseLogprobs"],f);const p=h(t,["responseMimeType"]);p!=null&&g(e,["responseMimeType"],p);const v=h(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const E=h(t,["responseSchema"]);E!=null&&g(e,["responseSchema"],E);const y=h(t,["routingConfig"]);y!=null&&g(e,["routingConfig"],y);const _=h(t,["seed"]);_!=null&&g(e,["seed"],_);const T=h(t,["speechConfig"]);T!=null&&g(e,["speechConfig"],T);const S=h(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const w=h(t,["temperature"]);w!=null&&g(e,["temperature"],w);const M=h(t,["thinkingConfig"]);M!=null&&g(e,["thinkingConfig"],M);const N=h(t,["topK"]);N!=null&&g(e,["topK"],N);const I=h(t,["topP"]);if(I!=null&&g(e,["topP"],I),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function uye(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function cye(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function dye(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=h(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const a=h(t,["topP"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topP"],a);const s=h(t,["topK"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topK"],s);const l=h(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=h(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=h(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],jI(d));const f=h(t,["thinkingConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","thinkingConfig"],f);const p=h(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],p);const v=h(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],iye(Vn(v)));const E=h(t,["tools"]);if(e!==void 0&&E!=null){let N=rd(E);Array.isArray(N)&&(N=N.map(I=>Tye(nd(I)))),g(e,["setup","tools"],N)}const y=h(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],Eye(y));const _=h(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const T=h(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&g(e,["setup","outputAudioTranscription"],T);const S=h(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const w=h(t,["contextWindowCompression"]);e!==void 0&&w!=null&&g(e,["setup","contextWindowCompression"],w);const M=h(t,["proactivity"]);if(e!==void 0&&M!=null&&g(e,["setup","proactivity"],M),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function fye(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],lye(r));const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=h(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const a=h(t,["topP"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topP"],a);const s=h(t,["topK"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topK"],s);const l=h(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=h(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=h(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],jI(d));const f=h(t,["thinkingConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","thinkingConfig"],f);const p=h(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],p);const v=h(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],Vn(v));const E=h(t,["tools"]);if(e!==void 0&&E!=null){let I=rd(E);Array.isArray(I)&&(I=I.map(P=>Aye(nd(P)))),g(e,["setup","tools"],I)}const y=h(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],y);const _=h(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const T=h(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&g(e,["setup","outputAudioTranscription"],T);const S=h(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const w=h(t,["contextWindowCompression"]);e!==void 0&&w!=null&&g(e,["setup","contextWindowCompression"],w);const M=h(t,["proactivity"]);e!==void 0&&M!=null&&g(e,["setup","proactivity"],M);const N=h(t,["explicitVadSignal"]);return e!==void 0&&N!=null&&g(e,["setup","explicitVadSignal"],N),n}function hye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["setup","model"],Fe(t,r));const i=h(e,["config"]);return i!=null&&g(n,["config"],dye(i,n)),n}function pye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["setup","model"],Fe(t,r));const i=h(e,["config"]);return i!=null&&g(n,["config"],fye(i,n)),n}function mye(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function gye(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function vye(t){const e={},n=h(t,["media"]);if(n!=null){let u=u5(n);Array.isArray(u)&&(u=u.map(c=>sg(c))),g(e,["mediaChunks"],u)}const r=h(t,["audio"]);r!=null&&g(e,["audio"],sg(d5(r)));const i=h(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=h(t,["video"]);o!=null&&g(e,["video"],sg(c5(o)));const a=h(t,["text"]);a!=null&&g(e,["text"],a);const s=h(t,["activityStart"]);s!=null&&g(e,["activityStart"],s);const l=h(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function yye(t){const e={},n=h(t,["media"]);if(n!=null){let u=u5(n);Array.isArray(u)&&(u=u.map(c=>c)),g(e,["mediaChunks"],u)}const r=h(t,["audio"]);r!=null&&g(e,["audio"],d5(r));const i=h(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=h(t,["video"]);o!=null&&g(e,["video"],c5(o));const a=h(t,["text"]);a!=null&&g(e,["text"],a);const s=h(t,["activityStart"]);s!=null&&g(e,["activityStart"],s);const l=h(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function _ye(t){const e={},n=h(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=h(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=h(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=h(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const a=h(t,["usageMetadata"]);a!=null&&g(e,["usageMetadata"],Sye(a));const s=h(t,["goAway"]);s!=null&&g(e,["goAway"],s);const l=h(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const u=h(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const c=h(t,["voiceActivity"]);return c!=null&&g(e,["voiceActivity"],xye(c)),e}function bye(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(t,["fileData"]);o!=null&&g(e,["fileData"],oye(o));const a=h(t,["functionCall"]);a!=null&&g(e,["functionCall"],aye(a));const s=h(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],sg(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function Eye(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Tye(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=h(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const a=h(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],uye(a));const s=h(t,["googleSearch"]);s!=null&&g(e,["googleSearch"],cye(s));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function Aye(t){const e={},n=h(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=h(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=h(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=h(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const a=h(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>sye(f))),g(e,["functionDeclarations"],d)}const s=h(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],s);const l=h(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=h(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function Sye(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=h(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=h(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=h(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const a=h(t,["thoughtsTokenCount"]);a!=null&&g(e,["thoughtsTokenCount"],a);const s=h(t,["totalTokenCount"]);s!=null&&g(e,["totalTokenCount"],s);const l=h(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>v)),g(e,["promptTokensDetails"],p)}const u=h(t,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>v)),g(e,["cacheTokensDetails"],p)}const c=h(t,["candidatesTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>v)),g(e,["responseTokensDetails"],p)}const d=h(t,["toolUsePromptTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(v=>v)),g(e,["toolUsePromptTokensDetails"],p)}const f=h(t,["trafficType"]);return f!=null&&g(e,["trafficType"],f),e}function xye(t){const e={},n=h(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wye(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Iye(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const r=h(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Cye(r));const i=h(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=h(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const a=h(t,["avgLogprobs"]);a!=null&&g(e,["avgLogprobs"],a);const s=h(t,["groundingMetadata"]);s!=null&&g(e,["groundingMetadata"],s);const l=h(t,["index"]);l!=null&&g(e,["index"],l);const u=h(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=h(t,["safetyRatings"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>p)),g(e,["safetyRatings"],f)}const d=h(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function Cye(t){const e={},n=h(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function Pye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let o=Qr(i);Array.isArray(o)&&(o=o.map(a=>a)),g(n,["contents"],o)}return n}function Rye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function Nye(t){const e={},n=h(t,["values"]);n!=null&&g(e,["values"],n);const r=h(t,["statistics"]);return r!=null&&g(e,["statistics"],Mye(r)),e}function Mye(t){const e={},n=h(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=h(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function s_(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>z0e(o))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function Oye(t){const e={},n=h(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=h(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function Dye(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function kye(t,e){const n={},r=h(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],Vn(r));const i=h(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>x5(s))),g(e,["tools"],a)}const o=h(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],w0e(o)),n}function Lye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let a=Qr(i);Array.isArray(a)&&(a=a.map(s=>s_(s))),g(n,["contents"],a)}const o=h(e,["config"]);return o!=null&&Dye(o),n}function Vye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let a=Qr(i);Array.isArray(a)&&(a=a.map(s=>s)),g(n,["contents"],a)}const o=h(e,["config"]);return o!=null&&kye(o,n),n}function Uye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=h(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function Bye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function Fye(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],Fe(t,r)),n}function zye(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],Fe(t,r)),n}function jye(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function $ye(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Gye(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=h(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=h(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const a=h(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const s=h(t,["guidanceScale"]);e!==void 0&&s!=null&&g(e,["parameters","guidanceScale"],s);const l=h(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=h(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const f=h(t,["includeRaiReason"]);e!==void 0&&f!=null&&g(e,["parameters","includeRaiReason"],f);const p=h(t,["language"]);e!==void 0&&p!=null&&g(e,["parameters","language"],p);const v=h(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const E=h(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&g(e,["parameters","outputOptions","compressionQuality"],E);const y=h(t,["addWatermark"]);e!==void 0&&y!=null&&g(e,["parameters","addWatermark"],y);const _=h(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const T=h(t,["editMode"]);e!==void 0&&T!=null&&g(e,["parameters","editMode"],T);const S=h(t,["baseSteps"]);return e!==void 0&&S!=null&&g(e,["parameters","editConfig","baseSteps"],S),n}function qye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=h(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>K0e(l))),g(n,["instances[0]","referenceImages"],s)}const a=h(e,["config"]);return a!=null&&Gye(a,n),n}function Hye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>l_(o))),g(e,["generatedImages"],i)}return e}function Kye(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=h(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Wye(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=h(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const a=h(t,["mimeType"]);e!==void 0&&a!=null&&g(e,["instances[]","mimeType"],a);const s=h(t,["autoTruncate"]);return e!==void 0&&s!=null&&g(e,["parameters","autoTruncate"],s),n}function Yye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let s=BI(t,i);Array.isArray(s)&&(s=s.map(l=>l)),g(n,["requests[]","content"],s)}const o=h(e,["config"]);o!=null&&Kye(o,n);const a=h(e,["model"]);return a!==void 0&&g(n,["requests[]","model"],Fe(t,a)),n}function Jye(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let a=BI(t,i);Array.isArray(a)&&(a=a.map(s=>s)),g(n,["instances[]","content"],a)}const o=h(e,["config"]);return o!=null&&Wye(o,n),n}function Qye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["embeddings"],o)}const i=h(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function Xye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Nye(a))),g(e,["embeddings"],o)}const i=h(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function Zye(t){const e={},n=h(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=h(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function e0e(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function t0e(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function n0e(t){const e={},n=h(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=h(t,["mode"]);if(r!=null&&g(e,["mode"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function r0e(t){const e={},n=h(t,["description"]);n!=null&&g(e,["description"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=h(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const a=h(t,["response"]);a!=null&&g(e,["response"],a);const s=h(t,["responseJsonSchema"]);if(s!=null&&g(e,["responseJsonSchema"],s),h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function i0e(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],s_(Vn(i)));const o=h(e,["temperature"]);o!=null&&g(r,["temperature"],o);const a=h(e,["topP"]);a!=null&&g(r,["topP"],a);const s=h(e,["topK"]);s!=null&&g(r,["topK"],s);const l=h(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=h(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=h(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=h(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const f=h(e,["logprobs"]);f!=null&&g(r,["logprobs"],f);const p=h(e,["presencePenalty"]);p!=null&&g(r,["presencePenalty"],p);const v=h(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const E=h(e,["seed"]);E!=null&&g(r,["seed"],E);const y=h(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const _=h(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],FI(_));const T=h(e,["responseJsonSchema"]);if(T!=null&&g(r,["responseJsonSchema"],T),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=h(e,["safetySettings"]);if(n!==void 0&&S!=null){let k=S;Array.isArray(k)&&(k=k.map(Y=>W0e(Y))),g(n,["safetySettings"],k)}const w=h(e,["tools"]);if(n!==void 0&&w!=null){let k=rd(w);Array.isArray(k)&&(k=k.map(Y=>t_e(nd(Y)))),g(n,["tools"],k)}const M=h(e,["toolConfig"]);if(n!==void 0&&M!=null&&g(n,["toolConfig"],e_e(M)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=h(e,["cachedContent"]);n!==void 0&&N!=null&&g(n,["cachedContent"],ia(t,N));const I=h(e,["responseModalities"]);I!=null&&g(r,["responseModalities"],I);const P=h(e,["mediaResolution"]);P!=null&&g(r,["mediaResolution"],P);const R=h(e,["speechConfig"]);if(R!=null&&g(r,["speechConfig"],zI(R)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=h(e,["thinkingConfig"]);O!=null&&g(r,["thinkingConfig"],O);const V=h(e,["imageConfig"]);V!=null&&g(r,["imageConfig"],N0e(V));const D=h(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),h(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function o0e(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],Vn(i));const o=h(e,["temperature"]);o!=null&&g(r,["temperature"],o);const a=h(e,["topP"]);a!=null&&g(r,["topP"],a);const s=h(e,["topK"]);s!=null&&g(r,["topK"],s);const l=h(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=h(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=h(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=h(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const f=h(e,["logprobs"]);f!=null&&g(r,["logprobs"],f);const p=h(e,["presencePenalty"]);p!=null&&g(r,["presencePenalty"],p);const v=h(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const E=h(e,["seed"]);E!=null&&g(r,["seed"],E);const y=h(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const _=h(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],FI(_));const T=h(e,["responseJsonSchema"]);T!=null&&g(r,["responseJsonSchema"],T);const S=h(e,["routingConfig"]);S!=null&&g(r,["routingConfig"],S);const w=h(e,["modelSelectionConfig"]);w!=null&&g(r,["modelConfig"],w);const M=h(e,["safetySettings"]);if(n!==void 0&&M!=null){let K=M;Array.isArray(K)&&(K=K.map(J=>J)),g(n,["safetySettings"],K)}const N=h(e,["tools"]);if(n!==void 0&&N!=null){let K=rd(N);Array.isArray(K)&&(K=K.map(J=>x5(nd(J)))),g(n,["tools"],K)}const I=h(e,["toolConfig"]);n!==void 0&&I!=null&&g(n,["toolConfig"],I);const P=h(e,["labels"]);n!==void 0&&P!=null&&g(n,["labels"],P);const R=h(e,["cachedContent"]);n!==void 0&&R!=null&&g(n,["cachedContent"],ia(t,R));const O=h(e,["responseModalities"]);O!=null&&g(r,["responseModalities"],O);const V=h(e,["mediaResolution"]);V!=null&&g(r,["mediaResolution"],V);const D=h(e,["speechConfig"]);D!=null&&g(r,["speechConfig"],zI(D));const k=h(e,["audioTimestamp"]);k!=null&&g(r,["audioTimestamp"],k);const Y=h(e,["thinkingConfig"]);Y!=null&&g(r,["thinkingConfig"],Y);const oe=h(e,["imageConfig"]);if(oe!=null&&g(r,["imageConfig"],M0e(oe)),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const G=h(e,["modelArmorConfig"]);return n!==void 0&&G!=null&&g(n,["modelArmorConfig"],G),r}function zk(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let a=Qr(i);Array.isArray(a)&&(a=a.map(s=>s_(s))),g(n,["contents"],a)}const o=h(e,["config"]);return o!=null&&g(n,["generationConfig"],i0e(t,o,n)),n}function jk(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let a=Qr(i);Array.isArray(a)&&(a=a.map(s=>s)),g(n,["contents"],a)}const o=h(e,["config"]);return o!=null&&g(n,["generationConfig"],o0e(t,o,n)),n}function $k(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Iye(u))),g(e,["candidates"],l)}const i=h(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=h(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const a=h(t,["responseId"]);a!=null&&g(e,["responseId"],a);const s=h(t,["usageMetadata"]);return s!=null&&g(e,["usageMetadata"],s),e}function Gk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["candidates"],u)}const i=h(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=h(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const a=h(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const s=h(t,["responseId"]);s!=null&&g(e,["responseId"],s);const l=h(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function a0e(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=h(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=h(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=h(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const s=h(t,["personGeneration"]);e!==void 0&&s!=null&&g(e,["parameters","personGeneration"],s);const l=h(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const u=h(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=h(t,["language"]);e!==void 0&&c!=null&&g(e,["parameters","language"],c);const d=h(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=h(t,["outputCompressionQuality"]);if(e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const p=h(t,["imageSize"]);if(e!==void 0&&p!=null&&g(e,["parameters","sampleImageSize"],p),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function s0e(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=h(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=h(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const a=h(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const s=h(t,["guidanceScale"]);e!==void 0&&s!=null&&g(e,["parameters","guidanceScale"],s);const l=h(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=h(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const f=h(t,["includeRaiReason"]);e!==void 0&&f!=null&&g(e,["parameters","includeRaiReason"],f);const p=h(t,["language"]);e!==void 0&&p!=null&&g(e,["parameters","language"],p);const v=h(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const E=h(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&g(e,["parameters","outputOptions","compressionQuality"],E);const y=h(t,["addWatermark"]);e!==void 0&&y!=null&&g(e,["parameters","addWatermark"],y);const _=h(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const T=h(t,["imageSize"]);e!==void 0&&T!=null&&g(e,["parameters","sampleImageSize"],T);const S=h(t,["enhancePrompt"]);return e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S),n}function l0e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=h(e,["config"]);return o!=null&&a0e(o,n),n}function u0e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=h(e,["config"]);return o!=null&&s0e(o,n),n}function c0e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>T0e(a))),g(e,["generatedImages"],o)}const i=h(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],A5(i)),e}function d0e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>l_(a))),g(e,["generatedImages"],o)}const i=h(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],S5(i)),e}function f0e(t,e){const n={},r=h(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=h(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=h(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const a=h(t,["resolution"]);e!==void 0&&a!=null&&g(e,["parameters","resolution"],a);const s=h(t,["personGeneration"]);if(e!==void 0&&s!=null&&g(e,["parameters","personGeneration"],s),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=h(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=h(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=h(t,["lastFrame"]);e!==void 0&&c!=null&&g(e,["instances[0]","lastFrame"],u_(c));const d=h(t,["referenceImages"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>p_e(p))),g(e,["instances[0]","referenceImages"],f)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function h0e(t,e){const n={},r=h(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=h(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const a=h(t,["durationSeconds"]);e!==void 0&&a!=null&&g(e,["parameters","durationSeconds"],a);const s=h(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const l=h(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=h(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=h(t,["pubsubTopic"]);e!==void 0&&d!=null&&g(e,["parameters","pubsubTopic"],d);const f=h(t,["negativePrompt"]);e!==void 0&&f!=null&&g(e,["parameters","negativePrompt"],f);const p=h(t,["enhancePrompt"]);e!==void 0&&p!=null&&g(e,["parameters","enhancePrompt"],p);const v=h(t,["generateAudio"]);e!==void 0&&v!=null&&g(e,["parameters","generateAudio"],v);const E=h(t,["lastFrame"]);e!==void 0&&E!=null&&g(e,["instances[0]","lastFrame"],Pi(E));const y=h(t,["referenceImages"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(w=>m_e(w))),g(e,["instances[0]","referenceImages"],S)}const _=h(t,["mask"]);e!==void 0&&_!=null&&g(e,["instances[0]","mask"],h_e(_));const T=h(t,["compressionQuality"]);return e!==void 0&&T!=null&&g(e,["parameters","compressionQuality"],T),n}function p0e(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const a=h(t,["response","generateVideoResponse"]);return a!=null&&g(e,["response"],y0e(a)),e}function m0e(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const a=h(t,["response"]);return a!=null&&g(e,["response"],_0e(a)),e}function g0e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=h(e,["image"]);o!=null&&g(n,["instances[0]","image"],u_(o));const a=h(e,["video"]);a!=null&&g(n,["instances[0]","video"],w5(a));const s=h(e,["source"]);s!=null&&b0e(s,n);const l=h(e,["config"]);return l!=null&&f0e(l,n),n}function v0e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=h(e,["image"]);o!=null&&g(n,["instances[0]","image"],Pi(o));const a=h(e,["video"]);a!=null&&g(n,["instances[0]","video"],I5(a));const s=h(e,["source"]);s!=null&&E0e(s,n);const l=h(e,["config"]);return l!=null&&h0e(l,n),n}function y0e(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>S0e(a))),g(e,["generatedVideos"],o)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function _0e(t){const e={},n=h(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>x0e(a))),g(e,["generatedVideos"],o)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function b0e(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=h(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],u_(i));const o=h(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],w5(o)),n}function E0e(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=h(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Pi(i));const o=h(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],I5(o)),n}function T0e(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],O0e(n));const r=h(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=h(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],A5(i)),e}function l_(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],T5(n));const r=h(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=h(t,["_self"]);i!=null&&g(e,["safetyAttributes"],S5(i));const o=h(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function A0e(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["mask"],T5(n));const r=h(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function S0e(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],d_e(n)),e}function x0e(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],f_e(n)),e}function w0e(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=h(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=h(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=h(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const a=h(t,["enableAffectiveDialog"]);a!=null&&g(e,["enableAffectiveDialog"],a);const s=h(t,["frequencyPenalty"]);s!=null&&g(e,["frequencyPenalty"],s);const l=h(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=h(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=h(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=h(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const f=h(t,["responseLogprobs"]);f!=null&&g(e,["responseLogprobs"],f);const p=h(t,["responseMimeType"]);p!=null&&g(e,["responseMimeType"],p);const v=h(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const E=h(t,["responseSchema"]);E!=null&&g(e,["responseSchema"],E);const y=h(t,["routingConfig"]);y!=null&&g(e,["routingConfig"],y);const _=h(t,["seed"]);_!=null&&g(e,["seed"],_);const T=h(t,["speechConfig"]);T!=null&&g(e,["speechConfig"],T);const S=h(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const w=h(t,["temperature"]);w!=null&&g(e,["temperature"],w);const M=h(t,["thinkingConfig"]);M!=null&&g(e,["thinkingConfig"],M);const N=h(t,["topK"]);N!=null&&g(e,["topK"],N);const I=h(t,["topP"]);if(I!=null&&g(e,["topP"],I),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function I0e(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],Fe(t,r)),n}function C0e(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],Fe(t,r)),n}function P0e(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function R0e(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function N0e(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=h(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),h(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function M0e(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=h(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=h(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const o=h(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const a=h(t,["outputCompressionQuality"]);return a!=null&&g(e,["imageOutputOptions","compressionQuality"],a),e}function O0e(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],As(n));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function T5(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],As(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function u_(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],As(n));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Pi(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=h(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],As(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function D0e(t,e,n){const r={},i=h(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=h(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const a=h(e,["filter"]);n!==void 0&&a!=null&&g(n,["_query","filter"],a);const s=h(e,["queryBase"]);return n!==void 0&&s!=null&&g(n,["_url","models_url"],m5(t,s)),r}function k0e(t,e,n){const r={},i=h(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=h(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const a=h(e,["filter"]);n!==void 0&&a!=null&&g(n,["_query","filter"],a);const s=h(e,["queryBase"]);return n!==void 0&&s!=null&&g(n,["_url","models_url"],m5(t,s)),r}function L0e(t,e){const n={},r=h(e,["config"]);return r!=null&&D0e(t,r,n),n}function V0e(t,e){const n={},r=h(e,["config"]);return r!=null&&k0e(t,r,n),n}function U0e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["_self"]);if(i!=null){let o=g5(i);Array.isArray(o)&&(o=o.map(a=>zA(a))),g(e,["models"],o)}return e}function B0e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["_self"]);if(i!=null){let o=g5(i);Array.isArray(o)&&(o=o.map(a=>jA(a))),g(e,["models"],o)}return e}function F0e(t){const e={},n=h(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=h(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=h(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function zA(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=h(t,["description"]);i!=null&&g(e,["description"],i);const o=h(t,["version"]);o!=null&&g(e,["version"],o);const a=h(t,["_self"]);a!=null&&g(e,["tunedModelInfo"],n_e(a));const s=h(t,["inputTokenLimit"]);s!=null&&g(e,["inputTokenLimit"],s);const l=h(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const u=h(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const c=h(t,["temperature"]);c!=null&&g(e,["temperature"],c);const d=h(t,["maxTemperature"]);d!=null&&g(e,["maxTemperature"],d);const f=h(t,["topP"]);f!=null&&g(e,["topP"],f);const p=h(t,["topK"]);p!=null&&g(e,["topK"],p);const v=h(t,["thinking"]);return v!=null&&g(e,["thinking"],v),e}function jA(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=h(t,["description"]);i!=null&&g(e,["description"],i);const o=h(t,["versionId"]);o!=null&&g(e,["version"],o);const a=h(t,["deployedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>Zye(f))),g(e,["endpoints"],d)}const s=h(t,["labels"]);s!=null&&g(e,["labels"],s);const l=h(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],r_e(l));const u=h(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const c=h(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["checkpoints"],d)}return e}function z0e(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(t,["fileData"]);o!=null&&g(e,["fileData"],e0e(o));const a=h(t,["functionCall"]);a!=null&&g(e,["functionCall"],t0e(a));const s=h(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],wye(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function j0e(t){const e={},n=h(t,["productImage"]);return n!=null&&g(e,["image"],Pi(n)),e}function $0e(t,e){const n={},r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=h(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const a=h(t,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const s=h(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const l=h(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=h(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const c=h(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const d=h(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","compressionQuality"],d);const f=h(t,["enhancePrompt"]);e!==void 0&&f!=null&&g(e,["parameters","enhancePrompt"],f);const p=h(t,["labels"]);return e!==void 0&&p!=null&&g(e,["labels"],p),n}function G0e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["source"]);i!=null&&H0e(i,n);const o=h(e,["config"]);return o!=null&&$0e(o,n),n}function q0e(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>l_(i))),g(e,["generatedImages"],r)}return e}function H0e(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=h(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Pi(i));const o=h(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>j0e(s))),g(e,["instances[0]","productImages"],a)}return n}function K0e(t){const e={},n=h(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Pi(n));const r=h(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=h(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=h(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],F0e(o));const a=h(t,["controlImageConfig"]);a!=null&&g(e,["controlImageConfig"],Oye(a));const s=h(t,["styleImageConfig"]);s!=null&&g(e,["styleImageConfig"],s);const l=h(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function A5(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=h(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function S5(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=h(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function W0e(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function Y0e(t){const e={},n=h(t,["image"]);return n!=null&&g(e,["image"],Pi(n)),e}function J0e(t,e){const n={},r=h(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=h(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=h(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const a=h(t,["maskDilation"]);e!==void 0&&a!=null&&g(e,["parameters","maskDilation"],a);const s=h(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&g(e,["parameters","binaryColorThreshold"],s);const l=h(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function Q0e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["source"]);i!=null&&Z0e(i,n);const o=h(e,["config"]);return o!=null&&J0e(o,n),n}function X0e(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>A0e(i))),g(e,["generatedMasks"],r)}return e}function Z0e(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=h(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Pi(i));const o=h(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],Y0e(o)),n}function e_e(t){const e={},n=h(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=h(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],n0e(r)),e}function t_e(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=h(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const a=h(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],P0e(a));const s=h(t,["googleSearch"]);s!=null&&g(e,["googleSearch"],R0e(s));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function x5(t){const e={},n=h(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=h(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=h(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=h(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const a=h(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>r0e(f))),g(e,["functionDeclarations"],d)}const s=h(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],s);const l=h(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=h(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function n_e(t){const e={},n=h(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=h(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function r_e(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=h(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function i_e(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=h(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=h(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function o_e(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=h(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=h(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function a_e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","name"],Fe(t,r));const i=h(e,["config"]);return i!=null&&i_e(i,n),n}function s_e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["config"]);return i!=null&&o_e(i,n),n}function l_e(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=h(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=h(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const a=h(t,["includeRaiReason"]);e!==void 0&&a!=null&&g(e,["parameters","includeRaiReason"],a);const s=h(t,["outputMimeType"]);e!==void 0&&s!=null&&g(e,["parameters","outputOptions","mimeType"],s);const l=h(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const u=h(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=h(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=h(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const f=h(t,["numberOfImages"]);e!==void 0&&f!=null&&g(e,["parameters","sampleCount"],f);const p=h(t,["mode"]);return e!==void 0&&p!=null&&g(e,["parameters","mode"],p),n}function u_e(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["image"]);i!=null&&g(n,["instances[0]","image"],Pi(i));const o=h(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=h(e,["config"]);return a!=null&&l_e(a,n),n}function c_e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>l_(o))),g(e,["generatedImages"],i)}return e}function d_e(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const r=h(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],As(r));const i=h(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function f_e(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],As(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function h_e(t){const e={},n=h(t,["image"]);n!=null&&g(e,["_self"],Pi(n));const r=h(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function p_e(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],u_(n));const r=h(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function m_e(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],Pi(n));const r=h(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function w5(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const r=h(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],As(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function I5(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=h(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],As(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g_e(t,e){const n={},r=h(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function v_e(t){const e={},n=h(t,["config"]);return n!=null&&g_e(n,e),e}function y_e(t,e){const n={},r=h(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function __e(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&y_e(r,e),e}function b_e(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function E_e(t,e){const n={},r=h(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["customMetadata"],o)}const i=h(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function T_e(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const a=h(t,["response"]);return a!=null&&g(e,["response"],S_e(a)),e}function A_e(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=h(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=h(t,["config"]);return i!=null&&E_e(i,e),e}function S_e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&g(e,["parent"],r);const i=h(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function x_e(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function w_e(t){const e={},n=h(t,["config"]);return n!=null&&x_e(n,e),e}function I_e(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["fileSearchStores"],o)}return e}function C5(t,e){const n={},r=h(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=h(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=h(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["customMetadata"],s)}const a=h(t,["chunkingConfig"]);return e!==void 0&&a!=null&&g(e,["chunkingConfig"],a),n}function C_e(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=h(t,["config"]);return r!=null&&C5(r,e),e}function P_e(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R_e="Content-Type",N_e="X-Server-Timeout",M_e="User-Agent",$A="x-goog-api-client",O_e="1.38.0",D_e=`google-genai-sdk/${O_e}`,k_e="v1beta1",L_e="v1beta";class V_e{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const s=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!s?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:k_e}else{if(!this.clientOptions.apiKey)throw new ph({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:L_e,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===VA.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&U_e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await qk(i),new UA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await qk(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ei(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield me(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const v=JSON.parse(d);if("error"in v){const E=JSON.parse(JSON.stringify(v.error)),y=E.status,_=E.code,T=`got status: ${y}. ${JSON.stringify(v)}`;if(_>=400&&_<600)throw new ph({message:T,status:_})}}catch(v){if(v.name==="ApiError")throw v}a+=d;let f=-1,p=0;for(;;){f=-1,p=0;for(const y of l){const _=a.indexOf(y);_!==-1&&(f===-1||_<f)&&(f=_,p=y.length)}if(f===-1)break;const v=a.substring(0,f);a=a.substring(f+p);const E=v.trim();if(E.startsWith(s)){const y=E.substring(s.length).trim();try{const _=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield me(new UA(_))}catch(_){throw new Error(`exception parsing stream chunk ${y}. ${_}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=D_e+" "+this.clientOptions.userAgentExtra;return e[M_e]=n,e[$A]=n,e[R_e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(N_e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=ne("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&C5(r,d);const f=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function qk(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ph({message:i,status:n}):new Error(i)}}function U_e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B_e="mcp_used/unknown";let F_e=!1;function P5(t){for(const e of t)if(z_e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return F_e}function R5(t){var e;const n=(e=t[$A])!==null&&e!==void 0?e:"";t[$A]=(n+` ${B_e}`).trimStart()}function z_e(t){return t!==null&&typeof t=="object"&&t instanceof $I}function j_e(t){return Ei(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield me(n.listTools({cursor:i}));for(const s of a.tools)yield yield me(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class $I{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new $I(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,Ti(j_e(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(d);const f=d.name;if(o[f])throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);o[f]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),_ge(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $_e(t,e,n){const r=new dge;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class G_e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=K_e(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(S=>{u=S}),d=e.callbacks,f=function(){u({})},p=this.apiClient,v={onopen:f,onmessage:S=>{$_e(p,d.onmessage,S)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(S){}},E=this.webSocketFactory.create(l,H_e(a),v);E.connect(),await c;const T={setup:{model:Fe(this.apiClient,e.model)}};return E.send(JSON.stringify(T)),new q_e(E,this.apiClient)}}class q_e{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=gye(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=mye(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Mu.PLAY)}pause(){this.sendPlaybackControl(Mu.PAUSE)}stop(){this.sendPlaybackControl(Mu.STOP)}resetContext(){this.sendPlaybackControl(Mu.RESET_CONTEXT)}close(){this.conn.close()}}function H_e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function K_e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W_e="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Y_e(t,e,n){const r=new cge;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=_ye(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class J_e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new G_e(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&P5(e.config.tools)&&R5(d);const f=ebe(d);if(this.apiClient.isVertexAI()){const R=this.apiClient.getProject(),O=this.apiClient.getLocation(),V=this.apiClient.getApiKey(),D=!!R&&!!O||!!V;this.apiClient.getCustomBaseUrl()&&!D?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f,c))}else{const R=this.apiClient.getApiKey();let O="BidiGenerateContent",V="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",V="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${O}?${V}=${R}`}let p=()=>{};const v=new Promise(R=>{p=R}),E=e.callbacks,y=function(){var R;(R=E==null?void 0:E.onopen)===null||R===void 0||R.call(E),p({})},_=this.apiClient,T={onopen:y,onmessage:R=>{Y_e(_,E.onmessage,R)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(R){}},S=this.webSocketFactory.create(c,Z_e(f),T);S.connect(),await v;let w=Fe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){const R=this.apiClient.getProject(),O=this.apiClient.getLocation();R&&O&&(w=`projects/${R}/locations/${O}/`+w)}let M={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Qv.AUDIO]}:e.config.responseModalities=[Qv.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],I=[];for(const R of N)if(this.isCallableTool(R)){const O=R;I.push(await O.tool())}else I.push(R);I.length>0&&(e.config.tools=I);const P={model:w,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?M=pye(this.apiClient,P):M=hye(this.apiClient,P),delete M.config,S.send(JSON.stringify(M)),new X_e(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Q_e={turnComplete:!0};class X_e{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Qr(n.turns),e.isVertexAI()||(r=r.map(i=>s_(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(W_e)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Q_e),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:yye(e)}:n={realtimeInput:vye(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Z_e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ebe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hk=10;function Kk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(qu(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function qu(t){return"callTool"in t&&typeof t.callTool=="function"}function tbe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>qu(i)))!==null&&r!==void 0?r:!1}function Wk(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(qu(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Yk(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nbe extends ra{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tbe(n)||Kk(n.config))return await this.generateContentInternal(l);const u=Wk(n);if(u.length>0){const E=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let c,d;const f=Qr(l.contents),p=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Hk;let v=0;for(;v<p&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const E=c.candidates[0].content,y=[];for(const _ of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(qu(_)){const S=await _.callTool(c.functionCalls);y.push(...S)}v++,d={role:"user",parts:y},l.contents=Qr(l.contents),l.contents.push(E),l.contents.push(d),Yk(l.config)&&(f.push(E),f.push(d))}return Yk(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),Kk(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=Wk(n);if(l.length>0){const d=l.map(f=>`tools[${f}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new $l(Go.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>qu(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&P5(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),R5(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(qu(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Hk;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return Ei(this,arguments,function*(){for(var f,p,v,E,y,_;s<o;){a&&(s++,a=!1);const M=yield me(u.processParamsMaybeAddMcpUsage(d)),N=yield me(u.generateContentStreamInternal(M)),I=[],P=[];try{for(var T=!0,S=(p=void 0,Ti(N)),w;w=yield me(S.next()),f=w.done,!f;T=!0){E=w.value,T=!1;const R=E;if(yield yield me(R),R.candidates&&(!((y=R.candidates[0])===null||y===void 0)&&y.content)){P.push(R.candidates[0].content);for(const O of(_=R.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(s<o&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(O.functionCall.name)){const V=yield me(c.get(O.functionCall.name).callTool([O.functionCall]));I.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(R){p={error:R}}finally{try{!T&&!f&&(v=S.return)&&(yield me(v.call(S)))}finally{if(p)throw p.error}}if(I.length>0){a=!0;const R=new zd;R.candidates=[{content:{role:"user",parts:I}}],yield yield me(R);const O=[];O.push(...P),O.push({role:"user",parts:I});const V=Qr(d.contents).concat(O);d.contents=V}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=jk(this.apiClient,e);return s=ne("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=Gk(c),f=new zd;return Object.assign(f,d),f})}else{const u=zk(this.apiClient,e);return s=ne("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=$k(c),f=new zd;return Object.assign(f,d),f})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=jk(this.apiClient,e);return s=ne("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return Ei(this,arguments,function*(){var f,p,v,E;try{for(var y=!0,_=Ti(d),T;T=yield me(_.next()),f=T.done,!f;y=!0){E=T.value,y=!1;const S=E,w=Gk(yield me(S.json()));w.sdkHttpResponse={headers:S.headers};const M=new zd;Object.assign(M,w),yield yield me(M)}}catch(S){p={error:S}}finally{try{!y&&!f&&(v=_.return)&&(yield me(v.call(_)))}finally{if(p)throw p.error}}})})}else{const u=zk(this.apiClient,e);return s=ne("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return Ei(this,arguments,function*(){var f,p,v,E;try{for(var y=!0,_=Ti(d),T;T=yield me(_.next()),f=T.done,!f;y=!0){E=T.value,y=!1;const S=E,w=$k(yield me(S.json()));w.sdkHttpResponse={headers:S.headers};const M=new zd;Object.assign(M,w),yield yield me(M)}}catch(S){p={error:S}}finally{try{!y&&!f&&(v=_.return)&&(yield me(v.call(_)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Jye(this.apiClient,e);return s=ne("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=Xye(c),f=new Sk;return Object.assign(f,d),f})}else{const u=Yye(this.apiClient,e);return s=ne("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=Qye(c),f=new Sk;return Object.assign(f,d),f})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=u0e(this.apiClient,e);return s=ne("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=d0e(c),f=new xk;return Object.assign(f,d),f})}else{const u=l0e(this.apiClient,e);return s=ne("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=c0e(c),f=new xk;return Object.assign(f,d),f})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=qye(this.apiClient,e);return o=ne("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Hye(l),c=new Zme;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=u_e(this.apiClient,e);return o=ne("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=c_e(l),c=new ege;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=G0e(this.apiClient,e);return o=ne("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=q0e(l),c=new tge;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Q0e(this.apiClient,e);return o=ne("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=X0e(l),c=new nge;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=C0e(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>jA(c))}else{const u=I0e(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>zA(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=V0e(this.apiClient,e);return s=ne("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=B0e(c),f=new wk;return Object.assign(f,d),f})}else{const u=L0e(this.apiClient,e);return s=ne("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=U0e(c),f=new wk;return Object.assign(f,d),f})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=s_e(this.apiClient,e);return s=ne("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>jA(c))}else{const u=a_e(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>zA(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=zye(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=$ye(c),f=new Ik;return Object.assign(f,d),f})}else{const u=Fye(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=jye(c),f=new Ik;return Object.assign(f,d),f})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Vye(this.apiClient,e);return s=ne("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=Bye(c),f=new Ck;return Object.assign(f,d),f})}else{const u=Lye(this.apiClient,e);return s=ne("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=Uye(c),f=new Ck;return Object.assign(f,d),f})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Pye(this.apiClient,e);return o=ne("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Rye(l),c=new rge;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=v0e(this.apiClient,e);return s=ne("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=m0e(c),f=new Xv;return Object.assign(f,d),f})}else{const u=g0e(this.apiClient,e);return s=ne("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=p0e(c),f=new Xv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rbe extends ra{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Kme(e);return s=ne("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=Hme(e);return s=ne("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Bme(e);return o=ne("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ibe(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function obe(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pbe(o))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function abe(t,e,n){const r={},i=h(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=h(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const a=h(e,["uses"]);n!==void 0&&a!=null&&g(n,["uses"],a);const s=h(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&g(n,["bidiGenerateContentSetup"],hbe(t,s));const l=h(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function sbe(t,e){const n={},r=h(e,["config"]);return r!=null&&g(n,["config"],abe(t,r,n)),n}function lbe(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ube(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cbe(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function dbe(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function fbe(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=h(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const a=h(t,["topP"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topP"],a);const s=h(t,["topK"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topK"],s);const l=h(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=h(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=h(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],jI(d));const f=h(t,["thinkingConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","thinkingConfig"],f);const p=h(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],p);const v=h(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],obe(Vn(v)));const E=h(t,["tools"]);if(e!==void 0&&E!=null){let N=rd(E);Array.isArray(N)&&(N=N.map(I=>gbe(nd(I)))),g(e,["setup","tools"],N)}const y=h(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],mbe(y));const _=h(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const T=h(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&g(e,["setup","outputAudioTranscription"],T);const S=h(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const w=h(t,["contextWindowCompression"]);e!==void 0&&w!=null&&g(e,["setup","contextWindowCompression"],w);const M=h(t,["proactivity"]);if(e!==void 0&&M!=null&&g(e,["setup","proactivity"],M),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function hbe(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["setup","model"],Fe(t,r));const i=h(e,["config"]);return i!=null&&g(n,["config"],fbe(i,n)),n}function pbe(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(t,["fileData"]);o!=null&&g(e,["fileData"],lbe(o));const a=h(t,["functionCall"]);a!=null&&g(e,["functionCall"],ube(a));const s=h(t,["functionResponse"]);s!=null&&g(e,["functionResponse"],s);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],ibe(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function mbe(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gbe(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=h(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const a=h(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],cbe(a));const s=h(t,["googleSearch"]);s!=null&&g(e,["googleSearch"],dbe(s));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vbe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function ybe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=vbe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class _be extends ra{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=sbe(this.apiClient,e);o=ne("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=ybe(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bbe(t,e){const n={},r=h(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function Ebe(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&bbe(r,e),e}function Tbe(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function Abe(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Sbe(t){const e={},n=h(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=h(t,["config"]);return r!=null&&Abe(r,e),e}function xbe(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wbe extends ra{constructor(e){super(),this.apiClient=e,this.list=async n=>new $l(Go.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Tbe(e);return o=ne("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Ebe(e);i=ne("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Sbe(e);return o=ne("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=xbe(l),c=new ige;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ibe extends ra{constructor(e,n=new wbe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new $l(Go.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=v_e(e);return o=ne("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=b_e(e);return o=ne("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=__e(e);i=ne("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=w_e(e);return o=ne("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=I_e(l),c=new oge;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=C_e(e);return o=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=P_e(l),c=new age;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=A_e(e);return o=ne("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=T_e(l),c=new VI;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let N5=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return N5=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Cbe=()=>N5();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GA(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const qA=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii extends Error{}class Jn extends ii{constructor(e,n,r,i){super(`${Jn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new c_({message:r,cause:qA(n)});const o=n;return e===400?new O5(e,o,r,i):e===401?new D5(e,o,r,i):e===403?new k5(e,o,r,i):e===404?new L5(e,o,r,i):e===409?new V5(e,o,r,i):e===422?new U5(e,o,r,i):e===429?new B5(e,o,r,i):e>=500?new F5(e,o,r,i):new Jn(e,o,r,i)}}class HA extends Jn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class c_ extends Jn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class M5 extends c_{constructor({message:e}={}){super({message:e??"Request timed out."})}}class O5 extends Jn{}class D5 extends Jn{}class k5 extends Jn{}class L5 extends Jn{}class V5 extends Jn{}class U5 extends Jn{}class B5 extends Jn{}class F5 extends Jn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pbe=/^[a-z][a-z0-9+.-]*:/i,Rbe=t=>Pbe.test(t);let KA=t=>(KA=Array.isArray,KA(t));const Nbe=KA;let Mbe=Nbe;const Jk=Mbe;function Obe(t){if(!t)return!0;for(const e in t)return!1;return!0}function Dbe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const kbe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ii(`${t} must be an integer`);if(e<0)throw new ii(`${t} must be a positive integer`);return e},Lbe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vbe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cu="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ube(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Bbe=()=>{var t,e,n,r,i;const o=Ube();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cu,"X-Stainless-OS":Xk(Deno.build.os),"X-Stainless-Arch":Qk(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cu,"X-Stainless-OS":Xk((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Qk((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=Fbe();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Fbe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const Qk=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Xk=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let xm;const zbe=()=>xm??(xm=Bbe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jbe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function z5(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function $be(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return z5({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function j5(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Gbe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qbe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $5=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function dE(t,e,n){return $5(),new File(t,e??"unknown_file",n)}function Hbe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Kbe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G5=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Wbe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&G5(t),Ybe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Jbe(t,e,n){if($5(),t=await t,Wbe(t))return t instanceof File?t:dE([await t.arrayBuffer()],t.name);if(Ybe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),dE(await WA(i),e,n)}const r=await WA(t);if(e||(e=Hbe(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return dE(r,e,n)}async function WA(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(G5(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(Kbe(t))try{for(var s=!0,l=Ti(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const c=i;a.push(...await WA(c))}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${Qbe(t)}`)}return a}function Qbe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q5{constructor(e){this._client=e}}q5._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H5(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Zk=Object.freeze(Object.create(null)),Xbe=(t=H5)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,d,f)=>{var p,v,E;/[?#]/.test(d)&&(i=!0);const y=r[f];let _=(i?encodeURIComponent:t)(""+y);return f!==r.length&&(y==null||typeof y=="object"&&y.toString===((E=Object.getPrototypeOf((v=Object.getPrototypeOf((p=y.hasOwnProperty)!==null&&p!==void 0?p:Zk))!==null&&v!==void 0?v:Zk))===null||E===void 0?void 0:E.toString))&&(_=y+"",o.push({start:c.length+d.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),c+d+(f===r.length?"":_)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((f,p)=>{const v=" ".repeat(p.start-c),E="^".repeat(p.length);return c=p.start+p.length,f+v+E},"");throw new ii(`Path parameters result in path with invalid segments:
${o.map(f=>f.error).join(`
`)}
${a}
${d}`)}return a},wm=Xbe(H5);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K5 extends q5{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=ey(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new ii("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new ii("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(wm`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(wm`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(wm`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=ey(o,["api_version"]);return this._client.get(wm`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}K5._key=Object.freeze(["interactions"]);class W5 extends K5{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zbe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Im;function GI(t){let e;return(Im??(e=new globalThis.TextEncoder,Im=e.encode.bind(e)))(t)}let Cm;function e2(t){let e;return(Cm??(e=new globalThis.TextDecoder,Cm=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d_{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?GI(e):e;this.buffer=Zbe([this.buffer,n]);const r=[];let i;for(;(i=eEe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(e2(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=e2(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}d_.NEWLINE_CHARS=new Set([`
`,"\r"]);d_.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eEe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function tEe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ty={off:0,error:200,warn:300,info:400,debug:500},t2=(t,e,n)=>{if(t){if(Dbe(ty,t))return t;jn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ty))}`)}};function rf(){}function Pm(t,e,n){return!e||ty[t]>ty[n]?rf:e[t].bind(e)}const nEe={error:rf,warn:rf,info:rf,debug:rf};let n2=new WeakMap;function jn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return nEe;const i=n2.get(n);if(i&&i[0]===r)return i[1];const o={error:Pm("error",n,r),warn:Pm("warn",n,r),info:Pm("info",n,r),debug:Pm("debug",n,r)};return n2.set(n,[r,o]),o}const js=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ou{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?jn(r):console;function a(){return Ei(this,arguments,function*(){var l,u,c,d;if(i)throw new ii("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var p=!0,v=Ti(rEe(e,n)),E;E=yield me(v.next()),l=E.done,!l;p=!0){d=E.value,p=!1;const y=d;if(!f)if(y.data.startsWith("[DONE]")){f=!0;continue}else try{yield yield me(JSON.parse(y.data))}catch(_){throw o.error("Could not parse message into JSON:",y.data),o.error("From chunk:",y.raw),_}}}catch(y){u={error:y}}finally{try{!p&&!l&&(c=v.return)&&(yield me(c.call(v)))}finally{if(u)throw u.error}}f=!0}catch(y){if(GA(y))return yield me(void 0);throw y}finally{f||n.abort()}})}return new Ou(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Ei(this,arguments,function*(){var l,u,c,d;const f=new d_,p=j5(e);try{for(var v=!0,E=Ti(p),y;y=yield me(E.next()),l=y.done,!l;v=!0){d=y.value,v=!1;const _=d;for(const T of f.decode(_))yield yield me(T)}}catch(_){u={error:_}}finally{try{!v&&!l&&(c=E.return)&&(yield me(c.call(E)))}finally{if(u)throw u.error}}for(const _ of f.flush())yield yield me(_)})}function a(){return Ei(this,arguments,function*(){var l,u,c,d;if(i)throw new ii("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var p=!0,v=Ti(o()),E;E=yield me(v.next()),l=E.done,!l;p=!0){d=E.value,p=!1;const y=d;f||y&&(yield yield me(JSON.parse(y)))}}catch(y){u={error:y}}finally{try{!p&&!l&&(c=v.return)&&(yield me(c.call(v)))}finally{if(u)throw u.error}}f=!0}catch(y){if(GA(y))return yield me(void 0);throw y}finally{f||n.abort()}})}return new Ou(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new Ou(()=>i(e),this.controller,this.client),new Ou(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return z5({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=GI(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function rEe(t,e){return Ei(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ii("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ii("Attempted to iterate over a response with no body");const s=new oEe,l=new d_,u=j5(t.body);try{for(var c=!0,d=Ti(iEe(u)),f;f=yield me(d.next()),r=f.done,!r;c=!0){a=f.value,c=!1;const p=a;for(const v of l.decode(p)){const E=s.decode(v);E&&(yield yield me(E))}}}catch(p){i={error:p}}finally{try{!c&&!r&&(o=d.return)&&(yield me(o.call(d)))}finally{if(i)throw i.error}}for(const p of l.flush()){const v=s.decode(p);v&&(yield yield me(v))}})}function iEe(t){return Ei(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=Ti(t),u;u=yield me(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?GI(c):c;let f=new Uint8Array(a.length+d.length);f.set(a),f.set(d,a.length),a=f;let p;for(;(p=tEe(a))!==-1;)yield yield me(a.slice(0,p)),a=a.slice(p)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield me(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield me(a))})}class oEe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=aEe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function aEe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sEe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return jn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ou.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return jn(t).debug(`[${r}] response parsed`,js({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qI extends Promise{constructor(e,n,r=sEe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new qI(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y5=Symbol("brand.privateNullableHeaders");function*lEe(t){if(!t)return;if(Y5 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Jk(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Jk(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const jd=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of lEe(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[Y5]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fE=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=Ome)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var J5;class f_{constructor(e){var n,r,i,o,a,s,l,{baseURL:u=fE("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=fE("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,f=ey(e,["baseURL","apiKey","apiVersion"]);const p=Object.assign(Object.assign({apiKey:c,apiVersion:d},f),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=p.baseURL,this.timeout=(r=p.timeout)!==null&&r!==void 0?r:f_.DEFAULT_TIMEOUT,this.logger=(i=p.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(a=(o=t2(p.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:t2(fE("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:v,this.fetchOptions=p.fetchOptions,this.maxRetries=(s=p.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=p.fetch)!==null&&l!==void 0?l:jbe(),this.encoder=qbe,this._options=p,this.apiKey=c,this.apiVersion=d,this.clientAdapter=p.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=jd([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return jd([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return jd([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ii(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${cu}`}defaultIdempotencyKey(){return`stainless-node-retry-${Cbe()}`}makeStatusError(e,n,r,i){return Jn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Rbe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return Obe(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new qI(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:d}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(jn(this).debug(`[${f}] sending request`,js({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new HA;const E=new AbortController,y=await this.fetchWithTimeout(c,u,d,E).catch(qA),_=Date.now();if(y instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new HA;const w=GA(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return jn(this).info(`[${f}] connection ${w?"timed out":"failed"} - ${S}`),jn(this).debug(`[${f}] connection ${w?"timed out":"failed"} (${S})`,js({retryOfRequestLogID:r,url:c,durationMs:_-v,message:y.message})),this.retryRequest(s,n,r??f);throw jn(this).info(`[${f}] connection ${w?"timed out":"failed"} - error; no more retries left`),jn(this).debug(`[${f}] connection ${w?"timed out":"failed"} (error; no more retries left)`,js({retryOfRequestLogID:r,url:c,durationMs:_-v,message:y.message})),w?new M5:new c_({cause:y})}const T=`[${f}${p}] ${u.method} ${c} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${_-v}ms`;if(!y.ok){const S=await this.shouldRetry(y);if(n&&S){const R=`retrying, ${n} attempts remaining`;return await Gbe(y.body),jn(this).info(`${T} - ${R}`),jn(this).debug(`[${f}] response error (${R})`,js({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:_-v})),this.retryRequest(s,n,r??f,y.headers)}const w=S?"error; no more retries left":"error; not retryable";jn(this).info(`${T} - ${w}`);const M=await y.text().catch(R=>qA(R).message),N=Lbe(M),I=N?void 0:M;throw jn(this).debug(`[${f}] response error (${w})`,js({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:I,durationMs:Date.now()-v})),this.makeStatusError(y.status,N,I,y.headers)}return jn(this).info(T),jn(this).debug(`[${f}] response start`,js({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:_-v})),{response:y,options:s,controller:E,requestLogID:f,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=ey(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);s&&(d.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Vbe(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:c}=a,d=this.buildURL(l,u,c);"timeout"in a&&kbe("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:f,body:p}=this.buildBody({options:a}),v=await this.buildHeaders({options:e,method:s,bodyHeaders:f,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:v},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"}),p&&{body:p}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=jd([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),zbe()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=jd([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:$be(e)}:this.encoder({body:e,headers:r})}}f_.DEFAULT_TIMEOUT=6e4;class yn extends f_{constructor(){super(...arguments),this.interactions=new W5(this)}}J5=yn;yn.GeminiNextGenAPIClient=J5;yn.GeminiNextGenAPIClientError=ii;yn.APIError=Jn;yn.APIConnectionError=c_;yn.APIConnectionTimeoutError=M5;yn.APIUserAbortError=HA;yn.NotFoundError=L5;yn.ConflictError=V5;yn.RateLimitError=B5;yn.BadRequestError=O5;yn.AuthenticationError=D5;yn.InternalServerError=F5;yn.PermissionDeniedError=k5;yn.UnprocessableEntityError=U5;yn.toFile=Jbe;yn.Interactions=W5;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uEe(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function cEe(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function dEe(t,e){const n={},r=h(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function fEe(t,e){const n={},r=h(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function hEe(t,e,n){const r={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=h(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=h(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const a=h(t,["learningRateMultiplier"]);if(a!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=h(t,["batchSize"]);e!==void 0&&s!=null&&g(e,["tuningTask","hyperparameters","batchSize"],s);const l=h(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function pEe(t,e,n){const r={};let i=h(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const p=h(t,["validationDataset"]);e!==void 0&&p!=null&&g(e,["supervisedTuningSpec"],r2(p))}else if(i==="PREFERENCE_TUNING"){const p=h(t,["validationDataset"]);e!==void 0&&p!=null&&g(e,["preferenceOptimizationSpec"],r2(p))}const o=h(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const a=h(t,["description"]);e!==void 0&&a!=null&&g(e,["description"],a);let s=h(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const p=h(t,["epochCount"]);e!==void 0&&p!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],p)}else if(s==="PREFERENCE_TUNING"){const p=h(t,["epochCount"]);e!==void 0&&p!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],p)}let l=h(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const p=h(t,["learningRateMultiplier"]);e!==void 0&&p!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],p)}else if(l==="PREFERENCE_TUNING"){const p=h(t,["learningRateMultiplier"]);e!==void 0&&p!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],p)}let u=h(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const p=h(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p)}else if(u==="PREFERENCE_TUNING"){const p=h(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],p)}let c=h(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const p=h(t,["adapterSize"]);e!==void 0&&p!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p)}else if(c==="PREFERENCE_TUNING"){const p=h(t,["adapterSize"]);e!==void 0&&p!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],p)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=h(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const f=h(t,["beta"]);return e!==void 0&&f!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],f),r}function mEe(t,e){const n={},r=h(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=h(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=h(t,["trainingDataset"]);o!=null&&wEe(o);const a=h(t,["config"]);return a!=null&&hEe(a,n),n}function gEe(t,e){const n={},r=h(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=h(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=h(t,["trainingDataset"]);o!=null&&IEe(o,n,e);const a=h(t,["config"]);return a!=null&&pEe(a,n,e),n}function vEe(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function yEe(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function _Ee(t,e,n){const r={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const a=h(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),r}function bEe(t,e,n){const r={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const a=h(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),r}function EEe(t,e){const n={},r=h(t,["config"]);return r!=null&&_Ee(r,n),n}function TEe(t,e){const n={},r=h(t,["config"]);return r!=null&&bEe(r,n),n}function AEe(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=h(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Q5(s))),g(n,["tuningJobs"],a)}return n}function SEe(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=h(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>YA(s))),g(n,["tuningJobs"],a)}return n}function xEe(t,e){const n={},r=h(t,["name"]);r!=null&&g(n,["model"],r);const i=h(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function wEe(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=h(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function IEe(t,e,n){const r={};let i=h(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=h(t,["gcsUri"]);e!==void 0&&a!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=h(t,["gcsUri"]);e!==void 0&&a!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=h(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=h(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Q5(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["name"]);i!=null&&g(n,["name"],i);const o=h(t,["state"]);o!=null&&g(n,["state"],h5(o));const a=h(t,["createTime"]);a!=null&&g(n,["createTime"],a);const s=h(t,["tuningTask","startTime"]);s!=null&&g(n,["startTime"],s);const l=h(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const u=h(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=h(t,["description"]);c!=null&&g(n,["description"],c);const d=h(t,["baseModel"]);d!=null&&g(n,["baseModel"],d);const f=h(t,["_self"]);return f!=null&&g(n,["tunedModel"],xEe(f)),n}function YA(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["name"]);i!=null&&g(n,["name"],i);const o=h(t,["state"]);o!=null&&g(n,["state"],h5(o));const a=h(t,["createTime"]);a!=null&&g(n,["createTime"],a);const s=h(t,["startTime"]);s!=null&&g(n,["startTime"],s);const l=h(t,["endTime"]);l!=null&&g(n,["endTime"],l);const u=h(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=h(t,["error"]);c!=null&&g(n,["error"],c);const d=h(t,["description"]);d!=null&&g(n,["description"],d);const f=h(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const p=h(t,["tunedModel"]);p!=null&&g(n,["tunedModel"],p);const v=h(t,["preTunedModel"]);v!=null&&g(n,["preTunedModel"],v);const E=h(t,["supervisedTuningSpec"]);E!=null&&g(n,["supervisedTuningSpec"],E);const y=h(t,["preferenceOptimizationSpec"]);y!=null&&g(n,["preferenceOptimizationSpec"],y);const _=h(t,["tuningDataStats"]);_!=null&&g(n,["tuningDataStats"],_);const T=h(t,["encryptionSpec"]);T!=null&&g(n,["encryptionSpec"],T);const S=h(t,["partnerModelTuningSpec"]);S!=null&&g(n,["partnerModelTuningSpec"],S);const w=h(t,["customBaseModel"]);w!=null&&g(n,["customBaseModel"],w);const M=h(t,["experiment"]);M!=null&&g(n,["experiment"],M);const N=h(t,["labels"]);N!=null&&g(n,["labels"],N);const I=h(t,["outputUri"]);I!=null&&g(n,["outputUri"],I);const P=h(t,["pipelineJob"]);P!=null&&g(n,["pipelineJob"],P);const R=h(t,["serviceAccount"]);R!=null&&g(n,["serviceAccount"],R);const O=h(t,["tunedModelDisplayName"]);O!=null&&g(n,["tunedModelDisplayName"],O);const V=h(t,["veoTuningSpec"]);return V!=null&&g(n,["veoTuningSpec"],V),n}function CEe(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["name"]);i!=null&&g(n,["name"],i);const o=h(t,["metadata"]);o!=null&&g(n,["metadata"],o);const a=h(t,["done"]);a!=null&&g(n,["done"],a);const s=h(t,["error"]);return s!=null&&g(n,["error"],s),n}function r2(t,e){const n={},r=h(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=h(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PEe extends ra{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $l(Go.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:LA.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=yEe(e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>YA(c))}else{const u=vEe(e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>Q5(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=TEe(e);return s=ne("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=SEe(c),f=new Pk;return Object.assign(f,d),f})}else{const u=EEe(e);return s=ne("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=AEe(c),f=new Pk;return Object.assign(f,d),f})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=cEe(e);return s=ne("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=fEe(c),f=new Rk;return Object.assign(f,d),f})}else{const u=uEe(e);return s=ne("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),a.then(c=>{const d=dEe(c),f=new Rk;return Object.assign(f,d),f})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=gEe(e,e);return o=ne("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>YA(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mEe(e);return o=ne("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>CEe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class REe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const NEe=1024*1024*8,MEe=3,OEe=1e3,DEe=2,ny="x-goog-upload-status";async function kEe(t,e,n){var r;const i=await X5(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[ny])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function LEe(t,e,n){var r;const i=await X5(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[ny])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=s5(o),s=new UI;return Object.assign(s,a),s}async function X5(t,e,n){var r,i;let o=0,a=0,s=new UA(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(NEe,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,f=OEe;for(;d<MEe&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[ny]));)d++,await UEe(f),f=f*DEe;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[ny])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function VEe(t){return{size:t.size,type:t.type}}function UEe(t){return new Promise(e=>setTimeout(e,t))}class BEe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kEe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await LEe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await VEe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FEe{create(e,n,r){return new zEe(e,n,r)}}class zEe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i2="x-goog-api-key";class jEe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(i2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(i2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $Ee="gl-node/";class Z5{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new yn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Vme(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new jEe(this.apiKey);this.apiClient=new V_e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:$Ee+"web",uploader:new BEe,downloader:new REe}),this.models=new nbe(this.apiClient),this.live=new J_e(this.apiClient,i,new FEe),this.batches=new fve(this.apiClient),this.chats=new Kve(this.models,this.apiClient),this.caches=new Gve(this.apiClient),this.files=new rye(this.apiClient),this.operations=new rbe(this.apiClient),this.authTokens=new _be(this.apiClient),this.tunings=new PEe(this.apiClient),this.fileSearchStores=new Ibe(this.apiClient)}}const e6=async(t,e)=>{var n,r,i,o,a;try{const s=new Z5({apiKey:void 0}),l=`
      Voc  um especialista em anlise regulatria e mercadolgica do Banco Central do Brasil (BACEN) para o setor de consrcios.
      Analise os dados fornecidos considerando as Circulares (ex: Circular 3.679/14) e os documentos padres (2080, 4010).

      Contexto: ${t}
      Dados do App (JSON): ${JSON.stringify(e)}

      Foque sua anlise em:
      1. Variao de adeses vs. desistncias (Churn da carteira).
      2. Correlao com Selic e inflao (IPCA) para os Segmentos 1 a 6.
      3. Oportunidades regionais baseadas nos "Dados por UF".

      Use o Google Search para validar o cenrio macroeconmico atual.
    `,u=await s.models.generateContent({model:"gemini-3-pro-preview",contents:l,config:{tools:[{googleSearch:{}}]}}),c=((a=(o=(i=(r=(n=u.candidates)==null?void 0:n[0])==null?void 0:r.groundingMetadata)==null?void 0:i.groundingChunks)==null?void 0:o.filter(d=>d.web))==null?void 0:a.map(d=>{var f,p;return{uri:((f=d.web)==null?void 0:f.uri)||"",title:((p=d.web)==null?void 0:p.title)||"Fonte externa"}}))||[];return{text:u.text||"No foi possvel gerar insights no momento.",sources:c.length>0?c:void 0}}catch(s){return console.error("Erro ao gerar insights:",s),{text:"Ocorreu um erro ao processar a anlise inteligente."}}},GEe=async(t,e)=>{try{const n=new Z5({apiKey:void 0}),r=`
      Analise a srie histrica do segmento oficial BACEN: ${t}.
      Projete a demanda para os prximos 12 meses.
      
      Considere:
      - Sazonalidade tpica deste segmento.
      - Impacto da poltica monetria atual no crdito vs. consrcio.
      - Dados Histricos: ${JSON.stringify(e.slice(-8))}
      
      Retorne estritamente um JSON no formato:
      {
        "prediction": "Frase curta da tendncia (ex: Crescimento Moderado em Veculos Pesados)",
        "rationale": "Explicao tcnica baseada em fundamentos econmicos."
      }
    `,o=(await n.models.generateContent({model:"gemini-3-pro-preview",contents:r,config:{responseMimeType:"application/json"}})).text;if(!o)throw new Error("Resposta vazia");return JSON.parse(o)}catch(n){return console.error("Erro na predio:",n),{prediction:"Tendncia de Estabilidade",rationale:"No foi possvel realizar a predio avanada por limitaes tcnicas temporrias."}}},HI=({value:t,onChange:e,options:n=["1q","1y","all"]})=>{const r={"1q":"ltimo Trimestre","1y":"ltimo Ano",all:"Todo o Perodo"};return x.jsxs("div",{className:"flex items-center gap-2 bg-white border border-slate-200 rounded-lg px-3 py-2 shadow-sm",children:[x.jsx(z8,{size:16,className:"text-slate-500"}),x.jsx("select",{value:t,onChange:i=>e(i.target.value),className:"bg-transparent text-sm font-medium text-slate-700 focus:outline-none cursor-pointer",children:n.map(i=>x.jsx("option",{value:i,children:r[i]},i))})]})};var Mt=(t=>(t.IMOVEIS="Bens Imveis (Seg. 1)",t.VEICULOS_PESADOS="Veculos Pesados/Agro (Seg. 2)",t.VEICULOS_LEVES="Veculos Leves (Seg. 3)",t.MOTOCICLETAS="Motocicletas (Seg. 4)",t.OUTROS_BENS="Outros Bens Durveis (Seg. 5)",t.SERVICOS="Servios (Seg. 6)",t))(Mt||{});const qEe={[Mt.IMOVEIS]:"#2563eb",[Mt.VEICULOS_LEVES]:"#10b981",[Mt.VEICULOS_PESADOS]:"#f59e0b",[Mt.MOTOCICLETAS]:"#ef4444",[Mt.SERVICOS]:"#8b5cf6",[Mt.OUTROS_BENS]:"#64748b"},HEe=({data:t})=>{const[e,n]=b.useState(null),[r,i]=b.useState(!1),[o,a]=b.useState("1y"),s=b.useMemo(()=>{if(!t)return[];const v=t.segments.map(_=>({period:_.period,segment:_.segment,revenue:_.revenue||0,activeQuotas:_.cotasAtivas,defaultQuotas:_.cotasInadimplentes,dropouts:_.cotasExcluidas,taxaAdmin:_.taxaAdmin,contemplated:_.cotasContempladas,source:"segment"})),E=t.realEstateGroups.map(_=>({period:_.period,segment:_.segment,revenue:_.balance??(_.activeQuotas||0)*(_.valorMedioBem||0),activeQuotas:_.activeQuotas||0,defaultQuotas:_.cotasAtivasInadimplentes||0,dropouts:_.cotasExcluidas||0,taxaAdmin:_.taxaAdmin,contemplated:_.cotasContempladasNoMes||0,source:"group"})),y=t.movableGroups.map(_=>({period:_.period,segment:_.segment,revenue:_.balance??(_.activeQuotas||0)*(_.valorMedioBem||0),activeQuotas:_.activeQuotas||0,defaultQuotas:_.cotasAtivasInadimplentes||0,dropouts:_.cotasExcluidas||0,taxaAdmin:_.taxaAdmin,contemplated:_.cotasContempladasNoMes||0,source:"group"}));return[...v,...E,...y]},[t]),l=t&&s.length>0,u=b.useMemo(()=>{if(!s.length)return[];const v=s.reduce((E,y)=>{const _=y.period;return E[_]||(E[_]={name:_,revenue:0,participants:0,defaultAmount:0}),E[_].revenue+=y.revenue,E[_].participants+=y.activeQuotas,E[_].defaultAmount+=y.defaultQuotas,E},{});return Object.values(v).sort((E,y)=>E.name.localeCompare(y.name))},[s]),c=b.useMemo(()=>{switch(o){case"1q":return u.slice(-3);case"1y":return u.slice(-12);case"all":return u;default:return u}},[o,u]),d=b.useMemo(()=>{var _;const v=new Map,E=(_=u[u.length-1])==null?void 0:_.name;return s.filter(T=>T.period===E).forEach(T=>{const S=T.segment||"Outros";v.has(S)||v.set(S,{name:S,volume:0,quotas:0,defaults:0,dropouts:0,feesSum:0,records:0});const w=v.get(S);w.volume+=T.revenue,w.quotas+=T.activeQuotas,w.defaults+=T.defaultQuotas,w.dropouts+=T.dropouts,T.taxaAdmin>0&&(w.feesSum+=T.taxaAdmin,w.records+=1)}),Array.from(v.values()).map(T=>({...T,avgFee:T.records>0?T.feesSum/T.records:0,defaultRate:T.quotas>0?T.defaults/T.quotas*100:0,dropoutRate:T.quotas>0?T.dropouts/T.quotas*100:0})).sort((T,S)=>S.volume-T.volume)},[s,u]),f=b.useMemo(()=>{const v=c[c.length-1]||{name:"",revenue:0,participants:0,defaultAmount:0},E=c.length>1?c[c.length-2]:null,y=v.participants,_=y>0?v.defaultAmount/y*100:0,T=s.filter(R=>R.revenue>0&&R.period===v.name),S=T.reduce((R,O)=>R+O.revenue,0),w=T.reduce((R,O)=>R+O.activeQuotas,0),M=w>0?S/w:0,N=E&&E.revenue>0?(v.revenue-E.revenue)/E.revenue*100:0,I=E&&E.participants>0?E.defaultAmount/E.participants*100:0,P=_-I;return{balanceVolume:v.revenue,activeQuotas:y,avgTicket:M,defaultRate:_,defaultTrend:P,revenueTrend:N}},[c,s]);if(!l)return x.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] space-y-4 text-center",children:[x.jsx("div",{className:"p-6 bg-slate-100 rounded-full",children:x.jsx(Cx,{size:48,className:"text-slate-400"})}),x.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Nenhum dado encontrado"}),x.jsx("p",{className:"text-slate-500 max-w-md",children:"Importe os arquivos CSV do BACEN (Segmentos, Imveis ou Mveis) para visualizar os indicadores de mercado."})]});const p=async()=>{var y,_;i(!0);const v=`
      Cenrio Atual de Mercado (Consrcio):
      - Volume Financeiro Total: R$ ${(f.balanceVolume/1e6).toFixed(1)} Milhes
      - Cotas Ativas: ${f.activeQuotas.toLocaleString()}
      - Segmento Lder (Volume): ${(y=d[0])==null?void 0:y.name} (R$ ${(((_=d[0])==null?void 0:_.volume)/1e6).toFixed(1)}M)
      - Inadimplncia Mdia: ${f.defaultRate.toFixed(2)}%
      - Ticket Mdio: R$ ${f.avgTicket.toFixed(0)}
    `,E=await e6(v,{history:c.slice(-6)});n(E),i(!1)};return x.jsxs("div",{className:"space-y-6 pb-12",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Painel Executivo"}),x.jsx("p",{className:"text-slate-500",children:"Indicadores financeiros e operacionais do Sistema de Consrcios."})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[x.jsx(HI,{value:o,onChange:a}),x.jsxs("button",{onClick:p,disabled:r,className:"flex items-center gap-2 bg-slate-900 hover:bg-slate-800 text-white px-6 py-3 rounded-xl font-bold shadow-lg transition-all disabled:opacity-50",children:[r?x.jsx(Kf,{className:"animate-spin",size:18}):x.jsx(Jg,{size:18}),"Insights IA"]})]})]}),e&&x.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 rounded-2xl p-6 shadow-sm animate-fade-in relative",children:x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("div",{className:"p-3 bg-blue-100 rounded-lg text-blue-600",children:x.jsx(Jg,{size:24})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-blue-900 font-bold text-lg mb-2",children:"Anlise de Inteligncia de Mercado"}),x.jsx("div",{className:"prose prose-sm text-slate-700 max-w-none",children:e.text})]})]})}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsx(sm,{title:"Volume Financeiro (Carteira)",value:`R$ ${(f.balanceVolume/1e6).toFixed(1)}M`,trend:Number(f.revenueTrend.toFixed(1)),trendLabel:"vs. anterior",color:"blue"}),x.jsx(sm,{title:"Cotas Ativas",value:f.activeQuotas.toLocaleString(),color:"emerald"}),x.jsx(sm,{title:"Ticket Mdio",value:`R$ ${f.avgTicket.toLocaleString(void 0,{maximumFractionDigits:0})}`,color:"violet"}),x.jsx(sm,{title:"Taxa de Inadimplncia",value:`${f.defaultRate.toFixed(2)}%`,trend:Number(f.defaultTrend.toFixed(2)),trendLabel:"vs. anterior",inverseTrend:!0,color:"rose"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[x.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[x.jsx(t4,{className:"text-slate-400",size:20}),"Composio por Segmento"]}),x.jsx("div",{className:"h-[300px]",children:x.jsx(Yr,{width:"100%",height:"100%",children:x.jsxs(a_,{children:[x.jsx(hp,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"volume",children:d.map((v,E)=>x.jsx(xi,{fill:qEe[v.name]||"#94a3b8"},`cell-${E}`))}),x.jsx(Jr,{formatter:v=>`R$ ${(v/1e6).toFixed(1)}M`}),x.jsx(as,{})]})})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[x.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[x.jsx(e4,{className:"text-slate-400",size:20}),"Evoluo do Volume"]}),x.jsx("div",{className:"h-[300px]",children:x.jsx(Yr,{width:"100%",height:"100%",children:x.jsxs(Mme,{data:c,children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.1}),x.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]})}),x.jsx(ls,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),x.jsx(us,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),x.jsx(cs,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},tickFormatter:v=>`R$${(v/1e6).toFixed(0)}M`}),x.jsx(Jr,{formatter:v=>[`R$ ${(v/1e6).toFixed(2)}M`,"Volume"],contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),x.jsx(L3,{type:"monotone",dataKey:"revenue",stroke:"#2563eb",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)"})]})})})]})]})]})},o2=["#0f172a","#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],KEe=({data:t})=>{const[e,n]=b.useState("ranking"),[r,i]=b.useState(""),[o,a]=b.useState(null),[s,l]=b.useState(!1);b.useEffect(()=>{if(r&&e==="detail"){const y=localStorage.getItem(`admin_analysis_${r}`);a(y)}else a(null)},[r,e]);const u=b.useMemo(()=>[...t.administrators].sort((y,_)=>y.name.localeCompare(_.name)),[t.administrators]),c=(y,_)=>{var sa;const T=t.segments.filter(B=>B.cnpj===y||B.adminName===_),S=t.realEstateGroups.filter(B=>B.cnpj===y||B.adminName===_),w=t.movableGroups.filter(B=>B.cnpj===y||B.adminName===_),M=[...T,...S,...w];if(M.length===0)return null;const N=M.map(B=>{const re="valorMedioBem"in B,he=re?B.valorMedioBem:0,W="cotasAtivas"in B?B.cotasAtivas:B.activeQuotas||0,Gt=re?B.prazoGrupo:0,Ve=B.gruposAtivos||0,Qt=B.cotasComercializadas||0,Xt=he*W,ci=Xt>0?Xt:B.revenue||0;return{period:B.period,activeQuotas:W,balance:ci,newSales:Qt,dropouts:B.cotasExcluidas||0,defaultCount:"cotasInadimplentes"in B?B.cotasInadimplentes:"cotasAtivasInadimplentes"in B?B.cotasAtivasInadimplentes:0,taxaAdmin:B.taxaAdmin||0,prazo:Gt,activeGroups:Ve,segment:B.segment}}),I=N.reduce((B,re)=>B+re.activeQuotas,0),P=N.reduce((B,re)=>B+re.balance,0),R=N.reduce((B,re)=>B+re.newSales,0),O=N.reduce((B,re)=>B+re.dropouts,0),V=N.reduce((B,re)=>B+re.defaultCount,0),D=new Map;N.forEach(B=>{const re=B.segment||"Outros";D.has(re)||D.set(re,{name:re,active:0,balance:0,defaultCount:0,fees:[],dropouts:0});const he=D.get(re);he.active+=B.activeQuotas,he.balance+=B.balance,he.defaultCount+=B.defaultCount,he.dropouts+=B.dropouts,B.taxaAdmin>0&&he.fees.push(B.taxaAdmin)});const k=Array.from(D.values()).map(B=>({name:B.name,active:B.active,balance:B.balance,defaultRate:B.active>0?B.defaultCount/B.active*100:0,dropoutRate:B.active>0?B.dropouts/B.active*100:0,avgFee:B.fees.length>0?B.fees.reduce((re,he)=>re+he,0)/B.fees.length:0})).sort((B,re)=>re.balance-B.balance);let Y=0,oe=0,G=0,K=0,J=0;N.forEach(B=>{const re=B.balance||1;Y+=B.taxaAdmin*re,B.prazo>0&&(oe+=B.prazo*re),G+=re,B.activeGroups>0&&(K+=B.newSales/B.activeGroups,J++)});const te=G>0?Y/G:0,de=G>0?oe/G:0,qe=J>0?K/J:0,De=I>0?O/I*100:0,ke=I>0?V/I*100:0,ut=I>0?P/I:0,$t=k.map(B=>({name:B.name,value:B.balance})),Mr=new Map;N.forEach(B=>{Mr.has(B.period)||Mr.set(B.period,{period:B.period,balance:0,active:0});const re=Mr.get(B.period);re.balance+=B.balance,re.active+=B.activeQuotas});const Lt=Array.from(Mr.values()).sort((B,re)=>B.period.localeCompare(re.period)).slice(-12);return{name:_,cnpj:y,totalActive:I,totalBalance:P,totalSales:R,avgAdminFee:te,avgTerm:de,salesPerGroup:qe,churnRate:De,defaultRate:ke,avgTicket:ut,segmentsData:$t,segmentBreakdown:k,history:Lt,mainSegment:((sa=k[0])==null?void 0:sa.name)||"Diversos"}},d=b.useMemo(()=>{if(!r)return null;const y=t.administrators.find(_=>_.cnpj===r);return y?c(y.cnpj,y.name):null},[r,t]),f=b.useMemo(()=>t.administrators.map(y=>c(y.cnpj,y.name)).filter(y=>y!==null&&y.totalActive>0).sort((y,_)=>_.totalBalance-y.totalBalance),[t.administrators,t.segments,t.realEstateGroups,t.movableGroups]),p=async()=>{if(!d)return;l(!0);const y=`
      Relatrio Adm: ${d.name}.
      - Saldo Carteira: R$ ${(d.totalBalance/1e6).toFixed(1)}M
      - Prazo Mdio Ponderado: ${d.avgTerm.toFixed(0)} meses
      - Vendas/Grupo: ${d.salesPerGroup.toFixed(1)} (Eficincia)
      - Taxa Adm: ${d.avgAdminFee.toFixed(2)}%
      - Inadimplncia: ${d.defaultRate.toFixed(2)}%
    `,_=await e6(y,{});a(_.text),localStorage.setItem(`admin_analysis_${r}`,_.text),l(!1)},v=()=>x.jsxs("div",{className:"animate-fade-in bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[x.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2",children:[x.jsx(P7,{className:"text-amber-500",size:20}),"Ranking Geral de Administradoras"]}),x.jsx("p",{className:"text-sm text-slate-500",children:"Consolidado Financeiro (Volume de Crdito e Cotas)"})]}),x.jsxs("div",{className:"text-xs font-medium bg-white border border-slate-200 px-3 py-1 rounded-full text-slate-600",children:[f.length," players listados"]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left",children:[x.jsx("thead",{className:"bg-slate-50 text-xs uppercase font-semibold text-slate-500",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-4 text-center w-16",children:"Rank"}),x.jsx("th",{className:"px-6 py-4",children:"Administradora"}),x.jsx("th",{className:"px-6 py-4 text-right",children:"Volume Carteira (R$)"}),x.jsx("th",{className:"px-6 py-4 text-right",children:"Cotas Ativas"}),x.jsx("th",{className:"px-6 py-4 text-right",children:"Ticket Mdio"}),x.jsx("th",{className:"px-6 py-4 text-center",children:"Inadimplncia"}),x.jsx("th",{className:"px-6 py-4",children:"Principal Segmento"}),x.jsx("th",{className:"px-6 py-4"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-100",children:[f.map((y,_)=>x.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[x.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-400",children:_+1}),x.jsx("td",{className:"px-6 py-4 font-bold text-slate-800",children:y.name}),x.jsxs("td",{className:"px-6 py-4 text-right font-medium text-blue-700 bg-blue-50/30",children:["R$ ",(y.totalBalance/1e6).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})," M"]}),x.jsx("td",{className:"px-6 py-4 text-right text-slate-700",children:y.totalActive.toLocaleString()}),x.jsxs("td",{className:"px-6 py-4 text-right text-slate-500",children:["R$ ",y.avgTicket.toLocaleString(void 0,{maximumFractionDigits:0})]}),x.jsx("td",{className:"px-6 py-4 text-center",children:x.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${y.defaultRate>5?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:[y.defaultRate.toFixed(2),"%"]})}),x.jsx("td",{className:"px-6 py-4 text-xs text-slate-500 uppercase font-medium",children:y.mainSegment}),x.jsx("td",{className:"px-6 py-4 text-right",children:x.jsx("button",{onClick:()=>{i(y.cnpj),n("detail")},className:"text-blue-600 hover:text-blue-800 p-2 rounded-full hover:bg-blue-50 opacity-0 group-hover:opacity-100 transition-all",title:"Ver Detalhes",children:x.jsx(K8,{size:18})})})]},y.cnpj)),f.length===0&&x.jsx("tr",{children:x.jsxs("td",{colSpan:8,className:"text-center py-12 text-slate-400",children:[x.jsx("p",{className:"mb-2",children:"Nenhum dado financeiro encontrado."}),x.jsx("p",{className:"text-xs",children:'Certifique-se de importar arquivos de "Bens Imveis" ou "Mveis" que contenham o campo "Valor Mdio do Bem".'})]})})]})]})})]}),E=()=>d?x.jsxs("div",{className:"space-y-6 animate-fade-in",children:[x.jsx("button",{onClick:()=>n("ranking"),className:"flex items-center gap-1 text-sm font-medium text-slate-500 hover:text-slate-800 mb-2",children:" Voltar para Ranking"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:x.jsx(M7,{size:40})}),x.jsx("p",{className:"text-sm text-slate-500 font-medium uppercase tracking-wider",children:"Saldo de Carteira"}),x.jsxs("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:["R$ ",(d.totalBalance/1e6).toFixed(1)," M"]}),x.jsxs("div",{className:"mt-2 text-xs flex items-center gap-1 text-slate-400 font-medium",children:[x.jsx(a4,{size:12})," ",d.totalActive.toLocaleString()," cotas ativas"]})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:x.jsx(Z8,{size:40})}),x.jsx("p",{className:"text-sm text-slate-500 font-medium uppercase tracking-wider",children:"Prazo Mdio"}),x.jsxs("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:[d.avgTerm.toFixed(0)," meses"]}),x.jsx("div",{className:"mt-2 text-xs text-slate-400",children:"Ponderado por volume"})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:x.jsx(t4,{size:40})}),x.jsx("p",{className:"text-sm text-slate-500 font-medium uppercase tracking-wider",children:"Taxa Adm. Mdia"}),x.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:[d.avgAdminFee.toFixed(2),"%"]}),x.jsx("div",{className:"mt-2 text-xs text-slate-400",children:"Ponderada"})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:x.jsx(o4,{size:40})}),x.jsx("p",{className:"text-sm text-slate-500 font-medium uppercase tracking-wider",children:"Inadimplncia"}),x.jsxs("p",{className:`text-2xl font-bold mt-1 ${d.defaultRate>5?"text-red-600":"text-emerald-600"}`,children:[d.defaultRate.toFixed(2),"%"]}),x.jsx("div",{className:"mt-2 text-xs text-slate-400",children:"Sobre total ativo"})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[x.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50 flex items-center gap-2",children:[x.jsx(c7,{size:18,className:"text-slate-500"}),x.jsx("h3",{className:"font-bold text-slate-800",children:"Deep Dive: Performance por Segmento"})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left",children:[x.jsx("thead",{className:"bg-slate-50 text-xs uppercase font-semibold text-slate-500",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3",children:"Segmento"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Volume (R$)"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Cotas"}),x.jsx("th",{className:"px-6 py-3 text-center",children:"Taxa Adm"}),x.jsx("th",{className:"px-6 py-3 text-center",children:"Inadimplncia"}),x.jsx("th",{className:"px-6 py-3 text-center",children:"Evaso"})]})}),x.jsxs("tbody",{className:"divide-y divide-slate-100",children:[d.segmentBreakdown.map(y=>x.jsxs("tr",{className:"hover:bg-slate-50",children:[x.jsx("td",{className:"px-6 py-3 font-medium text-slate-900",children:y.name}),x.jsx("td",{className:"px-6 py-3 text-right text-blue-700 font-bold bg-blue-50/20",children:y.balance>0?`R$ ${(y.balance/1e6).toFixed(1)}M`:"-"}),x.jsx("td",{className:"px-6 py-3 text-right",children:y.active.toLocaleString()}),x.jsx("td",{className:"px-6 py-3 text-center",children:y.avgFee>0?`${y.avgFee.toFixed(2)}%`:"-"}),x.jsx("td",{className:"px-6 py-3 text-center",children:x.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${y.defaultRate>5?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:[y.defaultRate.toFixed(2),"%"]})}),x.jsxs("td",{className:"px-6 py-3 text-center text-slate-500",children:[y.dropoutRate.toFixed(2),"%"]})]},y.name)),d.segmentBreakdown.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:6,className:"text-center py-4 text-slate-400",children:"Sem dados segmentados."})})]})]})})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Mix Financeiro"}),x.jsx("div",{className:"h-64",children:d.segmentsData.length>0?x.jsx(Yr,{width:"100%",height:"100%",children:x.jsxs(a_,{children:[x.jsx(hp,{data:d.segmentsData,innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",children:d.segmentsData.map((y,_)=>x.jsx(xi,{fill:o2[_%o2.length]},`cell-${_}`))}),x.jsx(Jr,{formatter:y=>`R$ ${(y/1e6).toFixed(1)}M`}),x.jsx(as,{verticalAlign:"bottom"})]})}):x.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:"Sem dados financeiros"})})]}),x.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Evoluo do Saldo"}),x.jsx("div",{className:"h-64",children:x.jsx(Yr,{width:"100%",height:"100%",children:x.jsxs(o5,{data:d.history,children:[x.jsx(ls,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),x.jsx(us,{dataKey:"period",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#94a3b8"}}),x.jsx(cs,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#94a3b8"},tickFormatter:y=>`R$${(y/1e6).toFixed(0)}M`}),x.jsx(Jr,{formatter:y=>[`R$ ${(y/1e6).toFixed(2)}M`,"Saldo"]}),x.jsx(RI,{type:"monotone",dataKey:"balance",stroke:"#3b82f6",strokeWidth:3,dot:{r:4}})]})})})]})]})]}):null;return x.jsxs("div",{className:"space-y-6 pb-12",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Anlise por Administradora"}),x.jsx("p",{className:"text-slate-500",children:"Raio-X financeiro e operacional consolidado."})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[e==="detail"&&x.jsxs("div",{className:"relative w-full md:min-w-[300px]",children:[x.jsx(r4,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),x.jsxs("select",{value:r,onChange:y=>i(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 shadow-sm appearance-none outline-none transition-all",children:[x.jsx("option",{value:"",children:"Trocar Administradora..."}),u.map(y=>x.jsx("option",{value:y.cnpj,children:y.name},y.cnpj))]})]}),e==="detail"&&d&&x.jsxs("button",{onClick:p,disabled:s,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-3 rounded-xl font-bold shadow-lg transition-all disabled:opacity-50 whitespace-nowrap",children:[s?x.jsx(Kf,{className:"animate-spin",size:18}):x.jsx(Jg,{size:18}),"Anlise AI"]})]})]}),o&&e==="detail"&&x.jsx("div",{className:"bg-indigo-50 border border-indigo-100 rounded-2xl p-6 shadow-sm animate-fade-in relative",children:x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg text-indigo-600",children:x.jsx(Jg,{size:24})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-indigo-900 font-bold text-lg mb-2",children:"Insight Estratgico Gemini"}),x.jsx("div",{className:"prose prose-sm text-slate-700 max-w-none",children:o})]})]})}),e==="ranking"?v():E()]})},WEe=({data:t})=>{const[e,n]=b.useState(""),r=b.useMemo(()=>{const a=new Set(t.regional.map(s=>{var l;return(l=s.adminName)==null?void 0:l.trim()}));return t.administrators.filter(s=>{var l;return a.has((l=s.name)==null?void 0:l.trim())}).sort((s,l)=>s.name.localeCompare(l.name))},[t]),i=b.useMemo(()=>{const a=new Map;return t.regional.forEach(s=>{var c;const l=(c=s.adminName)==null?void 0:c.trim();if(!l)return;a.has(l)||a.set(l,{name:l,adhesions:0,dropouts:0,totalActive:0});const u=a.get(l);u.adhesions+=s.newAdhesionsQuarter||0,u.dropouts+=s.dropoutNonContemplated||0,u.totalActive+=s.totalActive||0}),Array.from(a.values()).filter(s=>s.totalActive>500).map(s=>({name:s.name,churnRate:s.totalActive>0?s.dropouts/s.totalActive*100:0,growthRate:s.totalActive>0?s.adhesions/s.totalActive*100:0,replacementRatio:s.dropouts>0?s.adhesions/s.dropouts:0,size:s.totalActive}))},[t.regional]),o=b.useMemo(()=>{if(!e)return null;const a=t.administrators.find(T=>T.cnpj===e);if(!a)return null;const s=t.regional.filter(T=>{var S,w;return((S=T.adminName)==null?void 0:S.trim())===((w=a.name)==null?void 0:w.trim())}),l=s.reduce((T,S)=>T+(S.newAdhesionsQuarter||0),0),u=s.reduce((T,S)=>T+(S.dropoutNonContemplated||0),0),c=s.reduce((T,S)=>T+(S.totalActive||0),0),d=s.reduce((T,S)=>T+(S.activeContemplatedBid||0),0),f=s.reduce((T,S)=>T+(S.activeContemplatedLottery||0),0),p=u>0?l/u:0,v=Math.max(0,100-u/(c||1)*400),E=Math.min(100,p*50),y=v*.6+E*.4,_=s.reduce((T,S)=>{const w=S.region||"Outra",M=T.find(N=>N.region===w);return M?(M.adhesions+=S.newAdhesionsQuarter||0,M.dropouts+=S.dropoutNonContemplated||0):T.push({region:w,adhesions:S.newAdhesionsQuarter||0,dropouts:S.dropoutNonContemplated||0}),T},[]);return{name:a.name,totalActive:c,replacementRatio:p,churnRate:c>0?u/c*100:0,contemplationMix:[{name:"Sorteio",value:f,color:"#10b981"},{name:"Lance",value:d,color:"#3b82f6"}],regionChartData:_,healthScore:y}},[e,t]);return x.jsxs("div",{className:"space-y-8 animate-fade-in",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[x.jsx(ZB,{className:"text-blue-600"}),"Performance Operacional"]}),x.jsx("p",{className:"text-slate-500",children:"Benchmark de eficincia, churn e sade da carteira das administradoras."})]}),x.jsxs("div",{className:"w-full md:w-80 relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:x.jsx(r4,{className:"h-5 w-5 text-slate-400"})}),x.jsxs("select",{value:e,onChange:a=>n(a.target.value),className:"block w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 shadow-sm appearance-none cursor-pointer",children:[x.jsx("option",{value:"",children:"Viso Geral do Mercado (Scatter)"}),r.map(a=>x.jsx("option",{value:a.cnpj,children:a.name},a.cnpj))]})]})]}),e?o&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-100 shadow-sm relative overflow-hidden",children:[x.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 rounded-bl-full opacity-10 ${o.healthScore>60?"bg-green-500":"bg-red-500"}`}),x.jsx("h3",{className:"text-sm font-medium text-slate-500 mb-1",children:"Score Operacional"}),x.jsx("div",{className:"text-3xl font-bold text-slate-900",children:o.healthScore.toFixed(0)}),x.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"ndice de sade da carteira"})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-100 shadow-sm",children:[x.jsxs("h3",{className:"text-sm font-medium text-slate-500 mb-1 flex items-center gap-1",children:[x.jsx(N8,{size:14})," Reposio"]}),x.jsxs("div",{className:`text-3xl font-bold ${o.replacementRatio>=1?"text-emerald-600":"text-red-600"}`,children:[o.replacementRatio.toFixed(2),"x"]}),x.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Novas vendas vs. Sadas"})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-100 shadow-sm",children:[x.jsxs("h3",{className:"text-sm font-medium text-slate-500 mb-1 flex items-center gap-1",children:[x.jsx(x7,{size:14})," Churn Rate"]}),x.jsxs("div",{className:"text-3xl font-bold text-amber-600",children:[o.churnRate.toFixed(2),"%"]}),x.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Desistncia sobre ativo"})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-100 shadow-sm",children:[x.jsxs("h3",{className:"text-sm font-medium text-slate-500 mb-1 flex items-center gap-1",children:[x.jsx(v7,{size:14})," Mix Contemplao"]}),x.jsxs("div",{className:"text-lg font-bold text-blue-600 mt-1",children:[(o.contemplationMix[1].value/(o.contemplationMix[0].value+o.contemplationMix[1].value||1)*100).toFixed(0),"% Lance"]}),x.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"vs. Sorteio"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"font-bold text-slate-800 mb-6",children:"Fluxo Lquido por Regio"}),x.jsx("div",{className:"h-80 w-full",children:x.jsx(Yr,{width:"100%",height:"100%",children:x.jsxs(DI,{data:o.regionChartData,layout:"vertical",margin:{left:20},children:[x.jsx(ls,{strokeDasharray:"3 3",horizontal:!1}),x.jsx(us,{type:"number"}),x.jsx(cs,{dataKey:"region",type:"category",width:100,tick:{fontSize:12}}),x.jsx(Jr,{cursor:{fill:"transparent"}}),x.jsx(as,{}),x.jsx(hh,{dataKey:"adhesions",name:"Entradas (Vendas)",fill:"#10b981",barSize:20,radius:[0,4,4,0]}),x.jsx(hh,{dataKey:"dropouts",name:"Sadas (Desistncias)",fill:"#ef4444",barSize:20,radius:[0,4,4,0]})]})})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"font-bold text-slate-800 mb-2",children:"Perfil de Contemplao"}),x.jsx("div",{className:"h-64 w-full relative",children:x.jsx(Yr,{width:"100%",height:"100%",children:x.jsxs(a_,{children:[x.jsx(hp,{data:o.contemplationMix,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:o.contemplationMix.map((a,s)=>x.jsx(xi,{fill:a.color},`cell-${s}`))}),x.jsx(Jr,{}),x.jsx(as,{verticalAlign:"bottom"})]})})})]})]})]}):x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("div",{className:"mb-6 flex justify-between items-end",children:x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Matriz de Eficincia (Vendas vs Evaso)"}),x.jsx("p",{className:"text-sm text-slate-500",children:"Comparativo de todas as administradoras importadas."})]})}),x.jsx("div",{className:"h-[500px] w-full",children:x.jsx(Yr,{width:"100%",height:"100%",children:x.jsxs(Rme,{margin:{top:20,right:20,bottom:20,left:20},children:[x.jsx(ls,{strokeDasharray:"3 3"}),x.jsx(us,{type:"number",dataKey:"churnRate",name:"Churn %",unit:"%",label:{value:"Taxa de Evaso (Churn)",position:"bottom",offset:0}}),x.jsx(cs,{type:"number",dataKey:"growthRate",name:"Vendas %",unit:"%",label:{value:"Taxa de Novas Vendas",angle:-90,position:"left"}}),x.jsx(G3,{type:"number",dataKey:"size",range:[50,400],name:"Cotas Ativas"}),x.jsx(Jr,{cursor:{strokeDasharray:"3 3"},content:({active:a,payload:s})=>{if(a&&s&&s.length){const l=s[0].payload;return x.jsxs("div",{className:"bg-white p-3 border border-slate-200 shadow-xl rounded-lg text-xs z-50",children:[x.jsx("p",{className:"font-bold text-slate-900 mb-1",children:l.name}),x.jsxs("p",{className:"text-emerald-600",children:["Vendas: ",l.growthRate.toFixed(2),"%"]}),x.jsxs("p",{className:"text-red-500",children:["Evaso: ",l.churnRate.toFixed(2),"%"]}),x.jsxs("p",{className:"text-slate-500 mt-1",children:["Cotas Ativas: ",l.size.toLocaleString()]})]})}return null}}),x.jsx(j3,{name:"Administradoras",data:i,fill:"#3b82f6",children:i.map((a,s)=>x.jsx(xi,{fill:a.growthRate>a.churnRate?"#10b981":"#ef4444",fillOpacity:.6},`cell-${s}`))})]})})}),x.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-xs text-slate-500",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full opacity-60"})," Carteira em Expanso (Vendas ",">"," Churn)"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full opacity-60"})," Carteira em Contrao (Churn ",">"," Vendas)"]})]})]})]})},YEe=({data:t})=>{var s;const[e,n]=b.useState("1y"),r=b.useMemo(()=>[...t.segments.map(l=>({adminName:l.adminName,revenue:l.revenue||0,activeQuotas:l.cotasAtivas})),...t.realEstateGroups.map(l=>({adminName:l.adminName,revenue:l.revenue||0,activeQuotas:l.activeQuotas||0})),...t.movableGroups.map(l=>({adminName:l.adminName,revenue:l.revenue||0,activeQuotas:l.activeQuotas||0}))],[t]),i=b.useMemo(()=>{if(r.length===0)return[];const l=r,u=new Map;let c=0;return l.forEach(f=>{var E;const p=((E=f.adminName)==null?void 0:E.trim())||"Outros";u.has(p)||u.set(p,{revenue:0,active:0});const v=u.get(p);v.revenue+=f.revenue,v.active+=f.activeQuotas,c+=f.revenue}),Array.from(u.entries()).map(([f,p])=>({name:f,revenue:p.revenue,share:c>0?p.revenue/c*100:0})).sort((f,p)=>p.revenue-f.revenue)},[r,e]),o=b.useMemo(()=>{const l=i.map(d=>d.share),u=l.slice(0,4).reduce((d,f)=>d+f,0),c=l.reduce((d,f)=>d+f*f,0);return{cr4:u,hhi:c}},[i]),a=b.useMemo(()=>{var p;if(i.length<2)return[];const l=i[0],u=i.slice(0,5),c=u.reduce((v,E)=>v+E.share,0)/u.length,d=u.reduce((v,E)=>v+E.revenue,0)/u.length,f=l.revenue||1;return[{subject:"Market Share",A:l.share,B:c,fullMark:100},{subject:"Volume (Relativo)",A:100,B:d/f*100,fullMark:100},{subject:"Dominncia",A:l.share/(((p=i[1])==null?void 0:p.share)||1)*50,B:50,fullMark:100}]},[i]);return i.length===0?x.jsx("div",{className:"p-8 text-center text-slate-400",children:"Dados insuficientes para anlise competitiva."}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Posicionamento Competitivo"}),x.jsx("p",{className:"text-slate-500",children:"Benchmark real baseado no volume de crdito importado."})]}),x.jsx(HI,{value:e,onChange:n,options:["all"]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:"Lder vs. Mdia do Top 5"}),x.jsx("p",{className:"text-xs text-slate-400 mb-6",children:"Comparativo de performance relativa"}),x.jsx("div",{className:"h-80 w-full",children:x.jsx(Yr,{width:"100%",height:"100%",children:x.jsxs(Cme,{cx:"50%",cy:"50%",outerRadius:"80%",data:a,children:[x.jsx(Y$,{stroke:"#e2e8f0"}),x.jsx(n3,{dataKey:"subject",tick:{fill:"#64748b",fontSize:11}}),x.jsx(t3,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),x.jsx(SA,{name:(s=i[0])==null?void 0:s.name,dataKey:"A",stroke:"#4f46e5",fill:"#4f46e5",fillOpacity:.4}),x.jsx(SA,{name:"Mdia Top 5",dataKey:"B",stroke:"#94a3b8",fill:"#94a3b8",fillOpacity:.2}),x.jsx(as,{iconType:"circle",wrapperStyle:{paddingTop:"20px"}}),x.jsx(Jr,{})]})})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:"Market Share Real (%)"}),x.jsx("p",{className:"text-xs text-slate-400 mb-6",children:"Baseado no Volume de Crdito Total"}),x.jsx("div",{className:"h-80 w-full",children:x.jsx(Yr,{width:"100%",height:"100%",children:x.jsxs(DI,{data:i.slice(0,8),layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[x.jsx(ls,{strokeDasharray:"3 3",horizontal:!0,vertical:!1}),x.jsx(us,{type:"number",hide:!0}),x.jsx(cs,{dataKey:"name",type:"category",width:120,tick:{fontSize:11,fill:"#475569"}}),x.jsx(Jr,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"8px",border:"none"},formatter:l=>[`${l.toFixed(2)}%`,"Share"]}),x.jsx(hh,{dataKey:"share",name:"Market Share %",fill:"#3b82f6",radius:[0,4,4,0],barSize:20})]})})})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[x.jsx("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50",children:x.jsx("h3",{className:"font-semibold text-slate-800",children:"Indicadores de Concentrao de Mercado"})}),x.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"ndice HHI (Herfindahl)"}),x.jsx("div",{className:"text-3xl font-bold text-slate-800",children:o.hhi.toFixed(0)}),x.jsx("div",{className:`text-xs mt-1 font-bold ${o.hhi>2500?"text-red-500":o.hhi>1500?"text-amber-500":"text-green-500"}`,children:o.hhi>2500?"Alta Concentrao":o.hhi>1500?"Moderada":"Baixa Concentrao"})]}),x.jsxs("div",{className:"text-center border-l border-r border-slate-100",children:[x.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"CR4 (Share Top 4)"}),x.jsxs("div",{className:"text-3xl font-bold text-slate-800",children:[o.cr4.toFixed(1),"%"]}),x.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Poder de mercado dos 4 maiores players"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Players Analisados"}),x.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i.length}),x.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Administradoras na base"})]})]})]})]})},JEe={[Mt.IMOVEIS]:"#2563eb",[Mt.VEICULOS_LEVES]:"#10b981",[Mt.VEICULOS_PESADOS]:"#f59e0b",[Mt.MOTOCICLETAS]:"#ef4444",[Mt.SERVICOS]:"#8b5cf6",[Mt.OUTROS_BENS]:"#64748b"},QEe=({data:t})=>{const[e,n]=b.useState(""),[r,i]=b.useState(null),[o,a]=b.useState(!1),[s,l]=b.useState("all"),[u,c]=b.useState("volume"),d=b.useMemo(()=>{const y=S=>{let w=0;if(u==="volume"){const M=S.valorMedioBem||0;w=S.activeQuotas||S.cotasAtivas||0,w=w*M}else u==="quotas"?w=S.activeQuotas||S.cotasAtivas||0:w=S.valorMedioBem||0;return{period:S.period,segment:S.segment,value:w}},_=[...t.segments.map(S=>y(S)),...t.realEstateGroups.map(S=>y(S)),...t.movableGroups.map(S=>y(S))].filter(S=>S.value>0);if(_.length===0)return[];const T=new Map;return _.forEach(S=>{const w=S.period;T.has(w)||T.set(w,{period:w});const M=T.get(w),N=S.segment||"Outros";if(u==="ticket"){const I=M[`${N}_sum`]||0,P=M[`${N}_count`]||0;M[`${N}_sum`]=I+S.value,M[`${N}_count`]=P+1,M[N]=M[`${N}_sum`]/M[`${N}_count`]}else M[N]=(M[N]||0)+S.value}),Array.from(T.values()).sort((S,w)=>S.period.localeCompare(w.period))},[t,u]),f=b.useMemo(()=>{const y=new Set;return t.segments.forEach(_=>y.add(_.segment)),t.realEstateGroups.forEach(_=>y.add(_.segment)),t.movableGroups.forEach(_=>y.add(_.segment)),Array.from(y)},[t]),p=b.useMemo(()=>{let y=d;return s==="1q"?y=d.slice(-3):s==="1y"&&(y=d.slice(-12)),y},[s,d]),v=b.useMemo(()=>e?p.map(y=>({period:y.period,value:y[e]||0})):[],[p,e]),E=async()=>{if(!e)return;a(!0);const y=await GEe(e,v);i(y),a(!1)};return d.length===0?x.jsx("div",{className:"p-8 text-center text-slate-400",children:"Dados histricos insuficientes para anlise de tendncia."}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Tendncias de Mercado"}),x.jsx("p",{className:"text-slate-500",children:"Evoluo histrica por segmento e indicador."})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto items-center",children:[x.jsxs("div",{className:"flex bg-white rounded-lg p-1 border border-slate-200 shadow-sm",children:[x.jsx("button",{onClick:()=>c("volume"),className:`p-2 rounded-md transition-all ${u==="volume"?"bg-slate-100 text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"Volume Financeiro",children:x.jsx(i7,{size:18})}),x.jsx("button",{onClick:()=>c("quotas"),className:`p-2 rounded-md transition-all ${u==="quotas"?"bg-slate-100 text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"Cotas Ativas",children:x.jsx(a4,{size:18})}),x.jsx("button",{onClick:()=>c("ticket"),className:`p-2 rounded-md transition-all ${u==="ticket"?"bg-slate-100 text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"Ticket Mdio",children:x.jsx($8,{size:18})})]}),x.jsx(HI,{value:s,onChange:l,options:["1q","1y","all"]}),x.jsxs("div",{className:"relative",children:[x.jsx(a7,{size:16,className:"absolute left-3 top-3 text-slate-400"}),x.jsxs("select",{className:"bg-white border border-slate-300 text-slate-700 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block pl-10 p-2.5 shadow-sm min-w-[200px]",value:e,onChange:y=>{n(y.target.value),i(null)},children:[x.jsx("option",{value:"",children:"Selecione para IA..."}),f.map(y=>x.jsx("option",{value:y,children:y},y))]})]})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsxs("h3",{className:"font-semibold text-slate-800 mb-6 flex items-center gap-2",children:[u==="volume"&&"Volume de Crdito (Saldo R$)",u==="quotas"&&"Estoque de Cotas Ativas (Qtd)",u==="ticket"&&"Ticket Mdio por Grupo (R$)"]}),x.jsx("div",{className:"h-96 w-full",children:x.jsx(Yr,{width:"100%",height:"100%",children:x.jsxs(o5,{data:p,children:[x.jsx(ls,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),x.jsx(us,{dataKey:"period",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),x.jsx(cs,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:y=>u!=="quotas"?`${(y/1e3).toFixed(0)}k`:y}),x.jsx(Jr,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:y=>u!=="quotas"?`R$ ${y.toLocaleString()}`:y.toLocaleString()}),x.jsx(as,{}),f.map((y,_)=>x.jsx(RI,{name:y,type:"monotone",dataKey:y,stroke:JEe[y]||"#94a3b8",strokeWidth:3,dot:{r:4}},y))]})})})]}),x.jsxs("div",{className:"bg-slate-900 rounded-xl p-6 text-white shadow-lg border border-slate-800",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx("div",{className:"p-2 bg-indigo-500/20 rounded-lg",children:x.jsx(V8,{className:"text-indigo-400",size:24})}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-lg",children:"Predio Estratgica Gemini"}),x.jsx("p",{className:"text-slate-400 text-sm",children:"Anlise baseada nos ciclos histricos reais e variveis macro."})]})]}),e?r?x.jsxs("div",{className:"space-y-4 animate-fade-in",children:[x.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[x.jsx("span",{className:"text-xs uppercase tracking-wider text-indigo-300 font-semibold",children:"Cenrio Projetado"}),x.jsx("p",{className:"text-xl font-bold mt-1 text-white",children:r.prediction})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-xs uppercase tracking-wider text-slate-400 font-semibold",children:"Fundamentao Tcnica"}),x.jsx("p",{className:"text-slate-300 text-sm mt-2 leading-relaxed",children:r.rationale})]}),x.jsx("button",{onClick:()=>i(null),className:"text-xs text-slate-500 hover:text-white underline mt-2 transition-colors",children:"Reiniciar Anlise"})]}):x.jsxs("div",{className:"flex flex-col items-start gap-4",children:[x.jsxs("p",{className:"text-slate-300 text-sm max-w-2xl",children:["Gerar projeo para ",x.jsx("span",{className:"font-semibold text-white",children:e}),". O modelo processar ",v.length," pontos de dados histricos (",u,")."]}),x.jsx("button",{onClick:E,disabled:o,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-5 py-2.5 rounded-lg font-medium transition-colors disabled:opacity-50 shadow-lg shadow-indigo-900/20",children:o?x.jsx(x.Fragment,{children:"Analisando srie histrica..."}):x.jsxs(x.Fragment,{children:[x.jsx(i4,{size:18}),"Processar Predio"]})})]}):x.jsx("p",{className:"text-slate-500 text-sm",children:"Selecione um segmento no filtro acima para habilitar a predio."})]})]})},XEe=({data:t})=>{const e=b.useMemo(()=>{if(!t.regional)return[];const o=new Map;return t.regional.forEach(a=>{const s=a.uf.trim().toUpperCase();o.has(s)||o.set(s,{uf:s,region:a.region,activeContemplatedBid:0,activeContemplatedLottery:0,activeNonContemplated:0,dropoutContemplated:0,dropoutNonContemplated:0,newAdhesionsQuarter:0,totalActive:0});const l=o.get(s);l.activeContemplatedBid+=a.activeContemplatedBid||0,l.activeContemplatedLottery+=a.activeContemplatedLottery||0,l.activeNonContemplated+=a.activeNonContemplated||0,l.dropoutContemplated+=a.dropoutContemplated||0,l.dropoutNonContemplated+=a.dropoutNonContemplated||0,l.newAdhesionsQuarter+=a.newAdhesionsQuarter||0,l.totalActive+=a.totalActive||0}),Array.from(o.values()).sort((a,s)=>s.totalActive-a.totalActive)},[t]);if(e.length===0)return x.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-slate-400",children:[x.jsx(n4,{size:48,className:"mb-4 opacity-50"}),x.jsx("p",{children:"Dados regionais no disponveis."}),x.jsx("p",{className:"text-sm",children:'Importe arquivos "Dados por UF" do BACEN na aba Importar.'})]});const n=e.reduce((o,a)=>o+a.activeContemplatedBid,0),r=e.reduce((o,a)=>o+a.activeContemplatedLottery,0),i=[{name:"Sorteio",value:r,color:"#10b981"},{name:"Lance",value:n,color:"#3b82f6"}];return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Anlise Regional"}),x.jsx("p",{className:"text-slate-500",children:"Distribuio geogrfica de cotas e perfil de contemplao."})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"font-bold text-slate-800 mb-4",children:"Top 10 Estados em Volume (Cotas Ativas)"}),x.jsx("div",{className:"h-80",children:x.jsx(Yr,{width:"100%",height:"100%",children:x.jsxs(DI,{data:e.slice(0,10),layout:"vertical",margin:{left:0},children:[x.jsx(ls,{strokeDasharray:"3 3",horizontal:!1}),x.jsx(us,{type:"number",hide:!0}),x.jsx(cs,{dataKey:"uf",type:"category",width:40,tick:{fontWeight:"bold"}}),x.jsx(Jr,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none"}}),x.jsx(hh,{dataKey:"totalActive",fill:"#3b82f6",radius:[0,4,4,0],barSize:24,name:"Total Cotistas",children:e.slice(0,10).map((o,a)=>x.jsx(xi,{fillOpacity:1-a*.05,fill:"#3b82f6"},`cell-${a}`))})]})})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"font-bold text-slate-800 mb-2",children:"Perfil de Contemplao (Nacional)"}),x.jsxs("div",{className:"h-64 relative",children:[x.jsx(Yr,{width:"100%",height:"100%",children:x.jsxs(a_,{children:[x.jsx(hp,{data:i,innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:i.map((o,a)=>x.jsx(xi,{fill:o.color},`cell-${a}`))}),x.jsx(Jr,{}),x.jsx(as,{verticalAlign:"bottom"})]})}),x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[x.jsxs("span",{className:"text-2xl font-bold text-slate-800",children:[(n/(n+r)*100).toFixed(0),"%"]}),x.jsx("span",{className:"text-xs text-slate-500",children:"Lance"})]})]}),x.jsxs("div",{className:"mt-4 space-y-2",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-slate-500",children:"Total Sorteio"}),x.jsx("span",{className:"font-bold text-emerald-600",children:r.toLocaleString()})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-slate-500",children:"Total Lance"}),x.jsx("span",{className:"font-bold text-blue-600",children:n.toLocaleString()})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[x.jsx("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50",children:x.jsx("h3",{className:"font-bold text-slate-800",children:"Detalhamento por Estado"})}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm text-left text-slate-600",children:[x.jsx("thead",{className:"bg-slate-50 text-xs uppercase font-semibold text-slate-500",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3",children:"UF"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Cotas Ativas"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Novas Vendas"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Desistncias"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Evaso %"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(o=>{const a=o.totalActive>0?o.dropoutNonContemplated/o.totalActive*100:0;return x.jsxs("tr",{className:"hover:bg-slate-50",children:[x.jsx("td",{className:"px-6 py-3 font-bold text-slate-900",children:o.uf}),x.jsx("td",{className:"px-6 py-3 text-right",children:o.totalActive.toLocaleString()}),x.jsxs("td",{className:"px-6 py-3 text-right text-emerald-600",children:["+",o.newAdhesionsQuarter.toLocaleString()]}),x.jsxs("td",{className:"px-6 py-3 text-right text-red-500",children:["-",o.dropoutNonContemplated.toLocaleString()]}),x.jsx("td",{className:"px-6 py-3 text-right",children:x.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${a>5?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:[a.toFixed(2),"%"]})})]},o.uf)})})]})})]})]})};var a2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ZEe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},n6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|s>>4;let f=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZEe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||d==null)throw new eTe;const f=o<<2|s>>4;if(r.push(f),u!==64){const p=s<<4&240|u>>2;if(r.push(p),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eTe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tTe=function(t){const e=t6(t);return n6.encodeByteArray(e,!0)},r6=function(t){return tTe(t).replace(/\./g,"")},i6=function(t){try{return n6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nTe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rTe=()=>nTe().__FIREBASE_DEFAULTS__,iTe=()=>{if(typeof process>"u"||typeof a2>"u")return;const t=a2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oTe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&i6(t[1]);return e&&JSON.parse(e)},h_=()=>{try{return rTe()||iTe()||oTe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aTe=t=>{var e,n;return(n=(e=h_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},o6=()=>{var t;return(t=h_())===null||t===void 0?void 0:t.config},a6=t=>{var e;return(e=h_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sTe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lTe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function uTe(){var t;const e=(t=h_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cTe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dTe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fTe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hTe(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s6(){return!uTe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l6(){try{return typeof indexedDB=="object"}catch{return!1}}function pTe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mTe="FirebaseError";class oa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mTe,Object.setPrototypeOf(this,oa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vp.prototype.create)}}class vp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?gTe(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new oa(i,s,r)}}function gTe(t,e){return t.replace(vTe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vTe=/\{\$([^}]+)}/g;function yTe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(s2(o)&&s2(a)){if(!mh(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function s2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _Te(t,e){const n=new bTe(t,e);return n.subscribe.bind(n)}class bTe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ETe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hE),i.error===void 0&&(i.error=hE),i.complete===void 0&&(i.complete=hE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ETe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t){return t&&t._delegate?t._delegate:t}class wl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TTe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sTe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(STe(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ATe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ATe(t){return t===$s?void 0:t}function STe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xTe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TTe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const wTe={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},ITe=Ce.INFO,CTe={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},PTe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CTe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class KI{constructor(e){this.name=e,this._logLevel=ITe,this._logHandler=PTe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wTe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const RTe=(t,e)=>e.some(n=>t instanceof n);let l2,u2;function NTe(){return l2||(l2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MTe(){return u2||(u2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u6=new WeakMap,JA=new WeakMap,c6=new WeakMap,pE=new WeakMap,WI=new WeakMap;function OTe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ja(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&u6.set(n,t)}).catch(()=>{}),WI.set(e,t),e}function DTe(t){if(JA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});JA.set(t,e)}let QA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return JA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ja(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kTe(t){QA=t(QA)}function LTe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mE(this),e,...n);return c6.set(r,e.sort?e.sort():[e]),Ja(r)}:MTe().includes(t)?function(...e){return t.apply(mE(this),e),Ja(u6.get(this))}:function(...e){return Ja(t.apply(mE(this),e))}}function VTe(t){return typeof t=="function"?LTe(t):(t instanceof IDBTransaction&&DTe(t),RTe(t,NTe())?new Proxy(t,QA):t)}function Ja(t){if(t instanceof IDBRequest)return OTe(t);if(pE.has(t))return pE.get(t);const e=VTe(t);return e!==t&&(pE.set(t,e),WI.set(e,t)),e}const mE=t=>WI.get(t);function UTe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Ja(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ja(a.result),l.oldVersion,l.newVersion,Ja(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const BTe=["get","getKey","getAll","getAllKeys","count"],FTe=["put","add","delete","clear"],gE=new Map;function c2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gE.get(e))return gE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FTe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BTe.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return gE.set(e,o),o}kTe(t=>({...t,get:(e,n,r)=>c2(e,n)||t.get(e,n,r),has:(e,n)=>!!c2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zTe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jTe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jTe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const XA="@firebase/app",d2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new KI("@firebase/app"),$Te="@firebase/app-compat",GTe="@firebase/analytics-compat",qTe="@firebase/analytics",HTe="@firebase/app-check-compat",KTe="@firebase/app-check",WTe="@firebase/auth",YTe="@firebase/auth-compat",JTe="@firebase/database",QTe="@firebase/data-connect",XTe="@firebase/database-compat",ZTe="@firebase/functions",eAe="@firebase/functions-compat",tAe="@firebase/installations",nAe="@firebase/installations-compat",rAe="@firebase/messaging",iAe="@firebase/messaging-compat",oAe="@firebase/performance",aAe="@firebase/performance-compat",sAe="@firebase/remote-config",lAe="@firebase/remote-config-compat",uAe="@firebase/storage",cAe="@firebase/storage-compat",dAe="@firebase/firestore",fAe="@firebase/vertexai-preview",hAe="@firebase/firestore-compat",pAe="firebase",mAe="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="[DEFAULT]",gAe={[XA]:"fire-core",[$Te]:"fire-core-compat",[qTe]:"fire-analytics",[GTe]:"fire-analytics-compat",[KTe]:"fire-app-check",[HTe]:"fire-app-check-compat",[WTe]:"fire-auth",[YTe]:"fire-auth-compat",[JTe]:"fire-rtdb",[QTe]:"fire-data-connect",[XTe]:"fire-rtdb-compat",[ZTe]:"fire-fn",[eAe]:"fire-fn-compat",[tAe]:"fire-iid",[nAe]:"fire-iid-compat",[rAe]:"fire-fcm",[iAe]:"fire-fcm-compat",[oAe]:"fire-perf",[aAe]:"fire-perf-compat",[sAe]:"fire-rc",[lAe]:"fire-rc-compat",[uAe]:"fire-gcs",[cAe]:"fire-gcs-compat",[dAe]:"fire-fst",[hAe]:"fire-fst-compat",[fAe]:"fire-vertex","fire-js":"fire-js",[pAe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=new Map,vAe=new Map,eS=new Map;function f2(t,e){try{t.container.addComponent(e)}catch(n){qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mc(t){const e=t.name;if(eS.has(e))return qo.debug(`There were multiple attempts to register component ${e}.`),!1;eS.set(e,t);for(const n of ry.values())f2(n,t);for(const n of vAe.values())f2(n,t);return!0}function YI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yAe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new vp("app","Firebase",yAe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Ae{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=mAe;function d6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ZA,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(n||(n=o6()),!n)throw Qa.create("no-options");const o=ry.get(i);if(o){if(mh(n,o.options)&&mh(r,o.config))return o;throw Qa.create("duplicate-app",{appName:i})}const a=new xTe(i);for(const l of eS.values())a.addComponent(l);const s=new _Ae(n,r,a);return ry.set(i,s),s}function bAe(t=ZA){const e=ry.get(t);if(!e&&t===ZA&&o6())return d6();if(!e)throw Qa.create("no-app",{appName:t});return e}function Xa(t,e,n){var r;let i=(r=gAe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qo.warn(s.join(" "));return}mc(new wl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EAe="firebase-heartbeat-database",TAe=1,gh="firebase-heartbeat-store";let vE=null;function f6(){return vE||(vE=UTe(EAe,TAe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),vE}async function AAe(t){try{const n=(await f6()).transaction(gh),r=await n.objectStore(gh).get(h6(t));return await n.done,r}catch(e){if(e instanceof oa)qo.warn(e.message);else{const n=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qo.warn(n.message)}}}async function h2(t,e){try{const r=(await f6()).transaction(gh,"readwrite");await r.objectStore(gh).put(e,h6(t)),await r.done}catch(n){if(n instanceof oa)qo.warn(n.message);else{const r=Qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qo.warn(r.message)}}}function h6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SAe=1024,xAe=30*24*60*60*1e3;class wAe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CAe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=p2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=xAe}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=p2(),{heartbeatsToSend:r,unsentEntries:i}=IAe(this._heartbeatsCache.heartbeats),o=r6(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return qo.warn(n),""}}}function p2(){return new Date().toISOString().substring(0,10)}function IAe(t,e=SAe){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),m2(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),m2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CAe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l6()?pTe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AAe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return h2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return h2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function m2(t){return r6(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PAe(t){mc(new wl("platform-logger",e=>new zTe(e),"PRIVATE")),mc(new wl("heartbeat",e=>new wAe(e),"PRIVATE")),Xa(XA,d2,t),Xa(XA,d2,"esm2017"),Xa("fire-js","")}PAe("");var RAe="firebase",NAe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa(RAe,NAe,"app");function JI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function p6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MAe=p6,m6=new vp("auth","Firebase",p6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new KI("@firebase/auth");function OAe(t,...e){iy.logLevel<=Ce.WARN&&iy.warn(`Auth (${od}): ${t}`,...e)}function lg(t,...e){iy.logLevel<=Ce.ERROR&&iy.error(`Auth (${od}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t,...e){throw QI(t,...e)}function ji(t,...e){return QI(t,...e)}function g6(t,e,n){const r=Object.assign(Object.assign({},MAe()),{[e]:n});return new vp("auth","Firebase",r).create(e,{appName:t.name})}function Za(t){return g6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return m6.create(t,...e)}function pe(t,e,...n){if(!t)throw QI(e,...n)}function Eo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lg(e),new Error(e)}function Ko(t,e){t||Eo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DAe(){return g2()==="http:"||g2()==="https:"}function g2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kAe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DAe()||dTe()||"connection"in navigator)?navigator.onLine:!0}function LAe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ko(n>e,"Short delay should be less than long delay!"),this.isMobile=lTe()||fTe()}get(){return kAe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e){Ko(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Eo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Eo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Eo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VAe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UAe=new _p(3e4,6e4);function p_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ad(t,e,n,r,i={}){return y6(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=yp(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return cTe()||(u.referrerPolicy="no-referrer"),v6.fetch()(b6(t,t.config.apiHost,n,s),u)})}async function y6(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},VAe),e);try{const i=new BAe(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Rm(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rm(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Rm(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Rm(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw g6(t,c,u);Ho(t,c)}}catch(i){if(i instanceof oa)throw i;Ho(t,"network-request-failed",{message:String(i)})}}async function _6(t,e,n,r,i={}){const o=await ad(t,e,n,r,i);return"mfaPendingCredential"in o&&Ho(t,"multi-factor-auth-required",{_serverResponse:o}),o}function b6(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?XI(t.config,i):`${t.config.apiScheme}://${i}`}class BAe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ji(this.auth,"network-request-failed")),UAe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ji(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FAe(t,e){return ad(t,"POST","/v1/accounts:delete",e)}async function E6(t,e){return ad(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zAe(t,e=!1){const n=Cn(t),r=await n.getIdToken(e),i=ZI(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:wf(yE(i.auth_time)),issuedAtTime:wf(yE(i.iat)),expirationTime:wf(yE(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function yE(t){return Number(t)*1e3}function ZI(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=i6(n);return i?JSON.parse(i):(lg("Failed to decode base64 JWT payload"),null)}catch(i){return lg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function v2(t){const e=ZI(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof oa&&jAe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jAe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Ae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wf(this.lastLoginAt),this.creationTime=wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oy(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vh(t,E6(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?T6(o.providerUserInfo):[],s=qAe(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new nS(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function GAe(t){const e=Cn(t);await oy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qAe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function T6(t){return t.map(e=>{var{providerId:n}=e,r=JI(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HAe(t,e){const n=await y6(t,{},async()=>{const r=yp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=b6(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",v6.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KAe(t,e){return ad(t,"POST","/v2/accounts:revokeToken",p_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=v2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await HAe(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Hu;return r&&(pe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(pe(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hu,this.toJSON())}_performRefresh(){return Eo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class To{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=JI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $Ae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await vh(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zAe(this,e)}reload(){return GAe(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new To(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await oy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bo(this.auth.app))return Promise.reject(Za(this.auth));const e=await this.getIdToken();return await vh(this,FAe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(s=n.tenantId)!==null&&s!==void 0?s:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,T=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:w,isAnonymous:M,providerData:N,stsTokenManager:I}=n;pe(S&&I,e,"internal-error");const P=Hu.fromJSON(this.name,I);pe(typeof S=="string",e,"internal-error"),fa(d,e.name),fa(f,e.name),pe(typeof w=="boolean",e,"internal-error"),pe(typeof M=="boolean",e,"internal-error"),fa(p,e.name),fa(v,e.name),fa(E,e.name),fa(y,e.name),fa(_,e.name),fa(T,e.name);const R=new To({uid:S,auth:e,email:f,emailVerified:w,displayName:d,isAnonymous:M,photoURL:v,phoneNumber:p,tenantId:E,stsTokenManager:P,createdAt:_,lastLoginAt:T});return N&&Array.isArray(N)&&(R.providerData=N.map(O=>Object.assign({},O))),y&&(R._redirectEventId=y),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hu;i.updateFromServerResponse(n);const o=new To({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await oy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?T6(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Hu;s.updateFromIdToken(r);const l=new To({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Map;function Ao(t){Ko(t instanceof Function,"Expected a class definition");let e=y2.get(t);return e?(Ko(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A6.type="NONE";const _2=A6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e,n){return`firebase:${t}:${e}:${n}`}class Ku{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ug(this.userKey,i.apiKey,o),this.fullPersistenceKey=ug("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?To._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ku(Ao(_2),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Ao(_2);const a=ug(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const d=To._fromJSON(e,c);u!==o&&(s=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ku(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Ku(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P6(e))return"Blackberry";if(R6(e))return"Webos";if(x6(e))return"Safari";if((e.includes("chrome/")||w6(e))&&!e.includes("edge/"))return"Chrome";if(C6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function S6(t=nn()){return/firefox\//i.test(t)}function x6(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w6(t=nn()){return/crios\//i.test(t)}function I6(t=nn()){return/iemobile/i.test(t)}function C6(t=nn()){return/android/i.test(t)}function P6(t=nn()){return/blackberry/i.test(t)}function R6(t=nn()){return/webos/i.test(t)}function eC(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WAe(t=nn()){var e;return eC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YAe(){return hTe()&&document.documentMode===10}function N6(t=nn()){return eC(t)||C6(t)||R6(t)||P6(t)||/windows phone/i.test(t)||I6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t,e=[]){let n;switch(t){case"Browser":n=b2(nn());break;case"Worker":n=`${b2(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${od}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JAe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QAe(t,e={}){return ad(t,"GET","/v2/passwordPolicy",p_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XAe=6;class ZAe{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:XAe,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eSe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E2(this),this.idTokenSubscription=new E2(this),this.beforeStateQueue=new JAe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ao(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ku.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await E6(this,{idToken:e}),r=await To._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bo(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LAe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bo(this.app))return Promise.reject(Za(this));const n=e?Cn(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bo(this.app)?Promise.reject(Za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bo(this.app)?Promise.reject(Za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ao(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QAe(this),n=new ZAe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KAe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ao(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Ku.create(this,[Ao(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&OAe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function m_(t){return Cn(t)}class E2{constructor(e){this.auth=e,this.observer=null,this.addObserver=_Te(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tSe(t){tC=t}function nSe(t){return tC.loadJS(t)}function rSe(){return tC.gapiScript}function iSe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oSe(t,e){const n=YI(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(mh(o,e??{}))return i;Ho(i,"already-initialized")}return n.initialize({options:e})}function aSe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ao);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sSe(t,e,n){const r=m_(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=O6(e),{host:a,port:s}=lSe(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),uSe()}function O6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lSe(t){const e=O6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:T2(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:T2(a)}}}function T2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uSe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Eo("not implemented")}_getIdTokenResponse(e){return Eo("not implemented")}_linkToIdToken(e,n){return Eo("not implemented")}_getReauthenticationResolver(e){return Eo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t,e){return _6(t,"POST","/v1/accounts:signInWithIdp",p_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cSe="http://localhost";class Il extends D6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Il(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ho("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=JI(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Il(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Wu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wu(e,n)}buildRequest(){const e={requestUri:cSe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends k6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends bp{constructor(){super("facebook.com")}static credential(e){return Il._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends bp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Il._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ia.credential(n,r)}catch{return null}}}Ia.GOOGLE_SIGN_IN_METHOD="google.com";Ia.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends bp{constructor(){super("github.com")}static credential(e){return Il._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends bp{constructor(){super("twitter.com")}static credential(e,n){return Il._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pa.credential(n,r)}catch{return null}}}Pa.TWITTER_SIGN_IN_METHOD="twitter.com";Pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dSe(t,e){return _6(t,"POST","/v1/accounts:signUp",p_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await To._fromIdTokenResponse(e,r,i),a=A2(r);return new ds({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=A2(r);return new ds({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function A2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fSe(t){var e;if(bo(t.app))return Promise.reject(Za(t));const n=m_(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ds({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await dSe(n,{returnSecureToken:!0}),i=await ds._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay extends oa{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ay.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ay(e,n,r,i)}}function L6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ay._fromErrorAndOperation(t,o,e,r):o})}async function hSe(t,e,n=!1){const r=await vh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ds._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pSe(t,e,n=!1){const{auth:r}=t;if(bo(r.app))return Promise.reject(Za(r));const i="reauthenticate";try{const o=await vh(t,L6(r,i,e,t),n);pe(o.idToken,r,"internal-error");const a=ZI(o.idToken);pe(a,r,"internal-error");const{sub:s}=a;return pe(t.uid===s,r,"user-mismatch"),ds._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ho(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mSe(t,e,n=!1){if(bo(t.app))return Promise.reject(Za(t));const r="signIn",i=await L6(t,r,e),o=await ds._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function gSe(t,e,n,r){return Cn(t).onIdTokenChanged(e,n,r)}function vSe(t,e,n){return Cn(t).beforeAuthStateChanged(e,n)}function ySe(t,e,n,r){return Cn(t).onAuthStateChanged(e,n,r)}const sy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sy,"1"),this.storage.removeItem(sy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Se=1e3,bSe=10;class U6 extends V6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);YAe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bSe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_Se)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}U6.type="LOCAL";const ESe=U6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6 extends V6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}B6.type="SESSION";const F6=B6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TSe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new g_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await TSe(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}g_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ASe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=nC("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(){return window}function SSe(t){$i().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function xSe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wSe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ISe(){return z6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="firebaseLocalStorageDb",CSe=1,ly="firebaseLocalStorage",$6="fbase_key";class Ep{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function v_(t,e){return t.transaction([ly],e?"readwrite":"readonly").objectStore(ly)}function PSe(){const t=indexedDB.deleteDatabase(j6);return new Ep(t).toPromise()}function rS(){const t=indexedDB.open(j6,CSe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ly,{keyPath:$6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ly)?e(r):(r.close(),await PSe(),e(await rS()))})})}async function S2(t,e,n){const r=v_(t,!0).put({[$6]:e,value:n});return new Ep(r).toPromise()}async function RSe(t,e){const n=v_(t,!1).get(e),r=await new Ep(n).toPromise();return r===void 0?null:r.value}function x2(t,e){const n=v_(t,!0).delete(e);return new Ep(n).toPromise()}const NSe=800,MSe=3;class G6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>MSe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=g_._getInstance(ISe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xSe(),!this.activeServiceWorker)return;this.sender=new ASe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wSe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rS();return await S2(e,sy,"1"),await x2(e,sy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>S2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RSe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=v_(i,!1).getAll();return new Ep(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NSe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G6.type="LOCAL";const OSe=G6;new _p(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DSe(t,e){return e?Ao(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends D6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kSe(t){return mSe(t.auth,new rC(t),t.bypassAuthState)}function LSe(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),pSe(n,new rC(t),t.bypassAuthState)}async function VSe(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),hSe(n,new rC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kSe;case"linkViaPopup":case"linkViaRedirect":return VSe;case"reauthViaPopup":case"reauthViaRedirect":return LSe;default:Ho(this.auth,"internal-error")}}resolve(e){Ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const USe=new _p(2e3,1e4);class Du extends q6{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Du.currentPopupAction&&Du.currentPopupAction.cancel(),Du.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Ko(this.filter.length===1,"Popup operations only handle one event");const e=nC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Du.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,USe.get())};e()}}Du.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BSe="pendingRedirect",cg=new Map;class FSe extends q6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cg.get(this.auth._key());if(!e){try{const r=await zSe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cg.set(this.auth._key(),e)}return this.bypassAuthState||cg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zSe(t,e){const n=GSe(e),r=$Se(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function jSe(t,e){cg.set(t._key(),e)}function $Se(t){return Ao(t._redirectPersistence)}function GSe(t){return ug(BSe,t.config.apiKey,t.name)}async function qSe(t,e,n=!1){if(bo(t.app))return Promise.reject(Za(t));const r=m_(t),i=DSe(r,e),a=await new FSe(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HSe=10*60*1e3;class KSe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WSe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!H6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ji(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HSe&&this.cachedEventUids.clear(),this.cachedEventUids.has(w2(e))}saveEventToCache(e){this.cachedEventUids.add(w2(e)),this.lastProcessedEventTime=Date.now()}}function w2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function H6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WSe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YSe(t,e={}){return ad(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JSe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QSe=/^https?/;async function XSe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YSe(t);for(const n of e)try{if(ZSe(n))return}catch{}Ho(t,"unauthorized-domain")}function ZSe(t){const e=tS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!QSe.test(n))return!1;if(JSe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const exe=new _p(3e4,6e4);function I2(){const t=$i().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function txe(t){return new Promise((e,n)=>{var r,i,o;function a(){I2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I2(),n(ji(t,"network-request-failed"))},timeout:exe.get()})}if(!((i=(r=$i().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=$i().gapi)===null||o===void 0)&&o.load)a();else{const s=iSe("iframefcb");return $i()[s]=()=>{gapi.load?a():n(ji(t,"network-request-failed"))},nSe(`${rSe()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw dg=null,e})}let dg=null;function nxe(t){return dg=dg||txe(t),dg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rxe=new _p(5e3,15e3),ixe="__/auth/iframe",oxe="emulator/auth/iframe",axe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sxe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lxe(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?XI(e,oxe):`https://${t.config.authDomain}/${ixe}`,r={apiKey:e.apiKey,appName:t.name,v:od},i=sxe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yp(r).slice(1)}`}async function uxe(t){const e=await nxe(t),n=$i().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:lxe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:axe,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=ji(t,"network-request-failed"),s=$i().setTimeout(()=>{o(a)},rxe.get());function l(){$i().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cxe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dxe=500,fxe=600,hxe="_blank",pxe="http://localhost";class C2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mxe(t,e,n,r=dxe,i=fxe){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},cxe),{width:r.toString(),height:i.toString(),top:o,left:a}),u=nn().toLowerCase();n&&(s=w6(u)?hxe:n),S6(u)&&(e=e||pxe,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(WAe(u)&&s!=="_self")return gxe(e||"",s),new C2(null);const d=window.open(e||"",s,c);pe(d,t,"popup-blocked");try{d.focus()}catch{}return new C2(d)}function gxe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vxe="__/auth/handler",yxe="emulator/auth/handler",_xe=encodeURIComponent("fac");async function P2(t,e,n,r,i,o){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:od,eventId:i};if(e instanceof k6){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",yTe(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))a[c]=d}if(e instanceof bp){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${_xe}=${encodeURIComponent(l)}`:"";return`${bxe(t)}?${yp(s).slice(1)}${u}`}function bxe({config:t}){return t.emulator?XI(t,yxe):`https://${t.authDomain}/${vxe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="webStorageSupport";class Exe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F6,this._completeRedirectFn=qSe,this._overrideRedirectResult=jSe}async _openPopup(e,n,r,i){var o;Ko((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await P2(e,n,r,tS(),i);return mxe(e,a,nC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await P2(e,n,r,tS(),i);return SSe(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ko(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uxe(e),r=new KSe(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_E,{type:_E},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[_E];a!==void 0&&n(!!a),Ho(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XSe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return N6()||x6()||eC()}}const Txe=Exe;var R2="@firebase/auth",N2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Axe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sxe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xxe(t){mc(new wl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;pe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M6(t)},u=new eSe(r,i,o,l);return aSe(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mc(new wl("auth-internal",e=>{const n=m_(e.getProvider("auth").getImmediate());return(r=>new Axe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(R2,N2,Sxe(t)),Xa(R2,N2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wxe=5*60,Ixe=a6("authIdTokenMaxAge")||wxe;let M2=null;const Cxe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ixe)return;const i=n==null?void 0:n.token;M2!==i&&(M2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Pxe(t=bAe()){const e=YI(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oSe(t,{popupRedirectResolver:Txe,persistence:[OSe,ESe,F6]}),r=a6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Cxe(o.toString());vSe(n,a,()=>a(n.currentUser)),gSe(n,s=>a(s))}}const i=aTe("auth");return i&&sSe(n,`http://${i}`),n}function Rxe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tSe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ji("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Rxe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xxe("Browser");var O2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ul,K6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,P){function R(){}R.prototype=P.prototype,I.D=P.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(O,V,D){for(var k=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)k[Y-2]=arguments[Y];return P.prototype[V].apply(O,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,P,R){R||(R=0);var O=Array(16);if(typeof P=="string")for(var V=0;16>V;++V)O[V]=P.charCodeAt(R++)|P.charCodeAt(R++)<<8|P.charCodeAt(R++)<<16|P.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=P[R++]|P[R++]<<8|P[R++]<<16|P[R++]<<24;P=I.g[0],R=I.g[1],V=I.g[2];var D=I.g[3],k=P+(D^R&(V^D))+O[0]+3614090360&4294967295;P=R+(k<<7&4294967295|k>>>25),k=D+(V^P&(R^V))+O[1]+3905402710&4294967295,D=P+(k<<12&4294967295|k>>>20),k=V+(R^D&(P^R))+O[2]+606105819&4294967295,V=D+(k<<17&4294967295|k>>>15),k=R+(P^V&(D^P))+O[3]+3250441966&4294967295,R=V+(k<<22&4294967295|k>>>10),k=P+(D^R&(V^D))+O[4]+4118548399&4294967295,P=R+(k<<7&4294967295|k>>>25),k=D+(V^P&(R^V))+O[5]+1200080426&4294967295,D=P+(k<<12&4294967295|k>>>20),k=V+(R^D&(P^R))+O[6]+2821735955&4294967295,V=D+(k<<17&4294967295|k>>>15),k=R+(P^V&(D^P))+O[7]+4249261313&4294967295,R=V+(k<<22&4294967295|k>>>10),k=P+(D^R&(V^D))+O[8]+1770035416&4294967295,P=R+(k<<7&4294967295|k>>>25),k=D+(V^P&(R^V))+O[9]+2336552879&4294967295,D=P+(k<<12&4294967295|k>>>20),k=V+(R^D&(P^R))+O[10]+4294925233&4294967295,V=D+(k<<17&4294967295|k>>>15),k=R+(P^V&(D^P))+O[11]+2304563134&4294967295,R=V+(k<<22&4294967295|k>>>10),k=P+(D^R&(V^D))+O[12]+1804603682&4294967295,P=R+(k<<7&4294967295|k>>>25),k=D+(V^P&(R^V))+O[13]+4254626195&4294967295,D=P+(k<<12&4294967295|k>>>20),k=V+(R^D&(P^R))+O[14]+2792965006&4294967295,V=D+(k<<17&4294967295|k>>>15),k=R+(P^V&(D^P))+O[15]+1236535329&4294967295,R=V+(k<<22&4294967295|k>>>10),k=P+(V^D&(R^V))+O[1]+4129170786&4294967295,P=R+(k<<5&4294967295|k>>>27),k=D+(R^V&(P^R))+O[6]+3225465664&4294967295,D=P+(k<<9&4294967295|k>>>23),k=V+(P^R&(D^P))+O[11]+643717713&4294967295,V=D+(k<<14&4294967295|k>>>18),k=R+(D^P&(V^D))+O[0]+3921069994&4294967295,R=V+(k<<20&4294967295|k>>>12),k=P+(V^D&(R^V))+O[5]+3593408605&4294967295,P=R+(k<<5&4294967295|k>>>27),k=D+(R^V&(P^R))+O[10]+38016083&4294967295,D=P+(k<<9&4294967295|k>>>23),k=V+(P^R&(D^P))+O[15]+3634488961&4294967295,V=D+(k<<14&4294967295|k>>>18),k=R+(D^P&(V^D))+O[4]+3889429448&4294967295,R=V+(k<<20&4294967295|k>>>12),k=P+(V^D&(R^V))+O[9]+568446438&4294967295,P=R+(k<<5&4294967295|k>>>27),k=D+(R^V&(P^R))+O[14]+3275163606&4294967295,D=P+(k<<9&4294967295|k>>>23),k=V+(P^R&(D^P))+O[3]+4107603335&4294967295,V=D+(k<<14&4294967295|k>>>18),k=R+(D^P&(V^D))+O[8]+1163531501&4294967295,R=V+(k<<20&4294967295|k>>>12),k=P+(V^D&(R^V))+O[13]+2850285829&4294967295,P=R+(k<<5&4294967295|k>>>27),k=D+(R^V&(P^R))+O[2]+4243563512&4294967295,D=P+(k<<9&4294967295|k>>>23),k=V+(P^R&(D^P))+O[7]+1735328473&4294967295,V=D+(k<<14&4294967295|k>>>18),k=R+(D^P&(V^D))+O[12]+2368359562&4294967295,R=V+(k<<20&4294967295|k>>>12),k=P+(R^V^D)+O[5]+4294588738&4294967295,P=R+(k<<4&4294967295|k>>>28),k=D+(P^R^V)+O[8]+2272392833&4294967295,D=P+(k<<11&4294967295|k>>>21),k=V+(D^P^R)+O[11]+1839030562&4294967295,V=D+(k<<16&4294967295|k>>>16),k=R+(V^D^P)+O[14]+4259657740&4294967295,R=V+(k<<23&4294967295|k>>>9),k=P+(R^V^D)+O[1]+2763975236&4294967295,P=R+(k<<4&4294967295|k>>>28),k=D+(P^R^V)+O[4]+1272893353&4294967295,D=P+(k<<11&4294967295|k>>>21),k=V+(D^P^R)+O[7]+4139469664&4294967295,V=D+(k<<16&4294967295|k>>>16),k=R+(V^D^P)+O[10]+3200236656&4294967295,R=V+(k<<23&4294967295|k>>>9),k=P+(R^V^D)+O[13]+681279174&4294967295,P=R+(k<<4&4294967295|k>>>28),k=D+(P^R^V)+O[0]+3936430074&4294967295,D=P+(k<<11&4294967295|k>>>21),k=V+(D^P^R)+O[3]+3572445317&4294967295,V=D+(k<<16&4294967295|k>>>16),k=R+(V^D^P)+O[6]+76029189&4294967295,R=V+(k<<23&4294967295|k>>>9),k=P+(R^V^D)+O[9]+3654602809&4294967295,P=R+(k<<4&4294967295|k>>>28),k=D+(P^R^V)+O[12]+3873151461&4294967295,D=P+(k<<11&4294967295|k>>>21),k=V+(D^P^R)+O[15]+530742520&4294967295,V=D+(k<<16&4294967295|k>>>16),k=R+(V^D^P)+O[2]+3299628645&4294967295,R=V+(k<<23&4294967295|k>>>9),k=P+(V^(R|~D))+O[0]+4096336452&4294967295,P=R+(k<<6&4294967295|k>>>26),k=D+(R^(P|~V))+O[7]+1126891415&4294967295,D=P+(k<<10&4294967295|k>>>22),k=V+(P^(D|~R))+O[14]+2878612391&4294967295,V=D+(k<<15&4294967295|k>>>17),k=R+(D^(V|~P))+O[5]+4237533241&4294967295,R=V+(k<<21&4294967295|k>>>11),k=P+(V^(R|~D))+O[12]+1700485571&4294967295,P=R+(k<<6&4294967295|k>>>26),k=D+(R^(P|~V))+O[3]+2399980690&4294967295,D=P+(k<<10&4294967295|k>>>22),k=V+(P^(D|~R))+O[10]+4293915773&4294967295,V=D+(k<<15&4294967295|k>>>17),k=R+(D^(V|~P))+O[1]+2240044497&4294967295,R=V+(k<<21&4294967295|k>>>11),k=P+(V^(R|~D))+O[8]+1873313359&4294967295,P=R+(k<<6&4294967295|k>>>26),k=D+(R^(P|~V))+O[15]+4264355552&4294967295,D=P+(k<<10&4294967295|k>>>22),k=V+(P^(D|~R))+O[6]+2734768916&4294967295,V=D+(k<<15&4294967295|k>>>17),k=R+(D^(V|~P))+O[13]+1309151649&4294967295,R=V+(k<<21&4294967295|k>>>11),k=P+(V^(R|~D))+O[4]+4149444226&4294967295,P=R+(k<<6&4294967295|k>>>26),k=D+(R^(P|~V))+O[11]+3174756917&4294967295,D=P+(k<<10&4294967295|k>>>22),k=V+(P^(D|~R))+O[2]+718787259&4294967295,V=D+(k<<15&4294967295|k>>>17),k=R+(D^(V|~P))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+P&4294967295,I.g[1]=I.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,P){P===void 0&&(P=I.length);for(var R=P-this.blockSize,O=this.B,V=this.h,D=0;D<P;){if(V==0)for(;D<=R;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<P;)if(O[V++]=I.charCodeAt(D++),V==this.blockSize){i(this,O),V=0;break}}else for(;D<P;)if(O[V++]=I[D++],V==this.blockSize){i(this,O),V=0;break}}this.h=V,this.o+=P},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var P=1;P<I.length-8;++P)I[P]=0;var R=8*this.o;for(P=I.length-8;P<I.length;++P)I[P]=R&255,R/=256;for(this.u(I),I=Array(16),P=R=0;4>P;++P)for(var O=0;32>O;O+=8)I[R++]=this.g[P]>>>O&255;return I};function o(I,P){var R=s;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=P(I)}function a(I,P){this.h=P;for(var R=[],O=!0,V=I.length-1;0<=V;V--){var D=I[V]|0;O&&D==P||(R[V]=D,O=!1)}this.g=R}var s={};function l(I){return-128<=I&&128>I?o(I,function(P){return new a([P|0],0>P?-1:0)}):new a([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return y(u(-I));for(var P=[],R=1,O=0;I>=R;O++)P[O]=I/R|0,R*=4294967296;return new a(P,0)}function c(I,P){if(I.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(I.charAt(0)=="-")return y(c(I.substring(1),P));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(P,8)),O=d,V=0;V<I.length;V+=8){var D=Math.min(8,I.length-V),k=parseInt(I.substring(V,V+D),P);8>D?(D=u(Math.pow(P,D)),O=O.j(D).add(u(k))):(O=O.j(R),O=O.add(u(k)))}return O}var d=l(0),f=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(E(this))return-y(this).m();for(var I=0,P=1,R=0;R<this.g.length;R++){var O=this.i(R);I+=(0<=O?O:4294967296+O)*P,P*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(E(this))return"-"+y(this).toString(I);for(var P=u(Math.pow(I,6)),R=this,O="";;){var V=w(R,P).g;R=_(R,V.j(P));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=V,v(R))return D+O;for(;6>D.length;)D="0"+D;O=D+O}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var P=0;P<I.g.length;P++)if(I.g[P]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=_(this,I),E(I)?-1:v(I)?0:1};function y(I){for(var P=I.g.length,R=[],O=0;O<P;O++)R[O]=~I.g[O];return new a(R,~I.h).add(f)}t.abs=function(){return E(this)?y(this):this},t.add=function(I){for(var P=Math.max(this.g.length,I.g.length),R=[],O=0,V=0;V<=P;V++){var D=O+(this.i(V)&65535)+(I.i(V)&65535),k=(D>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);O=k>>>16,D&=65535,k&=65535,R[V]=k<<16|D}return new a(R,R[R.length-1]&-2147483648?-1:0)};function _(I,P){return I.add(y(P))}t.j=function(I){if(v(this)||v(I))return d;if(E(this))return E(I)?y(this).j(y(I)):y(y(this).j(I));if(E(I))return y(this.j(y(I)));if(0>this.l(p)&&0>I.l(p))return u(this.m()*I.m());for(var P=this.g.length+I.g.length,R=[],O=0;O<2*P;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<I.g.length;V++){var D=this.i(O)>>>16,k=this.i(O)&65535,Y=I.i(V)>>>16,oe=I.i(V)&65535;R[2*O+2*V]+=k*oe,T(R,2*O+2*V),R[2*O+2*V+1]+=D*oe,T(R,2*O+2*V+1),R[2*O+2*V+1]+=k*Y,T(R,2*O+2*V+1),R[2*O+2*V+2]+=D*Y,T(R,2*O+2*V+2)}for(O=0;O<P;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=P;O<2*P;O++)R[O]=0;return new a(R,0)};function T(I,P){for(;(I[P]&65535)!=I[P];)I[P+1]+=I[P]>>>16,I[P]&=65535,P++}function S(I,P){this.g=I,this.h=P}function w(I,P){if(v(P))throw Error("division by zero");if(v(I))return new S(d,d);if(E(I))return P=w(y(I),P),new S(y(P.g),y(P.h));if(E(P))return P=w(I,y(P)),new S(y(P.g),P.h);if(30<I.g.length){if(E(I)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var R=f,O=P;0>=O.l(I);)R=M(R),O=M(O);var V=N(R,1),D=N(O,1);for(O=N(O,2),R=N(R,2);!v(O);){var k=D.add(O);0>=k.l(I)&&(V=V.add(R),D=k),O=N(O,1),R=N(R,1)}return P=_(I,V.j(P)),new S(V,P)}for(V=d;0<=I.l(P);){for(R=Math.max(1,Math.floor(I.m()/P.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),D=u(R),k=D.j(P);E(k)||0<k.l(I);)R-=O,D=u(R),k=D.j(P);v(D)&&(D=f),V=V.add(D),I=_(I,k)}return new S(V,I)}t.A=function(I){return w(this,I).h},t.and=function(I){for(var P=Math.max(this.g.length,I.g.length),R=[],O=0;O<P;O++)R[O]=this.i(O)&I.i(O);return new a(R,this.h&I.h)},t.or=function(I){for(var P=Math.max(this.g.length,I.g.length),R=[],O=0;O<P;O++)R[O]=this.i(O)|I.i(O);return new a(R,this.h|I.h)},t.xor=function(I){for(var P=Math.max(this.g.length,I.g.length),R=[],O=0;O<P;O++)R[O]=this.i(O)^I.i(O);return new a(R,this.h^I.h)};function M(I){for(var P=I.g.length+1,R=[],O=0;O<P;O++)R[O]=I.i(O)<<1|I.i(O-1)>>>31;return new a(R,I.h)}function N(I,P){var R=P>>5;P%=32;for(var O=I.g.length-R,V=[],D=0;D<O;D++)V[D]=0<P?I.i(D+R)>>>P|I.i(D+R+1)<<32-P:I.i(D+R);return new a(V,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,K6=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,ul=a}).apply(typeof O2<"u"?O2:typeof self<"u"?self:typeof window<"u"?window:{});var Nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W6,of,Y6,fg,iS,J6,Q6,X6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,C){return m==Array.prototype||m==Object.prototype||(m[A]=C.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nm=="object"&&Nm];for(var A=0;A<m.length;++A){var C=m[A];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(m,A){if(A)e:{var C=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var F=m[L];if(!(F in C))break e;C=C[F]}m=m[m.length-1],L=C[m],A=A(L),A!=L&&A!=null&&e(C,m,{configurable:!0,writable:!0,value:A})}}function o(m,A){m instanceof String&&(m+="");var C=0,L=!1,F={next:function(){if(!L&&C<m.length){var j=C++;return{value:A(j,m[j]),done:!1}}return L=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(m){return m||function(){return o(this,function(A,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function u(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function c(m,A,C){return m.call.apply(m.bind,arguments)}function d(m,A,C){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,L),m.apply(A,F)}}return function(){return m.apply(A,arguments)}}function f(m,A,C){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function p(m,A){var C=Array.prototype.slice.call(arguments,1);return function(){var L=C.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function v(m,A){function C(){}C.prototype=A.prototype,m.aa=A.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(L,F,j){for(var X=Array(arguments.length-2),it=2;it<arguments.length;it++)X[it-2]=arguments[it];return A.prototype[F].apply(L,X)}}function E(m){const A=m.length;if(0<A){const C=Array(A);for(let L=0;L<A;L++)C[L]=m[L];return C}return[]}function y(m,A){for(let C=1;C<arguments.length;C++){const L=arguments[C];if(l(L)){const F=m.length||0,j=L.length||0;m.length=F+j;for(let X=0;X<j;X++)m[F+X]=L[X]}else m.push(L)}}class _{constructor(A,C){this.i=A,this.j=C,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function T(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=s.navigator;return m&&(m=m.userAgent)?m:""}function w(m){return w[" "](m),m}w[" "]=function(){};var M=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function N(m,A,C){for(const L in m)A.call(C,m[L],L,m)}function I(m,A){for(const C in m)A.call(void 0,m[C],C,m)}function P(m){const A={};for(const C in m)A[C]=m[C];return A}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(m,A){let C,L;for(let F=1;F<arguments.length;F++){L=arguments[F];for(C in L)m[C]=L[C];for(let j=0;j<R.length;j++)C=R[j],Object.prototype.hasOwnProperty.call(L,C)&&(m[C]=L[C])}}function V(m){var A=1;m=m.split(":");const C=[];for(;0<A&&m.length;)C.push(m.shift()),A--;return m.length&&C.push(m.join(":")),C}function D(m){s.setTimeout(()=>{throw m},0)}function k(){var m=te;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class Y{constructor(){this.h=this.g=null}add(A,C){const L=oe.get();L.set(A,C),this.h?this.h.next=L:this.g=L,this.h=L}}var oe=new _(()=>new G,m=>m.reset());class G{constructor(){this.next=this.g=this.h=null}set(A,C){this.h=A,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let K,J=!1,te=new Y,de=()=>{const m=s.Promise.resolve(void 0);K=()=>{m.then(qe)}};var qe=()=>{for(var m;m=k();){try{m.h.call(m.g)}catch(C){D(C)}var A=oe;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}J=!1};function De(){this.s=this.s,this.C=this.C}De.prototype.s=!1,De.prototype.ma=function(){this.s||(this.s=!0,this.N())},De.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ke(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};s.addEventListener("test",C,A),s.removeEventListener("test",C,A)}catch{}return m}();function $t(m,A){if(ke.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(M){e:{try{w(A.nodeName);var F=!0;break e}catch{}F=!1}F||(A=null)}}else C=="mouseover"?A=m.fromElement:C=="mouseout"&&(A=m.toElement);this.relatedTarget=A,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Mr[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&$t.aa.h.call(this)}}v($t,ke);var Mr={2:"touch",3:"pen",4:"mouse"};$t.prototype.h=function(){$t.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),sa=0;function B(m,A,C,L,F){this.listener=m,this.proxy=null,this.src=A,this.type=C,this.capture=!!L,this.ha=F,this.key=++sa,this.da=this.fa=!1}function re(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function he(m){this.src=m,this.g={},this.h=0}he.prototype.add=function(m,A,C,L,F){var j=m.toString();m=this.g[j],m||(m=this.g[j]=[],this.h++);var X=Gt(m,A,L,F);return-1<X?(A=m[X],C||(A.fa=!1)):(A=new B(A,this.src,j,!!L,F),A.fa=C,m.push(A)),A};function W(m,A){var C=A.type;if(C in m.g){var L=m.g[C],F=Array.prototype.indexOf.call(L,A,void 0),j;(j=0<=F)&&Array.prototype.splice.call(L,F,1),j&&(re(A),m.g[C].length==0&&(delete m.g[C],m.h--))}}function Gt(m,A,C,L){for(var F=0;F<m.length;++F){var j=m[F];if(!j.da&&j.listener==A&&j.capture==!!C&&j.ha==L)return F}return-1}var Ve="closure_lm_"+(1e6*Math.random()|0),Qt={};function Xt(m,A,C,L,F){if(Array.isArray(A)){for(var j=0;j<A.length;j++)Xt(m,A[j],C,L,F);return null}return C=XC(C),m&&m[Lt]?m.K(A,C,u(L)?!!L.capture:!1,F):ci(m,A,C,!1,L,F)}function ci(m,A,C,L,F,j){if(!A)throw Error("Invalid event type");var X=u(F)?!!F.capture:!!F,it=U_(m);if(it||(m[Ve]=it=new he(m)),C=it.add(A,C,L,X,j),C.proxy)return C;if(L=Cp(),C.proxy=L,L.src=m,L.listener=C,m.addEventListener)ut||(F=X),F===void 0&&(F=!1),m.addEventListener(A.toString(),L,F);else if(m.attachEvent)m.attachEvent(QC(A.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Cp(){function m(C){return A.call(m.src,m.listener,C)}const A=Wq;return m}function JC(m,A,C,L,F){if(Array.isArray(A))for(var j=0;j<A.length;j++)JC(m,A[j],C,L,F);else L=u(L)?!!L.capture:!!L,C=XC(C),m&&m[Lt]?(m=m.i,A=String(A).toString(),A in m.g&&(j=m.g[A],C=Gt(j,C,L,F),-1<C&&(re(j[C]),Array.prototype.splice.call(j,C,1),j.length==0&&(delete m.g[A],m.h--)))):m&&(m=U_(m))&&(A=m.g[A.toString()],m=-1,A&&(m=Gt(A,C,L,F)),(C=-1<m?A[m]:null)&&V_(C))}function V_(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[Lt])W(A.i,m);else{var C=m.type,L=m.proxy;A.removeEventListener?A.removeEventListener(C,L,m.capture):A.detachEvent?A.detachEvent(QC(C),L):A.addListener&&A.removeListener&&A.removeListener(L),(C=U_(A))?(W(C,m),C.h==0&&(C.src=null,A[Ve]=null)):re(m)}}}function QC(m){return m in Qt?Qt[m]:Qt[m]="on"+m}function Wq(m,A){if(m.da)m=!0;else{A=new $t(A,this);var C=m.listener,L=m.ha||m.src;m.fa&&V_(m),m=C.call(L,A)}return m}function U_(m){return m=m[Ve],m instanceof he?m:null}var B_="__closure_events_fn_"+(1e9*Math.random()>>>0);function XC(m){return typeof m=="function"?m:(m[B_]||(m[B_]=function(A){return m.handleEvent(A)}),m[B_])}function Pn(){De.call(this),this.i=new he(this),this.M=this,this.F=null}v(Pn,De),Pn.prototype[Lt]=!0,Pn.prototype.removeEventListener=function(m,A,C,L){JC(this,m,A,C,L)};function Bn(m,A){var C,L=m.F;if(L)for(C=[];L;L=L.F)C.push(L);if(m=m.M,L=A.type||A,typeof A=="string")A=new ke(A,m);else if(A instanceof ke)A.target=A.target||m;else{var F=A;A=new ke(L,m),O(A,F)}if(F=!0,C)for(var j=C.length-1;0<=j;j--){var X=A.g=C[j];F=Pp(X,L,!0,A)&&F}if(X=A.g=m,F=Pp(X,L,!0,A)&&F,F=Pp(X,L,!1,A)&&F,C)for(j=0;j<C.length;j++)X=A.g=C[j],F=Pp(X,L,!1,A)&&F}Pn.prototype.N=function(){if(Pn.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var C=m.g[A],L=0;L<C.length;L++)re(C[L]);delete m.g[A],m.h--}}this.F=null},Pn.prototype.K=function(m,A,C,L){return this.i.add(String(m),A,!1,C,L)},Pn.prototype.L=function(m,A,C,L){return this.i.add(String(m),A,!0,C,L)};function Pp(m,A,C,L){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var F=!0,j=0;j<A.length;++j){var X=A[j];if(X&&!X.da&&X.capture==C){var it=X.listener,_n=X.ha||X.src;X.fa&&W(m.i,X),F=it.call(_n,L)!==!1&&F}}return F&&!L.defaultPrevented}function ZC(m,A,C){if(typeof m=="function")C&&(m=f(m,C));else if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:s.setTimeout(m,A||0)}function eP(m){m.g=ZC(()=>{m.g=null,m.i&&(m.i=!1,eP(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class Yq extends De{constructor(A,C){super(),this.m=A,this.l=C,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:eP(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fd(m){De.call(this),this.h=m,this.g={}}v(fd,De);var tP=[];function nP(m){N(m.g,function(A,C){this.g.hasOwnProperty(C)&&V_(A)},m),m.g={}}fd.prototype.N=function(){fd.aa.N.call(this),nP(this)},fd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var F_=s.JSON.stringify,Jq=s.JSON.parse,Qq=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function z_(){}z_.prototype.h=null;function rP(m){return m.h||(m.h=m.i())}function iP(){}var hd={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function j_(){ke.call(this,"d")}v(j_,ke);function $_(){ke.call(this,"c")}v($_,ke);var Ps={},oP=null;function Rp(){return oP=oP||new Pn}Ps.La="serverreachability";function aP(m){ke.call(this,Ps.La,m)}v(aP,ke);function pd(m){const A=Rp();Bn(A,new aP(A))}Ps.STAT_EVENT="statevent";function sP(m,A){ke.call(this,Ps.STAT_EVENT,m),this.stat=A}v(sP,ke);function Fn(m){const A=Rp();Bn(A,new sP(A,m))}Ps.Ma="timingevent";function lP(m,A){ke.call(this,Ps.Ma,m),this.size=A}v(lP,ke);function md(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},A)}function gd(){this.g=!0}gd.prototype.xa=function(){this.g=!1};function Xq(m,A,C,L,F,j){m.info(function(){if(m.g)if(j)for(var X="",it=j.split("&"),_n=0;_n<it.length;_n++){var Ue=it[_n].split("=");if(1<Ue.length){var Rn=Ue[0];Ue=Ue[1];var Nn=Rn.split("_");X=2<=Nn.length&&Nn[1]=="type"?X+(Rn+"="+Ue+"&"):X+(Rn+"=redacted&")}}else X=null;else X=j;return"XMLHTTP REQ ("+L+") [attempt "+F+"]: "+A+`
`+C+`
`+X})}function Zq(m,A,C,L,F,j,X){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+F+"]: "+A+`
`+C+`
`+j+" "+X})}function Hl(m,A,C,L){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+tH(m,C)+(L?" "+L:"")})}function eH(m,A){m.info(function(){return"TIMEOUT: "+A})}gd.prototype.info=function(){};function tH(m,A){if(!m.g)return A;if(!A)return null;try{var C=JSON.parse(A);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var L=C[m];if(!(2>L.length)){var F=L[1];if(Array.isArray(F)&&!(1>F.length)){var j=F[0];if(j!="noop"&&j!="stop"&&j!="close")for(var X=1;X<F.length;X++)F[X]=""}}}}return F_(C)}catch{return A}}var Np={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uP={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},G_;function Mp(){}v(Mp,z_),Mp.prototype.g=function(){return new XMLHttpRequest},Mp.prototype.i=function(){return{}},G_=new Mp;function la(m,A,C,L){this.j=m,this.i=A,this.l=C,this.R=L||1,this.U=new fd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cP}function cP(){this.i=null,this.g="",this.h=!1}var dP={},q_={};function H_(m,A,C){m.L=1,m.v=Lp(to(A)),m.m=C,m.P=!0,fP(m,null)}function fP(m,A){m.F=Date.now(),Op(m),m.A=to(m.v);var C=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),wP(C.i,"t",L),m.C=0,C=m.j.J,m.h=new cP,m.g=GP(m.j,C?A:null,!m.m),0<m.O&&(m.M=new Yq(f(m.Y,m,m.g),m.O)),A=m.U,C=m.g,L=m.ca;var F="readystatechange";Array.isArray(F)||(F&&(tP[0]=F.toString()),F=tP);for(var j=0;j<F.length;j++){var X=Xt(C,F[j],L||A.handleEvent,!1,A.h||A);if(!X)break;A.g[X.key]=X}A=m.H?P(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),pd(),Xq(m.i,m.u,m.A,m.l,m.R,m.m)}la.prototype.ca=function(m){m=m.target;const A=this.M;A&&no(m)==3?A.j():this.Y(m)},la.prototype.Y=function(m){try{if(m==this.g)e:{const Nn=no(this.g);var A=this.g.Ba();const Yl=this.g.Z();if(!(3>Nn)&&(Nn!=3||this.g&&(this.h.h||this.g.oa()||OP(this.g)))){this.J||Nn!=4||A==7||(A==8||0>=Yl?pd(3):pd(2)),K_(this);var C=this.g.Z();this.X=C;t:if(hP(this)){var L=OP(this.g);m="";var F=L.length,j=no(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rs(this),vd(this);var X="";break t}this.h.i=new s.TextDecoder}for(A=0;A<F;A++)this.h.h=!0,m+=this.h.i.decode(L[A],{stream:!(j&&A==F-1)});L.length=0,this.h.g+=m,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=C==200,Zq(this.i,this.u,this.A,this.l,this.R,Nn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var it,_n=this.g;if((it=_n.g?_n.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(it)){var Ue=it;break t}}Ue=null}if(C=Ue)Hl(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,W_(this,C);else{this.o=!1,this.s=3,Fn(12),Rs(this),vd(this);break e}}if(this.P){C=!0;let di;for(;!this.J&&this.C<X.length;)if(di=nH(this,X),di==q_){Nn==4&&(this.s=4,Fn(14),C=!1),Hl(this.i,this.l,null,"[Incomplete Response]");break}else if(di==dP){this.s=4,Fn(15),Hl(this.i,this.l,X,"[Invalid Chunk]"),C=!1;break}else Hl(this.i,this.l,di,null),W_(this,di);if(hP(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nn!=4||X.length!=0||this.h.h||(this.s=1,Fn(16),C=!1),this.o=this.o&&C,!C)Hl(this.i,this.l,X,"[Invalid Chunked Response]"),Rs(this),vd(this);else if(0<X.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),eb(Rn),Rn.M=!0,Fn(11))}}else Hl(this.i,this.l,X,null),W_(this,X);Nn==4&&Rs(this),this.o&&!this.J&&(Nn==4?FP(this.j,this):(this.o=!1,Op(this)))}else _H(this.g),C==400&&0<X.indexOf("Unknown SID")?(this.s=3,Fn(12)):(this.s=0,Fn(13)),Rs(this),vd(this)}}}catch{}finally{}};function hP(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function nH(m,A){var C=m.C,L=A.indexOf(`
`,C);return L==-1?q_:(C=Number(A.substring(C,L)),isNaN(C)?dP:(L+=1,L+C>A.length?q_:(A=A.slice(L,L+C),m.C=L+C,A)))}la.prototype.cancel=function(){this.J=!0,Rs(this)};function Op(m){m.S=Date.now()+m.I,pP(m,m.I)}function pP(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=md(f(m.ba,m),A)}function K_(m){m.B&&(s.clearTimeout(m.B),m.B=null)}la.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(eH(this.i,this.A),this.L!=2&&(pd(),Fn(17)),Rs(this),this.s=2,vd(this)):pP(this,this.S-m)};function vd(m){m.j.G==0||m.J||FP(m.j,m)}function Rs(m){K_(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,nP(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function W_(m,A){try{var C=m.j;if(C.G!=0&&(C.g==m||Y_(C.h,m))){if(!m.K&&Y_(C.h,m)&&C.G==3){try{var L=C.Da.g.parse(A)}catch{L=null}if(Array.isArray(L)&&L.length==3){var F=L;if(F[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)jp(C),Fp(C);else break e;Z_(C),Fn(18)}}else C.za=F[1],0<C.za-C.T&&37500>F[2]&&C.F&&C.v==0&&!C.C&&(C.C=md(f(C.Za,C),6e3));if(1>=vP(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Ms(C,11)}else if((m.K||C.g==m)&&jp(C),!T(A))for(F=C.Da.g.parse(A),A=0;A<F.length;A++){let Ue=F[A];if(C.T=Ue[0],Ue=Ue[1],C.G==2)if(Ue[0]=="c"){C.K=Ue[1],C.ia=Ue[2];const Rn=Ue[3];Rn!=null&&(C.la=Rn,C.j.info("VER="+C.la));const Nn=Ue[4];Nn!=null&&(C.Aa=Nn,C.j.info("SVER="+C.Aa));const Yl=Ue[5];Yl!=null&&typeof Yl=="number"&&0<Yl&&(L=1.5*Yl,C.L=L,C.j.info("backChannelRequestTimeoutMs_="+L)),L=C;const di=m.g;if(di){const Gp=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gp){var j=L.h;j.g||Gp.indexOf("spdy")==-1&&Gp.indexOf("quic")==-1&&Gp.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(J_(j,j.h),j.h=null))}if(L.D){const tb=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;tb&&(L.ya=tb,pt(L.I,L.D,tb))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),L=C;var X=m;if(L.qa=$P(L,L.J?L.ia:null,L.W),X.K){yP(L.h,X);var it=X,_n=L.L;_n&&(it.I=_n),it.B&&(K_(it),Op(it)),L.g=X}else UP(L);0<C.i.length&&zp(C)}else Ue[0]!="stop"&&Ue[0]!="close"||Ms(C,7);else C.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Ms(C,7):X_(C):Ue[0]!="noop"&&C.l&&C.l.ta(Ue),C.v=0)}}pd(4)}catch{}}var rH=class{constructor(m,A){this.g=m,this.map=A}};function mP(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gP(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function vP(m){return m.h?1:m.g?m.g.size:0}function Y_(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function J_(m,A){m.g?m.g.add(A):m.h=A}function yP(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}mP.prototype.cancel=function(){if(this.i=_P(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function _P(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const C of m.g.values())A=A.concat(C.D);return A}return E(m.i)}function iH(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var A=[],C=m.length,L=0;L<C;L++)A.push(m[L]);return A}A=[],C=0;for(L in m)A[C++]=m[L];return A}function oH(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var A=[];m=m.length;for(var C=0;C<m;C++)A.push(C);return A}A=[],C=0;for(const L in m)A[C++]=L;return A}}}function bP(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var C=oH(m),L=iH(m),F=L.length,j=0;j<F;j++)A.call(void 0,L[j],C&&C[j],m)}var EP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aH(m,A){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var L=m[C].indexOf("="),F=null;if(0<=L){var j=m[C].substring(0,L);F=m[C].substring(L+1)}else j=m[C];A(j,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ns(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ns){this.h=m.h,Dp(this,m.j),this.o=m.o,this.g=m.g,kp(this,m.s),this.l=m.l;var A=m.i,C=new bd;C.i=A.i,A.g&&(C.g=new Map(A.g),C.h=A.h),TP(this,C),this.m=m.m}else m&&(A=String(m).match(EP))?(this.h=!1,Dp(this,A[1]||"",!0),this.o=yd(A[2]||""),this.g=yd(A[3]||"",!0),kp(this,A[4]),this.l=yd(A[5]||"",!0),TP(this,A[6]||"",!0),this.m=yd(A[7]||"")):(this.h=!1,this.i=new bd(null,this.h))}Ns.prototype.toString=function(){var m=[],A=this.j;A&&m.push(_d(A,AP,!0),":");var C=this.g;return(C||A=="file")&&(m.push("//"),(A=this.o)&&m.push(_d(A,AP,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(_d(C,C.charAt(0)=="/"?uH:lH,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",_d(C,dH)),m.join("")};function to(m){return new Ns(m)}function Dp(m,A,C){m.j=C?yd(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function kp(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function TP(m,A,C){A instanceof bd?(m.i=A,fH(m.i,m.h)):(C||(A=_d(A,cH)),m.i=new bd(A,m.h))}function pt(m,A,C){m.i.set(A,C)}function Lp(m){return pt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function yd(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function _d(m,A,C){return typeof m=="string"?(m=encodeURI(m).replace(A,sH),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function sH(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var AP=/[#\/\?@]/g,lH=/[#\?:]/g,uH=/[#\?]/g,cH=/[#\?@]/g,dH=/#/g;function bd(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function ua(m){m.g||(m.g=new Map,m.h=0,m.i&&aH(m.i,function(A,C){m.add(decodeURIComponent(A.replace(/\+/g," ")),C)}))}t=bd.prototype,t.add=function(m,A){ua(this),this.i=null,m=Kl(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(A),this.h+=1,this};function SP(m,A){ua(m),A=Kl(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function xP(m,A){return ua(m),A=Kl(m,A),m.g.has(A)}t.forEach=function(m,A){ua(this),this.g.forEach(function(C,L){C.forEach(function(F){m.call(A,F,L,this)},this)},this)},t.na=function(){ua(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),C=[];for(let L=0;L<A.length;L++){const F=m[L];for(let j=0;j<F.length;j++)C.push(A[L])}return C},t.V=function(m){ua(this);let A=[];if(typeof m=="string")xP(this,m)&&(A=A.concat(this.g.get(Kl(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)A=A.concat(m[C])}return A},t.set=function(m,A){return ua(this),this.i=null,m=Kl(this,m),xP(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},t.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function wP(m,A,C){SP(m,A),0<C.length&&(m.i=null,m.g.set(Kl(m,A),E(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var C=0;C<A.length;C++){var L=A[C];const j=encodeURIComponent(String(L)),X=this.V(L);for(L=0;L<X.length;L++){var F=j;X[L]!==""&&(F+="="+encodeURIComponent(String(X[L]))),m.push(F)}}return this.i=m.join("&")};function Kl(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function fH(m,A){A&&!m.j&&(ua(m),m.i=null,m.g.forEach(function(C,L){var F=L.toLowerCase();L!=F&&(SP(this,L),wP(this,F,C))},m)),m.j=A}function hH(m,A){const C=new gd;if(s.Image){const L=new Image;L.onload=p(ca,C,"TestLoadImage: loaded",!0,A,L),L.onerror=p(ca,C,"TestLoadImage: error",!1,A,L),L.onabort=p(ca,C,"TestLoadImage: abort",!1,A,L),L.ontimeout=p(ca,C,"TestLoadImage: timeout",!1,A,L),s.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else A(!1)}function pH(m,A){const C=new gd,L=new AbortController,F=setTimeout(()=>{L.abort(),ca(C,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:L.signal}).then(j=>{clearTimeout(F),j.ok?ca(C,"TestPingServer: ok",!0,A):ca(C,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(F),ca(C,"TestPingServer: error",!1,A)})}function ca(m,A,C,L,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),L(C)}catch{}}function mH(){this.g=new Qq}function gH(m,A,C){const L=C||"";try{bP(m,function(F,j){let X=F;u(F)&&(X=F_(F)),A.push(L+j+"="+encodeURIComponent(X))})}catch(F){throw A.push(L+"type="+encodeURIComponent("_badmap")),F}}function Vp(m){this.l=m.Ub||null,this.j=m.eb||!1}v(Vp,z_),Vp.prototype.g=function(){return new Up(this.l,this.j)},Vp.prototype.i=function(m){return function(){return m}}({});function Up(m,A){Pn.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Up,Pn),t=Up.prototype,t.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,Td(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||s).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ed(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Td(this)),this.g&&(this.readyState=3,Td(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;IP(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function IP(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?Ed(this):Td(this),this.readyState==3&&IP(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Ed(this))},t.Qa=function(m){this.g&&(this.response=m,Ed(this))},t.ga=function(){this.g&&Ed(this)};function Ed(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Td(m)}t.setRequestHeader=function(m,A){this.u.append(m,A)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var C=A.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=A.next();return m.join(`\r
`)};function Td(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Up.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function CP(m){let A="";return N(m,function(C,L){A+=L,A+=":",A+=C,A+=`\r
`}),A}function Q_(m,A,C){e:{for(L in C){var L=!1;break e}L=!0}L||(C=CP(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):pt(m,A,C))}function It(m){Pn.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(It,Pn);var vH=/^https?$/i,yH=["POST","PUT"];t=It.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,A,C,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():G_.g(),this.v=this.o?rP(this.o):rP(G_),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(j){PP(this,j);return}if(m=C||"",C=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var F in L)C.set(F,L[F]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const j of L.keys())C.set(j,L.get(j));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(C.keys()).find(j=>j.toLowerCase()=="content-type"),F=s.FormData&&m instanceof s.FormData,!(0<=Array.prototype.indexOf.call(yH,A,void 0))||L||F||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,X]of C)this.g.setRequestHeader(j,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{MP(this),this.u=!0,this.g.send(m),this.u=!1}catch(j){PP(this,j)}};function PP(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,RP(m),Bp(m)}function RP(m){m.A||(m.A=!0,Bn(m,"complete"),Bn(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Bn(this,"complete"),Bn(this,"abort"),Bp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bp(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?NP(this):this.bb())},t.bb=function(){NP(this)};function NP(m){if(m.h&&typeof a<"u"&&(!m.v[1]||no(m)!=4||m.Z()!=2)){if(m.u&&no(m)==4)ZC(m.Ea,0,m);else if(Bn(m,"readystatechange"),no(m)==4){m.h=!1;try{const X=m.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var C;if(!(C=A)){var L;if(L=X===0){var F=String(m.D).match(EP)[1]||null;!F&&s.self&&s.self.location&&(F=s.self.location.protocol.slice(0,-1)),L=!vH.test(F?F.toLowerCase():"")}C=L}if(C)Bn(m,"complete"),Bn(m,"success");else{m.m=6;try{var j=2<no(m)?m.g.statusText:""}catch{j=""}m.l=j+" ["+m.Z()+"]",RP(m)}}finally{Bp(m)}}}}function Bp(m,A){if(m.g){MP(m);const C=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||Bn(m,"ready");try{C.onreadystatechange=L}catch{}}}function MP(m){m.I&&(s.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function no(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<no(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),Jq(A)}};function OP(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function _H(m){const A={};m=(m.g&&2<=no(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(T(m[L]))continue;var C=V(m[L]);const F=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const j=A[F]||[];A[F]=j,j.push(C)}I(A,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ad(m,A,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||A}function DP(m){this.Aa=0,this.i=[],this.j=new gd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ad("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ad("baseRetryDelayMs",5e3,m),this.cb=Ad("retryDelaySeedMs",1e4,m),this.Wa=Ad("forwardChannelMaxRetries",2,m),this.wa=Ad("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new mP(m&&m.concurrentRequestLimit),this.Da=new mH,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=DP.prototype,t.la=8,t.G=1,t.connect=function(m,A,C,L){Fn(0),this.W=m,this.H=A||{},C&&L!==void 0&&(this.H.OSID=C,this.H.OAID=L),this.F=this.X,this.I=$P(this,null,this.W),zp(this)};function X_(m){if(kP(m),m.G==3){var A=m.U++,C=to(m.I);if(pt(C,"SID",m.K),pt(C,"RID",A),pt(C,"TYPE","terminate"),Sd(m,C),A=new la(m,m.j,A),A.L=2,A.v=Lp(to(C)),C=!1,s.navigator&&s.navigator.sendBeacon)try{C=s.navigator.sendBeacon(A.v.toString(),"")}catch{}!C&&s.Image&&(new Image().src=A.v,C=!0),C||(A.g=GP(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Op(A)}jP(m)}function Fp(m){m.g&&(eb(m),m.g.cancel(),m.g=null)}function kP(m){Fp(m),m.u&&(s.clearTimeout(m.u),m.u=null),jp(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&s.clearTimeout(m.s),m.s=null)}function zp(m){if(!gP(m.h)&&!m.s){m.s=!0;var A=m.Ga;K||de(),J||(K(),J=!0),te.add(A,m),m.B=0}}function bH(m,A){return vP(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=md(f(m.Ga,m,A),zP(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const F=new la(this,this.j,m);let j=this.o;if(this.S&&(j?(j=P(j),O(j,this.S)):j=this.S),this.m!==null||this.O||(F.H=j,j=null),this.P)e:{for(var A=0,C=0;C<this.i.length;C++){t:{var L=this.i[C];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(A+=L,4096<A){A=C;break e}if(A===4096||C===this.i.length-1){A=C+1;break e}}A=1e3}else A=1e3;A=VP(this,F,A),C=to(this.I),pt(C,"RID",m),pt(C,"CVER",22),this.D&&pt(C,"X-HTTP-Session-Id",this.D),Sd(this,C),j&&(this.O?A="headers="+encodeURIComponent(String(CP(j)))+"&"+A:this.m&&Q_(C,this.m,j)),J_(this.h,F),this.Ua&&pt(C,"TYPE","init"),this.P?(pt(C,"$req",A),pt(C,"SID","null"),F.T=!0,H_(F,C,null)):H_(F,C,A),this.G=2}}else this.G==3&&(m?LP(this,m):this.i.length==0||gP(this.h)||LP(this))};function LP(m,A){var C;A?C=A.l:C=m.U++;const L=to(m.I);pt(L,"SID",m.K),pt(L,"RID",C),pt(L,"AID",m.T),Sd(m,L),m.m&&m.o&&Q_(L,m.m,m.o),C=new la(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),A&&(m.i=A.D.concat(m.i)),A=VP(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),J_(m.h,C),H_(C,L,A)}function Sd(m,A){m.H&&N(m.H,function(C,L){pt(A,L,C)}),m.l&&bP({},function(C,L){pt(A,L,C)})}function VP(m,A,C){C=Math.min(m.i.length,C);var L=m.l?f(m.l.Na,m.l,m):null;e:{var F=m.i;let j=-1;for(;;){const X=["count="+C];j==-1?0<C?(j=F[0].g,X.push("ofs="+j)):j=0:X.push("ofs="+j);let it=!0;for(let _n=0;_n<C;_n++){let Ue=F[_n].g;const Rn=F[_n].map;if(Ue-=j,0>Ue)j=Math.max(0,F[_n].g-100),it=!1;else try{gH(Rn,X,"req"+Ue+"_")}catch{L&&L(Rn)}}if(it){L=X.join("&");break e}}}return m=m.i.splice(0,C),A.D=m,L}function UP(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;K||de(),J||(K(),J=!0),te.add(A,m),m.v=0}}function Z_(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=md(f(m.Fa,m),zP(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,BP(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=md(f(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fn(10),Fp(this),BP(this))};function eb(m){m.A!=null&&(s.clearTimeout(m.A),m.A=null)}function BP(m){m.g=new la(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=to(m.qa);pt(A,"RID","rpc"),pt(A,"SID",m.K),pt(A,"AID",m.T),pt(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&pt(A,"TO",m.ja),pt(A,"TYPE","xmlhttp"),Sd(m,A),m.m&&m.o&&Q_(A,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=Lp(to(A)),C.m=null,C.P=!0,fP(C,m)}t.Za=function(){this.C!=null&&(this.C=null,Fp(this),Z_(this),Fn(19))};function jp(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function FP(m,A){var C=null;if(m.g==A){jp(m),eb(m),m.g=null;var L=2}else if(Y_(m.h,A))C=A.D,yP(m.h,A),L=1;else return;if(m.G!=0){if(A.o)if(L==1){C=A.m?A.m.length:0,A=Date.now()-A.F;var F=m.B;L=Rp(),Bn(L,new lP(L,C)),zp(m)}else UP(m);else if(F=A.s,F==3||F==0&&0<A.X||!(L==1&&bH(m,A)||L==2&&Z_(m)))switch(C&&0<C.length&&(A=m.h,A.i=A.i.concat(C)),F){case 1:Ms(m,5);break;case 4:Ms(m,10);break;case 3:Ms(m,6);break;default:Ms(m,2)}}}function zP(m,A){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*A}function Ms(m,A){if(m.j.info("Error code "+A),A==2){var C=f(m.fb,m),L=m.Xa;const F=!L;L=new Ns(L||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Dp(L,"https"),Lp(L),F?hH(L.toString(),C):pH(L.toString(),C)}else Fn(2);m.G=0,m.l&&m.l.sa(A),jP(m),kP(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Fn(2)):(this.j.info("Failed to ping google.com"),Fn(1))};function jP(m){if(m.G=0,m.ka=[],m.l){const A=_P(m.h);(A.length!=0||m.i.length!=0)&&(y(m.ka,A),y(m.ka,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.ra()}}function $P(m,A,C){var L=C instanceof Ns?to(C):new Ns(C);if(L.g!="")A&&(L.g=A+"."+L.g),kp(L,L.s);else{var F=s.location;L=F.protocol,A=A?A+"."+F.hostname:F.hostname,F=+F.port;var j=new Ns(null);L&&Dp(j,L),A&&(j.g=A),F&&kp(j,F),C&&(j.l=C),L=j}return C=m.D,A=m.ya,C&&A&&pt(L,C,A),pt(L,"VER",m.la),Sd(m,L),L}function GP(m,A,C){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new It(new Vp({eb:C})):new It(m.pa),A.Ha(m.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qP(){}t=qP.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $p(){}$p.prototype.g=function(m,A){return new hr(m,A)};function hr(m,A){Pn.call(this),this.g=new DP(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!T(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!T(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new Wl(this)}v(hr,Pn),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){X_(this.g)},hr.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=F_(m),m=C);A.i.push(new rH(A.Ya++,m)),A.G==3&&zp(A)},hr.prototype.N=function(){this.g.l=null,delete this.j,X_(this.g),delete this.g,hr.aa.N.call(this)};function HP(m){j_.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const C in A){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}v(HP,j_);function KP(){$_.call(this),this.status=1}v(KP,$_);function Wl(m){this.g=m}v(Wl,qP),Wl.prototype.ua=function(){Bn(this.g,"a")},Wl.prototype.ta=function(m){Bn(this.g,new HP(m))},Wl.prototype.sa=function(m){Bn(this.g,new KP)},Wl.prototype.ra=function(){Bn(this.g,"b")},$p.prototype.createWebChannel=$p.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,X6=function(){return new $p},Q6=function(){return Rp()},J6=Ps,iS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Np.NO_ERROR=0,Np.TIMEOUT=8,Np.HTTP_ERROR=6,fg=Np,uP.COMPLETE="complete",Y6=uP,iP.EventType=hd,hd.OPEN="a",hd.CLOSE="b",hd.ERROR="c",hd.MESSAGE="d",Pn.prototype.listen=Pn.prototype.K,of=iP,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,W6=It}).apply(typeof Nm<"u"?Nm:typeof self<"u"?self:typeof window<"u"?window:{});const D2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new KI("@firebase/firestore");function du(){return Cl.logLevel}function H(t,...e){if(Cl.logLevel<=Ce.DEBUG){const n=e.map(iC);Cl.debug(`Firestore (${sd}): ${t}`,...n)}}function Ut(t,...e){if(Cl.logLevel<=Ce.ERROR){const n=e.map(iC);Cl.error(`Firestore (${sd}): ${t}`,...n)}}function yh(t,...e){if(Cl.logLevel<=Ce.WARN){const n=e.map(iC);Cl.warn(`Firestore (${sd}): ${t}`,...n)}}function iC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${sd}) INTERNAL ASSERTION FAILED: `+t;throw Ut(e),new Error(e)}function ue(t,e){t||se()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends oa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nxe{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mxe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class Oxe{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ro;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ro,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ro)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string"),new Nxe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new Dn(e)}}class Dxe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kxe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Dxe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lxe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vxe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ue(this.o===void 0);const r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new Lxe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uxe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Uxe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function gc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function eG(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new St(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new St(0,0))}static max(){return new ce(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _h.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _h?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends _h{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const Bxe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends _h{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return Bxe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Q($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Q($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(He.fromString(e))}static fromName(e){return new ee(He.fromString(e).popFirst(5))}static empty(){return new ee(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new He(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function oS(t){return t.fields.find(e=>e.kind===2)}function Gs(t){return t.fields.filter(e=>e.kind!==2)}uy.UNKNOWN_ID=-1;class hg{constructor(e,n){this.fieldPath=e,this.kind=n}}class bh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new bh(0,Nr.min())}}function tG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new Nr(i,ee.empty(),e)}function nG(t){return new Nr(t.readTime,t.key,-1)}class Nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Nr(ce.min(),ee.empty(),-1)}static max(){return new Nr(ce.max(),ee.empty(),-1)}}function oC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==rG)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ro,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new If(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=aC(r.target.error);this.V.reject(new If(e,i))}}static open(e,n,r,i){try{return new y_(n,e.transaction(i,r))}catch(o){throw new If(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(H("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new zxe(n)}}class es{constructor(e,n,r){this.name=e,this.version=n,this.p=r,es.S(nn())===12.2&&Ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return H("SimpleDb","Removing database:",e),qs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!l6())return!1;if(es.v())return!0;const e=nn(),n=es.S(e),r=0<n&&n<10,i=oG(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(H("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const a=o.target.result;n(a)},i.onblocked=()=>{r(new If(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const a=o.target.error;a.name==="VersionError"?r(new Q($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Q($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new If(e,a))},i.onupgradeneeded=o=>{H("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.p.O(a,i.transaction,o.oldVersion,this.version).next(()=>{H("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const s=y_.open(this.db,e,o?"readonly":"readwrite",r),l=i(s).next(u=>(s.g(),u)).catch(u=>(s.abort(u),z.reject(u))).toPromise();return l.catch(()=>{}),await s.m,l}catch(s){const l=s,u=l.name!=="FirebaseError"&&a<3;if(H("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function oG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Fxe{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return qs(this.B.delete())}}class If extends Q{constructor(e,n){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xs(t){return t.name==="IndexedDbTransactionError"}class zxe{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(H("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(H("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qs(r)}add(e){return H("SimpleDb","ADD",this.store.name,e,e),qs(this.store.add(e))}get(e){return qs(this.store.get(e)).next(n=>(n===void 0&&(n=null),H("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return H("SimpleDb","DELETE",this.store.name,e),qs(this.store.delete(e))}count(){return H("SimpleDb","COUNT",this.store.name),qs(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new z((a,s)=>{o.onerror=l=>{s(l.target.error)},o.onsuccess=l=>{a(l.target.result)}})}{const o=this.cursor(r),a=[];return this.W(o,(s,l)=>{a.push(l)}).next(()=>a)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}j(e,n){H("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,a,s)=>s.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=o=>{const a=aC(o.target.error);i(a)},n.onsuccess=o=>{const a=o.target.result;a?e(a.primaryKey,a.value).next(s=>{s?a.continue():r()}):r()}})}W(e,n){const r=[];return new z((i,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{const s=a.target.result;if(!s)return void i();const l=new Fxe(s),u=n(s.primaryKey,s.value,l);if(u instanceof z){const c=u.catch(d=>(l.done(),z.reject(d)));r.push(c)}l.isDone?i():l.K===null?s.continue():s.continue(l.K)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function qs(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=aC(r.target.error);n(i)}})}let k2=!1;function aC(t){const e=es.S(nn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return k2||(k2=!0,setTimeout(()=>{throw r},0)),r}}return t}class jxe{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){H("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{H("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){xs(n)?H("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ss(n)}await this.X(6e4)})}}class $xe{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return z.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return H("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(s=>{i-=s,r.add(a)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,o)).next(s=>(H("IndexBackfiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>a.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const a=nG(o);oC(a,r)>0&&(r=a)}),new Nr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}sr.oe=-1;function __(t){return t==null}function Eh(t){return t===0&&1/t==-1/0}function aG(t){return typeof t=="number"&&Number.isInteger(t)&&!Eh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=L2(e)),e=Gxe(t.get(n),e);return L2(e)}function Gxe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function L2(t){return t+""}function Ui(t){const e=t.length;if(ue(e>=2),e===2)return ue(t.charAt(0)===""&&t.charAt(1)===""),He.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const a=t.indexOf("",o);switch((a<0||a>n)&&se(),t.charAt(a+1)){case"":const s=t.substring(o,a);let l;i.length===0?l=s:(i+=s,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:se()}o=a+2}return new He(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e){return[t,Kn(e)]}function sG(t,e,n){return[t,Kn(e),n]}const qxe={},Hxe=["prefixPath","collectionGroup","readTime","documentId"],Kxe=["prefixPath","collectionGroup","documentId"],Wxe=["collectionGroup","readTime","prefixPath","documentId"],Yxe=["canonicalId","targetId"],Jxe=["targetId","path"],Qxe=["path","targetId"],Xxe=["collectionId","parent"],Zxe=["indexId","uid"],ewe=["uid","sequenceNumber"],twe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nwe=["indexId","uid","orderedDocumentKey"],rwe=["userId","collectionPath","documentId"],iwe=["userId","collectionPath","largestBatchId"],owe=["userId","collectionGroup","largestBatchId"],lG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],awe=[...lG,"documentOverlays"],uG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cG=uG,sC=[...cG,"indexConfiguration","indexState","indexEntries"],swe=sC,lwe=[...sC,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS extends iG{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function sn(t,e){const n=le(t);return es.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mm(this.root,e,this.comparator,!0)}}class Mm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??An.RED,this.left=i??An.EMPTY,this.right=o??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new An(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return An.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,o){return this}insert(e,n,r){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B2(this.data.getIterator())}getIteratorFrom(e){return new B2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class B2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new lr([])}unionWith(e){let n=new nt(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fG("Invalid base64 string: "+o):o}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const uwe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(t){if(ue(!!t),typeof t=="string"){let e=0;const n=uwe.exec(t);if(ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fs(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uC(t){const e=t.mapValue.fields.__previous_value__;return lC(e)?uC(e):e}function Th(t){const e=Wo(t.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cwe{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Pl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mg={nullValue:"NULL_VALUE"};function Rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lC(t)?4:hG(t)?9007199254740991:b_(t)?10:11:se()}function Yi(t,e){if(t===e)return!0;const n=Rl(t);if(n!==Rl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Th(t).isEqual(Th(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Wo(i.timestampValue),s=Wo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return fs(i.bytesValue).isEqual(fs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Tt(i.geoPointValue.latitude)===Tt(o.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Tt(i.integerValue)===Tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Tt(i.doubleValue),s=Tt(o.doubleValue);return a===s?Eh(a)===Eh(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return gc(t.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(U2(a)!==U2(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Yi(a[l],s[l])))return!1;return!0}(t,e);default:return se()}}function Ah(t,e){return(t.values||[]).find(n=>Yi(n,e))!==void 0}function hs(t,e){if(t===e)return 0;const n=Rl(t),r=Rl(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=Tt(o.integerValue||o.doubleValue),l=Tt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return F2(t.timestampValue,e.timestampValue);case 4:return F2(Th(t),Th(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(o,a){const s=fs(o),l=fs(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=ge(s[u],l[u]);if(c!==0)return c}return ge(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=ge(Tt(o.latitude),Tt(a.latitude));return s!==0?s:ge(Tt(o.longitude),Tt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return z2(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const d=o.fields||{},f=a.fields||{},p=(s=d.value)===null||s===void 0?void 0:s.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,E=ge(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return E!==0?E:z2(p,v)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Ua.mapValue&&a===Ua.mapValue)return 0;if(o===Ua.mapValue)return 1;if(a===Ua.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=ge(l[d],c[d]);if(f!==0)return f;const p=hs(s[l[d]],u[c[d]]);if(p!==0)return p}return ge(l.length,c.length)}(t.mapValue,e.mapValue);default:throw se()}}function F2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Wo(t),r=Wo(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function z2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=hs(n[i],r[i]);if(o)return o}return ge(n.length,r.length)}function vc(t){return sS(t)}function sS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=sS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${sS(n.fields[a])}`;return i+"}"}(t.mapValue):se()}function Sh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lS(t){return!!t&&"integerValue"in t}function xh(t){return!!t&&"arrayValue"in t}function j2(t){return!!t&&"nullValue"in t}function $2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gg(t){return!!t&&"mapValue"in t}function b_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Cf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const pG={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function dwe(t){return"nullValue"in t?mg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Sh(Pl.empty(),ee.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?b_(t)?pG:{mapValue:{}}:se()}function fwe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Sh(Pl.empty(),ee.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?pG:"mapValue"in t?b_(t)?{mapValue:{}}:Ua:se()}function G2(t,e){const n=hs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function q2(t,e){const n=hs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cf(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Cf(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());gg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ln(Cf(this.value))}}function mG(t){const e=[];return Gl(t.fields,(n,r)=>{const i=new wt([n]);if(gg(r)){const o=mG(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Ot(e,0,ce.min(),ce.min(),ce.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Ot(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Ot(e,2,n,ce.min(),ce.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,ce.min(),ce.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.position=e,this.inclusive=n}}function H2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(a.referenceValue),n.key):r=hs(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function K2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function hwe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{}class Re extends gG{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pwe(e,n,r):n==="array-contains"?new vwe(e,r):n==="in"?new TG(e,r):n==="not-in"?new ywe(e,r):n==="array-contains-any"?new _we(e,r):new Re(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mwe(e,r):new gwe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hs(n,this.value)):n!==null&&Rl(this.value)===Rl(n)&&this.matchesComparison(hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xe extends gG{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xe(e,n)}matches(e){return _c(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _c(t){return t.op==="and"}function uS(t){return t.op==="or"}function cC(t){return vG(t)&&_c(t)}function vG(t){for(const e of t.filters)if(e instanceof Xe)return!1;return!0}function cS(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+vc(t.value);if(cC(t))return t.filters.map(e=>cS(e)).join(",");{const e=t.filters.map(n=>cS(n)).join(",");return`${t.op}(${e})`}}function yG(t,e){return t instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&Yi(r.value,i.value)}(t,e):t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&yG(a,i.filters[s]),!0):!1}(t,e):void se()}function _G(t,e){const n=t.filters.concat(e);return Xe.create(n,t.op)}function bG(t){return t instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${vc(n.value)}`}(t):t instanceof Xe?function(n){return n.op.toString()+" {"+n.getFilters().map(bG).join(" ,")+"}"}(t):"Filter"}class pwe extends Re{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class mwe extends Re{constructor(e,n){super(e,"in",n),this.keys=EG("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gwe extends Re{constructor(e,n){super(e,"not-in",n),this.keys=EG("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EG(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class vwe extends Re{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xh(n)&&Ah(n.arrayValue,this.value)}}class TG extends Re{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ah(this.value.arrayValue,n)}}class ywe extends Re{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ah(this.value.arrayValue,n)}}class _we extends Re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ah(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bwe{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function dS(t,e=null,n=[],r=[],i=null,o=null,a=null){return new bwe(t,e,n,r,i,o,a)}function Nl(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),__(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vc(r)).join(",")),e.ue=n}return e.ue}function Tp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hwe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yG(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K2(t.startAt,e.startAt)&&K2(t.endAt,e.endAt)}function cy(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function dy(t,e){return t.filters.filter(n=>n instanceof Re&&n.field.isEqual(e))}function W2(t,e,n){let r=mg,i=!0;for(const o of dy(t,e)){let a=mg,s=!0;switch(o.op){case"<":case"<=":a=dwe(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,s=!1;break;case"!=":case"not-in":a=mg}G2({value:r,inclusive:i},{value:a,inclusive:s})<0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];G2({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function Y2(t,e,n){let r=Ua,i=!0;for(const o of dy(t,e)){let a=Ua,s=!0;switch(o.op){case">=":case">":a=fwe(o.value),s=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,s=!1;break;case"!=":case"not-in":a=Ua}q2({value:r,inclusive:i},{value:a,inclusive:s})>0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];q2({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function AG(t,e,n,r,i,o,a,s){return new ld(t,e,n,r,i,o,a,s)}function dC(t){return new ld(t)}function J2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SG(t){return t.collectionGroup!==null}function Pf(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new nt(wt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new wh(o,r))}),n.has(wt.keyField().canonicalString())||e.ce.push(new wh(wt.keyField(),r))}return e.ce}function Ir(t){const e=le(t);return e.le||(e.le=Ewe(e,Pf(t))),e.le}function Ewe(t,e){if(t.limitType==="F")return dS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new wh(i.field,o)});const n=t.endAt?new yc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yc(t.startAt.position,t.startAt.inclusive):null;return dS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fS(t,e){const n=t.filters.concat([e]);return new ld(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fy(t,e,n){return new ld(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function E_(t,e){return Tp(Ir(t),Ir(e))&&t.limitType===e.limitType}function xG(t){return`${Nl(Ir(t))}|lt:${t.limitType}`}function fu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bG(i)).join(", ")}]`),__(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vc(i)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function Ap(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Pf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=H2(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,Pf(r),i)||r.endAt&&!function(a,s,l){const u=H2(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,Pf(r),i))}(t,e)}function wG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IG(t){return(e,n)=>{let r=!1;for(const i of Pf(t)){const o=Twe(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Twe(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?hs(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return dG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Awe=new ft(ee.comparator);function Er(){return Awe}const CG=new ft(ee.comparator);function af(...t){let e=CG;for(const n of t)e=e.insert(n.key,n);return e}function PG(t){let e=CG;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bi(){return Rf()}function RG(){return Rf()}function Rf(){return new ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const Swe=new ft(ee.comparator),xwe=new nt(ee.comparator);function Ee(...t){let e=xwe;for(const n of t)e=e.add(n);return e}const wwe=new nt(ge);function fC(){return wwe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function NG(t){return{integerValue:""+t}}function Iwe(t,e){return aG(e)?NG(e):hC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this._=void 0}}function Cwe(t,e,n){return t instanceof Ih?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&lC(o)&&(o=uC(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof bc?OG(t,e):t instanceof Ec?DG(t,e):function(i,o){const a=MG(i,o),s=Q2(a)+Q2(i.Pe);return lS(a)&&lS(i.Pe)?NG(s):hC(i.serializer,s)}(t,e)}function Pwe(t,e,n){return t instanceof bc?OG(t,e):t instanceof Ec?DG(t,e):n}function MG(t,e){return t instanceof Ch?function(r){return lS(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ih extends T_{}class bc extends T_{constructor(e){super(),this.elements=e}}function OG(t,e){const n=kG(e);for(const r of t.elements)n.some(i=>Yi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ec extends T_{constructor(e){super(),this.elements=e}}function DG(t,e){let n=kG(e);for(const r of t.elements)n=n.filter(i=>!Yi(i,r));return{arrayValue:{values:n}}}class Ch extends T_{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Q2(t){return Tt(t.integerValue||t.doubleValue)}function kG(t){return xh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rwe{constructor(e,n){this.field=e,this.transform=n}}function Nwe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bc&&i instanceof bc||r instanceof Ec&&i instanceof Ec?gc(r.elements,i.elements,Yi):r instanceof Ch&&i instanceof Ch?Yi(r.Pe,i.Pe):r instanceof Ih&&i instanceof Ih}(t.transform,e.transform)}class Mwe{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class A_{}function LG(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S_(t.key,Hn.none()):new ud(t.key,t.data,Hn.none());{const n=t.data,r=Ln.empty();let i=new nt(wt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new aa(t.key,r,new lr(i.toArray()),Hn.none())}}function Owe(t,e,n){t instanceof ud?function(i,o,a){const s=i.value.clone(),l=Z2(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof aa?function(i,o,a){if(!vg(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=Z2(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(VG(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Nf(t,e,n,r){return t instanceof ud?function(o,a,s,l){if(!vg(o.precondition,a))return s;const u=o.value.clone(),c=eL(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof aa?function(o,a,s,l){if(!vg(o.precondition,a))return s;const u=eL(o.fieldTransforms,l,a),c=a.data;return c.setAll(VG(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,a,s){return vg(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function Dwe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=MG(r.transform,i||null);o!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,o))}return n||null}function X2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gc(r,i,(o,a)=>Nwe(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ud extends A_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class aa extends A_{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VG(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Z2(t,e,n){const r=new Map;ue(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Pwe(a,s,n[i]))}return r}function eL(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,Cwe(o,a,e))}return r}class S_ extends A_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UG extends A_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Owe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RG();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=LG(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&gc(this.mutations,e.mutations,(n,r)=>X2(n,r))&&gc(this.baseMutations,e.baseMutations,(n,r)=>X2(n,r))}}class mC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length);let i=function(){return Swe}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new mC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kwe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Le;function Lwe(t){switch(t){default:return se();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function BG(t){if(t===void 0)return Ut("GRPC error has no .code"),$.UNKNOWN;switch(t){case qt.OK:return $.OK;case qt.CANCELLED:return $.CANCELLED;case qt.UNKNOWN:return $.UNKNOWN;case qt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case qt.INTERNAL:return $.INTERNAL;case qt.UNAVAILABLE:return $.UNAVAILABLE;case qt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case qt.NOT_FOUND:return $.NOT_FOUND;case qt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case qt.ABORTED:return $.ABORTED;case qt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case qt.DATA_LOSS:return $.DATA_LOSS;default:return se()}}(Le=qt||(qt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vwe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uwe=new ul([4294967295,4294967295],0);function tL(t){const e=Vwe().encode(t),n=new K6;return n.update(e),new Uint8Array(n.digest())}function nL(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ul([n,r],0),new ul([i,o],0)]}class vC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sf(`Invalid padding: ${n}`);if(r<0)throw new sf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sf(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ul.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ul.fromNumber(r)));return i.compare(Uwe)===1&&(i=new ul([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=tL(e),[r,i]=nL(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new vC(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=tL(e),[r,i]=nL(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sp(ce.min(),i,new ft(ge),Er(),Ee())}}class xp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xp(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class FG{constructor(e,n){this.targetId=e,this.me=n}}class zG{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rL{constructor(){this.fe=0,this.ge=oL(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new xp(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=oL()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bwe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Er(),this.qe=iL(),this.Qe=new ft(ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(cy(o))if(r===0){const a=new ee(o.path);this.Ue(n,a,Ot.newNoDocument(a,ce.min()))}else ue(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=fs(r).toUint8Array()}catch(l){if(l instanceof fG)return yh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new vC(a,i,o)}catch(l){return yh(l instanceof sf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&cy(s.target)){const l=new ee(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Ot.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Ee();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Sp(e,n,this.Qe,this.ke,r);return this.ke=Er(),this.qe=iL(),this.Qe=new ft(ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rL,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nt(ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rL),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function iL(){return new ft(ee.comparator)}function oL(){return new ft(ee.comparator)}const Fwe={asc:"ASCENDING",desc:"DESCENDING"},zwe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jwe={and:"AND",or:"OR"};class $we{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hS(t,e){return t.useProto3Json||__(e)?e:{value:e}}function Tc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jG(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gwe(t,e){return Tc(t,e.toTimestamp())}function Wn(t){return ue(!!t),ce.fromTimestamp(function(n){const r=Wo(n);return new St(r.seconds,r.nanos)}(t))}function yC(t,e){return pS(t,e).canonicalString()}function pS(t,e){const n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $G(t){const e=He.fromString(t);return ue(XG(e)),e}function hy(t,e){return yC(t.databaseId,e.path)}function cl(t,e){const n=$G(e);if(n.get(1)!==t.databaseId.projectId)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(HG(n))}function GG(t,e){return yC(t.databaseId,e)}function qG(t){const e=$G(t);return e.length===4?He.emptyPath():HG(e)}function mS(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HG(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aL(t,e,n){return{name:hy(t,e),fields:n.value.mapValue.fields}}function qwe(t,e,n){const r=cl(t,e.name),i=Wn(e.updateTime),o=e.createTime?Wn(e.createTime):ce.min(),a=new Ln({mapValue:{fields:e.fields}}),s=Ot.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Hwe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ue(c===void 0||typeof c=="string"),zt.fromBase64String(c||"")):(ue(c===void 0||c instanceof Buffer||c instanceof Uint8Array),zt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?$.UNKNOWN:BG(u.code);return new Q(c,u.message||"")}(a);n=new zG(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cl(t,r.document.name),o=Wn(r.document.updateTime),a=r.document.createTime?Wn(r.document.createTime):ce.min(),s=new Ln({mapValue:{fields:r.document.fields}}),l=Ot.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new yg(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cl(t,r.document),o=r.readTime?Wn(r.readTime):ce.min(),a=Ot.newNoDocument(i,o),s=r.removedTargetIds||[];n=new yg([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cl(t,r.document),o=r.removedTargetIds||[];n=new yg([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new kwe(i,o),s=r.targetId;n=new FG(s,a)}}return n}function py(t,e){let n;if(e instanceof ud)n={update:aL(t,e.key,e.value)};else if(e instanceof S_)n={delete:hy(t,e.key)};else if(e instanceof aa)n={update:aL(t,e.key,e.data),updateMask:Xwe(e.fieldMask)};else{if(!(e instanceof UG))return se();n={verify:hy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof Ih)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof bc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ec)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Ch)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Gwe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(t,e.precondition)),n}function gS(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?Hn.updateTime(Wn(o.updateTime)):o.exists!==void 0?Hn.exists(o.exists):Hn.none()}(e.currentDocument):Hn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,s){let l=null;if("setToServerValue"in s)ue(s.setToServerValue==="REQUEST_TIME"),l=new Ih;else if("appendMissingElements"in s){const c=s.appendMissingElements.values||[];l=new bc(c)}else if("removeAllFromArray"in s){const c=s.removeAllFromArray.values||[];l=new Ec(c)}else"increment"in s?l=new Ch(a,s.increment):se();const u=wt.fromServerFormat(s.fieldPath);return new Rwe(u,l)}(t,i)):[];if(e.update){e.update.name;const i=cl(t,e.update.name),o=new Ln({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(l){const u=l.fieldPaths||[];return new lr(u.map(c=>wt.fromServerFormat(c)))}(e.updateMask);return new aa(i,o,a,n,r)}return new ud(i,o,n,r)}if(e.delete){const i=cl(t,e.delete);return new S_(i,n)}if(e.verify){const i=cl(t,e.verify);return new UG(i,n)}return se()}function Kwe(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Wn(i.updateTime):Wn(o);return a.isEqual(ce.min())&&(a=Wn(o)),new Mwe(a,i.transformResults||[])}(n,e))):[]}function KG(t,e){return{documents:[GG(t,e.path)]}}function WG(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GG(t,i);const o=function(u){if(u.length!==0)return QG(Xe.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:hu(f.field),direction:Ywe(f.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=hS(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function YG(t){let e=qG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ue(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=JG(d);return f instanceof Xe&&cC(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(f=>function(v){return new wh(pu(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let s=null;n.limit&&(s=function(d){let f;return f=typeof d=="object"?d.value:d,__(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new yc(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new yc(p,f)}(n.endAt)),AG(e,i,a,o,s,"F",l,u)}function Wwe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JG(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pu(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pu(n.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=pu(n.unaryFilter.field);return Re.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=pu(n.unaryFilter.field);return Re.create(a,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return Re.create(pu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xe.create(n.compositeFilter.filters.map(r=>JG(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function Ywe(t){return Fwe[t]}function Jwe(t){return zwe[t]}function Qwe(t){return jwe[t]}function hu(t){return{fieldPath:t.canonicalString()}}function pu(t){return wt.fromServerFormat(t.fieldPath)}function QG(t){return t instanceof Re?function(n){if(n.op==="=="){if($2(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NAN"}};if(j2(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($2(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NOT_NAN"}};if(j2(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(n.field),op:Jwe(n.op),value:n.value}}}(t):t instanceof Xe?function(n){const r=n.getFilters().map(i=>QG(i));return r.length===1?r[0]:{compositeFilter:{op:Qwe(n.op),filters:r}}}(t):se()}function Xwe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XG(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r,i,o=ce.min(),a=ce.min(),s=zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new So(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e){this.ct=e}}function Zwe(t,e){let n;if(e.document)n=qwe(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ee.fromSegments(e.noDocument.path),i=Ol(e.noDocument.readTime);n=Ot.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return se();{const r=ee.fromSegments(e.unknownDocument.path),i=Ol(e.unknownDocument.version);n=Ot.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new St(i[0],i[1]);return ce.fromTimestamp(o)}(e.readTime)),n}function sL(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:my(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,a){return{name:hy(o,a.key),fields:a.data.value.mapValue.fields,updateTime:Tc(o,a.version.toTimestamp()),createTime:Tc(o,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ml(e.version)};else{if(!e.isUnknownDocument())return se();r.unknownDocument={path:n.path.toArray(),version:Ml(e.version)}}return r}function my(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ml(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ol(t){const e=new St(t.seconds,t.nanoseconds);return ce.fromTimestamp(e)}function Hs(t,e){const n=(e.baseMutations||[]).map(o=>gS(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const a=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const s=e.mutations[o+1];a.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>gS(t.ct,o)),i=St.fromMillis(e.localWriteTimeMs);return new pC(e.batchId,i,n,r)}function lf(t){const e=Ol(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ol(t.lastLimboFreeSnapshotVersion):ce.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return ue(o.documents.length===1),Ir(dC(qG(o.documents[0])))}(t.query):function(o){return Ir(YG(o))}(t.query),new So(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,zt.fromBase64String(t.resumeToken))}function eq(t,e){const n=Ml(e.snapshotVersion),r=Ml(e.lastLimboFreeSnapshotVersion);let i;i=cy(e.target)?KG(t.ct,e.target):WG(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Nl(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function tq(t){const e=YG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fy(e,e.limit,"L"):e}function bE(t,e){return new gC(e.largestBatchId,gS(t.ct,e.overlayMutation))}function lL(t,e){const n=e.path.lastSegment();return[t,Kn(e.path.popLast()),n]}function uL(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ml(r.readTime),documentKey:Kn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eIe{getBundleMetadata(e,n){return cL(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Ol(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return cL(e).put(function(i){return{bundleId:i.id,createTime:Ml(Wn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return dL(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:tq(o.bundledQuery),readTime:Ol(o.readTime)}}(r)})}saveNamedQuery(e,n){return dL(e).put(function(i){return{name:i.name,readTime:Ml(Wn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function cL(t){return sn(t,"bundles")}function dL(t){return sn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new x_(e,r)}getOverlay(e,n){return $d(e).get(lL(this.userId,n)).next(r=>r?bE(this.serializer,r):null)}getOverlays(e,n){const r=Bi();return z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,a)=>{const s=new gC(n,a);i.push(this.ht(e,s))}),z.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(Kn(a.getCollectionPath())));const o=[];return i.forEach(a=>{const s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);o.push($d(e).j("collectionPathOverlayIndex",s))}),z.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Bi(),o=Kn(n),a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return $d(e).U("collectionPathOverlayIndex",a).next(s=>{for(const l of s){const u=bE(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Bi();let a;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return $d(e).J({index:"collectionGroupOverlayIndex",range:s},(l,u,c)=>{const d=bE(this.serializer,u);o.size()<i||d.largestBatchId===a?(o.set(d.getKey(),d),a=d.largestBatchId):c.done()}).next(()=>o)}ht(e,n){return $d(e).put(function(i,o,a){const[s,l,u]=lL(o,a.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:py(i.ct,a.mutation)}}(this.serializer,this.userId,n))}}function $d(t){return sn(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tIe{Pt(e){return sn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?zt.fromUint8Array(r):zt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Tt(e.integerValue));else if("doubleValue"in e){const r=Tt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Eh(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Wo(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(fs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?hG(e)?this.dt(n,Number.MAX_SAFE_INTEGER):b_(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):se()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const a="value",s=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Tt(s)),this.Vt(a,n),this.Tt(o[a],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ee.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Ks.vt=new Ks;function nIe(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function fL(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const a=nIe(255&r[o]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class rIe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=fL(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=fL(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class iIe{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class oIe{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Gd{constructor(){this.jt=new rIe,this.Ht=new iIe(this.jt),this.Jt=new oIe(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ws(this.indexId,this.documentKey,this.arrayValue,r)}}function ha(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=hL(t.arrayValue,e.arrayValue),n!==0?n:(n=hL(t.directionalValue,e.directionalValue),n!==0?n:ee.comparator(t.documentKey,e.documentKey)))}function hL(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.Xt=new nt((n,r)=>wt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(ue(e.collectionGroup===this.collectionId),this.nn)return!1;const n=oS(e);if(n!==void 0&&!this.sn(n))return!1;const r=Gs(e);let i=new Set,o=0,a=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){const s=this.Xt.getIterator().getNext();if(!i.has(s.field.canonicalString())){const l=r[o];if(!this.on(s,l)||!this._n(this.en[a++],l))return!1}++o}for(;o<r.length;++o){const s=r[o];if(a>=this.en.length||!this._n(this.en[a++],s))return!1}return!0}an(){if(this.nn)return null;let e=new nt(wt.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new hg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new hg(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new hg(r.field,r.dir==="asc"?0:1)));return new uy(uy.UNKNOWN_ID,this.collectionId,n,bh.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(t){var e,n;if(ue(t instanceof Re||t instanceof Xe),t instanceof Re){if(t instanceof TG){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Re.create(t.field,"==",o)))||[];return Xe.create(i,"or")}return t}const r=t.filters.map(i=>nq(i));return Xe.create(r,t.op)}function aIe(t){if(t.getFilters().length===0)return[];const e=_S(nq(t));return ue(rq(e)),vS(e)||yS(e)?[e]:e.getFilters()}function vS(t){return t instanceof Re}function yS(t){return t instanceof Xe&&cC(t)}function rq(t){return vS(t)||yS(t)||function(n){if(n instanceof Xe&&uS(n)){for(const r of n.getFilters())if(!vS(r)&&!yS(r))return!1;return!0}return!1}(t)}function _S(t){if(ue(t instanceof Re||t instanceof Xe),t instanceof Re)return t;if(t.filters.length===1)return _S(t.filters[0]);const e=t.filters.map(r=>_S(r));let n=Xe.create(e,t.op);return n=gy(n),rq(n)?n:(ue(n instanceof Xe),ue(_c(n)),ue(n.filters.length>1),n.filters.reduce((r,i)=>_C(r,i)))}function _C(t,e){let n;return ue(t instanceof Re||t instanceof Xe),ue(e instanceof Re||e instanceof Xe),n=t instanceof Re?e instanceof Re?function(i,o){return Xe.create([i,o],"and")}(t,e):mL(t,e):e instanceof Re?mL(e,t):function(i,o){if(ue(i.filters.length>0&&o.filters.length>0),_c(i)&&_c(o))return _G(i,o.getFilters());const a=uS(i)?i:o,s=uS(i)?o:i,l=a.filters.map(u=>_C(u,s));return Xe.create(l,"or")}(t,e),gy(n)}function mL(t,e){if(_c(e))return _G(e,t.getFilters());{const n=e.filters.map(r=>_C(t,r));return Xe.create(n,"or")}}function gy(t){if(ue(t instanceof Re||t instanceof Xe),t instanceof Re)return t;const e=t.getFilters();if(e.length===1)return gy(e[0]);if(vG(t))return t;const n=e.map(i=>gy(i)),r=[];return n.forEach(i=>{i instanceof Re?r.push(i):i instanceof Xe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Xe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sIe{constructor(){this.un=new bC}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Nr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Nr.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class bC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(He.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new Uint8Array(0);class lIe{constructor(e,n){this.databaseId=n,this.cn=new bC,this.ln=new ws(r=>Nl(r),(r,i)=>Tp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const o={collectionId:r,parent:Kn(i)};return gL(e).put(o)}return z.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[eG(n),""],!1,!0);return gL(e).U(i).next(o=>{for(const a of o){if(a.collectionId!==n)break;r.push(Ui(a.parent))}return r})}addFieldIndex(e,n){const r=qd(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const a=iu(e);return o.next(s=>{a.put(uL(s,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=qd(e),i=iu(e),o=ru(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=qd(e),r=ru(e),i=iu(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return z.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new pL(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=ru(e);let i=!0;const o=new Map;return z.forEach(this.hn(n),a=>this.Pn(e,a).next(s=>{i&&(i=!!s),o.set(a,s)})).next(()=>{if(i){let a=Ee();const s=[];return z.forEach(o,(l,u)=>{H("IndexedDbIndexManager",`Using index ${function(S){return`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(l)} to execute ${Nl(n)}`);const c=function(S,w){const M=oS(w);if(M===void 0)return null;for(const N of dy(S,M.fieldPath))switch(N.op){case"array-contains-any":return N.value.arrayValue.values||[];case"array-contains":return[N.value]}return null}(u,l),d=function(S,w){const M=new Map;for(const N of Gs(w))for(const I of dy(S,N.fieldPath))switch(I.op){case"==":case"in":M.set(N.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return M.set(N.fieldPath.canonicalString(),I.value),Array.from(M.values())}return null}(u,l),f=function(S,w){const M=[];let N=!0;for(const I of Gs(w)){const P=I.kind===0?W2(S,I.fieldPath,S.startAt):Y2(S,I.fieldPath,S.startAt);M.push(P.value),N&&(N=P.inclusive)}return new yc(M,N)}(u,l),p=function(S,w){const M=[];let N=!0;for(const I of Gs(w)){const P=I.kind===0?Y2(S,I.fieldPath,S.endAt):W2(S,I.fieldPath,S.endAt);M.push(P.value),N&&(N=P.inclusive)}return new yc(M,N)}(u,l),v=this.In(l,u,f),E=this.In(l,u,p),y=this.Tn(l,u,d),_=this.En(l.indexId,c,v,f.inclusive,E,p.inclusive,y);return z.forEach(_,T=>r.G(T,n.limit).next(S=>{S.forEach(w=>{const M=ee.fromSegments(w.documentKey);a.has(M)||(a=a.add(M),s.push(M))})}))}).next(()=>s)}return z.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=aIe(Xe.create(e.filters,"and")).map(r=>dS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,o,a,s){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const f=n?this.dn(n[d/u]):Om,p=this.An(e,f,r[d%u],i),v=this.Rn(e,f,o[d%u],a),E=s.map(y=>this.An(e,f,y,!0));c.push(...this.createRange(p,v,E))}return c}An(e,n,r,i){const o=new Ws(e,ee.empty(),n,r);return i?o:o.Zt()}Rn(e,n,r,i){const o=new Ws(e,ee.empty(),n,r);return i?o.Zt():o}Pn(e,n){const r=new pL(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let a=null;for(const s of o)r.rn(s)&&(!a||s.fields.length>a.fields.length)&&(a=s);return a})}getIndexType(e,n){let r=2;const i=this.hn(n);return z.forEach(i,o=>this.Pn(e,o).next(a=>{a?r!==0&&a.fields.length<function(l){let u=new nt(wt.comparator),c=!1;for(const d of l.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?c=!0:u=u.add(f.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(o)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Gd;for(const i of Gs(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const a=r.Yt(i.kind);Ks.vt.It(o,a)}return r.zt()}dn(e){const n=new Gd;return Ks.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Gd;return Ks.vt.It(Sh(this.databaseId,n),r.Yt(function(o){const a=Gs(o);return a.length===0?0:a[a.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Gd);let o=0;for(const a of Gs(e)){const s=r[o++];for(const l of i)if(this.fn(n,a.fieldPath)&&xh(s))i=this.gn(i,a,s);else{const u=l.Yt(a.kind);Ks.vt.It(s,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],o=[];for(const a of r.arrayValue.values||[])for(const s of i){const l=new Gd;l.seed(s.zt()),Ks.vt.It(a,l.Yt(n.kind)),o.push(l)}return o}fn(e,n){return!!e.filters.find(r=>r instanceof Re&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=qd(e),i=iu(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const a=[];return z.forEach(o,s=>i.get([s.indexId,this.uid]).next(l=>{a.push(function(c,d){const f=d?new bh(d.sequenceNumber,new Nr(Ol(d.readTime),new ee(Ui(d.documentKey)),d.largestBatchId)):bh.empty(),p=c.fields.map(([v,E])=>new hg(wt.fromServerFormat(v),E));return new uy(c.indexId,c.collectionGroup,p,f)}(s,l))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ge(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=qd(e),o=iu(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(s=>z.forEach(s,l=>o.put(uL(l.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return z.forEach(n,(i,o)=>{const a=r.get(i.collectionGroup);return(a?z.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),z.forEach(s,l=>this.wn(e,i,l).next(u=>{const c=this.Sn(o,l);return u.isEqual(c)?z.resolve():this.bn(e,o,l,u,c)}))))})}Dn(e,n,r,i){return ru(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return ru(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=ru(e);let o=new nt(ha);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(a,s)=>{o=o.add(new Ws(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>o)}Sn(e,n){let r=new nt(ha);const i=this.Vn(n,e);if(i==null)return r;const o=oS(n);if(o!=null){const a=e.data.field(o.fieldPath);if(xh(a))for(const s of a.arrayValue.values||[])r=r.add(new Ws(n.indexId,e.key,this.dn(s),i))}else r=r.add(new Ws(n.indexId,e.key,Om,i));return r}bn(e,n,r,i,o){H("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return function(l,u,c,d,f){const p=l.getIterator(),v=u.getIterator();let E=nu(p),y=nu(v);for(;E||y;){let _=!1,T=!1;if(E&&y){const S=c(E,y);S<0?T=!0:S>0&&(_=!0)}else E!=null?T=!0:_=!0;_?(d(y),y=nu(v)):T?(f(E),E=nu(p)):(E=nu(p),y=nu(v))}}(i,o,ha,s=>{a.push(this.Dn(e,n,r,s))},s=>{a.push(this.vn(e,n,r,s))}),z.waitFor(a)}yn(e){let n=1;return iu(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,s)=>ha(a,s)).filter((a,s,l)=>!s||ha(a,l[s-1])!==0);const i=[];i.push(e);for(const a of r){const s=ha(a,e),l=ha(a,n);if(s===0)i[0]=e.Zt();else if(s>0&&l<0)i.push(a),i.push(a.Zt());else if(l>0)break}i.push(n);const o=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const s=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Om,[]],l=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Om,[]];o.push(IDBKeyRange.bound(s,l))}return o}Cn(e,n){return ha(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(vL)}getMinOffset(e,n){return z.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||se())).next(vL)}}function gL(t){return sn(t,"collectionParents")}function ru(t){return sn(t,"indexEntries")}function qd(t){return sn(t,"indexConfiguration")}function iu(t){return sn(t,"indexState")}function vL(t){ue(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;oC(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Nr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class nr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.J({range:a},(c,d,f)=>(s++,f.delete()));o.push(l.next(()=>{ue(s===1)}));const u=[];for(const c of n.mutations){const d=sG(e,c.key.path,n.batchId);o.push(i.delete(d)),u.push(c.key)}return z.waitFor(o).next(()=>u)}function vy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw se();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(41943040,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);class w_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){ue(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new w_(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pa(e).J({index:"userMutationsIndex",range:r},(i,o,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=mu(e),a=pa(e);return a.add({}).next(s=>{ue(typeof s=="number");const l=new pC(s,n,r,i),u=function(p,v,E){const y=E.baseMutations.map(T=>py(p.ct,T)),_=E.mutations.map(T=>py(p.ct,T));return{userId:v,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:y,mutations:_}}(this.serializer,this.userId,l),c=[];let d=new nt((f,p)=>ge(f.canonicalString(),p.canonicalString()));for(const f of i){const p=sG(this.userId,f.key.path,s);d=d.add(f.key.path.popLast()),c.push(a.put(u)),c.push(o.put(p,qxe))}return d.forEach(f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[s]=l.keys()}),z.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return pa(e).get(n).next(r=>r?(ue(r.userId===this.userId),Hs(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?z.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return pa(e).J({index:"userMutationsIndex",range:i},(a,s,l)=>{s.userId===this.userId&&(ue(s.batchId>=r),o=Hs(this.serializer,s)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return pa(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,a)=>{r=o.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pa(e).U("userMutationsIndex",n).next(r=>r.map(i=>Hs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=pg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return mu(e).J({range:i},(a,s,l)=>{const[u,c,d]=a,f=Ui(c);if(u===this.userId&&n.path.isEqual(f))return pa(e).get(d).next(p=>{if(!p)throw se();ue(p.userId===this.userId),o.push(Hs(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(ge);const i=[];return n.forEach(o=>{const a=pg(this.userId,o.path),s=IDBKeyRange.lowerBound(a),l=mu(e).J({range:s},(u,c,d)=>{const[f,p,v]=u,E=Ui(p);f===this.userId&&o.path.isEqual(E)?r=r.add(v):d.done()});i.push(l)}),z.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=pg(this.userId,r),a=IDBKeyRange.lowerBound(o);let s=new nt(ge);return mu(e).J({range:a},(l,u,c)=>{const[d,f,p]=l,v=Ui(f);d===this.userId&&r.isPrefixOf(v)?v.length===i&&(s=s.add(p)):c.done()}).next(()=>this.xn(e,s))}xn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(pa(e).get(o).next(a=>{if(a===null)throw se();ue(a.userId===this.userId),r.push(Hs(this.serializer,a))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return iq(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return z.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return mu(e).J({range:r},(o,a,s)=>{if(o[0]===this.userId){const l=Ui(o[1]);i.push(l)}else s.done()}).next(()=>{ue(i.length===0)})})}containsKey(e,n){return oq(e,this.userId,n)}Nn(e){return aq(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oq(t,e,n){const r=pg(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return mu(t).J({range:o,H:!0},(s,l,u)=>{const[c,d,f]=s;c===e&&d===i&&(a=!0),u.done()}).next(()=>a)}function pa(t){return sn(t,"mutations")}function mu(t){return sn(t,"documentMutations")}function aq(t){return sn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Dl(0)}static kn(){return new Dl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uIe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Dl(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>ce.fromTimestamp(new St(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ou(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(ue(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return ou(e).J((a,s)=>{const l=lf(s);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>z.waitFor(o)).next(()=>i)}forEachTarget(e,n){return ou(e).J((r,i)=>{const o=lf(i);n(o)})}qn(e){return _L(e).get("targetGlobalKey").next(n=>(ue(n!==null),n))}Qn(e,n){return _L(e).put("targetGlobalKey",n)}Kn(e,n){return ou(e).put(eq(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Nl(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return ou(e).J({range:i,index:"queryTargetsIndex"},(a,s,l)=>{const u=lf(s);Tp(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Ra(e);return n.forEach(a=>{const s=Kn(a.path);i.push(o.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,a))}),z.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ra(e);return z.forEach(n,o=>{const a=Kn(o.path);return z.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Ra(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ra(e);let o=Ee();return i.J({range:r,H:!0},(a,s,l)=>{const u=Ui(a[1]),c=new ee(u);o=o.add(c)}).next(()=>o)}containsKey(e,n){const r=Kn(n.path),i=IDBKeyRange.bound([r],[eG(r)],!1,!0);let o=0;return Ra(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,s],l,u)=>{a!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return ou(e).get(n).next(r=>r?lf(r):null)}}function ou(t){return sn(t,"targets")}function _L(t){return sn(t,"targetGlobal")}function Ra(t){return sn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class cIe{constructor(e){this.Un=e,this.buffer=new nt(bL),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bL(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dIe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){H("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xs(n)?H("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ss(n)}await this.Hn(3e5)})}}class fIe{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(sr.oe);const r=new cIe(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(yL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yL):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,a,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,s=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),du()<=Ce.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function hIe(t,e){return new fIe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pIe{constructor(e,n){this.db=e,this.garbageCollector=hIe(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Dm(e,r)}removeReference(e,n,r){return Dm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Dm(e,n)}nr(e,n){return function(i,o){let a=!1;return aq(i).Y(s=>oq(i,s,o).next(l=>(l&&(a=!0),z.resolve(!l)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.tr(e,(a,s)=>{if(s<=n){const l=this.nr(e,a).next(u=>{if(!u)return o++,r.getEntry(e,a).next(()=>(r.removeEntry(a,ce.min()),Ra(e).delete(function(d){return[0,Kn(d.path)]}(a))))});i.push(l)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Dm(e,n)}tr(e,n){const r=Ra(e);let i,o=sr.oe;return r.J({index:"documentTargetsIndex"},([a,s],{path:l,sequenceNumber:u})=>{a===0?(o!==sr.oe&&n(new ee(Ui(i)),o),o=u,i=l):o=sr.oe}).next(()=>{o!==sr.oe&&n(new ee(Ui(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Dm(t,e){return Ra(t).put(function(r,i){return{targetId:0,path:Kn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(){this.changes=new ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mIe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ds(e).put(r)}removeEntry(e,n,r){return Ds(e).delete(function(o,a){const s=o.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],my(a),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=Ot.newInvalidDocument(n);return Ds(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Hd(n))},(i,o)=>{r=this.ir(n,o)}).next(()=>r)}sr(e,n){let r={size:0,document:Ot.newInvalidDocument(n)};return Ds(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Hd(n))},(i,o)=>{r={document:this.ir(n,o),size:vy(o)}}).next(()=>r)}getEntries(e,n){let r=Er();return this._r(e,n,(i,o)=>{const a=this.ir(i,o);r=r.insert(i,a)}).next(()=>r)}ar(e,n){let r=Er(),i=new ft(ee.comparator);return this._r(e,n,(o,a)=>{const s=this.ir(o,a);r=r.insert(o,s),i=i.insert(o,vy(a))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return z.resolve();let i=new nt(AL);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(Hd(i.first()),Hd(i.last())),a=i.getIterator();let s=a.getNext();return Ds(e).J({index:"documentKeyIndex",range:o},(l,u,c)=>{const d=ee.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;s&&AL(s,d)<0;)r(s,null),s=a.getNext();s&&s.isEqual(d)&&(r(s,u),s=a.hasNext()?a.getNext():null),s?c.$(Hd(s)):c.done()}).next(()=>{for(;s;)r(s,null),s=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const a=n.path,s=[a.popLast().toArray(),a.lastSegment(),my(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ds(e).U(IDBKeyRange.bound(s,l,!0)).next(u=>{o==null||o.incrementDocumentReadCount(u.length);let c=Er();for(const d of u){const f=this.ir(ee.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(Ap(n,f)||i.has(f.key))&&(c=c.insert(f.key,f))}return c})}getAllFromCollectionGroup(e,n,r,i){let o=Er();const a=TL(n,r),s=TL(n,Nr.max());return Ds(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(l,u,c)=>{const d=this.ir(ee.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(d.key,d),o.size===i&&c.done()}).next(()=>o)}newChangeBuffer(e){return new gIe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return EL(e).get("remoteDocumentGlobalKey").next(n=>(ue(!!n),n))}rr(e,n){return EL(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=Zwe(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ce.min())))return r}return Ot.newInvalidDocument(e)}}function lq(t){return new mIe(t)}class gIe extends sq{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new ws(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new nt((o,a)=>ge(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const s=this.lr.get(o);if(n.push(this.cr.removeEntry(e,o,s.readTime)),a.isValidDocument()){const l=sL(this.cr.serializer,a);i=i.add(o.path.popLast());const u=vy(l);r+=u-s.size,n.push(this.cr.addEntry(e,o,l))}else if(r-=s.size,this.trackRemovals){const l=sL(this.cr.serializer,a.convertToNoDocument(ce.min()));n.push(this.cr.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.cr.updateMetadata(e,r)),z.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((o,a)=>{this.lr.set(o,{size:a,readTime:r.get(o).readTime})}),r))}}function EL(t){return sn(t,"remoteDocumentGlobal")}function Ds(t){return sn(t,"remoteDocumentsV14")}function Hd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function TL(t,e){const n=e.documentKey.path.toArray();return[t,my(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function AL(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ge(n[o],r[o]),i)return i;return i=ge(n.length,r.length),i||(i=ge(n[n.length-2],r[r.length-2]),i||ge(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vIe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nf(r.mutation,i,lr.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=Bi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=af();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Er();const a=Rf(),s=function(){return Rf()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof aa)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Nf(c.mutation,u,c.mutation.getFieldMask(),St.now())):a.set(u.key,lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var d;return s.set(u,new vIe(c,(d=a.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Rf();let i=new ft((a,s)=>a-s),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||lr.empty();c=s.applyToLocalView(u,c),r.set(l,c);const d=(i.get(s.batchId)||Ee()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=RG();c.forEach(f=>{if(!o.has(f)){const p=LG(n.get(f),r.get(f));p!==null&&d.set(f,p),o=o.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,d))}return z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):z.resolve(Bi());let s=-1,l=o;return a.next(u=>z.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),o.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ee())).next(c=>({batchId:s,changes:PG(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=af();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=af();return this.indexManager.getCollectionParents(e,o).next(s=>z.forEach(s,l=>{const u=function(d,f){return new ld(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{a=a.insert(d,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Ot.newInvalidDocument(c)))});let s=af();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Nf(c.mutation,u,lr.empty(),St.now()),Ap(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yIe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wn(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:tq(i.bundledQuery),readTime:Wn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Ie{constructor(){this.overlays=new ft(ee.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bi();return z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Bi(),o=n.length+1,a=new ee(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ft((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Bi(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Bi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return z.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new gC(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ee(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bIe{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.Tr=new nt(dn.Er),this.dr=new nt(dn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new dn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ee(new He([])),r=new dn(n,e),i=new dn(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ee(new He([])),r=new dn(n,e),i=new dn(n,e+1);let o=Ee();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new dn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||ge(e.wr,n.wr)}static Ar(e,n){return ge(e.wr,n.wr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EIe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new nt(dn.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new pC(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new dn(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),i=new dn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(ge);return n.forEach(i=>{const o=new dn(i,0),a=new dn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const a=new dn(new ee(o),0);let s=new nt(ge);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),z.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,i=>{const o=new dn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new dn(n,0),i=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TIe{constructor(e){this.Mr=e,this.docs=function(){return new ft(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=Er();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ot.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Er();const a=n.path,s=new ee(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||oC(nG(c),r)<=0||(i.has(c.key)||Ap(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AIe(this)}getSize(e){return z.resolve(this.size)}}class AIe extends sq{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SIe{constructor(e){this.persistence=e,this.Nr=new ws(n=>Nl(n),Tp),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new EC,this.targetCount=0,this.kr=Dl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e,n){this.qr={},this.overlays={},this.Qr=new sr(0),this.Kr=!1,this.Kr=!0,this.$r=new bIe,this.referenceDelegate=e(this),this.Ur=new SIe(this),this.indexManager=new sIe,this.remoteDocumentCache=function(i){return new TIe(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ZG(n),this.Gr=new yIe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _Ie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new EIe(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new xIe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class xIe extends iG{constructor(e){super(),this.currentSequenceNumber=e}}class I_{constructor(e){this.persistence=e,this.Jr=new EC,this.Yr=null}static Zr(e){return new I_(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const i=ee.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wIe{constructor(e){this.serializer=e}O(e,n,r,i){const o=new y_("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",V2,{unique:!0}),l.createObjectStore("documentMutations")}(e),SL(e),function(l){l.createObjectStore("remoteDocuments")}(e));let a=z.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),SL(e)),a=a.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ce.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(o))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(l,u){return u.store("mutations").U().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",V2,{unique:!0});const d=u.store("mutations"),f=c.map(p=>d.put(p));return z.waitFor(f)})}(e,o))),a=a.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.ni(o))),r<6&&i>=6&&(a=a.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(a=a.next(()=>this.ii(o))),r<8&&i>=8&&(a=a.next(()=>this.si(e,o))),r<9&&i>=9&&(a=a.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.oi(o))),r<11&&i>=11&&(a=a.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:rwe});u.createIndex("collectionPathOverlayIndex",iwe,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",owe,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:Hxe});u.createIndex("documentKeyIndex",Kxe),u.createIndex("collectionGroupIndex",Wxe)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(a=a.next(()=>this.ai(e,o))),r<15&&i>=15&&(a=a.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Zxe}).createIndex("sequenceNumberIndex",ewe,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:twe}).createIndex("documentKeyIndex",nwe,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=vy(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>z.forEach(i,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next(s=>z.forEach(s,l=>{ue(l.userId===o.userId);const u=Hs(this.serializer,l);return iq(e,o.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((a,s)=>{const l=new He(a),u=function(d){return[0,Kn(d)]}(l);o.push(n.get(u).next(c=>c?z.resolve():(d=>n.put({targetId:0,path:Kn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>z.waitFor(o))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:Xxe});const r=n.store("collectionParents"),i=new bC,o=a=>{if(i.add(a)){const s=a.lastSegment(),l=a.popLast();return r.put({collectionId:s,parent:Kn(l)})}};return n.store("remoteDocuments").J({H:!0},(a,s)=>{const l=new He(a);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([a,s,l],u)=>{const c=Ui(s);return o(c.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const o=lf(i),a=eq(this.serializer,o);return n.put(a)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,a)=>{const s=n.store("remoteDocumentsV14"),l=function(d){return d.document?new ee(He.fromString(d.document.name).popFirst(5)):d.noDocument?ee.fromSegments(d.noDocument.path):d.unknownDocument?ee.fromSegments(d.unknownDocument.path):se()}(a).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(s.put(u))}).next(()=>z.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=lq(this.serializer),o=new cq(I_.Zr,this.serializer.ct);return r.U().next(a=>{const s=new Map;return a.forEach(l=>{var u;let c=(u=s.get(l.userId))!==null&&u!==void 0?u:Ee();Hs(this.serializer,l).keys().forEach(d=>c=c.add(d)),s.set(l.userId,c)}),z.forEach(s,(l,u)=>{const c=new Dn(u),d=x_.lt(this.serializer,c),f=o.getIndexManager(c),p=w_.lt(c,this.serializer,f,o.referenceDelegate);return new uq(i,p,d,f).recalculateAndSaveOverlaysForDocumentKeys(new aS(n,sr.oe),l).next()})})}}function SL(t){t.createObjectStore("targetDocuments",{keyPath:Jxe}).createIndex("documentTargetsIndex",Qxe,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yxe,{unique:!0}),t.createObjectStore("targetGlobal")}const EE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class TC{constructor(e,n,r,i,o,a,s,l,u,c,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=o,this.window=a,this.document=s,this.ci=u,this.li=c,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!TC.D())throw new Q($.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pIe(this,i),this.Ai=n+"main",this.serializer=new ZG(l),this.Ri=new es(this.Ai,this.hi,new wIe(this.serializer)),this.$r=new tIe,this.Ur=new uIe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lq(this.serializer),this.Gr=new eIe,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&Ut("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Q($.FAILED_PRECONDITION,EE);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new sr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>km(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(xs(e))return H("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return H("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Kd(e).get("owner").next(n=>z.resolve(this.vi(n)))}Ci(e){return km(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=sn(n,"clientMetadata");return r.U().next(i=>{const o=this.xi(i,18e5),a=i.filter(s=>o.indexOf(s)===-1);return z.forEach(a,s=>r.delete(s.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?z.resolve(!0):Kd(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new Q($.FAILED_PRECONDITION,EE);return!1}}return!(!this.networkEnabled||!this.inForeground)||km(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(o||a&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&H("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new aS(e,sr.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>km(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return w_.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lIe(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return x_.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===17?lwe:l===16?swe:l===15?sC:l===14?cG:l===13?uG:l===12?awe:l===11?lG:void se()}(this.hi);let a;return this.Ri.runTransaction(e,i,o,s=>(a=new aS(s,this.Qr?this.Qr.next():sr.oe),n==="readwrite-primary"?this.wi(a).next(l=>!!l||this.Si(a)).next(l=>{if(!l)throw Ut(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Q($.FAILED_PRECONDITION,rG);return r(a)}).next(l=>this.Di(a).next(()=>l)):this.Ki(a).next(()=>r(a)))).then(s=>(a.raiseOnCommittedEvent(),s))}Ki(e){return Kd(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Q($.FAILED_PRECONDITION,EE)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kd(e).put("owner",n)}static D(){return es.D()}bi(e){const n=Kd(e);return n.get("owner").next(r=>this.vi(r)?(H("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):z.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Ut(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;s6()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return H("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ut("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ut("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kd(t){return sn(t,"owner")}function km(t){return sn(t,"clientMetadata")}function dq(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ee(),i=Ee();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new AC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IIe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return s6()?8:oG(nn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new IIe;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(du()<=Ce.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",fu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(du()<=Ce.DEBUG&&H("QueryEngine","Query:",fu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(du()<=Ce.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",fu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):z.resolve())}Yi(e,n){if(J2(n))return z.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fy(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ee(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,fy(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return J2(n)||i.isEqual(ce.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?z.resolve(null):(du()<=Ce.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fu(n)),this.rs(e,a,n,tG(i,-1)).next(s=>s))})}ts(e,n){let r=new nt(IG(e));return n.forEach((i,o)=>{Ap(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return du()<=Ce.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",fu(n)),this.Ji.getDocumentsMatchingQuery(e,n,Nr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CIe{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ft(ge),this._s=new ws(o=>Nl(o),Tp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uq(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function hq(t,e,n,r){return new CIe(t,e,n,r)}async function pq(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Ee();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function PIe(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,f=d.keys();let p=z.resolve();return f.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(E=>{const y=u.docVersions.get(v);ue(y!==null),E.version.compareTo(y)<0&&(d.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),c.addEntry(E)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ee();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mq(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function RIe(t,e){const n=le(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(zt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(E,y,_){return E.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=Er(),u=Ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(NIe(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(ce.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return z.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function NIe(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Er();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):H("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function MIe(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yy(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new So(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ac(t,e,n){const r=le(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!xs(a))throw a;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function bS(t,e,n){const r=le(t);let i=ce.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const d=le(l),f=d._s.get(c);return f!==void 0?z.resolve(d.os.get(f)):d.Ur.getTargetData(u,c)}(r,a,Ir(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:ce.min(),n?o:Ee())).next(s=>(yq(r,wG(e),s),{documents:s,Ts:o})))}function gq(t,e){const n=le(t),r=le(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(a=>a?a.target:null))}function vq(t,e){const n=le(t),r=n.us.get(e)||ce.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,tG(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(yq(n,e,i),i))}function yq(t,e,n){let r=t.us.get(e)||ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}function xL(t,e){return`firestore_clients_${t}_${e}`}function wL(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function TE(t,e){return`firestore_targets_${t}_${e}`}class _y{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let o,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(o=new Q(i.error.code,i.error.message))),a?new _y(e,n,i.state,o):(Ut("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mf{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new Q(r.error.code,r.error.message))),o?new Mf(e,r.state,i):(Ut("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class by{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=fC();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=aG(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new by(e,o):(Ut("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class SC{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new SC(n.clientId,n.onlineState):(Ut("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ES{constructor(){this.activeTargetIds=fC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AE{constructor(e,n,r,i,o){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ft(ge),this.started=!1,this.bs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=xL(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new ES),this.Cs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(xL(this.persistenceKey,r));if(i){const o=by.Rs(r,i);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(TE(this.persistenceKey,e));if(i){const o=Mf.Rs(e,i);o&&(r=o.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(TE(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return H("SharedClientState","READ",e,n),n}setItem(e,n){H("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){H("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(H("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void Ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(o){let a=sr.oe;if(o!=null)try{const s=JSON.parse(o);ue(typeof s=="number"),a=s}catch(s){Ut("SharedClientState","Failed to read sequence number from WebStorage",s)}return a}(n.newValue);r!==sr.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new _y(this.currentUser,e,n,r),o=wL(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Vs())}Qs(e){const n=wL(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=TE(this.persistenceKey,e),o=new Mf(e,n,r);this.setItem(i,o.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return by.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return _y.Rs(new Dn(o),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return Mf.Rs(i,n)}Ls(e){return SC.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);H("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),o=this.ks(r),a=[],s=[];return o.forEach(l=>{i.has(l)||a.push(l)}),i.forEach(l=>{o.has(l)||s.push(l)}),this.syncEngine.io(a,s).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=fC();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class _q{constructor(){this.so=new ES,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ES,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OIe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm=null;function SE(){return Lm===null?Lm=function(){return 268435456+Math.round(2147483648*Math.random())}():Lm++,"0x"+Lm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DIe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kIe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class LIe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=SE(),l=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(H("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw yh("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sd}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=DIe[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=SE();return new Promise((a,s)=>{const l=new W6;l.setWithCredentials(!0),l.listenOnce(Y6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case fg.NO_ERROR:const c=l.getResponseJson();H(Mn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case fg.TIMEOUT:H(Mn,`RPC '${e}' ${o} timed out`),s(new Q($.DEADLINE_EXCEEDED,"Request time out"));break;case fg.HTTP_ERROR:const d=l.getStatus();if(H(Mn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const v=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(p.status);s(new Q(v,p.message))}else s(new Q($.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new Q($.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{H(Mn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);H(Mn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=SE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=X6(),s=Q6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");H(Mn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=a.createWebChannel(c,l);let f=!1,p=!1;const v=new kIe({Io:y=>{p?H(Mn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(H(Mn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),H(Mn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),E=(y,_,T)=>{y.listen(_,S=>{try{T(S)}catch(w){setTimeout(()=>{throw w},0)}})};return E(d,of.EventType.OPEN,()=>{p||(H(Mn,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),E(d,of.EventType.CLOSE,()=>{p||(p=!0,H(Mn,`RPC '${e}' stream ${i} transport closed`),v.So())}),E(d,of.EventType.ERROR,y=>{p||(p=!0,yh(Mn,`RPC '${e}' stream ${i} transport errored:`,y),v.So(new Q($.UNAVAILABLE,"The operation could not be completed")))}),E(d,of.EventType.MESSAGE,y=>{var _;if(!p){const T=y.data[0];ue(!!T);const S=T,w=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(w){H(Mn,`RPC '${e}' stream ${i} received error:`,w);const M=w.status;let N=function(R){const O=qt[R];if(O!==void 0)return BG(O)}(M),I=w.message;N===void 0&&(N=$.INTERNAL,I="Unknown error status: "+M+" with message "+w.message),p=!0,v.So(new Q(N,I)),d.close()}else H(Mn,`RPC '${e}' stream ${i} received:`,T),v.bo(T)}}),E(s,J6.STAT_EVENT,y=>{y.stat===iS.PROXY?H(Mn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===iS.NOPROXY&&H(Mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(){return typeof window<"u"?window:null}function _g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){return new $we(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Eq(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ut(n.toString()),Ut("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Q($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VIe extends Tq{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Hwe(this.serializer,e),r=function(o){if(!("targetChange"in o))return ce.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ce.min():a.readTime?Wn(a.readTime):ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=mS(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=cy(l)?{documents:KG(o,l)}:{query:WG(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=jG(o,a.resumeToken);const u=hS(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(ce.min())>0){s.readTime=Tc(o,a.snapshotVersion.toTimestamp());const u=hS(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=Wwe(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=mS(this.serializer),n.removeTarget=e,this.a_(n)}}class UIe extends Tq{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ue(!!e.streamToken),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Kwe(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=mS(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>py(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BIe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,pS(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q($.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,pS(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Q($.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class FIe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ut(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zIe{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{ql(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=le(l);u.L_.add(4),await wp(u),u.q_.set("Unknown"),u.L_.delete(4),await P_(u)}(this))})}),this.q_=new FIe(r,i)}}async function P_(t){if(ql(t))for(const e of t.B_)await e(!0)}async function wp(t){for(const e of t.B_)await e(!1)}function R_(t,e){const n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),IC(n)?wC(n):dd(n).r_()&&xC(n,e))}function Sc(t,e){const n=le(t),r=dd(n);n.N_.delete(e),r.r_()&&Aq(n,e),n.N_.size===0&&(r.r_()?r.o_():ql(n)&&n.q_.set("Unknown"))}function xC(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dd(t).A_(e)}function Aq(t,e){t.Q_.xe(e),dd(t).R_(e)}function wC(t){t.Q_=new Bwe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),dd(t).start(),t.q_.v_()}function IC(t){return ql(t)&&!dd(t).n_()&&t.N_.size>0}function ql(t){return le(t).L_.size===0}function Sq(t){t.Q_=void 0}async function jIe(t){t.q_.set("Online")}async function $Ie(t){t.N_.forEach((e,n)=>{xC(t,e)})}async function GIe(t,e){Sq(t),IC(t)?(t.q_.M_(e),wC(t)):t.q_.set("Unknown")}async function qIe(t,e,n){if(t.q_.set("Online"),e instanceof zG&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ey(t,r)}else if(e instanceof yg?t.Q_.Ke(e):e instanceof FG?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ce.min()))try{const r=await mq(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(zt.EMPTY_BYTE_STRING,c.snapshotVersion)),Aq(o,l);const d=new So(c.target,l,u,c.sequenceNumber);xC(o,d)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await Ey(t,r)}}async function Ey(t,e,n){if(!xs(e))throw e;t.L_.add(1),await wp(t),t.q_.set("Offline"),n||(n=()=>mq(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await P_(t)})}function xq(t,e){return e().catch(n=>Ey(t,n,e))}async function cd(t){const e=le(t),n=ps(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;HIe(e);)try{const i=await MIe(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,KIe(e,i)}catch(i){await Ey(e,i)}wq(e)&&Iq(e)}function HIe(t){return ql(t)&&t.O_.length<10}function KIe(t,e){t.O_.push(e);const n=ps(t);n.r_()&&n.V_&&n.m_(e.mutations)}function wq(t){return ql(t)&&!ps(t).n_()&&t.O_.length>0}function Iq(t){ps(t).start()}async function WIe(t){ps(t).p_()}async function YIe(t){const e=ps(t);for(const n of t.O_)e.m_(n.mutations)}async function JIe(t,e,n){const r=t.O_.shift(),i=mC.from(r,e,n);await xq(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cd(t)}async function QIe(t,e){e&&ps(t).V_&&await async function(r,i){if(function(a){return Lwe(a)&&a!==$.ABORTED}(i.code)){const o=r.O_.shift();ps(r).s_(),await xq(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await cd(r)}}(t,e),wq(t)&&Iq(t)}async function CL(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=ql(n);n.L_.add(3),await wp(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await P_(n)}async function TS(t,e){const n=le(t);e?(n.L_.delete(2),await P_(n)):e||(n.L_.add(2),await wp(n),n.q_.set("Unknown"))}function dd(t){return t.K_||(t.K_=function(n,r,i){const o=le(n);return o.w_(),new VIe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:jIe.bind(null,t),Ro:$Ie.bind(null,t),mo:GIe.bind(null,t),d_:qIe.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),IC(t)?wC(t):t.q_.set("Unknown")):(await t.K_.stop(),Sq(t))})),t.K_}function ps(t){return t.U_||(t.U_=function(n,r,i){const o=le(n);return o.w_(),new UIe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WIe.bind(null,t),mo:QIe.bind(null,t),f_:YIe.bind(null,t),g_:JIe.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await cd(t)):(await t.U_.stop(),t.O_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new CC(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PC(t,e){if(Ut("AsyncQueue",`${e}: ${t}`),xs(t))return new Q($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=af(),this.sortedSet=new ft(this.comparator)}static emptySet(e){return new Yu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.W_=new ft(ee.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xc{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new xc(e,n,Yu.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&E_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XIe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ZIe{constructor(){this.queries=RL(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=le(n),o=i.queries;i.queries=RL(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new Q($.ABORTED,"Firestore shutting down"))}}function RL(){return new ws(t=>xG(t),E_)}async function eCe(t,e){const n=le(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new XIe,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=PC(a,`Initialization of query '${fu(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&RC(n)}async function tCe(t,e){const n=le(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nCe(t,e){const n=le(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&RC(n)}function rCe(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function RC(t){t.Y_.forEach(e=>{e.next()})}var AS,NL;(NL=AS||(AS={})).ea="default",NL.Cache="cache";class iCe{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==AS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e){this.key=e}}class Pq{constructor(e){this.key=e}}class oCe{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=IG(e),this.Ra=new Yu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new PL,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=Ap(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?v!==E&&(r.track({type:3,doc:p}),y=!0):this.ga(f,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(l||u)&&(s=!0)),y&&(p?(a=a.add(p),o=E?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,d)=>function(p,v){const E=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return E(p)-E(v)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new xc(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new PL,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ee(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Pq(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Cq(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ee();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return xc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class aCe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sCe{constructor(e){this.key=e,this.va=!1}}class lCe{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ws(s=>xG(s),E_),this.Ma=new Map,this.xa=new Set,this.Oa=new ft(ee.comparator),this.Na=new Map,this.La=new EC,this.Ba={},this.ka=new Map,this.qa=Dl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function uCe(t,e,n=!0){const r=N_(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Rq(r,e,n,!0),i}async function cCe(t,e){const n=N_(t);await Rq(n,e,!0,!1)}async function Rq(t,e,n,r){const i=await yy(t.localStore,Ir(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await NC(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&R_(t.remoteStore,i),s}async function NC(t,e,n,r,i){t.Ka=(d,f,p)=>async function(E,y,_,T){let S=y.view.ma(_);S.ns&&(S=await bS(E.localStore,y.query,!1).then(({documents:I})=>y.view.ma(I,S)));const w=T&&T.targetChanges.get(y.targetId),M=T&&T.targetMismatches.get(y.targetId)!=null,N=y.view.applyChanges(S,E.isPrimaryClient,w,M);return SS(E,y.targetId,N.wa),N.snapshot}(t,d,f,p);const o=await bS(t.localStore,e,!0),a=new oCe(e,o.Ts),s=a.ma(o.documents),l=xp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);SS(t,n,u.wa);const c=new aCe(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function dCe(t,e,n){const r=le(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!E_(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ac(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sc(r.remoteStore,i.targetId),wc(r,i.targetId)}).catch(Ss)):(wc(r,i.targetId),await Ac(r.localStore,i.targetId,!0))}async function fCe(t,e){const n=le(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sc(n.remoteStore,r.targetId))}async function hCe(t,e,n){const r=kC(t);try{const i=await function(a,s){const l=le(a),u=St.now(),c=s.reduce((p,v)=>p.add(v.key),Ee());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Er(),E=Ee();return l.cs.getEntries(p,c).next(y=>{v=y,v.forEach((_,T)=>{T.isValidDocument()||(E=E.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(y=>{d=y;const _=[];for(const T of s){const S=Dwe(T,d.get(T.key).overlayedDocument);S!=null&&_.push(new aa(T.key,S,mG(S.value.mapValue),Hn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,s)}).next(y=>{f=y;const _=y.applyToLocalDocumentSet(d,E);return l.documentOverlayCache.saveOverlays(p,y.batchId,_)})}).then(()=>({batchId:f.batchId,changes:PG(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new ft(ge)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Is(r,i.changes),await cd(r.remoteStore)}catch(i){const o=PC(i,"Failed to persist write");n.reject(o)}}async function Nq(t,e){const n=le(t);try{const r=await RIe(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?ue(a.va):i.removedDocuments.size>0&&(ue(a.va),a.va=!1))}),await Is(n,r,e)}catch(r){await Ss(r)}}function ML(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=le(a);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.j_)f.Z_(s)&&(u=!0)}),u&&RC(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pCe(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new ft(ee.comparator);a=a.insert(o,Ot.newNoDocument(o,ce.min()));const s=Ee().add(o),l=new Sp(ce.min(),new Map,new ft(ge),a,s);await Nq(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),DC(r)}else await Ac(r.localStore,e,!1).then(()=>wc(r,e,n)).catch(Ss)}async function mCe(t,e){const n=le(t),r=e.batch.batchId;try{const i=await PIe(n.localStore,e);OC(n,r,null),MC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Is(n,i)}catch(i){await Ss(i)}}async function gCe(t,e,n){const r=le(t);try{const i=await function(a,s){const l=le(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(ue(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);OC(r,e,n),MC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Is(r,i)}catch(i){await Ss(i)}}function MC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function OC(t,e,n){const r=le(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function wc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Mq(t,r)})}function Mq(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Sc(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),DC(t))}function SS(t,e,n){for(const r of n)r instanceof Cq?(t.La.addReference(r.key,e),vCe(t,r)):r instanceof Pq?(H("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Mq(t,r.key)):se()}function vCe(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(H("SyncEngine","New document in limbo: "+n),t.xa.add(r),DC(t))}function DC(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ee(He.fromString(e)),r=t.qa.next();t.Na.set(r,new sCe(n)),t.Oa=t.Oa.insert(n,r),R_(t.remoteStore,new So(Ir(dC(n.path)),r,"TargetPurposeLimboResolution",sr.oe))}}async function Is(t,e,n){const r=le(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=AC.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=le(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(u,f=>z.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>z.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!xs(d))throw d;H("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=c.os.get(f),v=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(f,E)}}}(r.localStore,o))}async function yCe(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await pq(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new Q($.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Is(n,r.hs)}}function _Ce(t,e){const n=le(t),r=n.Na.get(e);if(r&&r.va)return Ee().add(r.key);{let i=Ee();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}async function bCe(t,e){const n=le(t),r=await bS(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&SS(n,e.targetId,i.wa),i}async function ECe(t,e){const n=le(t);return vq(n.localStore,e).then(r=>Is(n,r))}async function TCe(t,e,n,r){const i=le(t),o=await function(s,l){const u=le(s),c=le(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Mn(d,l).next(f=>f?u.localDocuments.getDocuments(d,f):z.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await cd(i.remoteStore):n==="acknowledged"||n==="rejected"?(OC(i,e,r||null),MC(i,e),function(s,l){le(le(s).mutationQueue).On(l)}(i.localStore,e)):se(),await Is(i,o)):H("SyncEngine","Cannot apply mutation batch with id: "+e)}async function ACe(t,e){const n=le(t);if(N_(n),kC(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await OL(n,r.toArray());n.Qa=!0,await TS(n.remoteStore,!0);for(const o of i)R_(n.remoteStore,o)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach((o,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then(()=>(wc(n,a),Ac(n.localStore,a,!0))),Sc(n.remoteStore,a)}),await i,await OL(n,r),function(a){const s=le(a);s.Na.forEach((l,u)=>{Sc(s.remoteStore,u)}),s.La.pr(),s.Na=new Map,s.Oa=new ft(ee.comparator)}(n),n.Qa=!1,await TS(n.remoteStore,!1)}}async function OL(t,e,n){const r=le(t),i=[],o=[];for(const a of e){let s;const l=r.Ma.get(a);if(l&&l.length!==0){s=await yy(r.localStore,Ir(l[0]));for(const u of l){const c=r.Fa.get(u),d=await bCe(r,c);d.snapshot&&o.push(d.snapshot)}}else{const u=await gq(r.localStore,a);s=await yy(r.localStore,u),await NC(r,Oq(u),a,!1,s.resumeToken)}i.push(s)}return r.Ca.d_(o),i}function Oq(t){return AG(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function SCe(t){return function(n){return le(le(n).persistence).Qi()}(le(t).localStore)}async function xCe(t,e,n,r){const i=le(t);if(i.Qa)return void H("SyncEngine","Ignoring unexpected query state notification.");const o=i.Ma.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const a=await vq(i.localStore,wG(o[0])),s=Sp.createSynthesizedRemoteEventForCurrentChange(e,n==="current",zt.EMPTY_BYTE_STRING);await Is(i,a,s);break}case"rejected":await Ac(i.localStore,e,!0),wc(i,e,r);break;default:se()}}async function wCe(t,e,n){const r=N_(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){H("SyncEngine","Adding an already active target "+i);continue}const o=await gq(r.localStore,i),a=await yy(r.localStore,o);await NC(r,Oq(o),a.targetId,!1,a.resumeToken),R_(r.remoteStore,a)}for(const i of n)r.Ma.has(i)&&await Ac(r.localStore,i,!1).then(()=>{Sc(r.remoteStore,i),wc(r,i)}).catch(Ss)}}function N_(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_Ce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pCe.bind(null,e),e.Ca.d_=nCe.bind(null,e.eventManager),e.Ca.$a=rCe.bind(null,e.eventManager),e}function kC(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mCe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gCe.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=C_(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return hq(this.persistence,new fq,e.initialUser,this.serializer)}Ga(e){return new cq(I_.Zr,this.serializer)}Wa(e){return new _q}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class Dq extends Ph{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await kC(this.Ja.syncEngine),await cd(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return hq(this.persistence,new fq,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new dIe(r,e.asyncQueue,n)}Ha(e,n){const r=new $xe(n,this.persistence);return new jxe(e.asyncQueue,r)}Ga(e){const n=dq(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new TC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,bq(),_g(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new _q}}class ICe extends Dq{constructor(e,n){super(e,n,!1),this.Ja=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ja.syncEngine;this.sharedClientState instanceof AE&&(this.sharedClientState.syncEngine={no:TCe.bind(null,n),ro:xCe.bind(null,n),io:wCe.bind(null,n),Qi:SCe.bind(null,n),eo:ECe.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await ACe(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Wa(e){const n=bq();if(!AE.D(n))throw new Q($.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=dq(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new AE(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Rh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ML(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yCe.bind(null,this.syncEngine),await TS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZIe}()}createDatastore(e){const n=C_(e.databaseInfo.databaseId),r=function(o){return new LIe(o)}(e.databaseInfo);return function(o,a,s,l){return new BIe(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new zIe(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>ML(this.syncEngine,n,0),function(){return IL.D()?new IL:new OIe}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const d=new lCe(i,o,a,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=le(i);H("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await wp(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rh.provider={build:()=>new Rh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CCe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ut("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PCe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=Z6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{H("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(H("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=PC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xE(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pq(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function DL(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RCe(t);H("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CL(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>CL(e.remoteStore,i)),t._onlineComponents=e}async function RCe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await xE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;yh("Error using user provided cache. Falling back to memory cache: "+n),await xE(t,new Ph)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await xE(t,new Ph);return t._offlineComponents}async function kq(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await DL(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await DL(t,new Rh))),t._onlineComponents}function NCe(t){return kq(t).then(e=>e.syncEngine)}async function MCe(t){const e=await kq(t),n=e.eventManager;return n.onListen=uCe.bind(null,e.syncEngine),n.onUnlisten=dCe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cCe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fCe.bind(null,e.syncEngine),n}function OCe(t,e,n={}){const r=new Ro;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new CCe({next:f=>{c.Za(),a.enqueueAndForget(()=>tCe(o,d)),f.fromCache&&l.source==="server"?u.reject(new Q($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new iCe(s,c,{includeMetadataChanges:!0,_a:!0});return eCe(o,d)}(await MCe(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t,e,n){if(!n)throw new Q($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DCe(t,e,n,r){if(e===!0&&r===!0)throw new Q($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LL(t){if(!ee.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VL(t){if(ee.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function M_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function xS(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=M_(t);throw new Q($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function kCe(t,e){if(e<=0)throw new Q($.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DCe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lq((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class LC{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UL({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UL(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Mxe;switch(r.type){case"firstParty":return new kxe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kL.get(n);r&&(H("ComponentProvider","Removing Datastore"),kL.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Xr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xr(this.firestore,e,this._key)}}class ts extends Cs{constructor(e,n,r){super(e,n,dC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xr(this.firestore,null,new ee(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function so(t,e,...n){if(t=Cn(t),Vq("collection","path",e),t instanceof LC){const r=He.fromString(e,...n);return VL(r),new ts(t,null,r)}{if(!(t instanceof Xr||t instanceof ts))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return VL(r),new ts(t.firestore,null,r)}}function BL(t,e,...n){if(t=Cn(t),arguments.length===1&&(e=Z6.newId()),Vq("doc","path",e),t instanceof LC){const r=He.fromString(e,...n);return LL(r),new Xr(t,null,new ee(r))}{if(!(t instanceof Xr||t instanceof ts))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return LL(r),new Xr(t.firestore,t instanceof ts?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Eq(this,"async_queue_retry"),this.Vu=()=>{const r=_g();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=_g();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=_g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ro;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xs(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw Ut("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=CC.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class VC extends LC{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new FL,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FL(e),this._firestoreClient=void 0,await e}}}function LCe(t,e,n){n||(n="(default)");const r=YI(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(mh(o,e))return i;throw new Q($.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Q($.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function UC(t){if(t._terminated)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VCe(t),t._firestoreClient}function VCe(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new cwe(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Lq(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new PCe(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(zt.fromBase64String(e))}catch(n){throw new Q($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ic(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UCe=/^__.*__$/;class BCe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ud(e,this.data,n,this.fieldTransforms)}}class Uq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new aa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Bq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class jC{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new jC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ty(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Bq(this.Cu)&&UCe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class FCe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||C_(e)}Qu(e,n,r,i=!1){return new jC({Cu:e,methodName:n,qu:r,path:wt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fq(t){const e=t._freezeSettings(),n=C_(t._databaseId);return new FCe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zCe(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);$C("Data must be an object, but it was:",a,r);const s=zq(r,a);let l,u;if(o.merge)l=new lr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=wS(e,d,n);if(!a.contains(f))throw new Q($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);$q(c,f)||c.push(f)}l=new lr(c),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new BCe(new Ln(s),l,u)}class D_ extends BC{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D_}}function jCe(t,e,n,r){const i=t.Qu(1,e,n);$C("Data must be an object, but it was:",i,r);const o=[],a=Ln.empty();Gl(r,(l,u)=>{const c=GC(e,l,n);u=Cn(u);const d=i.Nu(c);if(u instanceof D_)o.push(c);else{const f=Ip(u,d);f!=null&&(o.push(c),a.set(c,f))}});const s=new lr(o);return new Uq(a,s,i.fieldTransforms)}function $Ce(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[wS(e,r,n)],l=[i];if(o.length%2!=0)throw new Q($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)s.push(wS(e,o[f])),l.push(o[f+1]);const u=[],c=Ln.empty();for(let f=s.length-1;f>=0;--f)if(!$q(u,s[f])){const p=s[f];let v=l[f];v=Cn(v);const E=a.Nu(p);if(v instanceof D_)u.push(p);else{const y=Ip(v,E);y!=null&&(u.push(p),c.set(p,y))}}const d=new lr(u);return new Uq(c,d,a.fieldTransforms)}function GCe(t,e,n,r=!1){return Ip(n,t.Qu(r?4:3,e))}function Ip(t,e){if(jq(t=Cn(t)))return $C("Unsupported field value:",e,t),zq(t,e);if(t instanceof BC)return function(r,i){if(!Bq(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=Ip(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Iwe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=St.fromDate(r);return{timestampValue:Tc(i.serializer,o)}}if(r instanceof St){const o=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tc(i.serializer,o)}}if(r instanceof FC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ic)return{bytesValue:jG(i.serializer,r._byteString)};if(r instanceof Xr){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zC)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return hC(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${M_(r)}`)}(t,e)}function zq(t,e){const n={};return dG(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gl(t,(r,i)=>{const o=Ip(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function jq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof FC||t instanceof Ic||t instanceof Xr||t instanceof BC||t instanceof zC)}function $C(t,e,n){if(!jq(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=M_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function wS(t,e,n){if((e=Cn(e))instanceof O_)return e._internalPath;if(typeof e=="string")return GC(t,e);throw Ty("Field path arguments must be of type string or ",t,!1,void 0,n)}const qCe=new RegExp("[~\\*/\\[\\]]");function GC(t,e,n){if(e.search(qCe)>=0)throw Ty(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new O_(...e.split("."))._internalPath}catch{throw Ty(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ty(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Q($.INVALID_ARGUMENT,s+t+l)}function $q(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(k_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HCe extends Gq{data(){return super.data()}}function k_(t,e){return typeof e=="string"?GC(t,e):e instanceof O_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KCe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qC{}class HC extends qC{}function wE(t,e,...n){let r=[];e instanceof qC&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof KC).length,s=o.filter(l=>l instanceof L_).length;if(a>1||a>0&&s>0)throw new Q($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class L_ extends HC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new L_(e,n,r)}_apply(e){const n=this._parse(e);return qq(e._query,n),new Cs(e.firestore,e.converter,fS(e._query,n))}_parse(e){const n=Fq(e.firestore);return function(o,a,s,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Q($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){$L(d,c);const p=[];for(const v of d)p.push(jL(l,o,v));f={arrayValue:{values:p}}}else f=jL(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||$L(d,c),f=GCe(s,a,d,c==="in"||c==="not-in");return Re.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function WCe(t,e,n){const r=e,i=k_("where",t);return L_._create(i,r,n)}class KC extends qC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new KC(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)qq(a,l),a=fS(a,l)}(e._query,n),new Cs(e.firestore,e.converter,fS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class WC extends HC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new WC(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wh(o,a)}(e._query,this._field,this._direction);return new Cs(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new ld(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function YCe(t,e="asc"){const n=e,r=k_("orderBy",t);return WC._create(r,n)}class YC extends HC{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new YC(e,n,r)}_apply(e){return new Cs(e.firestore,e.converter,fy(e._query,this._limit,this._limitType))}}function zL(t){return kCe("limit",t),YC._create("limit",t,"F")}function jL(t,e,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new Q($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SG(e)&&n.indexOf("/")!==-1)throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!ee.isDocumentKey(r))throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sh(t,new ee(r))}if(n instanceof Xr)return Sh(t,n._key);throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${M_(n)}.`)}function $L(t,e){if(!Array.isArray(t)||t.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qq(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JCe{convertValue(e,n="none"){switch(Rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Tt(a.doubleValue));return new zC(o)}convertGeoPoint(e){return new FC(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Th(e));default:return null}}convertTimestamp(e){const n=Wo(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);ue(XG(r));const i=new Pl(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||Ut(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QCe(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XCe extends Gq{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(k_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bg extends XCe{data(e={}){return super.data(e)}}class ZCe{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bg(this._firestore,this._userDataWriter,r.key,r,new Vm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new bg(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Vm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new bg(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Vm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:ePe(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ePe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}class tPe extends JCe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,n)}}function ma(t){t=xS(t,Cs);const e=xS(t.firestore,VC),n=UC(e),r=new tPe(e);return KCe(t._query),OCe(n,t._query).then(i=>new ZCe(e,r,t,i))}function nPe(t,e){return function(r,i){const o=new Ro;return r.asyncQueue.enqueueAndForget(async()=>hCe(await NCe(r),i,o)),o.promise}(UC(t),e)}class rPe{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=sPe(),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function iPe(t){return new rPe(t)}class oPe{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Rh.provider,this._offlineComponentProvider={build:n=>new Dq(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class aPe{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Rh.provider,this._offlineComponentProvider={build:n=>new ICe(n,e==null?void 0:e.cacheSizeBytes)}}}function sPe(t){return new oPe(void 0)}function lPe(){return new aPe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uPe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fq(e)}set(e,n,r){this._verifyNotCommitted();const i=IE(e,this._firestore),o=QCe(i.converter,n,r),a=zCe(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Hn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=IE(e,this._firestore);let a;return a=typeof(n=Cn(n))=="string"||n instanceof O_?$Ce(this._dataReader,"WriteBatch.update",o._key,n,r,i):jCe(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=IE(e,this._firestore);return this._mutations=this._mutations.concat(new S_(n._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Q($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function IE(t,e){if((t=Cn(t)).firestore!==e)throw new Q($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){return UC(t=xS(t,VC)),new uPe(t,e=>nPe(t,e))}(function(e,n=!0){(function(i){sd=i})(od),mc(new wl("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new VC(new Oxe(r.getProvider("auth-internal")),new Vxe(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Xa(D2,"4.7.3",e),Xa(D2,"4.7.3","esm2017")})();const cPe={apiKey:"AIzaSyDb_17CJm3Ajbmwnt4q-Sc6KKimuOa3asA",authDomain:"consorcio-intel-app.firebaseapp.com",projectId:"consorcio-intel-app",storageBucket:"consorcio-intel-app.firebasestorage.app",messagingSenderId:"654186633996",appId:"1:654186633996:web:1feddb11c5238414844729",measurementId:"G-VQ5JTT3JQN"},Hq=d6(cPe),Um=Pxe(Hq),pr=LCe(Hq,{localCache:iPe({tabManager:lPe()})}),PE=async()=>{if(Um.currentUser)return Um.currentUser;const t=await new Promise(e=>{const n=ySe(Um,r=>{n(),e(r)})});if(t)return t;try{return console.log("Iniciando nova sesso annima..."),(await fSe(Um)).user}catch(e){return e.code!=="auth/configuration-not-found"&&e.code!=="auth/operation-not-allowed"&&console.error("Falha na autenticao annima:",e),null}},RE="metrics_segments",NE="metrics_real_estate",ME="metrics_movables",OE="metrics_regional",DE="administrators",GL="imported_files_log",kE="staging_raw_data",dPe={1:Mt.IMOVEIS,2:Mt.VEICULOS_PESADOS,3:Mt.VEICULOS_LEVES,4:Mt.MOTOCICLETAS,5:Mt.OUTROS_BENS,6:Mt.SERVICOS},qL=t=>t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g,""):"",ve=(t,e)=>{const n=Object.keys(t);for(const r of e){const i=qL(r),o=n.find(a=>qL(a)===i);if(o)return t[o]}},Ye=t=>{if(t==null)return 0;if(typeof t=="number")return t;const e=String(t).trim();if(e===""||e==="-")return 0;const n=e.replace(/[R$\s]/g,"");if(n.includes(",")){const o=n.replace(/\./g,"").replace(",","."),a=Number(o);return isNaN(a)?0:a}const r=n.replace(/\./g,""),i=Number(r);return isNaN(i)?0:i},fPe=t=>{const e=ve(t,["Nome_da_Administradora","Nome","Administradora"]);if(!e)return null;const n=String(ve(t,["Cdigo_do_segmento","Codigo"])||"5").replace(/\D/g,""),r=dPe[n]||Mt.OUTROS_BENS;return{period:String(ve(t,["Data_base","Data base","Periodo"])||""),adminName:String(e).trim(),cnpj:String(ve(t,["CNPJ_da_Administradora","CNPJ"])||""),segment:r,taxaAdmin:Ye(ve(t,["Taxa_de_administrao","Taxa Admin"])),gruposAtivos:Ye(ve(t,["Quantidade_de_grupos_ativos"])),gruposConstituidos:Ye(ve(t,["Quantidade_de_grupos_constitudos_no_ms"])),gruposEncerrados:Ye(ve(t,["Quantidade_de_grupos_encerrados_no_ms"])),cotasComercializadas:Ye(ve(t,["Quantidade_de_cotas_comercializadas_no_ms"])),cotasExcluidas:Ye(ve(t,["Quantidade_de_cotas_excludas"])),cotasContempladas:Ye(ve(t,["Quantidade_de_cotas_ativas_contempladas_no_ms"])),cotasAtivas:Ye(ve(t,["Quantidade_de_cotas_ativas_no_contempladas"]))+Ye(ve(t,["Quantidade_acumulada_de_cotas_ativas_contempladas"])),cotasInadimplentes:Ye(ve(t,["Quantidade_de_cotas_ativas_inadimplentes"])),revenue:0}},HL=(t,e)=>{const n=ve(t,["Nome_da_Administradora","Administradora"]);if(!n)return null;const r=Ye(ve(t,["Valor_mdio_do_bem","Valor medio do bem","Vl. Bem","Valor do Bem"])),i=Ye(ve(t,["Quantidade_de_cotas_ativas_no_contempladas","Ativas Nao Contempladas"])),o=Ye(ve(t,["Quantidade_acumulada_de_cotas_ativas_contempladas","Ativas Contempladas"])),a=i+o,s=Ye(ve(t,["Quantidade_de_cotas_ativas_contempladas_inadimplentes"]))+Ye(ve(t,["Quantidade_de_cotas_ativas_no_contempladas_inadimplentes"])),l=Ye(ve(t,["Quantidade_de_cotas_ativas_contempladas_no_ms"])),u=a*r,c=s*r,d=l*r;return{period:String(ve(t,["Data_base","Data base","Periodo"])||""),adminName:String(n).trim(),cnpj:String(ve(t,["CNPJ_da_Administradora"])||""),segment:e,groupCode:String(ve(t,["Cdigo_do_grupo","Codigo do grupo","Grupo"])||"N/A"),valorMedioBem:r,taxaAdmin:Ye(ve(t,["Taxa_de_administrao","Taxa Admin"])),prazoGrupo:Ye(ve(t,["Prazo_do_grupo_em_meses","Prazo"])),indiceCorrecao:String(ve(t,["ndice_de_correo"])||""),gruposAtivos:Ye(ve(t,["Quantidade_de_grupos_ativos"])||1),cotasComercializadas:Ye(ve(t,["Quantidade_de_cotas_comercializadas_no_ms"])),cotasExcluidas:Ye(ve(t,["Quantidade_de_cotas_excludas"])),cotasQuitadas:Ye(ve(t,["Quantidade_de_cotas_ativas_quitadas"])),cotasAtivasNaoContempladas:i,cotasAtivasContempladasAcumuladas:o,cotasContempladasNoMes:l,cotasAtivasEmDia:Ye(ve(t,["Quantidade_de_cotas_ativas_em_dia"])),cotasAtivasInadimplentes:s,activeQuotas:a,balance:u,defaultBalance:c,contemplatedBalance:d}},hPe=t=>{const e=ve(t,["UF","Estado"]),n=ve(t,["Nome_da_Administradora"]);if(!e||!n)return null;const r=Ye(ve(t,["Contemplados_por_Lance"])),i=Ye(ve(t,["Contemplados_por_Sorteio"])),o=Ye(ve(t,["No_Contemplados"]));return{uf:String(e).toUpperCase(),region:"Nacional",adminName:String(n).trim(),cnpj:String(ve(t,["CNPJ_da_Administradora","CNPJ"])||""),activeContemplatedBid:r,activeContemplatedLottery:i,activeNonContemplated:o,dropoutContemplated:Ye(ve(t,["Desistentes_Excluidos_Contemplados"])),dropoutNonContemplated:Ye(ve(t,["Desistentes_Excluidos_No_Contemplados"])),newAdhesionsQuarter:Ye(ve(t,["Adeses_no_Trimestre"])),totalActive:r+i+o}},Wd=t=>new Promise(e=>setTimeout(e,t)),zr={fetchData:async()=>{try{const[t,e,n,r,i,o]=await Promise.all([ma(so(pr,RE)),ma(so(pr,NE)),ma(so(pr,ME)),ma(so(pr,OE)),ma(so(pr,DE)),ma(wE(so(pr,GL),YCe("importDate","desc"),zL(20)))]),a=t.docs.map(f=>f.data()),s=e.docs.map(f=>f.data()),l=n.docs.map(f=>f.data()),u=r.docs.map(f=>f.data()),c=i.docs.map(f=>f.data()),d=o.docs.map(f=>f.data());return{segments:a,realEstateGroups:s,movableGroups:l,regional:u,administrators:c,importedFiles:d,competitors:[],lastUpdated:new Date().toISOString()}}catch(t){return console.error("Error fetching data",t),{segments:[],realEstateGroups:[],movableGroups:[],regional:[],administrators:[],importedFiles:[],competitors:[],lastUpdated:null}}},checkConnection:async()=>{try{return!!await PE()}catch{return!1}},clearAllData:async()=>{if(!await PE())throw new Error("Sem permisso");const e=async n=>{let r=!0;for(;r;){const i=wE(so(pr,n),zL(300)),o=await ma(i);if(o.size===0){r=!1;break}const a=CE(pr);o.docs.forEach(s=>a.delete(s.ref)),await a.commit(),await Wd(200)}};await Promise.all([e(RE),e(NE),e(ME),e(OE),e(GL),e(kE)])},uploadToStaging:async(t,e,n)=>{const r=n.map(i=>({batchId:t,fileName:"Upload",importType:e,rawData:i,processed:!1,createdAt:new Date().toISOString()}));await zr.batchWrite(r,kE)},processStagingData:async t=>{if(!await PE())throw new Error("Auth required");const n=wE(so(pr,kE),WCe("batchId","==",t)),r=await ma(n);if(r.empty)return"Nenhum dado encontrado no Staging.";let i=[],o=[],a=[],s=[],l=new Map;r.docs.forEach(d=>{const f=d.data(),p=f.rawData,v=ve(p,["CNPJ_da_Administradora","CNPJ"]),E=ve(p,["Nome_da_Administradora","Nome da Administradora"]);switch(v&&E&&l.set(String(v),{cnpj:String(v),name:String(E).trim(),isFavorite:!1}),f.importType){case"segments":const y=fPe(p);y&&i.push(y);break;case"real_estate":const _=HL(p,Mt.IMOVEIS);_&&o.push(_);break;case"movables":const T=HL(p,Mt.VEICULOS_LEVES);T&&a.push(T);break;case"regional_uf":const S=hPe(p);S&&s.push(S);break}}),i.length>0&&await zr.batchWrite(i,RE),o.length>0&&await zr.batchWrite(o,NE),a.length>0&&await zr.batchWrite(a,ME),s.length>0&&await zr.batchWrite(s,OE),l.size>0&&await zr.batchWrite(Array.from(l.values()),DE,d=>d.cnpj.replace(/\D/g,""));const u=r.docs,c=250;for(let d=0;d<u.length;d+=c){const f=u.slice(d,d+c),p=CE(pr);f.forEach(v=>p.delete(v.ref)),await p.commit(),await Wd(200)}return window.dispatchEvent(new Event("dataUpdate")),`Processados: ${i.length} Segmentos, ${o.length} Imveis, ${a.length} Mveis.`},batchWrite:async(t,e,n)=>{var i;for(let o=0;o<t.length;o+=250){const a=t.slice(o,o+250);let s=5,l=1e3;for(;s>0;)try{const u=CE(pr);a.forEach(c=>{const d=n?n(c):null,f=d?BL(pr,e,d):BL(so(pr,e)),p=JSON.parse(JSON.stringify(c));e===DE?u.set(f,p,{merge:!0}):u.set(f,{...p,createdAt:St.now()})}),await u.commit(),await Wd(200);break}catch(u){if(console.error(`Erro ao gravar lote em ${e}. Tentativas: ${s}`,u),u.code==="resource-exhausted"||((i=u.message)==null?void 0:i.includes("exhausted"))?(console.warn("Fila de escrita cheia (Resource Exhausted). Pausando por 5s..."),await Wd(5e3)):await Wd(l),s--,l*=2,s===0)throw u}}}},KL=t=>t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g,""):"",WL=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState([]),[i,o]=b.useState(!1),[a,s]=b.useState("idle"),[l,u]=b.useState(""),[c,d]=b.useState(!1),f=b.useRef(null),p=(_,T)=>{const S=KL(T),w=_.map(KL);return S.includes("imoveis")?"real_estate":S.includes("moveis")&&!S.includes("imoveis")||S.includes("veiculos")?"movables":S.includes("segmentos")?"segments":S.includes("dadosporuf")||w.includes("uf")?"regional_uf":w.some(M=>M.includes("valormedio")||M.includes("vlbem"))?"movables":w.includes("codigodosegmento")&&!w.some(M=>M.includes("valormedio"))?"segments":null},v=_=>new Promise(T=>{const S=new FileReader;S.readAsText(_,"windows-1252"),S.onload=async w=>{var M;try{const I=((M=w.target)==null?void 0:M.result).split(`
`);if(I.length<2){T({file:_,type:null,data:[],status:"error",errorMsg:"Arquivo vazio"});return}const P=I[0],R=P.includes(";")?";":",",O=P.split(R).map(k=>k.trim().replace(/^"|"$/g,"")),V=p(O,_.name),D=I.slice(1).filter(k=>k.trim()!=="").map(k=>{const Y=k.split(R);return O.reduce((oe,G,K)=>{var te;let J=(te=Y[K])==null?void 0:te.trim().replace(/^"|"$/g,"");return oe[G]=J,oe},{})});T({file:_,type:V,data:D,status:V?"ready":"error",errorMsg:V?void 0:"Layout no reconhecido"})}catch{T({file:_,type:null,data:[],status:"error",errorMsg:"Erro de leitura"})}}}),E=async _=>{o(!0);const T=await Promise.all(_.map(S=>v(S)));r(S=>[...S,...T]),o(!1)},y=async()=>{const _=n.filter(T=>T.status==="ready");if(_.length!==0)try{c&&(u("Limpando banco de dados..."),await zr.clearAllData()),s("uploading"),u("Enviando tabelas temporrias para o servidor...");const T=`BATCH_${Date.now()}`;for(const M of _)await zr.uploadToStaging(T,M.type,M.data);const S=_.map(M=>({fileName:M.file.name,importDate:new Date().toISOString(),type:M.type,recordCount:M.data.length}));await zr.batchWrite(S,"imported_files_log",M=>`${M.fileName}_${Date.now()}`),s("processing"),u("Consolidando e otimizando dados (ETL)... Isso pode levar um momento.");const w=await zr.processStagingData(T);alert(`Importao Concluda!
${w}`),r([]),u(""),s("idle")}catch(T){console.error(T),alert(`Erro durante a importao: ${T.message}`),s("idle"),u("")}};return x.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 animate-fade-in pb-20",children:[x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Central de Carga de Dados"}),x.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto",children:"Processo ETL: Carregue os arquivos CSV brutos para as tabelas temporrias. O sistema executar a normalizao automaticamente."})]}),x.jsxs("div",{onClick:()=>d(!c),className:`border rounded-xl p-4 flex items-start gap-4 cursor-pointer transition-all select-none ${c?"bg-amber-50 border-amber-200":"bg-white border-slate-200 hover:border-slate-300"}`,children:[x.jsx("div",{className:`mt-1 transition-colors ${c?"text-amber-600":"text-slate-400"}`,children:c?x.jsx(o4,{size:24}):x.jsx(Cx,{size:24})}),x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:`font-bold text-sm ${c?"text-amber-900":"text-slate-700"}`,children:"Limpeza Prvia (Reset Completo)"}),x.jsx("div",{className:`w-11 h-6 rounded-full relative transition-colors ${c?"bg-amber-500":"bg-slate-300"}`,children:x.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform duration-200 ${c?"translate-x-6":"translate-x-1"}`})})]}),x.jsx("p",{className:`text-sm mt-1 leading-relaxed ${c?"text-amber-800":"text-slate-500"}`,children:c?"Ativado: Apaga TUDO antes da carga.":"Desativado: Adiciona novos dados ao banco existente."})]})]}),x.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl p-12 transition-all cursor-pointer flex flex-col items-center justify-center gap-4 group ${t?"border-blue-500 bg-blue-50/50":"border-slate-300 hover:border-blue-400 hover:bg-slate-50"}`,onDragEnter:()=>e(!0),onDragLeave:()=>e(!1),onDrop:_=>{_.preventDefault(),e(!1),_.dataTransfer.files&&E(Array.from(_.dataTransfer.files))},onClick:()=>{var _;return a==="idle"&&((_=f.current)==null?void 0:_.click())},children:[x.jsx("input",{ref:f,type:"file",accept:".csv,.txt",multiple:!0,className:"hidden",onChange:_=>_.target.files&&E(Array.from(_.target.files)),disabled:a!=="idle"}),x.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:i||a!=="idle"?x.jsx(Kf,{className:"animate-spin",size:32}):x.jsx(t7,{size:32})}),x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-lg font-bold text-slate-800",children:a==="idle"?"Clique ou Arraste os arquivos CSV":l||"Processando..."}),a==="idle"&&x.jsx("p",{className:"text-sm text-slate-500",children:"Suporta: Segmentos, Bens Imveis, Bens Mveis, DadosPorUF"})]})]}),n.length>0&&x.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[x.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:x.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[x.jsx(E7,{size:18})," Arquivos para Staging (Tabelas Temporrias)"]})}),x.jsx("div",{className:"divide-y divide-slate-100 max-h-[300px] overflow-y-auto custom-scrollbar",children:n.map((_,T)=>x.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"bg-slate-100 p-2 rounded-lg",children:_.status==="ready"?x.jsx(Q8,{className:"text-emerald-500",size:20}):x.jsx(Y8,{className:"text-red-500",size:20})}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-slate-900 text-sm",children:_.file.name}),x.jsxs("p",{className:"text-xs text-slate-500",children:[_.data.length," registros brutos  ",_.type?x.jsx("span",{className:"text-blue-600 font-bold uppercase",children:_.type}):x.jsx("span",{className:"text-red-500",children:"TIPO DESCONHECIDO"})]})]})]}),x.jsx("button",{onClick:()=>r(S=>S.filter((w,M)=>M!==T)),className:"text-slate-400 hover:text-red-500",children:x.jsx(A7,{size:18})})]},T))}),x.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex justify-end gap-4",children:x.jsx("button",{onClick:y,disabled:a!=="idle"||n.filter(_=>_.status==="ready").length===0,className:"bg-slate-900 text-white px-8 py-3 rounded-xl font-bold shadow-lg hover:bg-slate-800 disabled:opacity-50 flex items-center gap-3",children:a!=="idle"?x.jsxs(x.Fragment,{children:[x.jsx(Kf,{className:"animate-spin",size:20})," ",l||"Processando..."]}):x.jsxs(x.Fragment,{children:[x.jsx(O8,{size:20})," Iniciar Carga e Tratamento"]})})})]})]})};function pPe(){const[t,e]=b.useState("dashboard"),[n,r]=b.useState(!1),[i,o]=b.useState(null),[a,s]=b.useState(!0),[l,u]=b.useState(!1),c=async()=>{s(!0);const f=await zr.checkConnection();u(f);const p=await zr.fetchData();o(p),s(!1)};b.useEffect(()=>(c(),window.addEventListener("dataUpdate",c),()=>window.removeEventListener("dataUpdate",c)),[]);const d=()=>{if(a&&t!=="import")return x.jsxs("div",{className:"flex h-[80vh] items-center justify-center flex-col gap-4 text-slate-400",children:[x.jsx(Kf,{className:"animate-spin text-blue-600",size:48}),x.jsx("p",{children:"Carregando dados do Firestore..."}),!l&&x.jsx("p",{className:"text-xs text-amber-500",children:"Tentando estabelecer conexo segura..."})]});if(!i&&t!=="import")return x.jsx(WL,{});switch(t){case"dashboard":return x.jsx(HEe,{data:i});case"admin_analysis":return x.jsx(KEe,{data:i});case"operational":return x.jsx(WEe,{data:i});case"competitive":return x.jsx(YEe,{data:i});case"trends":return x.jsx(QEe,{data:i});case"regional":return x.jsx(XEe,{data:i});case"import":return x.jsx(WL,{});default:return x.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-slate-400",children:[x.jsx(MT,{size:48,className:"text-slate-300 mb-4"}),x.jsx("p",{className:"text-lg font-semibold",children:"Mdulo em desenvolvimento"})]})}};return x.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans",children:[x.jsx(V7,{activeTab:t,setActiveTab:e,isMobileOpen:n,setIsMobileOpen:r,dbStatus:l}),x.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[x.jsxs("header",{className:"lg:hidden flex items-center h-16 px-6 bg-white border-b border-slate-200",children:[x.jsx("button",{onClick:()=>r(!0),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:x.jsx(MT,{size:24})}),x.jsx("span",{className:"ml-4 font-bold text-slate-900",children:"Consrcio Intel"})]}),x.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-8 custom-scrollbar",children:x.jsx("div",{className:"max-w-7xl mx-auto pb-12",children:d()})})]})]})}const Kq=document.getElementById("root");if(!Kq)throw new Error("Could not find root element to mount to");const mPe=E8.createRoot(Kq);mPe.render(x.jsx(iV.StrictMode,{children:x.jsx(pPe,{})}));
